{"mappings":"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","sources":["./node_modules/@parcel/scope-hoisting/lib/helpers.js","./node_modules/ol/events/Event.js","./node_modules/ol/ObjectEventType.js","./node_modules/ol/Disposable.js","./node_modules/ol/array.js","./node_modules/ol/functions.js","./node_modules/ol/obj.js","./node_modules/ol/events/Target.js","./node_modules/ol/events/EventType.js","./node_modules/ol/events.js","./node_modules/ol/Observable.js","./node_modules/ol/util.js","./node_modules/ol/Object.js","./node_modules/ol/AssertionError.js","./node_modules/ol/asserts.js","./node_modules/ol/Feature.js","./node_modules/ol/geom/GeometryLayout.js","./node_modules/ol/geom/GeometryType.js","./node_modules/ol/proj/Units.js","./node_modules/ol/transform.js","./node_modules/ol/extent/Corner.js","./node_modules/ol/extent/Relationship.js","./node_modules/ol/extent.js","./node_modules/ol/proj/Projection.js","./node_modules/ol/math.js","./node_modules/ol/proj/epsg3857.js","./node_modules/ol/proj/epsg4326.js","./node_modules/ol/proj/projections.js","./node_modules/ol/proj/transforms.js","./node_modules/ol/sphere.js","./node_modules/ol/string.js","./node_modules/ol/coordinate.js","./node_modules/ol/proj.js","./node_modules/ol/geom/flat/transform.js","./node_modules/ol/geom/Geometry.js","./node_modules/ol/geom/SimpleGeometry.js","./node_modules/ol/geom/flat/closest.js","./node_modules/ol/geom/flat/deflate.js","./node_modules/ol/geom/flat/simplify.js","./node_modules/ol/geom/flat/segments.js","./node_modules/ol/geom/flat/inflate.js","./node_modules/ol/geom/flat/interpolate.js","./node_modules/ol/geom/flat/contains.js","./node_modules/ol/geom/flat/intersectsextent.js","./node_modules/ol/geom/flat/length.js","./node_modules/ol/geom/LineString.js","./node_modules/ol/geom/MultiLineString.js","./node_modules/ol/geom/Point.js","./node_modules/ol/format/Feature.js","./node_modules/ol/format/FormatType.js","./node_modules/ol/xml.js","./node_modules/ol/format/XMLFeature.js","./node_modules/ol/format/xsd.js","./node_modules/ol/format/GPX.js","./node_modules/ol/geom/GeometryCollection.js","./node_modules/ol/format/JSONFeature.js","./node_modules/ol/geom/MultiPoint.js","./node_modules/ol/geom/flat/area.js","./node_modules/ol/geom/LinearRing.js","./node_modules/ol/geom/flat/interiorpoint.js","./node_modules/ol/geom/flat/reverse.js","./node_modules/ol/geom/flat/orient.js","./node_modules/ol/geom/Polygon.js","./node_modules/ol/geom/MultiPolygon.js","./node_modules/ol/geom/flat/center.js","./node_modules/ol/format/GeoJSON.js","./node_modules/ol/color.js","./node_modules/ol/style/IconImageCache.js","./node_modules/ol/layer/Property.js","./node_modules/ol/layer/Base.js","./node_modules/ol/render/EventType.js","./node_modules/ol/source/State.js","./node_modules/ol/layer/Layer.js","./node_modules/ol/renderer/Map.js","./node_modules/ol/render/Event.js","./node_modules/ol/css.js","./node_modules/ol/has.js","./node_modules/ol/dom.js","./node_modules/ol/render/canvas.js","./node_modules/ol/renderer/Composite.js","./node_modules/ol/CollectionEventType.js","./node_modules/ol/Collection.js","./node_modules/ol/layer/Group.js","./node_modules/ol/MapEvent.js","./node_modules/ol/MapBrowserEvent.js","./node_modules/ol/MapBrowserEventType.js","./node_modules/ol/pointer/EventType.js","./node_modules/ol/MapBrowserEventHandler.js","./node_modules/ol/MapEventType.js","./node_modules/ol/MapProperty.js","./node_modules/ol/structs/PriorityQueue.js","./node_modules/ol/TileState.js","./node_modules/ol/TileQueue.js","./node_modules/ol/ViewHint.js","./node_modules/ol/ViewProperty.js","./node_modules/ol/tilegrid/common.js","./node_modules/ol/centerconstraint.js","./node_modules/ol/resolutionconstraint.js","./node_modules/ol/rotationconstraint.js","./node_modules/ol/easing.js","./node_modules/ol/View.js","./node_modules/ol/size.js","./node_modules/ol/PluggableMap.js","./node_modules/ol/control/Control.js","./node_modules/ol/control/Attribution.js","./node_modules/ol/control/Rotate.js","./node_modules/ol/control/Zoom.js","./node_modules/ol/interaction/Property.js","./node_modules/ol/interaction/Interaction.js","./node_modules/ol/interaction/DoubleClickZoom.js","./node_modules/ol/interaction/Pointer.js","./node_modules/ol/events/condition.js","./node_modules/ol/interaction/DragPan.js","./node_modules/ol/interaction/DragRotate.js","./node_modules/ol/render/Box.js","./node_modules/ol/interaction/DragBox.js","./node_modules/ol/interaction/DragZoom.js","./node_modules/ol/events/KeyCode.js","./node_modules/ol/interaction/KeyboardPan.js","./node_modules/ol/interaction/KeyboardZoom.js","./node_modules/ol/Kinetic.js","./node_modules/ol/interaction/MouseWheelZoom.js","./node_modules/ol/interaction/PinchRotate.js","./node_modules/ol/interaction/PinchZoom.js","./node_modules/ol/Map.js","./node_modules/ol/control.js","./node_modules/ol/interaction.js","./node_modules/ol/layer/TileProperty.js","./node_modules/ol/layer/BaseTile.js","./node_modules/ol/ImageState.js","./node_modules/ol/renderer/Layer.js","./node_modules/ol/renderer/canvas/Layer.js","./node_modules/ol/TileRange.js","./node_modules/ol/renderer/canvas/TileLayer.js","./node_modules/ol/layer/Tile.js","./node_modules/rbush/rbush.min.js","./node_modules/ol/style/Image.js","./node_modules/ol/colorlike.js","./node_modules/ol/style/RegularShape.js","./node_modules/ol/style/Circle.js","./node_modules/ol/style/Fill.js","./node_modules/ol/style/Stroke.js","./node_modules/ol/style/Style.js","./node_modules/ol/layer/BaseVector.js","./node_modules/ol/render/canvas/Instruction.js","./node_modules/ol/render/VectorContext.js","./node_modules/ol/render/canvas/Builder.js","./node_modules/ol/render/canvas/ImageBuilder.js","./node_modules/ol/render/canvas/LineStringBuilder.js","./node_modules/ol/render/canvas/PolygonBuilder.js","./node_modules/ol/style/TextPlacement.js","./node_modules/ol/geom/flat/straightchunk.js","./node_modules/ol/render/canvas/TextBuilder.js","./node_modules/ol/render/canvas/BuilderGroup.js","./node_modules/ol/render/canvas/BuilderType.js","./node_modules/ol/geom/flat/textpath.js","./node_modules/ol/render/canvas/Executor.js","./node_modules/ol/render/canvas/ExecutorGroup.js","./node_modules/ol/render/canvas/Immediate.js","./node_modules/ol/style/IconAnchorUnits.js","./node_modules/ol/style/IconOrigin.js","./node_modules/ol/ImageBase.js","./node_modules/ol/Image.js","./node_modules/ol/style/IconImage.js","./node_modules/ol/style/Icon.js","./node_modules/ol/renderer/vector.js","./node_modules/ol/renderer/canvas/VectorLayer.js","./node_modules/ol/render/canvas/hitdetect.js","./node_modules/ol/layer/Vector.js","./node_modules/ol/structs/RBush.js","./node_modules/ol/source/Source.js","./node_modules/ol/source/VectorEventType.js","./node_modules/ol/loadingstrategy.js","./node_modules/ol/featureloader.js","./node_modules/ol/source/Vector.js","./node_modules/ol/Tile.js","./node_modules/ol/ImageTile.js","./node_modules/ol/reproj.js","./node_modules/ol/reproj/Triangulation.js","./node_modules/ol/source/common.js","./node_modules/ol/reproj/Tile.js","./node_modules/ol/reproj/common.js","./node_modules/ol/structs/LRUCache.js","./node_modules/ol/tilecoord.js","./node_modules/ol/TileCache.js","./node_modules/ol/source/TileEventType.js","./node_modules/ol/tilegrid/TileGrid.js","./node_modules/ol/tilegrid.js","./node_modules/ol/source/Tile.js","./node_modules/ol/tileurlfunction.js","./node_modules/ol/source/UrlTile.js","./node_modules/ol/source/TileImage.js","./node_modules/ol/source/XYZ.js","./node_modules/ol/source/OSM.js","./node_modules/osmtogeojson/lodash.custom.js","./node_modules/wgs84/index.js","./node_modules/geojson-area/index.js","./node_modules/geojson-rewind/index.js","./node_modules/osmtogeojson/index.js","./node_modules/osm-polygon-features/polygon-features.json","./node_modules/query-overpass/index.js","./node_modules/querystring-es3/decode.js","./node_modules/querystring-es3/encode.js","./node_modules/global/window.js","./node_modules/is-function/index.js","./node_modules/xhr/index.js","./node_modules/parse-headers/parse-headers.js","./node_modules/xtend/immutable.js","./node_modules/typedarray/index.js","./node_modules/base64-js/index.js","./node_modules/buffer/index.js","./node_modules/ieee754/index.js","./node_modules/process/browser.js","./node_modules/events/events.js","./node_modules/readable-stream/lib/internal/streams/buffer_list.js","./node_modules/readable-stream/lib/internal/streams/destroy.js","./node_modules/readable-stream/errors-browser.js","./node_modules/readable-stream/lib/internal/streams/state.js","./node_modules/inherits/inherits_browser.js","./node_modules/util-deprecate/browser.js","./node_modules/readable-stream/lib/_stream_writable.js","./node_modules/readable-stream/lib/_stream_duplex.js","./node_modules/safe-buffer/index.js","./node_modules/string_decoder/lib/string_decoder.js","./node_modules/readable-stream/lib/internal/streams/end-of-stream.js","./node_modules/readable-stream/lib/internal/streams/async_iterator.js","./node_modules/readable-stream/lib/internal/streams/from-browser.js","./node_modules/readable-stream/lib/_stream_readable.js","./node_modules/readable-stream/readable-browser.js","./node_modules/readable-stream/lib/_stream_transform.js","./node_modules/readable-stream/lib/_stream_passthrough.js","./node_modules/readable-stream/lib/internal/streams/pipeline.js","./node_modules/concat-stream/index.js","./node_modules/buffer-from/index.js","./index.js"],"sourcesContent":["var $parcel$global =\n  typeof globalThis !== 'undefined'\n    ? globalThis\n    : typeof self !== 'undefined'\n    ? self\n    : typeof window !== 'undefined'\n    ? window\n    : typeof global !== 'undefined'\n    ? global\n    : {};\n\nfunction $parcel$interopDefault(a) {\n  return a && a.__esModule ? a.default : a;\n}\n\nfunction $parcel$defineInteropFlag(a) {\n  Object.defineProperty(a, '__esModule', {value: true});\n}\n\nfunction $parcel$export(e, n, v) {\n  Object.defineProperty(e, n, {get: v, enumerable: true});\n}\n\nfunction $parcel$exportWildcard(dest, source) {\n  Object.keys(source).forEach(function(key) {\n    if (key === 'default' || key === '__esModule') {\n      return;\n    }\n\n    Object.defineProperty(dest, key, {\n      enumerable: true,\n      get: function get() {\n        return source[key];\n      },\n    });\n  });\n\n  return dest;\n}\n\nfunction $parcel$missingModule(name) {\n  var err = new Error(\"Cannot find module '\" + name + \"'\");\n  err.code = 'MODULE_NOT_FOUND';\n  throw err;\n}\n","/**\n * @module ol/events/Event\n */\n/**\n * @classdesc\n * Stripped down implementation of the W3C DOM Level 2 Event interface.\n * See https://www.w3.org/TR/DOM-Level-2-Events/events.html#Events-interface.\n *\n * This implementation only provides `type` and `target` properties, and\n * `stopPropagation` and `preventDefault` methods. It is meant as base class\n * for higher level events defined in the library, and works with\n * {@link module:ol/events/Target~Target}.\n */\nvar BaseEvent = /** @class */ (function () {\n    /**\n     * @param {string} type Type.\n     */\n    function BaseEvent(type) {\n        /**\n         * @type {boolean}\n         */\n        this.propagationStopped;\n        /**\n         * The event type.\n         * @type {string}\n         * @api\n         */\n        this.type = type;\n        /**\n         * The event target.\n         * @type {Object}\n         * @api\n         */\n        this.target = null;\n    }\n    /**\n     * Stop event propagation.\n     * @api\n     */\n    BaseEvent.prototype.preventDefault = function () {\n        this.propagationStopped = true;\n    };\n    /**\n     * Stop event propagation.\n     * @api\n     */\n    BaseEvent.prototype.stopPropagation = function () {\n        this.propagationStopped = true;\n    };\n    return BaseEvent;\n}());\n/**\n * @param {Event|import(\"./Event.js\").default} evt Event\n */\nexport function stopPropagation(evt) {\n    evt.stopPropagation();\n}\n/**\n * @param {Event|import(\"./Event.js\").default} evt Event\n */\nexport function preventDefault(evt) {\n    evt.preventDefault();\n}\nexport default BaseEvent;\n//# sourceMappingURL=Event.js.map","/**\n * @module ol/ObjectEventType\n */\n/**\n * @enum {string}\n */\nexport default {\n    /**\n     * Triggered when a property is changed.\n     * @event module:ol/Object.ObjectEvent#propertychange\n     * @api\n     */\n    PROPERTYCHANGE: 'propertychange',\n};\n//# sourceMappingURL=ObjectEventType.js.map","/**\n * @module ol/Disposable\n */\n/**\n * @classdesc\n * Objects that need to clean up after themselves.\n */\nvar Disposable = /** @class */ (function () {\n    function Disposable() {\n        /**\n         * The object has already been disposed.\n         * @type {boolean}\n         * @protected\n         */\n        this.disposed = false;\n    }\n    /**\n     * Clean up.\n     */\n    Disposable.prototype.dispose = function () {\n        if (!this.disposed) {\n            this.disposed = true;\n            this.disposeInternal();\n        }\n    };\n    /**\n     * Extension point for disposable objects.\n     * @protected\n     */\n    Disposable.prototype.disposeInternal = function () { };\n    return Disposable;\n}());\nexport default Disposable;\n//# sourceMappingURL=Disposable.js.map","/**\n * @module ol/array\n */\n/**\n * Performs a binary search on the provided sorted list and returns the index of the item if found. If it can't be found it'll return -1.\n * https://github.com/darkskyapp/binary-search\n *\n * @param {Array<*>} haystack Items to search through.\n * @param {*} needle The item to look for.\n * @param {Function=} opt_comparator Comparator function.\n * @return {number} The index of the item if found, -1 if not.\n */\nexport function binarySearch(haystack, needle, opt_comparator) {\n    var mid, cmp;\n    var comparator = opt_comparator || numberSafeCompareFunction;\n    var low = 0;\n    var high = haystack.length;\n    var found = false;\n    while (low < high) {\n        /* Note that \"(low + high) >>> 1\" may overflow, and results in a typecast\n         * to double (which gives the wrong results). */\n        mid = low + ((high - low) >> 1);\n        cmp = +comparator(haystack[mid], needle);\n        if (cmp < 0.0) {\n            /* Too low. */\n            low = mid + 1;\n        }\n        else {\n            /* Key found or too high */\n            high = mid;\n            found = !cmp;\n        }\n    }\n    /* Key not found. */\n    return found ? low : ~low;\n}\n/**\n * Compare function for array sort that is safe for numbers.\n * @param {*} a The first object to be compared.\n * @param {*} b The second object to be compared.\n * @return {number} A negative number, zero, or a positive number as the first\n *     argument is less than, equal to, or greater than the second.\n */\nexport function numberSafeCompareFunction(a, b) {\n    return a > b ? 1 : a < b ? -1 : 0;\n}\n/**\n * Whether the array contains the given object.\n * @param {Array<*>} arr The array to test for the presence of the element.\n * @param {*} obj The object for which to test.\n * @return {boolean} The object is in the array.\n */\nexport function includes(arr, obj) {\n    return arr.indexOf(obj) >= 0;\n}\n/**\n * @param {Array<number>} arr Array.\n * @param {number} target Target.\n * @param {number} direction 0 means return the nearest, > 0\n *    means return the largest nearest, < 0 means return the\n *    smallest nearest.\n * @return {number} Index.\n */\nexport function linearFindNearest(arr, target, direction) {\n    var n = arr.length;\n    if (arr[0] <= target) {\n        return 0;\n    }\n    else if (target <= arr[n - 1]) {\n        return n - 1;\n    }\n    else {\n        var i = void 0;\n        if (direction > 0) {\n            for (i = 1; i < n; ++i) {\n                if (arr[i] < target) {\n                    return i - 1;\n                }\n            }\n        }\n        else if (direction < 0) {\n            for (i = 1; i < n; ++i) {\n                if (arr[i] <= target) {\n                    return i;\n                }\n            }\n        }\n        else {\n            for (i = 1; i < n; ++i) {\n                if (arr[i] == target) {\n                    return i;\n                }\n                else if (arr[i] < target) {\n                    if (arr[i - 1] - target < target - arr[i]) {\n                        return i - 1;\n                    }\n                    else {\n                        return i;\n                    }\n                }\n            }\n        }\n        return n - 1;\n    }\n}\n/**\n * @param {Array<*>} arr Array.\n * @param {number} begin Begin index.\n * @param {number} end End index.\n */\nexport function reverseSubArray(arr, begin, end) {\n    while (begin < end) {\n        var tmp = arr[begin];\n        arr[begin] = arr[end];\n        arr[end] = tmp;\n        ++begin;\n        --end;\n    }\n}\n/**\n * @param {Array<VALUE>} arr The array to modify.\n * @param {!Array<VALUE>|VALUE} data The elements or arrays of elements to add to arr.\n * @template VALUE\n */\nexport function extend(arr, data) {\n    var extension = Array.isArray(data) ? data : [data];\n    var length = extension.length;\n    for (var i = 0; i < length; i++) {\n        arr[arr.length] = extension[i];\n    }\n}\n/**\n * @param {Array<VALUE>} arr The array to modify.\n * @param {VALUE} obj The element to remove.\n * @template VALUE\n * @return {boolean} If the element was removed.\n */\nexport function remove(arr, obj) {\n    var i = arr.indexOf(obj);\n    var found = i > -1;\n    if (found) {\n        arr.splice(i, 1);\n    }\n    return found;\n}\n/**\n * @param {Array<VALUE>} arr The array to search in.\n * @param {function(VALUE, number, ?) : boolean} func The function to compare.\n * @template VALUE\n * @return {VALUE|null} The element found or null.\n */\nexport function find(arr, func) {\n    var length = arr.length >>> 0;\n    var value;\n    for (var i = 0; i < length; i++) {\n        value = arr[i];\n        if (func(value, i, arr)) {\n            return value;\n        }\n    }\n    return null;\n}\n/**\n * @param {Array|Uint8ClampedArray} arr1 The first array to compare.\n * @param {Array|Uint8ClampedArray} arr2 The second array to compare.\n * @return {boolean} Whether the two arrays are equal.\n */\nexport function equals(arr1, arr2) {\n    var len1 = arr1.length;\n    if (len1 !== arr2.length) {\n        return false;\n    }\n    for (var i = 0; i < len1; i++) {\n        if (arr1[i] !== arr2[i]) {\n            return false;\n        }\n    }\n    return true;\n}\n/**\n * Sort the passed array such that the relative order of equal elements is preverved.\n * See https://en.wikipedia.org/wiki/Sorting_algorithm#Stability for details.\n * @param {Array<*>} arr The array to sort (modifies original).\n * @param {!function(*, *): number} compareFnc Comparison function.\n * @api\n */\nexport function stableSort(arr, compareFnc) {\n    var length = arr.length;\n    var tmp = Array(arr.length);\n    var i;\n    for (i = 0; i < length; i++) {\n        tmp[i] = { index: i, value: arr[i] };\n    }\n    tmp.sort(function (a, b) {\n        return compareFnc(a.value, b.value) || a.index - b.index;\n    });\n    for (i = 0; i < arr.length; i++) {\n        arr[i] = tmp[i].value;\n    }\n}\n/**\n * @param {Array<*>} arr The array to search in.\n * @param {Function} func Comparison function.\n * @return {number} Return index.\n */\nexport function findIndex(arr, func) {\n    var index;\n    var found = !arr.every(function (el, idx) {\n        index = idx;\n        return !func(el, idx, arr);\n    });\n    return found ? index : -1;\n}\n/**\n * @param {Array<*>} arr The array to test.\n * @param {Function=} opt_func Comparison function.\n * @param {boolean=} opt_strict Strictly sorted (default false).\n * @return {boolean} Return index.\n */\nexport function isSorted(arr, opt_func, opt_strict) {\n    var compare = opt_func || numberSafeCompareFunction;\n    return arr.every(function (currentVal, index) {\n        if (index === 0) {\n            return true;\n        }\n        var res = compare(arr[index - 1], currentVal);\n        return !(res > 0 || (opt_strict && res === 0));\n    });\n}\n//# sourceMappingURL=array.js.map","/**\n * @module ol/functions\n */\nimport { equals as arrayEquals } from './array.js';\n/**\n * Always returns true.\n * @returns {boolean} true.\n */\nexport function TRUE() {\n    return true;\n}\n/**\n * Always returns false.\n * @returns {boolean} false.\n */\nexport function FALSE() {\n    return false;\n}\n/**\n * A reusable function, used e.g. as a default for callbacks.\n *\n * @return {void} Nothing.\n */\nexport function VOID() { }\n/**\n * Wrap a function in another function that remembers the last return.  If the\n * returned function is called twice in a row with the same arguments and the same\n * this object, it will return the value from the first call in the second call.\n *\n * @param {function(...any): ReturnType} fn The function to memoize.\n * @return {function(...any): ReturnType} The memoized function.\n * @template ReturnType\n */\nexport function memoizeOne(fn) {\n    var called = false;\n    /** @type {ReturnType} */\n    var lastResult;\n    /** @type {Array<any>} */\n    var lastArgs;\n    var lastThis;\n    return function () {\n        var nextArgs = Array.prototype.slice.call(arguments);\n        if (!called || this !== lastThis || !arrayEquals(nextArgs, lastArgs)) {\n            called = true;\n            lastThis = this;\n            lastArgs = nextArgs;\n            lastResult = fn.apply(this, arguments);\n        }\n        return lastResult;\n    };\n}\n//# sourceMappingURL=functions.js.map","/**\n * @module ol/obj\n */\n/**\n * Polyfill for Object.assign().  Assigns enumerable and own properties from\n * one or more source objects to a target object.\n * See https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Global_Objects/Object/assign.\n *\n * @param {!Object} target The target object.\n * @param {...Object} var_sources The source object(s).\n * @return {!Object} The modified target object.\n */\nexport var assign = typeof Object.assign === 'function'\n    ? Object.assign\n    : function (target, var_sources) {\n        if (target === undefined || target === null) {\n            throw new TypeError('Cannot convert undefined or null to object');\n        }\n        var output = Object(target);\n        for (var i = 1, ii = arguments.length; i < ii; ++i) {\n            var source = arguments[i];\n            if (source !== undefined && source !== null) {\n                for (var key in source) {\n                    if (source.hasOwnProperty(key)) {\n                        output[key] = source[key];\n                    }\n                }\n            }\n        }\n        return output;\n    };\n/**\n * Removes all properties from an object.\n * @param {Object} object The object to clear.\n */\nexport function clear(object) {\n    for (var property in object) {\n        delete object[property];\n    }\n}\n/**\n * Polyfill for Object.values().  Get an array of property values from an object.\n * See https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/values\n *\n * @param {!Object<K,V>} object The object from which to get the values.\n * @return {!Array<V>} The property values.\n * @template K,V\n */\nexport var getValues = typeof Object.values === 'function'\n    ? Object.values\n    : function (object) {\n        var values = [];\n        for (var property in object) {\n            values.push(object[property]);\n        }\n        return values;\n    };\n/**\n * Determine if an object has any properties.\n * @param {Object} object The object to check.\n * @return {boolean} The object is empty.\n */\nexport function isEmpty(object) {\n    var property;\n    for (property in object) {\n        return false;\n    }\n    return !property;\n}\n//# sourceMappingURL=obj.js.map","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n/**\n * @module ol/events/Target\n */\nimport Disposable from '../Disposable.js';\nimport Event from './Event.js';\nimport { VOID } from '../functions.js';\nimport { clear } from '../obj.js';\n/**\n * @typedef {EventTarget|Target} EventTargetLike\n */\n/**\n * @classdesc\n * A simplified implementation of the W3C DOM Level 2 EventTarget interface.\n * See https://www.w3.org/TR/2000/REC-DOM-Level-2-Events-20001113/events.html#Events-EventTarget.\n *\n * There are two important simplifications compared to the specification:\n *\n * 1. The handling of `useCapture` in `addEventListener` and\n *    `removeEventListener`. There is no real capture model.\n * 2. The handling of `stopPropagation` and `preventDefault` on `dispatchEvent`.\n *    There is no event target hierarchy. When a listener calls\n *    `stopPropagation` or `preventDefault` on an event object, it means that no\n *    more listeners after this one will be called. Same as when the listener\n *    returns false.\n */\nvar Target = /** @class */ (function (_super) {\n    __extends(Target, _super);\n    /**\n     * @param {*=} opt_target Default event target for dispatched events.\n     */\n    function Target(opt_target) {\n        var _this = _super.call(this) || this;\n        /**\n         * @private\n         * @type {*}\n         */\n        _this.eventTarget_ = opt_target;\n        /**\n         * @private\n         * @type {Object<string, number>}\n         */\n        _this.pendingRemovals_ = null;\n        /**\n         * @private\n         * @type {Object<string, number>}\n         */\n        _this.dispatching_ = null;\n        /**\n         * @private\n         * @type {Object<string, Array<import(\"../events.js\").Listener>>}\n         */\n        _this.listeners_ = null;\n        return _this;\n    }\n    /**\n     * @param {string} type Type.\n     * @param {import(\"../events.js\").Listener} listener Listener.\n     */\n    Target.prototype.addEventListener = function (type, listener) {\n        if (!type || !listener) {\n            return;\n        }\n        var listeners = this.listeners_ || (this.listeners_ = {});\n        var listenersForType = listeners[type] || (listeners[type] = []);\n        if (listenersForType.indexOf(listener) === -1) {\n            listenersForType.push(listener);\n        }\n    };\n    /**\n     * Dispatches an event and calls all listeners listening for events\n     * of this type. The event parameter can either be a string or an\n     * Object with a `type` property.\n     *\n     * @param {import(\"./Event.js\").default|string} event Event object.\n     * @return {boolean|undefined} `false` if anyone called preventDefault on the\n     *     event object or if any of the listeners returned false.\n     * @api\n     */\n    Target.prototype.dispatchEvent = function (event) {\n        /** @type {import(\"./Event.js\").default|Event} */\n        var evt = typeof event === 'string' ? new Event(event) : event;\n        var type = evt.type;\n        if (!evt.target) {\n            evt.target = this.eventTarget_ || this;\n        }\n        var listeners = this.listeners_ && this.listeners_[type];\n        var propagate;\n        if (listeners) {\n            var dispatching = this.dispatching_ || (this.dispatching_ = {});\n            var pendingRemovals = this.pendingRemovals_ || (this.pendingRemovals_ = {});\n            if (!(type in dispatching)) {\n                dispatching[type] = 0;\n                pendingRemovals[type] = 0;\n            }\n            ++dispatching[type];\n            for (var i = 0, ii = listeners.length; i < ii; ++i) {\n                if ('handleEvent' in listeners[i]) {\n                    propagate = /** @type {import(\"../events.js\").ListenerObject} */ (listeners[i]).handleEvent(evt);\n                }\n                else {\n                    propagate = /** @type {import(\"../events.js\").ListenerFunction} */ (listeners[i]).call(this, evt);\n                }\n                if (propagate === false || evt.propagationStopped) {\n                    propagate = false;\n                    break;\n                }\n            }\n            --dispatching[type];\n            if (dispatching[type] === 0) {\n                var pr = pendingRemovals[type];\n                delete pendingRemovals[type];\n                while (pr--) {\n                    this.removeEventListener(type, VOID);\n                }\n                delete dispatching[type];\n            }\n            return propagate;\n        }\n    };\n    /**\n     * Clean up.\n     */\n    Target.prototype.disposeInternal = function () {\n        this.listeners_ && clear(this.listeners_);\n    };\n    /**\n     * Get the listeners for a specified event type. Listeners are returned in the\n     * order that they will be called in.\n     *\n     * @param {string} type Type.\n     * @return {Array<import(\"../events.js\").Listener>|undefined} Listeners.\n     */\n    Target.prototype.getListeners = function (type) {\n        return (this.listeners_ && this.listeners_[type]) || undefined;\n    };\n    /**\n     * @param {string=} opt_type Type. If not provided,\n     *     `true` will be returned if this event target has any listeners.\n     * @return {boolean} Has listeners.\n     */\n    Target.prototype.hasListener = function (opt_type) {\n        if (!this.listeners_) {\n            return false;\n        }\n        return opt_type\n            ? opt_type in this.listeners_\n            : Object.keys(this.listeners_).length > 0;\n    };\n    /**\n     * @param {string} type Type.\n     * @param {import(\"../events.js\").Listener} listener Listener.\n     */\n    Target.prototype.removeEventListener = function (type, listener) {\n        var listeners = this.listeners_ && this.listeners_[type];\n        if (listeners) {\n            var index = listeners.indexOf(listener);\n            if (index !== -1) {\n                if (this.pendingRemovals_ && type in this.pendingRemovals_) {\n                    // make listener a no-op, and remove later in #dispatchEvent()\n                    listeners[index] = VOID;\n                    ++this.pendingRemovals_[type];\n                }\n                else {\n                    listeners.splice(index, 1);\n                    if (listeners.length === 0) {\n                        delete this.listeners_[type];\n                    }\n                }\n            }\n        }\n    };\n    return Target;\n}(Disposable));\nexport default Target;\n//# sourceMappingURL=Target.js.map","/**\n * @module ol/events/EventType\n */\n/**\n * @enum {string}\n * @const\n */\nexport default {\n    /**\n     * Generic change event. Triggered when the revision counter is increased.\n     * @event module:ol/events/Event~BaseEvent#change\n     * @api\n     */\n    CHANGE: 'change',\n    /**\n     * Generic error event. Triggered when an error occurs.\n     * @event module:ol/events/Event~BaseEvent#error\n     * @api\n     */\n    ERROR: 'error',\n    BLUR: 'blur',\n    CLEAR: 'clear',\n    CONTEXTMENU: 'contextmenu',\n    CLICK: 'click',\n    DBLCLICK: 'dblclick',\n    DRAGENTER: 'dragenter',\n    DRAGOVER: 'dragover',\n    DROP: 'drop',\n    FOCUS: 'focus',\n    KEYDOWN: 'keydown',\n    KEYPRESS: 'keypress',\n    LOAD: 'load',\n    RESIZE: 'resize',\n    TOUCHMOVE: 'touchmove',\n    WHEEL: 'wheel',\n};\n//# sourceMappingURL=EventType.js.map","/**\n * @module ol/events\n */\nimport { clear } from './obj.js';\n/**\n * Key to use with {@link module:ol/Observable~Observable#unByKey}.\n * @typedef {Object} EventsKey\n * @property {ListenerFunction} listener\n * @property {import(\"./events/Target.js\").EventTargetLike} target\n * @property {string} type\n * @api\n */\n/**\n * Listener function. This function is called with an event object as argument.\n * When the function returns `false`, event propagation will stop.\n *\n * @typedef {function((Event|import(\"./events/Event.js\").default)): (void|boolean)} ListenerFunction\n * @api\n */\n/**\n * @typedef {Object} ListenerObject\n * @property {ListenerFunction} handleEvent\n */\n/**\n * @typedef {ListenerFunction|ListenerObject} Listener\n */\n/**\n * Registers an event listener on an event target. Inspired by\n * https://google.github.io/closure-library/api/source/closure/goog/events/events.js.src.html\n *\n * This function efficiently binds a `listener` to a `this` object, and returns\n * a key for use with {@link module:ol/events~unlistenByKey}.\n *\n * @param {import(\"./events/Target.js\").EventTargetLike} target Event target.\n * @param {string} type Event type.\n * @param {ListenerFunction} listener Listener.\n * @param {Object=} opt_this Object referenced by the `this` keyword in the\n *     listener. Default is the `target`.\n * @param {boolean=} opt_once If true, add the listener as one-off listener.\n * @return {EventsKey} Unique key for the listener.\n */\nexport function listen(target, type, listener, opt_this, opt_once) {\n    if (opt_this && opt_this !== target) {\n        listener = listener.bind(opt_this);\n    }\n    if (opt_once) {\n        var originalListener_1 = listener;\n        listener = function () {\n            target.removeEventListener(type, listener);\n            originalListener_1.apply(this, arguments);\n        };\n    }\n    var eventsKey = {\n        target: target,\n        type: type,\n        listener: listener,\n    };\n    target.addEventListener(type, listener);\n    return eventsKey;\n}\n/**\n * Registers a one-off event listener on an event target. Inspired by\n * https://google.github.io/closure-library/api/source/closure/goog/events/events.js.src.html\n *\n * This function efficiently binds a `listener` as self-unregistering listener\n * to a `this` object, and returns a key for use with\n * {@link module:ol/events~unlistenByKey} in case the listener needs to be\n * unregistered before it is called.\n *\n * When {@link module:ol/events~listen} is called with the same arguments after this\n * function, the self-unregistering listener will be turned into a permanent\n * listener.\n *\n * @param {import(\"./events/Target.js\").EventTargetLike} target Event target.\n * @param {string} type Event type.\n * @param {ListenerFunction} listener Listener.\n * @param {Object=} opt_this Object referenced by the `this` keyword in the\n *     listener. Default is the `target`.\n * @return {EventsKey} Key for unlistenByKey.\n */\nexport function listenOnce(target, type, listener, opt_this) {\n    return listen(target, type, listener, opt_this, true);\n}\n/**\n * Unregisters event listeners on an event target. Inspired by\n * https://google.github.io/closure-library/api/source/closure/goog/events/events.js.src.html\n *\n * The argument passed to this function is the key returned from\n * {@link module:ol/events~listen} or {@link module:ol/events~listenOnce}.\n *\n * @param {EventsKey} key The key.\n */\nexport function unlistenByKey(key) {\n    if (key && key.target) {\n        key.target.removeEventListener(key.type, key.listener);\n        clear(key);\n    }\n}\n//# sourceMappingURL=events.js.map","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n/**\n * @module ol/Observable\n */\nimport EventTarget from './events/Target.js';\nimport EventType from './events/EventType.js';\nimport { listen, listenOnce, unlistenByKey } from './events.js';\n/**\n * @classdesc\n * Abstract base class; normally only used for creating subclasses and not\n * instantiated in apps.\n * An event target providing convenient methods for listener registration\n * and unregistration. A generic `change` event is always available through\n * {@link module:ol/Observable~Observable#changed}.\n *\n * @fires import(\"./events/Event.js\").default\n * @api\n */\nvar Observable = /** @class */ (function (_super) {\n    __extends(Observable, _super);\n    function Observable() {\n        var _this = _super.call(this) || this;\n        /**\n         * @private\n         * @type {number}\n         */\n        _this.revision_ = 0;\n        return _this;\n    }\n    /**\n     * Increases the revision counter and dispatches a 'change' event.\n     * @api\n     */\n    Observable.prototype.changed = function () {\n        ++this.revision_;\n        this.dispatchEvent(EventType.CHANGE);\n    };\n    /**\n     * Get the version number for this object.  Each time the object is modified,\n     * its version number will be incremented.\n     * @return {number} Revision.\n     * @api\n     */\n    Observable.prototype.getRevision = function () {\n        return this.revision_;\n    };\n    /**\n     * Listen for a certain type of event.\n     * @param {string|Array<string>} type The event type or array of event types.\n     * @param {function(?): ?} listener The listener function.\n     * @return {import(\"./events.js\").EventsKey|Array<import(\"./events.js\").EventsKey>} Unique key for the listener. If\n     *     called with an array of event types as the first argument, the return\n     *     will be an array of keys.\n     * @api\n     */\n    Observable.prototype.on = function (type, listener) {\n        if (Array.isArray(type)) {\n            var len = type.length;\n            var keys = new Array(len);\n            for (var i = 0; i < len; ++i) {\n                keys[i] = listen(this, type[i], listener);\n            }\n            return keys;\n        }\n        else {\n            return listen(this, /** @type {string} */ (type), listener);\n        }\n    };\n    /**\n     * Listen once for a certain type of event.\n     * @param {string|Array<string>} type The event type or array of event types.\n     * @param {function(?): ?} listener The listener function.\n     * @return {import(\"./events.js\").EventsKey|Array<import(\"./events.js\").EventsKey>} Unique key for the listener. If\n     *     called with an array of event types as the first argument, the return\n     *     will be an array of keys.\n     * @api\n     */\n    Observable.prototype.once = function (type, listener) {\n        var key;\n        if (Array.isArray(type)) {\n            var len = type.length;\n            key = new Array(len);\n            for (var i = 0; i < len; ++i) {\n                key[i] = listenOnce(this, type[i], listener);\n            }\n        }\n        else {\n            key = listenOnce(this, /** @type {string} */ (type), listener);\n        }\n        /** @type {Object} */ (listener).ol_key = key;\n        return key;\n    };\n    /**\n     * Unlisten for a certain type of event.\n     * @param {string|Array<string>} type The event type or array of event types.\n     * @param {function(?): ?} listener The listener function.\n     * @api\n     */\n    Observable.prototype.un = function (type, listener) {\n        var key = /** @type {Object} */ (listener).ol_key;\n        if (key) {\n            unByKey(key);\n        }\n        else if (Array.isArray(type)) {\n            for (var i = 0, ii = type.length; i < ii; ++i) {\n                this.removeEventListener(type[i], listener);\n            }\n        }\n        else {\n            this.removeEventListener(type, listener);\n        }\n    };\n    return Observable;\n}(EventTarget));\n/**\n * Removes an event listener using the key returned by `on()` or `once()`.\n * @param {import(\"./events.js\").EventsKey|Array<import(\"./events.js\").EventsKey>} key The key returned by `on()`\n *     or `once()` (or an array of keys).\n * @api\n */\nexport function unByKey(key) {\n    if (Array.isArray(key)) {\n        for (var i = 0, ii = key.length; i < ii; ++i) {\n            unlistenByKey(key[i]);\n        }\n    }\n    else {\n        unlistenByKey(/** @type {import(\"./events.js\").EventsKey} */ (key));\n    }\n}\nexport default Observable;\n//# sourceMappingURL=Observable.js.map","/**\n * @module ol/util\n */\n/**\n * @return {?} Any return.\n */\nexport function abstract() {\n    return /** @type {?} */ ((function () {\n        throw new Error('Unimplemented abstract method.');\n    })());\n}\n/**\n * Counter for getUid.\n * @type {number}\n * @private\n */\nvar uidCounter_ = 0;\n/**\n * Gets a unique ID for an object. This mutates the object so that further calls\n * with the same object as a parameter returns the same value. Unique IDs are generated\n * as a strictly increasing sequence. Adapted from goog.getUid.\n *\n * @param {Object} obj The object to get the unique ID for.\n * @return {string} The unique ID for the object.\n * @api\n */\nexport function getUid(obj) {\n    return obj.ol_uid || (obj.ol_uid = String(++uidCounter_));\n}\n/**\n * OpenLayers version.\n * @type {string}\n */\nexport var VERSION = '6.5.0';\n//# sourceMappingURL=util.js.map","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n/**\n * @module ol/Object\n */\nimport Event from './events/Event.js';\nimport ObjectEventType from './ObjectEventType.js';\nimport Observable from './Observable.js';\nimport { assign, isEmpty } from './obj.js';\nimport { getUid } from './util.js';\n/**\n * @classdesc\n * Events emitted by {@link module:ol/Object~BaseObject} instances are instances of this type.\n */\nvar ObjectEvent = /** @class */ (function (_super) {\n    __extends(ObjectEvent, _super);\n    /**\n     * @param {string} type The event type.\n     * @param {string} key The property name.\n     * @param {*} oldValue The old value for `key`.\n     */\n    function ObjectEvent(type, key, oldValue) {\n        var _this = _super.call(this, type) || this;\n        /**\n         * The name of the property whose value is changing.\n         * @type {string}\n         * @api\n         */\n        _this.key = key;\n        /**\n         * The old value. To get the new value use `e.target.get(e.key)` where\n         * `e` is the event object.\n         * @type {*}\n         * @api\n         */\n        _this.oldValue = oldValue;\n        return _this;\n    }\n    return ObjectEvent;\n}(Event));\nexport { ObjectEvent };\n/**\n * @classdesc\n * Abstract base class; normally only used for creating subclasses and not\n * instantiated in apps.\n * Most non-trivial classes inherit from this.\n *\n * This extends {@link module:ol/Observable} with observable\n * properties, where each property is observable as well as the object as a\n * whole.\n *\n * Classes that inherit from this have pre-defined properties, to which you can\n * add your owns. The pre-defined properties are listed in this documentation as\n * 'Observable Properties', and have their own accessors; for example,\n * {@link module:ol/Map~Map} has a `target` property, accessed with\n * `getTarget()` and changed with `setTarget()`. Not all properties are however\n * settable. There are also general-purpose accessors `get()` and `set()`. For\n * example, `get('target')` is equivalent to `getTarget()`.\n *\n * The `set` accessors trigger a change event, and you can monitor this by\n * registering a listener. For example, {@link module:ol/View~View} has a\n * `center` property, so `view.on('change:center', function(evt) {...});` would\n * call the function whenever the value of the center property changes. Within\n * the function, `evt.target` would be the view, so `evt.target.getCenter()`\n * would return the new center.\n *\n * You can add your own observable properties with\n * `object.set('prop', 'value')`, and retrieve that with `object.get('prop')`.\n * You can listen for changes on that property value with\n * `object.on('change:prop', listener)`. You can get a list of all\n * properties with {@link module:ol/Object~BaseObject#getProperties}.\n *\n * Note that the observable properties are separate from standard JS properties.\n * You can, for example, give your map object a title with\n * `map.title='New title'` and with `map.set('title', 'Another title')`. The\n * first will be a `hasOwnProperty`; the second will appear in\n * `getProperties()`. Only the second is observable.\n *\n * Properties can be deleted by using the unset method. E.g.\n * object.unset('foo').\n *\n * @fires ObjectEvent\n * @api\n */\nvar BaseObject = /** @class */ (function (_super) {\n    __extends(BaseObject, _super);\n    /**\n     * @param {Object<string, *>=} opt_values An object with key-value pairs.\n     */\n    function BaseObject(opt_values) {\n        var _this = _super.call(this) || this;\n        // Call {@link module:ol/util~getUid} to ensure that the order of objects' ids is\n        // the same as the order in which they were created.  This also helps to\n        // ensure that object properties are always added in the same order, which\n        // helps many JavaScript engines generate faster code.\n        getUid(_this);\n        /**\n         * @private\n         * @type {Object<string, *>}\n         */\n        _this.values_ = null;\n        if (opt_values !== undefined) {\n            _this.setProperties(opt_values);\n        }\n        return _this;\n    }\n    /**\n     * Gets a value.\n     * @param {string} key Key name.\n     * @return {*} Value.\n     * @api\n     */\n    BaseObject.prototype.get = function (key) {\n        var value;\n        if (this.values_ && this.values_.hasOwnProperty(key)) {\n            value = this.values_[key];\n        }\n        return value;\n    };\n    /**\n     * Get a list of object property names.\n     * @return {Array<string>} List of property names.\n     * @api\n     */\n    BaseObject.prototype.getKeys = function () {\n        return (this.values_ && Object.keys(this.values_)) || [];\n    };\n    /**\n     * Get an object of all property names and values.\n     * @return {Object<string, *>} Object.\n     * @api\n     */\n    BaseObject.prototype.getProperties = function () {\n        return (this.values_ && assign({}, this.values_)) || {};\n    };\n    /**\n     * @return {boolean} The object has properties.\n     */\n    BaseObject.prototype.hasProperties = function () {\n        return !!this.values_;\n    };\n    /**\n     * @param {string} key Key name.\n     * @param {*} oldValue Old value.\n     */\n    BaseObject.prototype.notify = function (key, oldValue) {\n        var eventType;\n        eventType = getChangeEventType(key);\n        this.dispatchEvent(new ObjectEvent(eventType, key, oldValue));\n        eventType = ObjectEventType.PROPERTYCHANGE;\n        this.dispatchEvent(new ObjectEvent(eventType, key, oldValue));\n    };\n    /**\n     * Sets a value.\n     * @param {string} key Key name.\n     * @param {*} value Value.\n     * @param {boolean=} opt_silent Update without triggering an event.\n     * @api\n     */\n    BaseObject.prototype.set = function (key, value, opt_silent) {\n        var values = this.values_ || (this.values_ = {});\n        if (opt_silent) {\n            values[key] = value;\n        }\n        else {\n            var oldValue = values[key];\n            values[key] = value;\n            if (oldValue !== value) {\n                this.notify(key, oldValue);\n            }\n        }\n    };\n    /**\n     * Sets a collection of key-value pairs.  Note that this changes any existing\n     * properties and adds new ones (it does not remove any existing properties).\n     * @param {Object<string, *>} values Values.\n     * @param {boolean=} opt_silent Update without triggering an event.\n     * @api\n     */\n    BaseObject.prototype.setProperties = function (values, opt_silent) {\n        for (var key in values) {\n            this.set(key, values[key], opt_silent);\n        }\n    };\n    /**\n     * Apply any properties from another object without triggering events.\n     * @param {BaseObject} source The source object.\n     * @protected\n     */\n    BaseObject.prototype.applyProperties = function (source) {\n        if (!source.values_) {\n            return;\n        }\n        assign(this.values_ || (this.values_ = {}), source.values_);\n    };\n    /**\n     * Unsets a property.\n     * @param {string} key Key name.\n     * @param {boolean=} opt_silent Unset without triggering an event.\n     * @api\n     */\n    BaseObject.prototype.unset = function (key, opt_silent) {\n        if (this.values_ && key in this.values_) {\n            var oldValue = this.values_[key];\n            delete this.values_[key];\n            if (isEmpty(this.values_)) {\n                this.values_ = null;\n            }\n            if (!opt_silent) {\n                this.notify(key, oldValue);\n            }\n        }\n    };\n    return BaseObject;\n}(Observable));\n/**\n * @type {Object<string, string>}\n */\nvar changeEventTypeCache = {};\n/**\n * @param {string} key Key name.\n * @return {string} Change name.\n */\nexport function getChangeEventType(key) {\n    return changeEventTypeCache.hasOwnProperty(key)\n        ? changeEventTypeCache[key]\n        : (changeEventTypeCache[key] = 'change:' + key);\n}\nexport default BaseObject;\n//# sourceMappingURL=Object.js.map","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n/**\n * @module ol/AssertionError\n */\nimport { VERSION } from './util.js';\n/**\n * Error object thrown when an assertion failed. This is an ECMA-262 Error,\n * extended with a `code` property.\n * See https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Error.\n */\nvar AssertionError = /** @class */ (function (_super) {\n    __extends(AssertionError, _super);\n    /**\n     * @param {number} code Error code.\n     */\n    function AssertionError(code) {\n        var _this = this;\n        var path = VERSION === 'latest' ? VERSION : 'v' + VERSION.split('-')[0];\n        var message = 'Assertion failed. See https://openlayers.org/en/' +\n            path +\n            '/doc/errors/#' +\n            code +\n            ' for details.';\n        _this = _super.call(this, message) || this;\n        /**\n         * Error code. The meaning of the code can be found on\n         * https://openlayers.org/en/latest/doc/errors/ (replace `latest` with\n         * the version found in the OpenLayers script's header comment if a version\n         * other than the latest is used).\n         * @type {number}\n         * @api\n         */\n        _this.code = code;\n        /**\n         * @type {string}\n         */\n        _this.name = 'AssertionError';\n        // Re-assign message, see https://github.com/Rich-Harris/buble/issues/40\n        _this.message = message;\n        return _this;\n    }\n    return AssertionError;\n}(Error));\nexport default AssertionError;\n//# sourceMappingURL=AssertionError.js.map","/**\n * @module ol/asserts\n */\nimport AssertionError from './AssertionError.js';\n/**\n * @param {*} assertion Assertion we expected to be truthy.\n * @param {number} errorCode Error code.\n */\nexport function assert(assertion, errorCode) {\n    if (!assertion) {\n        throw new AssertionError(errorCode);\n    }\n}\n//# sourceMappingURL=asserts.js.map","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n/**\n * @module ol/Feature\n */\nimport BaseObject, { getChangeEventType } from './Object.js';\nimport EventType from './events/EventType.js';\nimport { assert } from './asserts.js';\nimport { listen, unlistenByKey } from './events.js';\n/**\n * @typedef {typeof Feature|typeof import(\"./render/Feature.js\").default} FeatureClass\n */\n/**\n * @typedef {Feature|import(\"./render/Feature.js\").default} FeatureLike\n */\n/**\n * @classdesc\n * A vector object for geographic features with a geometry and other\n * attribute properties, similar to the features in vector file formats like\n * GeoJSON.\n *\n * Features can be styled individually with `setStyle`; otherwise they use the\n * style of their vector layer.\n *\n * Note that attribute properties are set as {@link module:ol/Object} properties on\n * the feature object, so they are observable, and have get/set accessors.\n *\n * Typically, a feature has a single geometry property. You can set the\n * geometry using the `setGeometry` method and get it with `getGeometry`.\n * It is possible to store more than one geometry on a feature using attribute\n * properties. By default, the geometry used for rendering is identified by\n * the property name `geometry`. If you want to use another geometry property\n * for rendering, use the `setGeometryName` method to change the attribute\n * property associated with the geometry for the feature.  For example:\n *\n * ```js\n *\n * import Feature from 'ol/Feature';\n * import Polygon from 'ol/geom/Polygon';\n * import Point from 'ol/geom/Point';\n *\n * var feature = new Feature({\n *   geometry: new Polygon(polyCoords),\n *   labelPoint: new Point(labelCoords),\n *   name: 'My Polygon'\n * });\n *\n * // get the polygon geometry\n * var poly = feature.getGeometry();\n *\n * // Render the feature as a point using the coordinates from labelPoint\n * feature.setGeometryName('labelPoint');\n *\n * // get the point geometry\n * var point = feature.getGeometry();\n * ```\n *\n * @api\n * @template {import(\"./geom/Geometry.js\").default} Geometry\n */\nvar Feature = /** @class */ (function (_super) {\n    __extends(Feature, _super);\n    /**\n     * @param {Geometry|Object<string, *>=} opt_geometryOrProperties\n     *     You may pass a Geometry object directly, or an object literal containing\n     *     properties. If you pass an object literal, you may include a Geometry\n     *     associated with a `geometry` key.\n     */\n    function Feature(opt_geometryOrProperties) {\n        var _this = _super.call(this) || this;\n        /**\n         * @private\n         * @type {number|string|undefined}\n         */\n        _this.id_ = undefined;\n        /**\n         * @type {string}\n         * @private\n         */\n        _this.geometryName_ = 'geometry';\n        /**\n         * User provided style.\n         * @private\n         * @type {import(\"./style/Style.js\").StyleLike}\n         */\n        _this.style_ = null;\n        /**\n         * @private\n         * @type {import(\"./style/Style.js\").StyleFunction|undefined}\n         */\n        _this.styleFunction_ = undefined;\n        /**\n         * @private\n         * @type {?import(\"./events.js\").EventsKey}\n         */\n        _this.geometryChangeKey_ = null;\n        _this.addEventListener(getChangeEventType(_this.geometryName_), _this.handleGeometryChanged_);\n        if (opt_geometryOrProperties) {\n            if (typeof (\n            /** @type {?} */ (opt_geometryOrProperties).getSimplifiedGeometry) === 'function') {\n                var geometry = /** @type {Geometry} */ (opt_geometryOrProperties);\n                _this.setGeometry(geometry);\n            }\n            else {\n                /** @type {Object<string, *>} */\n                var properties = opt_geometryOrProperties;\n                _this.setProperties(properties);\n            }\n        }\n        return _this;\n    }\n    /**\n     * Clone this feature. If the original feature has a geometry it\n     * is also cloned. The feature id is not set in the clone.\n     * @return {Feature} The clone.\n     * @api\n     */\n    Feature.prototype.clone = function () {\n        var clone = new Feature(this.hasProperties() ? this.getProperties() : null);\n        clone.setGeometryName(this.getGeometryName());\n        var geometry = this.getGeometry();\n        if (geometry) {\n            clone.setGeometry(geometry.clone());\n        }\n        var style = this.getStyle();\n        if (style) {\n            clone.setStyle(style);\n        }\n        return clone;\n    };\n    /**\n     * Get the feature's default geometry.  A feature may have any number of named\n     * geometries.  The \"default\" geometry (the one that is rendered by default) is\n     * set when calling {@link module:ol/Feature~Feature#setGeometry}.\n     * @return {Geometry|undefined} The default geometry for the feature.\n     * @api\n     * @observable\n     */\n    Feature.prototype.getGeometry = function () {\n        return /** @type {Geometry|undefined} */ (this.get(this.geometryName_));\n    };\n    /**\n     * Get the feature identifier.  This is a stable identifier for the feature and\n     * is either set when reading data from a remote source or set explicitly by\n     * calling {@link module:ol/Feature~Feature#setId}.\n     * @return {number|string|undefined} Id.\n     * @api\n     */\n    Feature.prototype.getId = function () {\n        return this.id_;\n    };\n    /**\n     * Get the name of the feature's default geometry.  By default, the default\n     * geometry is named `geometry`.\n     * @return {string} Get the property name associated with the default geometry\n     *     for this feature.\n     * @api\n     */\n    Feature.prototype.getGeometryName = function () {\n        return this.geometryName_;\n    };\n    /**\n     * Get the feature's style. Will return what was provided to the\n     * {@link module:ol/Feature~Feature#setStyle} method.\n     * @return {import(\"./style/Style.js\").StyleLike|undefined} The feature style.\n     * @api\n     */\n    Feature.prototype.getStyle = function () {\n        return this.style_;\n    };\n    /**\n     * Get the feature's style function.\n     * @return {import(\"./style/Style.js\").StyleFunction|undefined} Return a function\n     * representing the current style of this feature.\n     * @api\n     */\n    Feature.prototype.getStyleFunction = function () {\n        return this.styleFunction_;\n    };\n    /**\n     * @private\n     */\n    Feature.prototype.handleGeometryChange_ = function () {\n        this.changed();\n    };\n    /**\n     * @private\n     */\n    Feature.prototype.handleGeometryChanged_ = function () {\n        if (this.geometryChangeKey_) {\n            unlistenByKey(this.geometryChangeKey_);\n            this.geometryChangeKey_ = null;\n        }\n        var geometry = this.getGeometry();\n        if (geometry) {\n            this.geometryChangeKey_ = listen(geometry, EventType.CHANGE, this.handleGeometryChange_, this);\n        }\n        this.changed();\n    };\n    /**\n     * Set the default geometry for the feature.  This will update the property\n     * with the name returned by {@link module:ol/Feature~Feature#getGeometryName}.\n     * @param {Geometry|undefined} geometry The new geometry.\n     * @api\n     * @observable\n     */\n    Feature.prototype.setGeometry = function (geometry) {\n        this.set(this.geometryName_, geometry);\n    };\n    /**\n     * Set the style for the feature to override the layer style.  This can be a\n     * single style object, an array of styles, or a function that takes a\n     * resolution and returns an array of styles. To unset the feature style, call\n     * `setStyle()` without arguments or a falsey value.\n     * @param {import(\"./style/Style.js\").StyleLike=} opt_style Style for this feature.\n     * @api\n     * @fires module:ol/events/Event~BaseEvent#event:change\n     */\n    Feature.prototype.setStyle = function (opt_style) {\n        this.style_ = opt_style;\n        this.styleFunction_ = !opt_style\n            ? undefined\n            : createStyleFunction(opt_style);\n        this.changed();\n    };\n    /**\n     * Set the feature id.  The feature id is considered stable and may be used when\n     * requesting features or comparing identifiers returned from a remote source.\n     * The feature id can be used with the\n     * {@link module:ol/source/Vector~VectorSource#getFeatureById} method.\n     * @param {number|string|undefined} id The feature id.\n     * @api\n     * @fires module:ol/events/Event~BaseEvent#event:change\n     */\n    Feature.prototype.setId = function (id) {\n        this.id_ = id;\n        this.changed();\n    };\n    /**\n     * Set the property name to be used when getting the feature's default geometry.\n     * When calling {@link module:ol/Feature~Feature#getGeometry}, the value of the property with\n     * this name will be returned.\n     * @param {string} name The property name of the default geometry.\n     * @api\n     */\n    Feature.prototype.setGeometryName = function (name) {\n        this.removeEventListener(getChangeEventType(this.geometryName_), this.handleGeometryChanged_);\n        this.geometryName_ = name;\n        this.addEventListener(getChangeEventType(this.geometryName_), this.handleGeometryChanged_);\n        this.handleGeometryChanged_();\n    };\n    return Feature;\n}(BaseObject));\n/**\n * Convert the provided object into a feature style function.  Functions passed\n * through unchanged.  Arrays of Style or single style objects wrapped\n * in a new feature style function.\n * @param {!import(\"./style/Style.js\").StyleFunction|!Array<import(\"./style/Style.js\").default>|!import(\"./style/Style.js\").default} obj\n *     A feature style function, a single style, or an array of styles.\n * @return {import(\"./style/Style.js\").StyleFunction} A style function.\n */\nexport function createStyleFunction(obj) {\n    if (typeof obj === 'function') {\n        return obj;\n    }\n    else {\n        /**\n         * @type {Array<import(\"./style/Style.js\").default>}\n         */\n        var styles_1;\n        if (Array.isArray(obj)) {\n            styles_1 = obj;\n        }\n        else {\n            assert(typeof ( /** @type {?} */(obj).getZIndex) === 'function', 41); // Expected an `import(\"./style/Style.js\").Style` or an array of `import(\"./style/Style.js\").Style`\n            var style = /** @type {import(\"./style/Style.js\").default} */ (obj);\n            styles_1 = [style];\n        }\n        return function () {\n            return styles_1;\n        };\n    }\n}\nexport default Feature;\n//# sourceMappingURL=Feature.js.map","/**\n * @module ol/geom/GeometryLayout\n */\n/**\n * The coordinate layout for geometries, indicating whether a 3rd or 4th z ('Z')\n * or measure ('M') coordinate is available. Supported values are `'XY'`,\n * `'XYZ'`, `'XYM'`, `'XYZM'`.\n * @enum {string}\n */\nexport default {\n    XY: 'XY',\n    XYZ: 'XYZ',\n    XYM: 'XYM',\n    XYZM: 'XYZM',\n};\n//# sourceMappingURL=GeometryLayout.js.map","/**\n * @module ol/geom/GeometryType\n */\n/**\n * The geometry type. One of `'Point'`, `'LineString'`, `'LinearRing'`,\n * `'Polygon'`, `'MultiPoint'`, `'MultiLineString'`, `'MultiPolygon'`,\n * `'GeometryCollection'`, `'Circle'`.\n * @enum {string}\n */\nexport default {\n    POINT: 'Point',\n    LINE_STRING: 'LineString',\n    LINEAR_RING: 'LinearRing',\n    POLYGON: 'Polygon',\n    MULTI_POINT: 'MultiPoint',\n    MULTI_LINE_STRING: 'MultiLineString',\n    MULTI_POLYGON: 'MultiPolygon',\n    GEOMETRY_COLLECTION: 'GeometryCollection',\n    CIRCLE: 'Circle',\n};\n//# sourceMappingURL=GeometryType.js.map","/**\n * @module ol/proj/Units\n */\n/**\n * Projection units: `'degrees'`, `'ft'`, `'m'`, `'pixels'`, `'tile-pixels'` or\n * `'us-ft'`.\n * @enum {string}\n */\nvar Units = {\n    /**\n     * Degrees\n     * @api\n     */\n    DEGREES: 'degrees',\n    /**\n     * Feet\n     * @api\n     */\n    FEET: 'ft',\n    /**\n     * Meters\n     * @api\n     */\n    METERS: 'm',\n    /**\n     * Pixels\n     * @api\n     */\n    PIXELS: 'pixels',\n    /**\n     * Tile Pixels\n     * @api\n     */\n    TILE_PIXELS: 'tile-pixels',\n    /**\n     * US Feet\n     * @api\n     */\n    USFEET: 'us-ft',\n};\n/**\n * Meters per unit lookup table.\n * @const\n * @type {Object<Units, number>}\n * @api\n */\nexport var METERS_PER_UNIT = {};\n// use the radius of the Normal sphere\nMETERS_PER_UNIT[Units.DEGREES] = (2 * Math.PI * 6370997) / 360;\nMETERS_PER_UNIT[Units.FEET] = 0.3048;\nMETERS_PER_UNIT[Units.METERS] = 1;\nMETERS_PER_UNIT[Units.USFEET] = 1200 / 3937;\nexport default Units;\n//# sourceMappingURL=Units.js.map","/**\n * @module ol/transform\n */\nimport { assert } from './asserts.js';\n/**\n * An array representing an affine 2d transformation for use with\n * {@link module:ol/transform} functions. The array has 6 elements.\n * @typedef {!Array<number>} Transform\n * @api\n */\n/**\n * Collection of affine 2d transformation functions. The functions work on an\n * array of 6 elements. The element order is compatible with the [SVGMatrix\n * interface](https://developer.mozilla.org/en-US/docs/Web/API/SVGMatrix) and is\n * a subset (elements a to f) of a 33 matrix:\n * ```\n * [ a c e ]\n * [ b d f ]\n * [ 0 0 1 ]\n * ```\n */\n/**\n * @private\n * @type {Transform}\n */\nvar tmp_ = new Array(6);\n/**\n * Create an identity transform.\n * @return {!Transform} Identity transform.\n */\nexport function create() {\n    return [1, 0, 0, 1, 0, 0];\n}\n/**\n * Resets the given transform to an identity transform.\n * @param {!Transform} transform Transform.\n * @return {!Transform} Transform.\n */\nexport function reset(transform) {\n    return set(transform, 1, 0, 0, 1, 0, 0);\n}\n/**\n * Multiply the underlying matrices of two transforms and return the result in\n * the first transform.\n * @param {!Transform} transform1 Transform parameters of matrix 1.\n * @param {!Transform} transform2 Transform parameters of matrix 2.\n * @return {!Transform} transform1 multiplied with transform2.\n */\nexport function multiply(transform1, transform2) {\n    var a1 = transform1[0];\n    var b1 = transform1[1];\n    var c1 = transform1[2];\n    var d1 = transform1[3];\n    var e1 = transform1[4];\n    var f1 = transform1[5];\n    var a2 = transform2[0];\n    var b2 = transform2[1];\n    var c2 = transform2[2];\n    var d2 = transform2[3];\n    var e2 = transform2[4];\n    var f2 = transform2[5];\n    transform1[0] = a1 * a2 + c1 * b2;\n    transform1[1] = b1 * a2 + d1 * b2;\n    transform1[2] = a1 * c2 + c1 * d2;\n    transform1[3] = b1 * c2 + d1 * d2;\n    transform1[4] = a1 * e2 + c1 * f2 + e1;\n    transform1[5] = b1 * e2 + d1 * f2 + f1;\n    return transform1;\n}\n/**\n * Set the transform components a-f on a given transform.\n * @param {!Transform} transform Transform.\n * @param {number} a The a component of the transform.\n * @param {number} b The b component of the transform.\n * @param {number} c The c component of the transform.\n * @param {number} d The d component of the transform.\n * @param {number} e The e component of the transform.\n * @param {number} f The f component of the transform.\n * @return {!Transform} Matrix with transform applied.\n */\nexport function set(transform, a, b, c, d, e, f) {\n    transform[0] = a;\n    transform[1] = b;\n    transform[2] = c;\n    transform[3] = d;\n    transform[4] = e;\n    transform[5] = f;\n    return transform;\n}\n/**\n * Set transform on one matrix from another matrix.\n * @param {!Transform} transform1 Matrix to set transform to.\n * @param {!Transform} transform2 Matrix to set transform from.\n * @return {!Transform} transform1 with transform from transform2 applied.\n */\nexport function setFromArray(transform1, transform2) {\n    transform1[0] = transform2[0];\n    transform1[1] = transform2[1];\n    transform1[2] = transform2[2];\n    transform1[3] = transform2[3];\n    transform1[4] = transform2[4];\n    transform1[5] = transform2[5];\n    return transform1;\n}\n/**\n * Transforms the given coordinate with the given transform returning the\n * resulting, transformed coordinate. The coordinate will be modified in-place.\n *\n * @param {Transform} transform The transformation.\n * @param {import(\"./coordinate.js\").Coordinate|import(\"./pixel.js\").Pixel} coordinate The coordinate to transform.\n * @return {import(\"./coordinate.js\").Coordinate|import(\"./pixel.js\").Pixel} return coordinate so that operations can be\n *     chained together.\n */\nexport function apply(transform, coordinate) {\n    var x = coordinate[0];\n    var y = coordinate[1];\n    coordinate[0] = transform[0] * x + transform[2] * y + transform[4];\n    coordinate[1] = transform[1] * x + transform[3] * y + transform[5];\n    return coordinate;\n}\n/**\n * Applies rotation to the given transform.\n * @param {!Transform} transform Transform.\n * @param {number} angle Angle in radians.\n * @return {!Transform} The rotated transform.\n */\nexport function rotate(transform, angle) {\n    var cos = Math.cos(angle);\n    var sin = Math.sin(angle);\n    return multiply(transform, set(tmp_, cos, sin, -sin, cos, 0, 0));\n}\n/**\n * Applies scale to a given transform.\n * @param {!Transform} transform Transform.\n * @param {number} x Scale factor x.\n * @param {number} y Scale factor y.\n * @return {!Transform} The scaled transform.\n */\nexport function scale(transform, x, y) {\n    return multiply(transform, set(tmp_, x, 0, 0, y, 0, 0));\n}\n/**\n * Creates a scale transform.\n * @param {!Transform} target Transform to overwrite.\n * @param {number} x Scale factor x.\n * @param {number} y Scale factor y.\n * @return {!Transform} The scale transform.\n */\nexport function makeScale(target, x, y) {\n    return set(target, x, 0, 0, y, 0, 0);\n}\n/**\n * Applies translation to the given transform.\n * @param {!Transform} transform Transform.\n * @param {number} dx Translation x.\n * @param {number} dy Translation y.\n * @return {!Transform} The translated transform.\n */\nexport function translate(transform, dx, dy) {\n    return multiply(transform, set(tmp_, 1, 0, 0, 1, dx, dy));\n}\n/**\n * Creates a composite transform given an initial translation, scale, rotation, and\n * final translation (in that order only, not commutative).\n * @param {!Transform} transform The transform (will be modified in place).\n * @param {number} dx1 Initial translation x.\n * @param {number} dy1 Initial translation y.\n * @param {number} sx Scale factor x.\n * @param {number} sy Scale factor y.\n * @param {number} angle Rotation (in counter-clockwise radians).\n * @param {number} dx2 Final translation x.\n * @param {number} dy2 Final translation y.\n * @return {!Transform} The composite transform.\n */\nexport function compose(transform, dx1, dy1, sx, sy, angle, dx2, dy2) {\n    var sin = Math.sin(angle);\n    var cos = Math.cos(angle);\n    transform[0] = sx * cos;\n    transform[1] = sy * sin;\n    transform[2] = -sx * sin;\n    transform[3] = sy * cos;\n    transform[4] = dx2 * sx * cos - dy2 * sx * sin + dx1;\n    transform[5] = dx2 * sy * sin + dy2 * sy * cos + dy1;\n    return transform;\n}\n/**\n * Creates a composite transform given an initial translation, scale, rotation, and\n * final translation (in that order only, not commutative). The resulting transform\n * string can be applied as `transform` porperty of an HTMLElement's style.\n * @param {number} dx1 Initial translation x.\n * @param {number} dy1 Initial translation y.\n * @param {number} sx Scale factor x.\n * @param {number} sy Scale factor y.\n * @param {number} angle Rotation (in counter-clockwise radians).\n * @param {number} dx2 Final translation x.\n * @param {number} dy2 Final translation y.\n * @return {string} The composite css transform.\n * @api\n */\nexport function composeCssTransform(dx1, dy1, sx, sy, angle, dx2, dy2) {\n    return toString(compose(create(), dx1, dy1, sx, sy, angle, dx2, dy2));\n}\n/**\n * Invert the given transform.\n * @param {!Transform} source The source transform to invert.\n * @return {!Transform} The inverted (source) transform.\n */\nexport function invert(source) {\n    return makeInverse(source, source);\n}\n/**\n * Invert the given transform.\n * @param {!Transform} target Transform to be set as the inverse of\n *     the source transform.\n * @param {!Transform} source The source transform to invert.\n * @return {!Transform} The inverted (target) transform.\n */\nexport function makeInverse(target, source) {\n    var det = determinant(source);\n    assert(det !== 0, 32); // Transformation matrix cannot be inverted\n    var a = source[0];\n    var b = source[1];\n    var c = source[2];\n    var d = source[3];\n    var e = source[4];\n    var f = source[5];\n    target[0] = d / det;\n    target[1] = -b / det;\n    target[2] = -c / det;\n    target[3] = a / det;\n    target[4] = (c * f - d * e) / det;\n    target[5] = -(a * f - b * e) / det;\n    return target;\n}\n/**\n * Returns the determinant of the given matrix.\n * @param {!Transform} mat Matrix.\n * @return {number} Determinant.\n */\nexport function determinant(mat) {\n    return mat[0] * mat[3] - mat[1] * mat[2];\n}\n/**\n * A string version of the transform.  This can be used\n * for CSS transforms.\n * @param {!Transform} mat Matrix.\n * @return {string} The transform as a string.\n */\nexport function toString(mat) {\n    return 'matrix(' + mat.join(', ') + ')';\n}\n//# sourceMappingURL=transform.js.map","/**\n * @module ol/extent/Corner\n */\n/**\n * Extent corner.\n * @enum {string}\n */\nexport default {\n    BOTTOM_LEFT: 'bottom-left',\n    BOTTOM_RIGHT: 'bottom-right',\n    TOP_LEFT: 'top-left',\n    TOP_RIGHT: 'top-right',\n};\n//# sourceMappingURL=Corner.js.map","/**\n * @module ol/extent/Relationship\n */\n/**\n * Relationship to an extent.\n * @enum {number}\n */\nexport default {\n    UNKNOWN: 0,\n    INTERSECTING: 1,\n    ABOVE: 2,\n    RIGHT: 4,\n    BELOW: 8,\n    LEFT: 16,\n};\n//# sourceMappingURL=Relationship.js.map","/**\n * @module ol/extent\n */\nimport Corner from './extent/Corner.js';\nimport Relationship from './extent/Relationship.js';\nimport { assert } from './asserts.js';\n/**\n * An array of numbers representing an extent: `[minx, miny, maxx, maxy]`.\n * @typedef {Array<number>} Extent\n * @api\n */\n/**\n * Build an extent that includes all given coordinates.\n *\n * @param {Array<import(\"./coordinate.js\").Coordinate>} coordinates Coordinates.\n * @return {Extent} Bounding extent.\n * @api\n */\nexport function boundingExtent(coordinates) {\n    var extent = createEmpty();\n    for (var i = 0, ii = coordinates.length; i < ii; ++i) {\n        extendCoordinate(extent, coordinates[i]);\n    }\n    return extent;\n}\n/**\n * @param {Array<number>} xs Xs.\n * @param {Array<number>} ys Ys.\n * @param {Extent=} opt_extent Destination extent.\n * @private\n * @return {Extent} Extent.\n */\nfunction _boundingExtentXYs(xs, ys, opt_extent) {\n    var minX = Math.min.apply(null, xs);\n    var minY = Math.min.apply(null, ys);\n    var maxX = Math.max.apply(null, xs);\n    var maxY = Math.max.apply(null, ys);\n    return createOrUpdate(minX, minY, maxX, maxY, opt_extent);\n}\n/**\n * Return extent increased by the provided value.\n * @param {Extent} extent Extent.\n * @param {number} value The amount by which the extent should be buffered.\n * @param {Extent=} opt_extent Extent.\n * @return {Extent} Extent.\n * @api\n */\nexport function buffer(extent, value, opt_extent) {\n    if (opt_extent) {\n        opt_extent[0] = extent[0] - value;\n        opt_extent[1] = extent[1] - value;\n        opt_extent[2] = extent[2] + value;\n        opt_extent[3] = extent[3] + value;\n        return opt_extent;\n    }\n    else {\n        return [\n            extent[0] - value,\n            extent[1] - value,\n            extent[2] + value,\n            extent[3] + value,\n        ];\n    }\n}\n/**\n * Creates a clone of an extent.\n *\n * @param {Extent} extent Extent to clone.\n * @param {Extent=} opt_extent Extent.\n * @return {Extent} The clone.\n */\nexport function clone(extent, opt_extent) {\n    if (opt_extent) {\n        opt_extent[0] = extent[0];\n        opt_extent[1] = extent[1];\n        opt_extent[2] = extent[2];\n        opt_extent[3] = extent[3];\n        return opt_extent;\n    }\n    else {\n        return extent.slice();\n    }\n}\n/**\n * @param {Extent} extent Extent.\n * @param {number} x X.\n * @param {number} y Y.\n * @return {number} Closest squared distance.\n */\nexport function closestSquaredDistanceXY(extent, x, y) {\n    var dx, dy;\n    if (x < extent[0]) {\n        dx = extent[0] - x;\n    }\n    else if (extent[2] < x) {\n        dx = x - extent[2];\n    }\n    else {\n        dx = 0;\n    }\n    if (y < extent[1]) {\n        dy = extent[1] - y;\n    }\n    else if (extent[3] < y) {\n        dy = y - extent[3];\n    }\n    else {\n        dy = 0;\n    }\n    return dx * dx + dy * dy;\n}\n/**\n * Check if the passed coordinate is contained or on the edge of the extent.\n *\n * @param {Extent} extent Extent.\n * @param {import(\"./coordinate.js\").Coordinate} coordinate Coordinate.\n * @return {boolean} The coordinate is contained in the extent.\n * @api\n */\nexport function containsCoordinate(extent, coordinate) {\n    return containsXY(extent, coordinate[0], coordinate[1]);\n}\n/**\n * Check if one extent contains another.\n *\n * An extent is deemed contained if it lies completely within the other extent,\n * including if they share one or more edges.\n *\n * @param {Extent} extent1 Extent 1.\n * @param {Extent} extent2 Extent 2.\n * @return {boolean} The second extent is contained by or on the edge of the\n *     first.\n * @api\n */\nexport function containsExtent(extent1, extent2) {\n    return (extent1[0] <= extent2[0] &&\n        extent2[2] <= extent1[2] &&\n        extent1[1] <= extent2[1] &&\n        extent2[3] <= extent1[3]);\n}\n/**\n * Check if the passed coordinate is contained or on the edge of the extent.\n *\n * @param {Extent} extent Extent.\n * @param {number} x X coordinate.\n * @param {number} y Y coordinate.\n * @return {boolean} The x, y values are contained in the extent.\n * @api\n */\nexport function containsXY(extent, x, y) {\n    return extent[0] <= x && x <= extent[2] && extent[1] <= y && y <= extent[3];\n}\n/**\n * Get the relationship between a coordinate and extent.\n * @param {Extent} extent The extent.\n * @param {import(\"./coordinate.js\").Coordinate} coordinate The coordinate.\n * @return {import(\"./extent/Relationship.js\").default} The relationship (bitwise compare with\n *     import(\"./extent/Relationship.js\").Relationship).\n */\nexport function coordinateRelationship(extent, coordinate) {\n    var minX = extent[0];\n    var minY = extent[1];\n    var maxX = extent[2];\n    var maxY = extent[3];\n    var x = coordinate[0];\n    var y = coordinate[1];\n    var relationship = Relationship.UNKNOWN;\n    if (x < minX) {\n        relationship = relationship | Relationship.LEFT;\n    }\n    else if (x > maxX) {\n        relationship = relationship | Relationship.RIGHT;\n    }\n    if (y < minY) {\n        relationship = relationship | Relationship.BELOW;\n    }\n    else if (y > maxY) {\n        relationship = relationship | Relationship.ABOVE;\n    }\n    if (relationship === Relationship.UNKNOWN) {\n        relationship = Relationship.INTERSECTING;\n    }\n    return relationship;\n}\n/**\n * Create an empty extent.\n * @return {Extent} Empty extent.\n * @api\n */\nexport function createEmpty() {\n    return [Infinity, Infinity, -Infinity, -Infinity];\n}\n/**\n * Create a new extent or update the provided extent.\n * @param {number} minX Minimum X.\n * @param {number} minY Minimum Y.\n * @param {number} maxX Maximum X.\n * @param {number} maxY Maximum Y.\n * @param {Extent=} opt_extent Destination extent.\n * @return {Extent} Extent.\n */\nexport function createOrUpdate(minX, minY, maxX, maxY, opt_extent) {\n    if (opt_extent) {\n        opt_extent[0] = minX;\n        opt_extent[1] = minY;\n        opt_extent[2] = maxX;\n        opt_extent[3] = maxY;\n        return opt_extent;\n    }\n    else {\n        return [minX, minY, maxX, maxY];\n    }\n}\n/**\n * Create a new empty extent or make the provided one empty.\n * @param {Extent=} opt_extent Extent.\n * @return {Extent} Extent.\n */\nexport function createOrUpdateEmpty(opt_extent) {\n    return createOrUpdate(Infinity, Infinity, -Infinity, -Infinity, opt_extent);\n}\n/**\n * @param {import(\"./coordinate.js\").Coordinate} coordinate Coordinate.\n * @param {Extent=} opt_extent Extent.\n * @return {Extent} Extent.\n */\nexport function createOrUpdateFromCoordinate(coordinate, opt_extent) {\n    var x = coordinate[0];\n    var y = coordinate[1];\n    return createOrUpdate(x, y, x, y, opt_extent);\n}\n/**\n * @param {Array<import(\"./coordinate.js\").Coordinate>} coordinates Coordinates.\n * @param {Extent=} opt_extent Extent.\n * @return {Extent} Extent.\n */\nexport function createOrUpdateFromCoordinates(coordinates, opt_extent) {\n    var extent = createOrUpdateEmpty(opt_extent);\n    return extendCoordinates(extent, coordinates);\n}\n/**\n * @param {Array<number>} flatCoordinates Flat coordinates.\n * @param {number} offset Offset.\n * @param {number} end End.\n * @param {number} stride Stride.\n * @param {Extent=} opt_extent Extent.\n * @return {Extent} Extent.\n */\nexport function createOrUpdateFromFlatCoordinates(flatCoordinates, offset, end, stride, opt_extent) {\n    var extent = createOrUpdateEmpty(opt_extent);\n    return extendFlatCoordinates(extent, flatCoordinates, offset, end, stride);\n}\n/**\n * @param {Array<Array<import(\"./coordinate.js\").Coordinate>>} rings Rings.\n * @param {Extent=} opt_extent Extent.\n * @return {Extent} Extent.\n */\nexport function createOrUpdateFromRings(rings, opt_extent) {\n    var extent = createOrUpdateEmpty(opt_extent);\n    return extendRings(extent, rings);\n}\n/**\n * Determine if two extents are equivalent.\n * @param {Extent} extent1 Extent 1.\n * @param {Extent} extent2 Extent 2.\n * @return {boolean} The two extents are equivalent.\n * @api\n */\nexport function equals(extent1, extent2) {\n    return (extent1[0] == extent2[0] &&\n        extent1[2] == extent2[2] &&\n        extent1[1] == extent2[1] &&\n        extent1[3] == extent2[3]);\n}\n/**\n * Determine if two extents are approximately equivalent.\n * @param {Extent} extent1 Extent 1.\n * @param {Extent} extent2 Extent 2.\n * @param {number} tolerance Tolerance in extent coordinate units.\n * @return {boolean} The two extents differ by less than the tolerance.\n */\nexport function approximatelyEquals(extent1, extent2, tolerance) {\n    return (Math.abs(extent1[0] - extent2[0]) < tolerance &&\n        Math.abs(extent1[2] - extent2[2]) < tolerance &&\n        Math.abs(extent1[1] - extent2[1]) < tolerance &&\n        Math.abs(extent1[3] - extent2[3]) < tolerance);\n}\n/**\n * Modify an extent to include another extent.\n * @param {Extent} extent1 The extent to be modified.\n * @param {Extent} extent2 The extent that will be included in the first.\n * @return {Extent} A reference to the first (extended) extent.\n * @api\n */\nexport function extend(extent1, extent2) {\n    if (extent2[0] < extent1[0]) {\n        extent1[0] = extent2[0];\n    }\n    if (extent2[2] > extent1[2]) {\n        extent1[2] = extent2[2];\n    }\n    if (extent2[1] < extent1[1]) {\n        extent1[1] = extent2[1];\n    }\n    if (extent2[3] > extent1[3]) {\n        extent1[3] = extent2[3];\n    }\n    return extent1;\n}\n/**\n * @param {Extent} extent Extent.\n * @param {import(\"./coordinate.js\").Coordinate} coordinate Coordinate.\n */\nexport function extendCoordinate(extent, coordinate) {\n    if (coordinate[0] < extent[0]) {\n        extent[0] = coordinate[0];\n    }\n    if (coordinate[0] > extent[2]) {\n        extent[2] = coordinate[0];\n    }\n    if (coordinate[1] < extent[1]) {\n        extent[1] = coordinate[1];\n    }\n    if (coordinate[1] > extent[3]) {\n        extent[3] = coordinate[1];\n    }\n}\n/**\n * @param {Extent} extent Extent.\n * @param {Array<import(\"./coordinate.js\").Coordinate>} coordinates Coordinates.\n * @return {Extent} Extent.\n */\nexport function extendCoordinates(extent, coordinates) {\n    for (var i = 0, ii = coordinates.length; i < ii; ++i) {\n        extendCoordinate(extent, coordinates[i]);\n    }\n    return extent;\n}\n/**\n * @param {Extent} extent Extent.\n * @param {Array<number>} flatCoordinates Flat coordinates.\n * @param {number} offset Offset.\n * @param {number} end End.\n * @param {number} stride Stride.\n * @return {Extent} Extent.\n */\nexport function extendFlatCoordinates(extent, flatCoordinates, offset, end, stride) {\n    for (; offset < end; offset += stride) {\n        extendXY(extent, flatCoordinates[offset], flatCoordinates[offset + 1]);\n    }\n    return extent;\n}\n/**\n * @param {Extent} extent Extent.\n * @param {Array<Array<import(\"./coordinate.js\").Coordinate>>} rings Rings.\n * @return {Extent} Extent.\n */\nexport function extendRings(extent, rings) {\n    for (var i = 0, ii = rings.length; i < ii; ++i) {\n        extendCoordinates(extent, rings[i]);\n    }\n    return extent;\n}\n/**\n * @param {Extent} extent Extent.\n * @param {number} x X.\n * @param {number} y Y.\n */\nexport function extendXY(extent, x, y) {\n    extent[0] = Math.min(extent[0], x);\n    extent[1] = Math.min(extent[1], y);\n    extent[2] = Math.max(extent[2], x);\n    extent[3] = Math.max(extent[3], y);\n}\n/**\n * This function calls `callback` for each corner of the extent. If the\n * callback returns a truthy value the function returns that value\n * immediately. Otherwise the function returns `false`.\n * @param {Extent} extent Extent.\n * @param {function(import(\"./coordinate.js\").Coordinate): S} callback Callback.\n * @return {S|boolean} Value.\n * @template S\n */\nexport function forEachCorner(extent, callback) {\n    var val;\n    val = callback(getBottomLeft(extent));\n    if (val) {\n        return val;\n    }\n    val = callback(getBottomRight(extent));\n    if (val) {\n        return val;\n    }\n    val = callback(getTopRight(extent));\n    if (val) {\n        return val;\n    }\n    val = callback(getTopLeft(extent));\n    if (val) {\n        return val;\n    }\n    return false;\n}\n/**\n * Get the size of an extent.\n * @param {Extent} extent Extent.\n * @return {number} Area.\n * @api\n */\nexport function getArea(extent) {\n    var area = 0;\n    if (!isEmpty(extent)) {\n        area = getWidth(extent) * getHeight(extent);\n    }\n    return area;\n}\n/**\n * Get the bottom left coordinate of an extent.\n * @param {Extent} extent Extent.\n * @return {import(\"./coordinate.js\").Coordinate} Bottom left coordinate.\n * @api\n */\nexport function getBottomLeft(extent) {\n    return [extent[0], extent[1]];\n}\n/**\n * Get the bottom right coordinate of an extent.\n * @param {Extent} extent Extent.\n * @return {import(\"./coordinate.js\").Coordinate} Bottom right coordinate.\n * @api\n */\nexport function getBottomRight(extent) {\n    return [extent[2], extent[1]];\n}\n/**\n * Get the center coordinate of an extent.\n * @param {Extent} extent Extent.\n * @return {import(\"./coordinate.js\").Coordinate} Center.\n * @api\n */\nexport function getCenter(extent) {\n    return [(extent[0] + extent[2]) / 2, (extent[1] + extent[3]) / 2];\n}\n/**\n * Get a corner coordinate of an extent.\n * @param {Extent} extent Extent.\n * @param {import(\"./extent/Corner.js\").default} corner Corner.\n * @return {import(\"./coordinate.js\").Coordinate} Corner coordinate.\n */\nexport function getCorner(extent, corner) {\n    var coordinate;\n    if (corner === Corner.BOTTOM_LEFT) {\n        coordinate = getBottomLeft(extent);\n    }\n    else if (corner === Corner.BOTTOM_RIGHT) {\n        coordinate = getBottomRight(extent);\n    }\n    else if (corner === Corner.TOP_LEFT) {\n        coordinate = getTopLeft(extent);\n    }\n    else if (corner === Corner.TOP_RIGHT) {\n        coordinate = getTopRight(extent);\n    }\n    else {\n        assert(false, 13); // Invalid corner\n    }\n    return coordinate;\n}\n/**\n * @param {Extent} extent1 Extent 1.\n * @param {Extent} extent2 Extent 2.\n * @return {number} Enlarged area.\n */\nexport function getEnlargedArea(extent1, extent2) {\n    var minX = Math.min(extent1[0], extent2[0]);\n    var minY = Math.min(extent1[1], extent2[1]);\n    var maxX = Math.max(extent1[2], extent2[2]);\n    var maxY = Math.max(extent1[3], extent2[3]);\n    return (maxX - minX) * (maxY - minY);\n}\n/**\n * @param {import(\"./coordinate.js\").Coordinate} center Center.\n * @param {number} resolution Resolution.\n * @param {number} rotation Rotation.\n * @param {import(\"./size.js\").Size} size Size.\n * @param {Extent=} opt_extent Destination extent.\n * @return {Extent} Extent.\n */\nexport function getForViewAndSize(center, resolution, rotation, size, opt_extent) {\n    var dx = (resolution * size[0]) / 2;\n    var dy = (resolution * size[1]) / 2;\n    var cosRotation = Math.cos(rotation);\n    var sinRotation = Math.sin(rotation);\n    var xCos = dx * cosRotation;\n    var xSin = dx * sinRotation;\n    var yCos = dy * cosRotation;\n    var ySin = dy * sinRotation;\n    var x = center[0];\n    var y = center[1];\n    var x0 = x - xCos + ySin;\n    var x1 = x - xCos - ySin;\n    var x2 = x + xCos - ySin;\n    var x3 = x + xCos + ySin;\n    var y0 = y - xSin - yCos;\n    var y1 = y - xSin + yCos;\n    var y2 = y + xSin + yCos;\n    var y3 = y + xSin - yCos;\n    return createOrUpdate(Math.min(x0, x1, x2, x3), Math.min(y0, y1, y2, y3), Math.max(x0, x1, x2, x3), Math.max(y0, y1, y2, y3), opt_extent);\n}\n/**\n * Get the height of an extent.\n * @param {Extent} extent Extent.\n * @return {number} Height.\n * @api\n */\nexport function getHeight(extent) {\n    return extent[3] - extent[1];\n}\n/**\n * @param {Extent} extent1 Extent 1.\n * @param {Extent} extent2 Extent 2.\n * @return {number} Intersection area.\n */\nexport function getIntersectionArea(extent1, extent2) {\n    var intersection = getIntersection(extent1, extent2);\n    return getArea(intersection);\n}\n/**\n * Get the intersection of two extents.\n * @param {Extent} extent1 Extent 1.\n * @param {Extent} extent2 Extent 2.\n * @param {Extent=} opt_extent Optional extent to populate with intersection.\n * @return {Extent} Intersecting extent.\n * @api\n */\nexport function getIntersection(extent1, extent2, opt_extent) {\n    var intersection = opt_extent ? opt_extent : createEmpty();\n    if (intersects(extent1, extent2)) {\n        if (extent1[0] > extent2[0]) {\n            intersection[0] = extent1[0];\n        }\n        else {\n            intersection[0] = extent2[0];\n        }\n        if (extent1[1] > extent2[1]) {\n            intersection[1] = extent1[1];\n        }\n        else {\n            intersection[1] = extent2[1];\n        }\n        if (extent1[2] < extent2[2]) {\n            intersection[2] = extent1[2];\n        }\n        else {\n            intersection[2] = extent2[2];\n        }\n        if (extent1[3] < extent2[3]) {\n            intersection[3] = extent1[3];\n        }\n        else {\n            intersection[3] = extent2[3];\n        }\n    }\n    else {\n        createOrUpdateEmpty(intersection);\n    }\n    return intersection;\n}\n/**\n * @param {Extent} extent Extent.\n * @return {number} Margin.\n */\nexport function getMargin(extent) {\n    return getWidth(extent) + getHeight(extent);\n}\n/**\n * Get the size (width, height) of an extent.\n * @param {Extent} extent The extent.\n * @return {import(\"./size.js\").Size} The extent size.\n * @api\n */\nexport function getSize(extent) {\n    return [extent[2] - extent[0], extent[3] - extent[1]];\n}\n/**\n * Get the top left coordinate of an extent.\n * @param {Extent} extent Extent.\n * @return {import(\"./coordinate.js\").Coordinate} Top left coordinate.\n * @api\n */\nexport function getTopLeft(extent) {\n    return [extent[0], extent[3]];\n}\n/**\n * Get the top right coordinate of an extent.\n * @param {Extent} extent Extent.\n * @return {import(\"./coordinate.js\").Coordinate} Top right coordinate.\n * @api\n */\nexport function getTopRight(extent) {\n    return [extent[2], extent[3]];\n}\n/**\n * Get the width of an extent.\n * @param {Extent} extent Extent.\n * @return {number} Width.\n * @api\n */\nexport function getWidth(extent) {\n    return extent[2] - extent[0];\n}\n/**\n * Determine if one extent intersects another.\n * @param {Extent} extent1 Extent 1.\n * @param {Extent} extent2 Extent.\n * @return {boolean} The two extents intersect.\n * @api\n */\nexport function intersects(extent1, extent2) {\n    return (extent1[0] <= extent2[2] &&\n        extent1[2] >= extent2[0] &&\n        extent1[1] <= extent2[3] &&\n        extent1[3] >= extent2[1]);\n}\n/**\n * Determine if an extent is empty.\n * @param {Extent} extent Extent.\n * @return {boolean} Is empty.\n * @api\n */\nexport function isEmpty(extent) {\n    return extent[2] < extent[0] || extent[3] < extent[1];\n}\n/**\n * @param {Extent} extent Extent.\n * @param {Extent=} opt_extent Extent.\n * @return {Extent} Extent.\n */\nexport function returnOrUpdate(extent, opt_extent) {\n    if (opt_extent) {\n        opt_extent[0] = extent[0];\n        opt_extent[1] = extent[1];\n        opt_extent[2] = extent[2];\n        opt_extent[3] = extent[3];\n        return opt_extent;\n    }\n    else {\n        return extent;\n    }\n}\n/**\n * @param {Extent} extent Extent.\n * @param {number} value Value.\n */\nexport function scaleFromCenter(extent, value) {\n    var deltaX = ((extent[2] - extent[0]) / 2) * (value - 1);\n    var deltaY = ((extent[3] - extent[1]) / 2) * (value - 1);\n    extent[0] -= deltaX;\n    extent[2] += deltaX;\n    extent[1] -= deltaY;\n    extent[3] += deltaY;\n}\n/**\n * Determine if the segment between two coordinates intersects (crosses,\n * touches, or is contained by) the provided extent.\n * @param {Extent} extent The extent.\n * @param {import(\"./coordinate.js\").Coordinate} start Segment start coordinate.\n * @param {import(\"./coordinate.js\").Coordinate} end Segment end coordinate.\n * @return {boolean} The segment intersects the extent.\n */\nexport function intersectsSegment(extent, start, end) {\n    var intersects = false;\n    var startRel = coordinateRelationship(extent, start);\n    var endRel = coordinateRelationship(extent, end);\n    if (startRel === Relationship.INTERSECTING ||\n        endRel === Relationship.INTERSECTING) {\n        intersects = true;\n    }\n    else {\n        var minX = extent[0];\n        var minY = extent[1];\n        var maxX = extent[2];\n        var maxY = extent[3];\n        var startX = start[0];\n        var startY = start[1];\n        var endX = end[0];\n        var endY = end[1];\n        var slope = (endY - startY) / (endX - startX);\n        var x = void 0, y = void 0;\n        if (!!(endRel & Relationship.ABOVE) && !(startRel & Relationship.ABOVE)) {\n            // potentially intersects top\n            x = endX - (endY - maxY) / slope;\n            intersects = x >= minX && x <= maxX;\n        }\n        if (!intersects &&\n            !!(endRel & Relationship.RIGHT) &&\n            !(startRel & Relationship.RIGHT)) {\n            // potentially intersects right\n            y = endY - (endX - maxX) * slope;\n            intersects = y >= minY && y <= maxY;\n        }\n        if (!intersects &&\n            !!(endRel & Relationship.BELOW) &&\n            !(startRel & Relationship.BELOW)) {\n            // potentially intersects bottom\n            x = endX - (endY - minY) / slope;\n            intersects = x >= minX && x <= maxX;\n        }\n        if (!intersects &&\n            !!(endRel & Relationship.LEFT) &&\n            !(startRel & Relationship.LEFT)) {\n            // potentially intersects left\n            y = endY - (endX - minX) * slope;\n            intersects = y >= minY && y <= maxY;\n        }\n    }\n    return intersects;\n}\n/**\n * Apply a transform function to the extent.\n * @param {Extent} extent Extent.\n * @param {import(\"./proj.js\").TransformFunction} transformFn Transform function.\n * Called with `[minX, minY, maxX, maxY]` extent coordinates.\n * @param {Extent=} opt_extent Destination extent.\n * @param {number=} opt_stops Number of stops per side used for the transform.\n * By default only the corners are used.\n * @return {Extent} Extent.\n * @api\n */\nexport function applyTransform(extent, transformFn, opt_extent, opt_stops) {\n    var coordinates = [];\n    if (opt_stops > 1) {\n        var width = extent[2] - extent[0];\n        var height = extent[3] - extent[1];\n        for (var i = 0; i < opt_stops; ++i) {\n            coordinates.push(extent[0] + (width * i) / opt_stops, extent[1], extent[2], extent[1] + (height * i) / opt_stops, extent[2] - (width * i) / opt_stops, extent[3], extent[0], extent[3] - (height * i) / opt_stops);\n        }\n    }\n    else {\n        coordinates = [\n            extent[0],\n            extent[1],\n            extent[2],\n            extent[1],\n            extent[2],\n            extent[3],\n            extent[0],\n            extent[3],\n        ];\n    }\n    transformFn(coordinates, coordinates, 2);\n    var xs = [];\n    var ys = [];\n    for (var i = 0, l = coordinates.length; i < l; i += 2) {\n        xs.push(coordinates[i]);\n        ys.push(coordinates[i + 1]);\n    }\n    return _boundingExtentXYs(xs, ys, opt_extent);\n}\n/**\n * Modifies the provided extent in-place to be within the real world\n * extent.\n *\n * @param {Extent} extent Extent.\n * @param {import(\"./proj/Projection.js\").default} projection Projection\n * @return {Extent} The extent within the real world extent.\n */\nexport function wrapX(extent, projection) {\n    var projectionExtent = projection.getExtent();\n    var center = getCenter(extent);\n    if (projection.canWrapX() &&\n        (center[0] < projectionExtent[0] || center[0] >= projectionExtent[2])) {\n        var worldWidth = getWidth(projectionExtent);\n        var worldsAway = Math.floor((center[0] - projectionExtent[0]) / worldWidth);\n        var offset = worldsAway * worldWidth;\n        extent[0] -= offset;\n        extent[2] -= offset;\n    }\n    return extent;\n}\n//# sourceMappingURL=extent.js.map","/**\n * @module ol/proj/Projection\n */\nimport { METERS_PER_UNIT } from './Units.js';\n/**\n * @typedef {Object} Options\n * @property {string} code The SRS identifier code, e.g. `EPSG:4326`.\n * @property {import(\"./Units.js\").default|string} [units] Units. Required unless a\n * proj4 projection is defined for `code`.\n * @property {import(\"../extent.js\").Extent} [extent] The validity extent for the SRS.\n * @property {string} [axisOrientation='enu'] The axis orientation as specified in Proj4.\n * @property {boolean} [global=false] Whether the projection is valid for the whole globe.\n * @property {number} [metersPerUnit] The meters per unit for the SRS.\n * If not provided, the `units` are used to get the meters per unit from the {@link module:ol/proj/Units~METERS_PER_UNIT}\n * lookup table.\n * @property {import(\"../extent.js\").Extent} [worldExtent] The world extent for the SRS.\n * @property {function(number, import(\"../coordinate.js\").Coordinate):number} [getPointResolution]\n * Function to determine resolution at a point. The function is called with a\n * `{number}` view resolution and an `{import(\"../coordinate.js\").Coordinate}` as arguments, and returns\n * the `{number}` resolution in projection units at the passed coordinate. If this is `undefined`,\n * the default {@link module:ol/proj#getPointResolution} function will be used.\n */\n/**\n * @classdesc\n * Projection definition class. One of these is created for each projection\n * supported in the application and stored in the {@link module:ol/proj} namespace.\n * You can use these in applications, but this is not required, as API params\n * and options use {@link module:ol/proj~ProjectionLike} which means the simple string\n * code will suffice.\n *\n * You can use {@link module:ol/proj~get} to retrieve the object for a particular\n * projection.\n *\n * The library includes definitions for `EPSG:4326` and `EPSG:3857`, together\n * with the following aliases:\n * * `EPSG:4326`: CRS:84, urn:ogc:def:crs:EPSG:6.6:4326,\n *     urn:ogc:def:crs:OGC:1.3:CRS84, urn:ogc:def:crs:OGC:2:84,\n *     http://www.opengis.net/gml/srs/epsg.xml#4326,\n *     urn:x-ogc:def:crs:EPSG:4326\n * * `EPSG:3857`: EPSG:102100, EPSG:102113, EPSG:900913,\n *     urn:ogc:def:crs:EPSG:6.18:3:3857,\n *     http://www.opengis.net/gml/srs/epsg.xml#3857\n *\n * If you use [proj4js](https://github.com/proj4js/proj4js), aliases can\n * be added using `proj4.defs()`. After all required projection definitions are\n * added, call the {@link module:ol/proj/proj4~register} function.\n *\n * @api\n */\nvar Projection = /** @class */ (function () {\n    /**\n     * @param {Options} options Projection options.\n     */\n    function Projection(options) {\n        /**\n         * @private\n         * @type {string}\n         */\n        this.code_ = options.code;\n        /**\n         * Units of projected coordinates. When set to `TILE_PIXELS`, a\n         * `this.extent_` and `this.worldExtent_` must be configured properly for each\n         * tile.\n         * @private\n         * @type {import(\"./Units.js\").default}\n         */\n        this.units_ = /** @type {import(\"./Units.js\").default} */ (options.units);\n        /**\n         * Validity extent of the projection in projected coordinates. For projections\n         * with `TILE_PIXELS` units, this is the extent of the tile in\n         * tile pixel space.\n         * @private\n         * @type {import(\"../extent.js\").Extent}\n         */\n        this.extent_ = options.extent !== undefined ? options.extent : null;\n        /**\n         * Extent of the world in EPSG:4326. For projections with\n         * `TILE_PIXELS` units, this is the extent of the tile in\n         * projected coordinate space.\n         * @private\n         * @type {import(\"../extent.js\").Extent}\n         */\n        this.worldExtent_ =\n            options.worldExtent !== undefined ? options.worldExtent : null;\n        /**\n         * @private\n         * @type {string}\n         */\n        this.axisOrientation_ =\n            options.axisOrientation !== undefined ? options.axisOrientation : 'enu';\n        /**\n         * @private\n         * @type {boolean}\n         */\n        this.global_ = options.global !== undefined ? options.global : false;\n        /**\n         * @private\n         * @type {boolean}\n         */\n        this.canWrapX_ = !!(this.global_ && this.extent_);\n        /**\n         * @private\n         * @type {function(number, import(\"../coordinate.js\").Coordinate):number|undefined}\n         */\n        this.getPointResolutionFunc_ = options.getPointResolution;\n        /**\n         * @private\n         * @type {import(\"../tilegrid/TileGrid.js\").default}\n         */\n        this.defaultTileGrid_ = null;\n        /**\n         * @private\n         * @type {number|undefined}\n         */\n        this.metersPerUnit_ = options.metersPerUnit;\n    }\n    /**\n     * @return {boolean} The projection is suitable for wrapping the x-axis\n     */\n    Projection.prototype.canWrapX = function () {\n        return this.canWrapX_;\n    };\n    /**\n     * Get the code for this projection, e.g. 'EPSG:4326'.\n     * @return {string} Code.\n     * @api\n     */\n    Projection.prototype.getCode = function () {\n        return this.code_;\n    };\n    /**\n     * Get the validity extent for this projection.\n     * @return {import(\"../extent.js\").Extent} Extent.\n     * @api\n     */\n    Projection.prototype.getExtent = function () {\n        return this.extent_;\n    };\n    /**\n     * Get the units of this projection.\n     * @return {import(\"./Units.js\").default} Units.\n     * @api\n     */\n    Projection.prototype.getUnits = function () {\n        return this.units_;\n    };\n    /**\n     * Get the amount of meters per unit of this projection.  If the projection is\n     * not configured with `metersPerUnit` or a units identifier, the return is\n     * `undefined`.\n     * @return {number|undefined} Meters.\n     * @api\n     */\n    Projection.prototype.getMetersPerUnit = function () {\n        return this.metersPerUnit_ || METERS_PER_UNIT[this.units_];\n    };\n    /**\n     * Get the world extent for this projection.\n     * @return {import(\"../extent.js\").Extent} Extent.\n     * @api\n     */\n    Projection.prototype.getWorldExtent = function () {\n        return this.worldExtent_;\n    };\n    /**\n     * Get the axis orientation of this projection.\n     * Example values are:\n     * enu - the default easting, northing, elevation.\n     * neu - northing, easting, up - useful for \"lat/long\" geographic coordinates,\n     *     or south orientated transverse mercator.\n     * wnu - westing, northing, up - some planetary coordinate systems have\n     *     \"west positive\" coordinate systems\n     * @return {string} Axis orientation.\n     * @api\n     */\n    Projection.prototype.getAxisOrientation = function () {\n        return this.axisOrientation_;\n    };\n    /**\n     * Is this projection a global projection which spans the whole world?\n     * @return {boolean} Whether the projection is global.\n     * @api\n     */\n    Projection.prototype.isGlobal = function () {\n        return this.global_;\n    };\n    /**\n     * Set if the projection is a global projection which spans the whole world\n     * @param {boolean} global Whether the projection is global.\n     * @api\n     */\n    Projection.prototype.setGlobal = function (global) {\n        this.global_ = global;\n        this.canWrapX_ = !!(global && this.extent_);\n    };\n    /**\n     * @return {import(\"../tilegrid/TileGrid.js\").default} The default tile grid.\n     */\n    Projection.prototype.getDefaultTileGrid = function () {\n        return this.defaultTileGrid_;\n    };\n    /**\n     * @param {import(\"../tilegrid/TileGrid.js\").default} tileGrid The default tile grid.\n     */\n    Projection.prototype.setDefaultTileGrid = function (tileGrid) {\n        this.defaultTileGrid_ = tileGrid;\n    };\n    /**\n     * Set the validity extent for this projection.\n     * @param {import(\"../extent.js\").Extent} extent Extent.\n     * @api\n     */\n    Projection.prototype.setExtent = function (extent) {\n        this.extent_ = extent;\n        this.canWrapX_ = !!(this.global_ && extent);\n    };\n    /**\n     * Set the world extent for this projection.\n     * @param {import(\"../extent.js\").Extent} worldExtent World extent\n     *     [minlon, minlat, maxlon, maxlat].\n     * @api\n     */\n    Projection.prototype.setWorldExtent = function (worldExtent) {\n        this.worldExtent_ = worldExtent;\n    };\n    /**\n     * Set the getPointResolution function (see {@link module:ol/proj~getPointResolution}\n     * for this projection.\n     * @param {function(number, import(\"../coordinate.js\").Coordinate):number} func Function\n     * @api\n     */\n    Projection.prototype.setGetPointResolution = function (func) {\n        this.getPointResolutionFunc_ = func;\n    };\n    /**\n     * Get the custom point resolution function for this projection (if set).\n     * @return {function(number, import(\"../coordinate.js\").Coordinate):number|undefined} The custom point\n     * resolution function (if set).\n     */\n    Projection.prototype.getPointResolutionFunc = function () {\n        return this.getPointResolutionFunc_;\n    };\n    return Projection;\n}());\nexport default Projection;\n//# sourceMappingURL=Projection.js.map","/**\n * @module ol/math\n */\n/**\n * Takes a number and clamps it to within the provided bounds.\n * @param {number} value The input number.\n * @param {number} min The minimum value to return.\n * @param {number} max The maximum value to return.\n * @return {number} The input number if it is within bounds, or the nearest\n *     number within the bounds.\n */\nexport function clamp(value, min, max) {\n    return Math.min(Math.max(value, min), max);\n}\n/**\n * Return the hyperbolic cosine of a given number. The method will use the\n * native `Math.cosh` function if it is available, otherwise the hyperbolic\n * cosine will be calculated via the reference implementation of the Mozilla\n * developer network.\n *\n * @param {number} x X.\n * @return {number} Hyperbolic cosine of x.\n */\nexport var cosh = (function () {\n    // Wrapped in a iife, to save the overhead of checking for the native\n    // implementation on every invocation.\n    var cosh;\n    if ('cosh' in Math) {\n        // The environment supports the native Math.cosh function, use it\n        cosh = Math.cosh;\n    }\n    else {\n        //  else, use the reference implementation of MDN:\n        cosh = function (x) {\n            var y = /** @type {Math} */ (Math).exp(x);\n            return (y + 1 / y) / 2;\n        };\n    }\n    return cosh;\n})();\n/**\n * Return the base 2 logarithm of a given number. The method will use the\n * native `Math.log2` function if it is available, otherwise the base 2\n * logarithm will be calculated via the reference implementation of the\n * Mozilla developer network.\n *\n * @param {number} x X.\n * @return {number} Base 2 logarithm of x.\n */\nexport var log2 = (function () {\n    // Wrapped in a iife, to save the overhead of checking for the native\n    // implementation on every invocation.\n    var log2;\n    if ('log2' in Math) {\n        // The environment supports the native Math.log2 function, use it\n        log2 = Math.log2;\n    }\n    else {\n        //  else, use the reference implementation of MDN:\n        log2 = function (x) {\n            return Math.log(x) * Math.LOG2E;\n        };\n    }\n    return log2;\n})();\n/**\n * Returns the square of the closest distance between the point (x, y) and the\n * line segment (x1, y1) to (x2, y2).\n * @param {number} x X.\n * @param {number} y Y.\n * @param {number} x1 X1.\n * @param {number} y1 Y1.\n * @param {number} x2 X2.\n * @param {number} y2 Y2.\n * @return {number} Squared distance.\n */\nexport function squaredSegmentDistance(x, y, x1, y1, x2, y2) {\n    var dx = x2 - x1;\n    var dy = y2 - y1;\n    if (dx !== 0 || dy !== 0) {\n        var t = ((x - x1) * dx + (y - y1) * dy) / (dx * dx + dy * dy);\n        if (t > 1) {\n            x1 = x2;\n            y1 = y2;\n        }\n        else if (t > 0) {\n            x1 += dx * t;\n            y1 += dy * t;\n        }\n    }\n    return squaredDistance(x, y, x1, y1);\n}\n/**\n * Returns the square of the distance between the points (x1, y1) and (x2, y2).\n * @param {number} x1 X1.\n * @param {number} y1 Y1.\n * @param {number} x2 X2.\n * @param {number} y2 Y2.\n * @return {number} Squared distance.\n */\nexport function squaredDistance(x1, y1, x2, y2) {\n    var dx = x2 - x1;\n    var dy = y2 - y1;\n    return dx * dx + dy * dy;\n}\n/**\n * Solves system of linear equations using Gaussian elimination method.\n *\n * @param {Array<Array<number>>} mat Augmented matrix (n x n + 1 column)\n *                                     in row-major order.\n * @return {Array<number>} The resulting vector.\n */\nexport function solveLinearSystem(mat) {\n    var n = mat.length;\n    for (var i = 0; i < n; i++) {\n        // Find max in the i-th column (ignoring i - 1 first rows)\n        var maxRow = i;\n        var maxEl = Math.abs(mat[i][i]);\n        for (var r = i + 1; r < n; r++) {\n            var absValue = Math.abs(mat[r][i]);\n            if (absValue > maxEl) {\n                maxEl = absValue;\n                maxRow = r;\n            }\n        }\n        if (maxEl === 0) {\n            return null; // matrix is singular\n        }\n        // Swap max row with i-th (current) row\n        var tmp = mat[maxRow];\n        mat[maxRow] = mat[i];\n        mat[i] = tmp;\n        // Subtract the i-th row to make all the remaining rows 0 in the i-th column\n        for (var j = i + 1; j < n; j++) {\n            var coef = -mat[j][i] / mat[i][i];\n            for (var k = i; k < n + 1; k++) {\n                if (i == k) {\n                    mat[j][k] = 0;\n                }\n                else {\n                    mat[j][k] += coef * mat[i][k];\n                }\n            }\n        }\n    }\n    // Solve Ax=b for upper triangular matrix A (mat)\n    var x = new Array(n);\n    for (var l = n - 1; l >= 0; l--) {\n        x[l] = mat[l][n] / mat[l][l];\n        for (var m = l - 1; m >= 0; m--) {\n            mat[m][n] -= mat[m][l] * x[l];\n        }\n    }\n    return x;\n}\n/**\n * Converts radians to to degrees.\n *\n * @param {number} angleInRadians Angle in radians.\n * @return {number} Angle in degrees.\n */\nexport function toDegrees(angleInRadians) {\n    return (angleInRadians * 180) / Math.PI;\n}\n/**\n * Converts degrees to radians.\n *\n * @param {number} angleInDegrees Angle in degrees.\n * @return {number} Angle in radians.\n */\nexport function toRadians(angleInDegrees) {\n    return (angleInDegrees * Math.PI) / 180;\n}\n/**\n * Returns the modulo of a / b, depending on the sign of b.\n *\n * @param {number} a Dividend.\n * @param {number} b Divisor.\n * @return {number} Modulo.\n */\nexport function modulo(a, b) {\n    var r = a % b;\n    return r * b < 0 ? r + b : r;\n}\n/**\n * Calculates the linearly interpolated value of x between a and b.\n *\n * @param {number} a Number\n * @param {number} b Number\n * @param {number} x Value to be interpolated.\n * @return {number} Interpolated value.\n */\nexport function lerp(a, b, x) {\n    return a + x * (b - a);\n}\n//# sourceMappingURL=math.js.map","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n/**\n * @module ol/proj/epsg3857\n */\nimport Projection from './Projection.js';\nimport Units from './Units.js';\nimport { cosh } from '../math.js';\n/**\n * Radius of WGS84 sphere\n *\n * @const\n * @type {number}\n */\nexport var RADIUS = 6378137;\n/**\n * @const\n * @type {number}\n */\nexport var HALF_SIZE = Math.PI * RADIUS;\n/**\n * @const\n * @type {import(\"../extent.js\").Extent}\n */\nexport var EXTENT = [-HALF_SIZE, -HALF_SIZE, HALF_SIZE, HALF_SIZE];\n/**\n * @const\n * @type {import(\"../extent.js\").Extent}\n */\nexport var WORLD_EXTENT = [-180, -85, 180, 85];\n/**\n * Maximum safe value in y direction\n * @const\n * @type {number}\n */\nexport var MAX_SAFE_Y = RADIUS * Math.log(Math.tan(Math.PI / 2));\n/**\n * @classdesc\n * Projection object for web/spherical Mercator (EPSG:3857).\n */\nvar EPSG3857Projection = /** @class */ (function (_super) {\n    __extends(EPSG3857Projection, _super);\n    /**\n     * @param {string} code Code.\n     */\n    function EPSG3857Projection(code) {\n        return _super.call(this, {\n            code: code,\n            units: Units.METERS,\n            extent: EXTENT,\n            global: true,\n            worldExtent: WORLD_EXTENT,\n            getPointResolution: function (resolution, point) {\n                return resolution / cosh(point[1] / RADIUS);\n            },\n        }) || this;\n    }\n    return EPSG3857Projection;\n}(Projection));\n/**\n * Projections equal to EPSG:3857.\n *\n * @const\n * @type {Array<import(\"./Projection.js\").default>}\n */\nexport var PROJECTIONS = [\n    new EPSG3857Projection('EPSG:3857'),\n    new EPSG3857Projection('EPSG:102100'),\n    new EPSG3857Projection('EPSG:102113'),\n    new EPSG3857Projection('EPSG:900913'),\n    new EPSG3857Projection('http://www.opengis.net/gml/srs/epsg.xml#3857'),\n];\n/**\n * Transformation from EPSG:4326 to EPSG:3857.\n *\n * @param {Array<number>} input Input array of coordinate values.\n * @param {Array<number>=} opt_output Output array of coordinate values.\n * @param {number=} opt_dimension Dimension (default is `2`).\n * @return {Array<number>} Output array of coordinate values.\n */\nexport function fromEPSG4326(input, opt_output, opt_dimension) {\n    var length = input.length;\n    var dimension = opt_dimension > 1 ? opt_dimension : 2;\n    var output = opt_output;\n    if (output === undefined) {\n        if (dimension > 2) {\n            // preserve values beyond second dimension\n            output = input.slice();\n        }\n        else {\n            output = new Array(length);\n        }\n    }\n    for (var i = 0; i < length; i += dimension) {\n        output[i] = (HALF_SIZE * input[i]) / 180;\n        var y = RADIUS * Math.log(Math.tan((Math.PI * (+input[i + 1] + 90)) / 360));\n        if (y > MAX_SAFE_Y) {\n            y = MAX_SAFE_Y;\n        }\n        else if (y < -MAX_SAFE_Y) {\n            y = -MAX_SAFE_Y;\n        }\n        output[i + 1] = y;\n    }\n    return output;\n}\n/**\n * Transformation from EPSG:3857 to EPSG:4326.\n *\n * @param {Array<number>} input Input array of coordinate values.\n * @param {Array<number>=} opt_output Output array of coordinate values.\n * @param {number=} opt_dimension Dimension (default is `2`).\n * @return {Array<number>} Output array of coordinate values.\n */\nexport function toEPSG4326(input, opt_output, opt_dimension) {\n    var length = input.length;\n    var dimension = opt_dimension > 1 ? opt_dimension : 2;\n    var output = opt_output;\n    if (output === undefined) {\n        if (dimension > 2) {\n            // preserve values beyond second dimension\n            output = input.slice();\n        }\n        else {\n            output = new Array(length);\n        }\n    }\n    for (var i = 0; i < length; i += dimension) {\n        output[i] = (180 * input[i]) / HALF_SIZE;\n        output[i + 1] =\n            (360 * Math.atan(Math.exp(input[i + 1] / RADIUS))) / Math.PI - 90;\n    }\n    return output;\n}\n//# sourceMappingURL=epsg3857.js.map","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n/**\n * @module ol/proj/epsg4326\n */\nimport Projection from './Projection.js';\nimport Units from './Units.js';\n/**\n * Semi-major radius of the WGS84 ellipsoid.\n *\n * @const\n * @type {number}\n */\nexport var RADIUS = 6378137;\n/**\n * Extent of the EPSG:4326 projection which is the whole world.\n *\n * @const\n * @type {import(\"../extent.js\").Extent}\n */\nexport var EXTENT = [-180, -90, 180, 90];\n/**\n * @const\n * @type {number}\n */\nexport var METERS_PER_UNIT = (Math.PI * RADIUS) / 180;\n/**\n * @classdesc\n * Projection object for WGS84 geographic coordinates (EPSG:4326).\n *\n * Note that OpenLayers does not strictly comply with the EPSG definition.\n * The EPSG registry defines 4326 as a CRS for Latitude,Longitude (y,x).\n * OpenLayers treats EPSG:4326 as a pseudo-projection, with x,y coordinates.\n */\nvar EPSG4326Projection = /** @class */ (function (_super) {\n    __extends(EPSG4326Projection, _super);\n    /**\n     * @param {string} code Code.\n     * @param {string=} opt_axisOrientation Axis orientation.\n     */\n    function EPSG4326Projection(code, opt_axisOrientation) {\n        return _super.call(this, {\n            code: code,\n            units: Units.DEGREES,\n            extent: EXTENT,\n            axisOrientation: opt_axisOrientation,\n            global: true,\n            metersPerUnit: METERS_PER_UNIT,\n            worldExtent: EXTENT,\n        }) || this;\n    }\n    return EPSG4326Projection;\n}(Projection));\n/**\n * Projections equal to EPSG:4326.\n *\n * @const\n * @type {Array<import(\"./Projection.js\").default>}\n */\nexport var PROJECTIONS = [\n    new EPSG4326Projection('CRS:84'),\n    new EPSG4326Projection('EPSG:4326', 'neu'),\n    new EPSG4326Projection('urn:ogc:def:crs:OGC:1.3:CRS84'),\n    new EPSG4326Projection('urn:ogc:def:crs:OGC:2:84'),\n    new EPSG4326Projection('http://www.opengis.net/gml/srs/epsg.xml#4326', 'neu'),\n];\n//# sourceMappingURL=epsg4326.js.map","/**\n * @module ol/proj/projections\n */\n/**\n * @type {Object<string, import(\"./Projection.js\").default>}\n */\nvar cache = {};\n/**\n * Clear the projections cache.\n */\nexport function clear() {\n    cache = {};\n}\n/**\n * Get a cached projection by code.\n * @param {string} code The code for the projection.\n * @return {import(\"./Projection.js\").default} The projection (if cached).\n */\nexport function get(code) {\n    return (cache[code] ||\n        cache[code.replace(/urn:(x-)?ogc:def:crs:EPSG:(.*:)?(\\w+)$/, 'EPSG:$3')] ||\n        null);\n}\n/**\n * Add a projection to the cache.\n * @param {string} code The projection code.\n * @param {import(\"./Projection.js\").default} projection The projection to cache.\n */\nexport function add(code, projection) {\n    cache[code] = projection;\n}\n//# sourceMappingURL=projections.js.map","/**\n * @module ol/proj/transforms\n */\nimport { isEmpty } from '../obj.js';\n/**\n * @private\n * @type {!Object<string, Object<string, import(\"../proj.js\").TransformFunction>>}\n */\nvar transforms = {};\n/**\n * Clear the transform cache.\n */\nexport function clear() {\n    transforms = {};\n}\n/**\n * Registers a conversion function to convert coordinates from the source\n * projection to the destination projection.\n *\n * @param {import(\"./Projection.js\").default} source Source.\n * @param {import(\"./Projection.js\").default} destination Destination.\n * @param {import(\"../proj.js\").TransformFunction} transformFn Transform.\n */\nexport function add(source, destination, transformFn) {\n    var sourceCode = source.getCode();\n    var destinationCode = destination.getCode();\n    if (!(sourceCode in transforms)) {\n        transforms[sourceCode] = {};\n    }\n    transforms[sourceCode][destinationCode] = transformFn;\n}\n/**\n * Unregisters the conversion function to convert coordinates from the source\n * projection to the destination projection.  This method is used to clean up\n * cached transforms during testing.\n *\n * @param {import(\"./Projection.js\").default} source Source projection.\n * @param {import(\"./Projection.js\").default} destination Destination projection.\n * @return {import(\"../proj.js\").TransformFunction} transformFn The unregistered transform.\n */\nexport function remove(source, destination) {\n    var sourceCode = source.getCode();\n    var destinationCode = destination.getCode();\n    var transform = transforms[sourceCode][destinationCode];\n    delete transforms[sourceCode][destinationCode];\n    if (isEmpty(transforms[sourceCode])) {\n        delete transforms[sourceCode];\n    }\n    return transform;\n}\n/**\n * Get a transform given a source code and a destination code.\n * @param {string} sourceCode The code for the source projection.\n * @param {string} destinationCode The code for the destination projection.\n * @return {import(\"../proj.js\").TransformFunction|undefined} The transform function (if found).\n */\nexport function get(sourceCode, destinationCode) {\n    var transform;\n    if (sourceCode in transforms && destinationCode in transforms[sourceCode]) {\n        transform = transforms[sourceCode][destinationCode];\n    }\n    return transform;\n}\n//# sourceMappingURL=transforms.js.map","/**\n * @module ol/sphere\n */\nimport GeometryType from './geom/GeometryType.js';\nimport { toDegrees, toRadians } from './math.js';\n/**\n * Object literal with options for the {@link getLength} or {@link getArea}\n * functions.\n * @typedef {Object} SphereMetricOptions\n * @property {import(\"./proj.js\").ProjectionLike} [projection='EPSG:3857']\n * Projection of the  geometry.  By default, the geometry is assumed to be in\n * Web Mercator.\n * @property {number} [radius=6371008.8] Sphere radius.  By default, the\n * [mean Earth radius](https://en.wikipedia.org/wiki/Earth_radius#Mean_radius)\n * for the WGS84 ellipsoid is used.\n */\n/**\n * The mean Earth radius (1/3 * (2a + b)) for the WGS84 ellipsoid.\n * https://en.wikipedia.org/wiki/Earth_radius#Mean_radius\n * @type {number}\n */\nexport var DEFAULT_RADIUS = 6371008.8;\n/**\n * Get the great circle distance (in meters) between two geographic coordinates.\n * @param {Array} c1 Starting coordinate.\n * @param {Array} c2 Ending coordinate.\n * @param {number=} opt_radius The sphere radius to use.  Defaults to the Earth's\n *     mean radius using the WGS84 ellipsoid.\n * @return {number} The great circle distance between the points (in meters).\n * @api\n */\nexport function getDistance(c1, c2, opt_radius) {\n    var radius = opt_radius || DEFAULT_RADIUS;\n    var lat1 = toRadians(c1[1]);\n    var lat2 = toRadians(c2[1]);\n    var deltaLatBy2 = (lat2 - lat1) / 2;\n    var deltaLonBy2 = toRadians(c2[0] - c1[0]) / 2;\n    var a = Math.sin(deltaLatBy2) * Math.sin(deltaLatBy2) +\n        Math.sin(deltaLonBy2) *\n            Math.sin(deltaLonBy2) *\n            Math.cos(lat1) *\n            Math.cos(lat2);\n    return 2 * radius * Math.atan2(Math.sqrt(a), Math.sqrt(1 - a));\n}\n/**\n * Get the cumulative great circle length of linestring coordinates (geographic).\n * @param {Array} coordinates Linestring coordinates.\n * @param {number} radius The sphere radius to use.\n * @return {number} The length (in meters).\n */\nfunction getLengthInternal(coordinates, radius) {\n    var length = 0;\n    for (var i = 0, ii = coordinates.length; i < ii - 1; ++i) {\n        length += getDistance(coordinates[i], coordinates[i + 1], radius);\n    }\n    return length;\n}\n/**\n * Get the spherical length of a geometry.  This length is the sum of the\n * great circle distances between coordinates.  For polygons, the length is\n * the sum of all rings.  For points, the length is zero.  For multi-part\n * geometries, the length is the sum of the length of each part.\n * @param {import(\"./geom/Geometry.js\").default} geometry A geometry.\n * @param {SphereMetricOptions=} opt_options Options for the\n * length calculation.  By default, geometries are assumed to be in 'EPSG:3857'.\n * You can change this by providing a `projection` option.\n * @return {number} The spherical length (in meters).\n * @api\n */\nexport function getLength(geometry, opt_options) {\n    var options = opt_options || {};\n    var radius = options.radius || DEFAULT_RADIUS;\n    var projection = options.projection || 'EPSG:3857';\n    var type = geometry.getType();\n    if (type !== GeometryType.GEOMETRY_COLLECTION) {\n        geometry = geometry.clone().transform(projection, 'EPSG:4326');\n    }\n    var length = 0;\n    var coordinates, coords, i, ii, j, jj;\n    switch (type) {\n        case GeometryType.POINT:\n        case GeometryType.MULTI_POINT: {\n            break;\n        }\n        case GeometryType.LINE_STRING:\n        case GeometryType.LINEAR_RING: {\n            coordinates = /** @type {import(\"./geom/SimpleGeometry.js\").default} */ (geometry).getCoordinates();\n            length = getLengthInternal(coordinates, radius);\n            break;\n        }\n        case GeometryType.MULTI_LINE_STRING:\n        case GeometryType.POLYGON: {\n            coordinates = /** @type {import(\"./geom/SimpleGeometry.js\").default} */ (geometry).getCoordinates();\n            for (i = 0, ii = coordinates.length; i < ii; ++i) {\n                length += getLengthInternal(coordinates[i], radius);\n            }\n            break;\n        }\n        case GeometryType.MULTI_POLYGON: {\n            coordinates = /** @type {import(\"./geom/SimpleGeometry.js\").default} */ (geometry).getCoordinates();\n            for (i = 0, ii = coordinates.length; i < ii; ++i) {\n                coords = coordinates[i];\n                for (j = 0, jj = coords.length; j < jj; ++j) {\n                    length += getLengthInternal(coords[j], radius);\n                }\n            }\n            break;\n        }\n        case GeometryType.GEOMETRY_COLLECTION: {\n            var geometries = /** @type {import(\"./geom/GeometryCollection.js\").default} */ (geometry).getGeometries();\n            for (i = 0, ii = geometries.length; i < ii; ++i) {\n                length += getLength(geometries[i], opt_options);\n            }\n            break;\n        }\n        default: {\n            throw new Error('Unsupported geometry type: ' + type);\n        }\n    }\n    return length;\n}\n/**\n * Returns the spherical area for a list of coordinates.\n *\n * [Reference](https://trs-new.jpl.nasa.gov/handle/2014/40409)\n * Robert. G. Chamberlain and William H. Duquette, \"Some Algorithms for\n * Polygons on a Sphere\", JPL Publication 07-03, Jet Propulsion\n * Laboratory, Pasadena, CA, June 2007\n *\n * @param {Array<import(\"./coordinate.js\").Coordinate>} coordinates List of coordinates of a linear\n * ring. If the ring is oriented clockwise, the area will be positive,\n * otherwise it will be negative.\n * @param {number} radius The sphere radius.\n * @return {number} Area (in square meters).\n */\nfunction getAreaInternal(coordinates, radius) {\n    var area = 0;\n    var len = coordinates.length;\n    var x1 = coordinates[len - 1][0];\n    var y1 = coordinates[len - 1][1];\n    for (var i = 0; i < len; i++) {\n        var x2 = coordinates[i][0];\n        var y2 = coordinates[i][1];\n        area +=\n            toRadians(x2 - x1) *\n                (2 + Math.sin(toRadians(y1)) + Math.sin(toRadians(y2)));\n        x1 = x2;\n        y1 = y2;\n    }\n    return (area * radius * radius) / 2.0;\n}\n/**\n * Get the spherical area of a geometry.  This is the area (in meters) assuming\n * that polygon edges are segments of great circles on a sphere.\n * @param {import(\"./geom/Geometry.js\").default} geometry A geometry.\n * @param {SphereMetricOptions=} opt_options Options for the area\n *     calculation.  By default, geometries are assumed to be in 'EPSG:3857'.\n *     You can change this by providing a `projection` option.\n * @return {number} The spherical area (in square meters).\n * @api\n */\nexport function getArea(geometry, opt_options) {\n    var options = opt_options || {};\n    var radius = options.radius || DEFAULT_RADIUS;\n    var projection = options.projection || 'EPSG:3857';\n    var type = geometry.getType();\n    if (type !== GeometryType.GEOMETRY_COLLECTION) {\n        geometry = geometry.clone().transform(projection, 'EPSG:4326');\n    }\n    var area = 0;\n    var coordinates, coords, i, ii, j, jj;\n    switch (type) {\n        case GeometryType.POINT:\n        case GeometryType.MULTI_POINT:\n        case GeometryType.LINE_STRING:\n        case GeometryType.MULTI_LINE_STRING:\n        case GeometryType.LINEAR_RING: {\n            break;\n        }\n        case GeometryType.POLYGON: {\n            coordinates = /** @type {import(\"./geom/Polygon.js\").default} */ (geometry).getCoordinates();\n            area = Math.abs(getAreaInternal(coordinates[0], radius));\n            for (i = 1, ii = coordinates.length; i < ii; ++i) {\n                area -= Math.abs(getAreaInternal(coordinates[i], radius));\n            }\n            break;\n        }\n        case GeometryType.MULTI_POLYGON: {\n            coordinates = /** @type {import(\"./geom/SimpleGeometry.js\").default} */ (geometry).getCoordinates();\n            for (i = 0, ii = coordinates.length; i < ii; ++i) {\n                coords = coordinates[i];\n                area += Math.abs(getAreaInternal(coords[0], radius));\n                for (j = 1, jj = coords.length; j < jj; ++j) {\n                    area -= Math.abs(getAreaInternal(coords[j], radius));\n                }\n            }\n            break;\n        }\n        case GeometryType.GEOMETRY_COLLECTION: {\n            var geometries = /** @type {import(\"./geom/GeometryCollection.js\").default} */ (geometry).getGeometries();\n            for (i = 0, ii = geometries.length; i < ii; ++i) {\n                area += getArea(geometries[i], opt_options);\n            }\n            break;\n        }\n        default: {\n            throw new Error('Unsupported geometry type: ' + type);\n        }\n    }\n    return area;\n}\n/**\n * Returns the coordinate at the given distance and bearing from `c1`.\n *\n * @param {import(\"./coordinate.js\").Coordinate} c1 The origin point (`[lon, lat]` in degrees).\n * @param {number} distance The great-circle distance between the origin\n *     point and the target point.\n * @param {number} bearing The bearing (in radians).\n * @param {number=} opt_radius The sphere radius to use.  Defaults to the Earth's\n *     mean radius using the WGS84 ellipsoid.\n * @return {import(\"./coordinate.js\").Coordinate} The target point.\n */\nexport function offset(c1, distance, bearing, opt_radius) {\n    var radius = opt_radius || DEFAULT_RADIUS;\n    var lat1 = toRadians(c1[1]);\n    var lon1 = toRadians(c1[0]);\n    var dByR = distance / radius;\n    var lat = Math.asin(Math.sin(lat1) * Math.cos(dByR) +\n        Math.cos(lat1) * Math.sin(dByR) * Math.cos(bearing));\n    var lon = lon1 +\n        Math.atan2(Math.sin(bearing) * Math.sin(dByR) * Math.cos(lat1), Math.cos(dByR) - Math.sin(lat1) * Math.sin(lat));\n    return [toDegrees(lon), toDegrees(lat)];\n}\n//# sourceMappingURL=sphere.js.map","/**\n * @module ol/string\n */\n/**\n * @param {number} number Number to be formatted\n * @param {number} width The desired width\n * @param {number=} opt_precision Precision of the output string (i.e. number of decimal places)\n * @returns {string} Formatted string\n */\nexport function padNumber(number, width, opt_precision) {\n    var numberString = opt_precision !== undefined ? number.toFixed(opt_precision) : '' + number;\n    var decimal = numberString.indexOf('.');\n    decimal = decimal === -1 ? numberString.length : decimal;\n    return decimal > width\n        ? numberString\n        : new Array(1 + width - decimal).join('0') + numberString;\n}\n/**\n * Adapted from https://github.com/omichelsen/compare-versions/blob/master/index.js\n * @param {string|number} v1 First version\n * @param {string|number} v2 Second version\n * @returns {number} Value\n */\nexport function compareVersions(v1, v2) {\n    var s1 = ('' + v1).split('.');\n    var s2 = ('' + v2).split('.');\n    for (var i = 0; i < Math.max(s1.length, s2.length); i++) {\n        var n1 = parseInt(s1[i] || '0', 10);\n        var n2 = parseInt(s2[i] || '0', 10);\n        if (n1 > n2) {\n            return 1;\n        }\n        if (n2 > n1) {\n            return -1;\n        }\n    }\n    return 0;\n}\n//# sourceMappingURL=string.js.map","/**\n * @module ol/coordinate\n */\nimport { getWidth } from './extent.js';\nimport { modulo } from './math.js';\nimport { padNumber } from './string.js';\n/**\n * An array of numbers representing an xy coordinate. Example: `[16, 48]`.\n * @typedef {Array<number>} Coordinate\n * @api\n */\n/**\n * A function that takes a {@link module:ol/coordinate~Coordinate} and\n * transforms it into a `{string}`.\n *\n * @typedef {function((Coordinate|undefined)): string} CoordinateFormat\n * @api\n */\n/**\n * Add `delta` to `coordinate`. `coordinate` is modified in place and returned\n * by the function.\n *\n * Example:\n *\n *     import {add} from 'ol/coordinate';\n *\n *     var coord = [7.85, 47.983333];\n *     add(coord, [-2, 4]);\n *     // coord is now [5.85, 51.983333]\n *\n * @param {Coordinate} coordinate Coordinate.\n * @param {Coordinate} delta Delta.\n * @return {Coordinate} The input coordinate adjusted by\n * the given delta.\n * @api\n */\nexport function add(coordinate, delta) {\n    coordinate[0] += +delta[0];\n    coordinate[1] += +delta[1];\n    return coordinate;\n}\n/**\n * Calculates the point closest to the passed coordinate on the passed circle.\n *\n * @param {Coordinate} coordinate The coordinate.\n * @param {import(\"./geom/Circle.js\").default} circle The circle.\n * @return {Coordinate} Closest point on the circumference.\n */\nexport function closestOnCircle(coordinate, circle) {\n    var r = circle.getRadius();\n    var center = circle.getCenter();\n    var x0 = center[0];\n    var y0 = center[1];\n    var x1 = coordinate[0];\n    var y1 = coordinate[1];\n    var dx = x1 - x0;\n    var dy = y1 - y0;\n    if (dx === 0 && dy === 0) {\n        dx = 1;\n    }\n    var d = Math.sqrt(dx * dx + dy * dy);\n    var x = x0 + (r * dx) / d;\n    var y = y0 + (r * dy) / d;\n    return [x, y];\n}\n/**\n * Calculates the point closest to the passed coordinate on the passed segment.\n * This is the foot of the perpendicular of the coordinate to the segment when\n * the foot is on the segment, or the closest segment coordinate when the foot\n * is outside the segment.\n *\n * @param {Coordinate} coordinate The coordinate.\n * @param {Array<Coordinate>} segment The two coordinates\n * of the segment.\n * @return {Coordinate} The foot of the perpendicular of\n * the coordinate to the segment.\n */\nexport function closestOnSegment(coordinate, segment) {\n    var x0 = coordinate[0];\n    var y0 = coordinate[1];\n    var start = segment[0];\n    var end = segment[1];\n    var x1 = start[0];\n    var y1 = start[1];\n    var x2 = end[0];\n    var y2 = end[1];\n    var dx = x2 - x1;\n    var dy = y2 - y1;\n    var along = dx === 0 && dy === 0\n        ? 0\n        : (dx * (x0 - x1) + dy * (y0 - y1)) / (dx * dx + dy * dy || 0);\n    var x, y;\n    if (along <= 0) {\n        x = x1;\n        y = y1;\n    }\n    else if (along >= 1) {\n        x = x2;\n        y = y2;\n    }\n    else {\n        x = x1 + along * dx;\n        y = y1 + along * dy;\n    }\n    return [x, y];\n}\n/**\n * Returns a {@link module:ol/coordinate~CoordinateFormat} function that can be\n * used to format\n * a {Coordinate} to a string.\n *\n * Example without specifying the fractional digits:\n *\n *     import {createStringXY} from 'ol/coordinate';\n *\n *     var coord = [7.85, 47.983333];\n *     var stringifyFunc = createStringXY();\n *     var out = stringifyFunc(coord);\n *     // out is now '8, 48'\n *\n * Example with explicitly specifying 2 fractional digits:\n *\n *     import {createStringXY} from 'ol/coordinate';\n *\n *     var coord = [7.85, 47.983333];\n *     var stringifyFunc = createStringXY(2);\n *     var out = stringifyFunc(coord);\n *     // out is now '7.85, 47.98'\n *\n * @param {number=} opt_fractionDigits The number of digits to include\n *    after the decimal point. Default is `0`.\n * @return {CoordinateFormat} Coordinate format.\n * @api\n */\nexport function createStringXY(opt_fractionDigits) {\n    return (\n    /**\n     * @param {Coordinate} coordinate Coordinate.\n     * @return {string} String XY.\n     */\n    function (coordinate) {\n        return toStringXY(coordinate, opt_fractionDigits);\n    });\n}\n/**\n * @param {string} hemispheres Hemispheres.\n * @param {number} degrees Degrees.\n * @param {number=} opt_fractionDigits The number of digits to include\n *    after the decimal point. Default is `0`.\n * @return {string} String.\n */\nexport function degreesToStringHDMS(hemispheres, degrees, opt_fractionDigits) {\n    var normalizedDegrees = modulo(degrees + 180, 360) - 180;\n    var x = Math.abs(3600 * normalizedDegrees);\n    var dflPrecision = opt_fractionDigits || 0;\n    var precision = Math.pow(10, dflPrecision);\n    var deg = Math.floor(x / 3600);\n    var min = Math.floor((x - deg * 3600) / 60);\n    var sec = x - deg * 3600 - min * 60;\n    sec = Math.ceil(sec * precision) / precision;\n    if (sec >= 60) {\n        sec = 0;\n        min += 1;\n    }\n    if (min >= 60) {\n        min = 0;\n        deg += 1;\n    }\n    return (deg +\n        '\\u00b0 ' +\n        padNumber(min, 2) +\n        '\\u2032 ' +\n        padNumber(sec, 2, dflPrecision) +\n        '\\u2033' +\n        (normalizedDegrees == 0\n            ? ''\n            : ' ' + hemispheres.charAt(normalizedDegrees < 0 ? 1 : 0)));\n}\n/**\n * Transforms the given {@link module:ol/coordinate~Coordinate} to a string\n * using the given string template. The strings `{x}` and `{y}` in the template\n * will be replaced with the first and second coordinate values respectively.\n *\n * Example without specifying the fractional digits:\n *\n *     import {format} from 'ol/coordinate';\n *\n *     var coord = [7.85, 47.983333];\n *     var template = 'Coordinate is ({x}|{y}).';\n *     var out = format(coord, template);\n *     // out is now 'Coordinate is (8|48).'\n *\n * Example explicitly specifying the fractional digits:\n *\n *     import {format} from 'ol/coordinate';\n *\n *     var coord = [7.85, 47.983333];\n *     var template = 'Coordinate is ({x}|{y}).';\n *     var out = format(coord, template, 2);\n *     // out is now 'Coordinate is (7.85|47.98).'\n *\n * @param {Coordinate} coordinate Coordinate.\n * @param {string} template A template string with `{x}` and `{y}` placeholders\n *     that will be replaced by first and second coordinate values.\n * @param {number=} opt_fractionDigits The number of digits to include\n *    after the decimal point. Default is `0`.\n * @return {string} Formatted coordinate.\n * @api\n */\nexport function format(coordinate, template, opt_fractionDigits) {\n    if (coordinate) {\n        return template\n            .replace('{x}', coordinate[0].toFixed(opt_fractionDigits))\n            .replace('{y}', coordinate[1].toFixed(opt_fractionDigits));\n    }\n    else {\n        return '';\n    }\n}\n/**\n * @param {Coordinate} coordinate1 First coordinate.\n * @param {Coordinate} coordinate2 Second coordinate.\n * @return {boolean} The two coordinates are equal.\n */\nexport function equals(coordinate1, coordinate2) {\n    var equals = true;\n    for (var i = coordinate1.length - 1; i >= 0; --i) {\n        if (coordinate1[i] != coordinate2[i]) {\n            equals = false;\n            break;\n        }\n    }\n    return equals;\n}\n/**\n * Rotate `coordinate` by `angle`. `coordinate` is modified in place and\n * returned by the function.\n *\n * Example:\n *\n *     import {rotate} from 'ol/coordinate';\n *\n *     var coord = [7.85, 47.983333];\n *     var rotateRadians = Math.PI / 2; // 90 degrees\n *     rotate(coord, rotateRadians);\n *     // coord is now [-47.983333, 7.85]\n *\n * @param {Coordinate} coordinate Coordinate.\n * @param {number} angle Angle in radian.\n * @return {Coordinate} Coordinate.\n * @api\n */\nexport function rotate(coordinate, angle) {\n    var cosAngle = Math.cos(angle);\n    var sinAngle = Math.sin(angle);\n    var x = coordinate[0] * cosAngle - coordinate[1] * sinAngle;\n    var y = coordinate[1] * cosAngle + coordinate[0] * sinAngle;\n    coordinate[0] = x;\n    coordinate[1] = y;\n    return coordinate;\n}\n/**\n * Scale `coordinate` by `scale`. `coordinate` is modified in place and returned\n * by the function.\n *\n * Example:\n *\n *     import {scale as scaleCoordinate} from 'ol/coordinate';\n *\n *     var coord = [7.85, 47.983333];\n *     var scale = 1.2;\n *     scaleCoordinate(coord, scale);\n *     // coord is now [9.42, 57.5799996]\n *\n * @param {Coordinate} coordinate Coordinate.\n * @param {number} scale Scale factor.\n * @return {Coordinate} Coordinate.\n */\nexport function scale(coordinate, scale) {\n    coordinate[0] *= scale;\n    coordinate[1] *= scale;\n    return coordinate;\n}\n/**\n * @param {Coordinate} coord1 First coordinate.\n * @param {Coordinate} coord2 Second coordinate.\n * @return {number} Squared distance between coord1 and coord2.\n */\nexport function squaredDistance(coord1, coord2) {\n    var dx = coord1[0] - coord2[0];\n    var dy = coord1[1] - coord2[1];\n    return dx * dx + dy * dy;\n}\n/**\n * @param {Coordinate} coord1 First coordinate.\n * @param {Coordinate} coord2 Second coordinate.\n * @return {number} Distance between coord1 and coord2.\n */\nexport function distance(coord1, coord2) {\n    return Math.sqrt(squaredDistance(coord1, coord2));\n}\n/**\n * Calculate the squared distance from a coordinate to a line segment.\n *\n * @param {Coordinate} coordinate Coordinate of the point.\n * @param {Array<Coordinate>} segment Line segment (2\n * coordinates).\n * @return {number} Squared distance from the point to the line segment.\n */\nexport function squaredDistanceToSegment(coordinate, segment) {\n    return squaredDistance(coordinate, closestOnSegment(coordinate, segment));\n}\n/**\n * Format a geographic coordinate with the hemisphere, degrees, minutes, and\n * seconds.\n *\n * Example without specifying fractional digits:\n *\n *     import {toStringHDMS} from 'ol/coordinate';\n *\n *     var coord = [7.85, 47.983333];\n *     var out = toStringHDMS(coord);\n *     // out is now '47 58 60 N 7 50 60 E'\n *\n * Example explicitly specifying 1 fractional digit:\n *\n *     import {toStringHDMS} from 'ol/coordinate';\n *\n *     var coord = [7.85, 47.983333];\n *     var out = toStringHDMS(coord, 1);\n *     // out is now '47 58 60.0 N 7 50 60.0 E'\n *\n * @param {Coordinate} coordinate Coordinate.\n * @param {number=} opt_fractionDigits The number of digits to include\n *    after the decimal point. Default is `0`.\n * @return {string} Hemisphere, degrees, minutes and seconds.\n * @api\n */\nexport function toStringHDMS(coordinate, opt_fractionDigits) {\n    if (coordinate) {\n        return (degreesToStringHDMS('NS', coordinate[1], opt_fractionDigits) +\n            ' ' +\n            degreesToStringHDMS('EW', coordinate[0], opt_fractionDigits));\n    }\n    else {\n        return '';\n    }\n}\n/**\n * Format a coordinate as a comma delimited string.\n *\n * Example without specifying fractional digits:\n *\n *     import {toStringXY} from 'ol/coordinate';\n *\n *     var coord = [7.85, 47.983333];\n *     var out = toStringXY(coord);\n *     // out is now '8, 48'\n *\n * Example explicitly specifying 1 fractional digit:\n *\n *     import {toStringXY} from 'ol/coordinate';\n *\n *     var coord = [7.85, 47.983333];\n *     var out = toStringXY(coord, 1);\n *     // out is now '7.8, 48.0'\n *\n * @param {Coordinate} coordinate Coordinate.\n * @param {number=} opt_fractionDigits The number of digits to include\n *    after the decimal point. Default is `0`.\n * @return {string} XY.\n * @api\n */\nexport function toStringXY(coordinate, opt_fractionDigits) {\n    return format(coordinate, '{x}, {y}', opt_fractionDigits);\n}\n/**\n * Modifies the provided coordinate in-place to be within the real world\n * extent. The lower projection extent boundary is inclusive, the upper one\n * exclusive.\n *\n * @param {Coordinate} coordinate Coordinate.\n * @param {import(\"./proj/Projection.js\").default} projection Projection.\n * @return {Coordinate} The coordinate within the real world extent.\n */\nexport function wrapX(coordinate, projection) {\n    if (projection.canWrapX()) {\n        var worldWidth = getWidth(projection.getExtent());\n        var worldsAway = getWorldsAway(coordinate, projection, worldWidth);\n        if (worldsAway) {\n            coordinate[0] -= worldsAway * worldWidth;\n        }\n    }\n    return coordinate;\n}\n/**\n * @param {Coordinate} coordinate Coordinate.\n * @param {import(\"./proj/Projection.js\").default} projection Projection.\n * @param {number=} opt_sourceExtentWidth Width of the source extent.\n * @return {number} Offset in world widths.\n */\nexport function getWorldsAway(coordinate, projection, opt_sourceExtentWidth) {\n    var projectionExtent = projection.getExtent();\n    var worldsAway = 0;\n    if (projection.canWrapX() &&\n        (coordinate[0] < projectionExtent[0] || coordinate[0] > projectionExtent[2])) {\n        var sourceExtentWidth = opt_sourceExtentWidth || getWidth(projectionExtent);\n        worldsAway = Math.floor((coordinate[0] - projectionExtent[0]) / sourceExtentWidth);\n    }\n    return worldsAway;\n}\n//# sourceMappingURL=coordinate.js.map","/**\n * @module ol/proj\n */\n/**\n * The ol/proj module stores:\n * * a list of {@link module:ol/proj/Projection}\n * objects, one for each projection supported by the application\n * * a list of transform functions needed to convert coordinates in one projection\n * into another.\n *\n * The static functions are the methods used to maintain these.\n * Each transform function can handle not only simple coordinate pairs, but also\n * large arrays of coordinates such as vector geometries.\n *\n * When loaded, the library adds projection objects for EPSG:4326 (WGS84\n * geographic coordinates) and EPSG:3857 (Web or Spherical Mercator, as used\n * for example by Bing Maps or OpenStreetMap), together with the relevant\n * transform functions.\n *\n * Additional transforms may be added by using the http://proj4js.org/\n * library (version 2.2 or later). You can use the full build supplied by\n * Proj4js, or create a custom build to support those projections you need; see\n * the Proj4js website for how to do this. You also need the Proj4js definitions\n * for the required projections. These definitions can be obtained from\n * https://epsg.io/, and are a JS function, so can be loaded in a script\n * tag (as in the examples) or pasted into your application.\n *\n * After all required projection definitions are added to proj4's registry (by\n * using `proj4.defs()`), simply call `register(proj4)` from the `ol/proj/proj4`\n * package. Existing transforms are not changed by this function. See\n * examples/wms-image-custom-proj for an example of this.\n *\n * Additional projection definitions can be registered with `proj4.defs()` any\n * time. Just make sure to call `register(proj4)` again; for example, with user-supplied data where you don't\n * know in advance what projections are needed, you can initially load minimal\n * support and then load whichever are requested.\n *\n * Note that Proj4js does not support projection extents. If you want to add\n * one for creating default tile grids, you can add it after the Projection\n * object has been created with `setExtent`, for example,\n * `get('EPSG:1234').setExtent(extent)`.\n *\n * In addition to Proj4js support, any transform functions can be added with\n * {@link module:ol/proj~addCoordinateTransforms}. To use this, you must first create\n * a {@link module:ol/proj/Projection} object for the new projection and add it with\n * {@link module:ol/proj~addProjection}. You can then add the forward and inverse\n * functions with {@link module:ol/proj~addCoordinateTransforms}. See\n * examples/wms-custom-proj for an example of this.\n *\n * Note that if no transforms are needed and you only need to define the\n * projection, just add a {@link module:ol/proj/Projection} with\n * {@link module:ol/proj~addProjection}. See examples/wms-no-proj for an example of\n * this.\n */\nimport Projection from './proj/Projection.js';\nimport Units, { METERS_PER_UNIT } from './proj/Units.js';\nimport { PROJECTIONS as EPSG3857_PROJECTIONS, fromEPSG4326, toEPSG4326, } from './proj/epsg3857.js';\nimport { PROJECTIONS as EPSG4326_PROJECTIONS } from './proj/epsg4326.js';\nimport { add as addProj, clear as clearProj, get as getProj, } from './proj/projections.js';\nimport { add as addTransformFunc, clear as clearTransformFuncs, get as getTransformFunc, } from './proj/transforms.js';\nimport { applyTransform, getWidth } from './extent.js';\nimport { clamp, modulo } from './math.js';\nimport { getDistance } from './sphere.js';\nimport { getWorldsAway } from './coordinate.js';\n/**\n * A projection as {@link module:ol/proj/Projection}, SRS identifier\n * string or undefined.\n * @typedef {Projection|string|undefined} ProjectionLike\n * @api\n */\n/**\n * A transform function accepts an array of input coordinate values, an optional\n * output array, and an optional dimension (default should be 2).  The function\n * transforms the input coordinate values, populates the output array, and\n * returns the output array.\n *\n * @typedef {function(Array<number>, Array<number>=, number=): Array<number>} TransformFunction\n * @api\n */\nexport { METERS_PER_UNIT };\nexport { Projection };\n/**\n * @param {Array<number>} input Input coordinate array.\n * @param {Array<number>=} opt_output Output array of coordinate values.\n * @param {number=} opt_dimension Dimension.\n * @return {Array<number>} Output coordinate array (new array, same coordinate\n *     values).\n */\nexport function cloneTransform(input, opt_output, opt_dimension) {\n    var output;\n    if (opt_output !== undefined) {\n        for (var i = 0, ii = input.length; i < ii; ++i) {\n            opt_output[i] = input[i];\n        }\n        output = opt_output;\n    }\n    else {\n        output = input.slice();\n    }\n    return output;\n}\n/**\n * @param {Array<number>} input Input coordinate array.\n * @param {Array<number>=} opt_output Output array of coordinate values.\n * @param {number=} opt_dimension Dimension.\n * @return {Array<number>} Input coordinate array (same array as input).\n */\nexport function identityTransform(input, opt_output, opt_dimension) {\n    if (opt_output !== undefined && input !== opt_output) {\n        for (var i = 0, ii = input.length; i < ii; ++i) {\n            opt_output[i] = input[i];\n        }\n        input = opt_output;\n    }\n    return input;\n}\n/**\n * Add a Projection object to the list of supported projections that can be\n * looked up by their code.\n *\n * @param {Projection} projection Projection instance.\n * @api\n */\nexport function addProjection(projection) {\n    addProj(projection.getCode(), projection);\n    addTransformFunc(projection, projection, cloneTransform);\n}\n/**\n * @param {Array<Projection>} projections Projections.\n */\nexport function addProjections(projections) {\n    projections.forEach(addProjection);\n}\n/**\n * Fetches a Projection object for the code specified.\n *\n * @param {ProjectionLike} projectionLike Either a code string which is\n *     a combination of authority and identifier such as \"EPSG:4326\", or an\n *     existing projection object, or undefined.\n * @return {Projection} Projection object, or null if not in list.\n * @api\n */\nexport function get(projectionLike) {\n    return typeof projectionLike === 'string'\n        ? getProj(/** @type {string} */ (projectionLike))\n        : /** @type {Projection} */ (projectionLike) || null;\n}\n/**\n * Get the resolution of the point in degrees or distance units.\n * For projections with degrees as the unit this will simply return the\n * provided resolution. For other projections the point resolution is\n * by default estimated by transforming the 'point' pixel to EPSG:4326,\n * measuring its width and height on the normal sphere,\n * and taking the average of the width and height.\n * A custom function can be provided for a specific projection, either\n * by setting the `getPointResolution` option in the\n * {@link module:ol/proj/Projection~Projection} constructor or by using\n * {@link module:ol/proj/Projection~Projection#setGetPointResolution} to change an existing\n * projection object.\n * @param {ProjectionLike} projection The projection.\n * @param {number} resolution Nominal resolution in projection units.\n * @param {import(\"./coordinate.js\").Coordinate} point Point to find adjusted resolution at.\n * @param {import(\"./proj/Units.js\").default=} opt_units Units to get the point resolution in.\n * Default is the projection's units.\n * @return {number} Point resolution.\n * @api\n */\nexport function getPointResolution(projection, resolution, point, opt_units) {\n    projection = get(projection);\n    var pointResolution;\n    var getter = projection.getPointResolutionFunc();\n    if (getter) {\n        pointResolution = getter(resolution, point);\n        if (opt_units && opt_units !== projection.getUnits()) {\n            var metersPerUnit = projection.getMetersPerUnit();\n            if (metersPerUnit) {\n                pointResolution =\n                    (pointResolution * metersPerUnit) / METERS_PER_UNIT[opt_units];\n            }\n        }\n    }\n    else {\n        var units = projection.getUnits();\n        if ((units == Units.DEGREES && !opt_units) || opt_units == Units.DEGREES) {\n            pointResolution = resolution;\n        }\n        else {\n            // Estimate point resolution by transforming the center pixel to EPSG:4326,\n            // measuring its width and height on the normal sphere, and taking the\n            // average of the width and height.\n            var toEPSG4326_1 = getTransformFromProjections(projection, get('EPSG:4326'));\n            if (toEPSG4326_1 === identityTransform && units !== Units.DEGREES) {\n                // no transform is available\n                pointResolution = resolution * projection.getMetersPerUnit();\n            }\n            else {\n                var vertices = [\n                    point[0] - resolution / 2,\n                    point[1],\n                    point[0] + resolution / 2,\n                    point[1],\n                    point[0],\n                    point[1] - resolution / 2,\n                    point[0],\n                    point[1] + resolution / 2,\n                ];\n                vertices = toEPSG4326_1(vertices, vertices, 2);\n                var width = getDistance(vertices.slice(0, 2), vertices.slice(2, 4));\n                var height = getDistance(vertices.slice(4, 6), vertices.slice(6, 8));\n                pointResolution = (width + height) / 2;\n            }\n            var metersPerUnit = opt_units\n                ? METERS_PER_UNIT[opt_units]\n                : projection.getMetersPerUnit();\n            if (metersPerUnit !== undefined) {\n                pointResolution /= metersPerUnit;\n            }\n        }\n    }\n    return pointResolution;\n}\n/**\n * Registers transformation functions that don't alter coordinates. Those allow\n * to transform between projections with equal meaning.\n *\n * @param {Array<Projection>} projections Projections.\n * @api\n */\nexport function addEquivalentProjections(projections) {\n    addProjections(projections);\n    projections.forEach(function (source) {\n        projections.forEach(function (destination) {\n            if (source !== destination) {\n                addTransformFunc(source, destination, cloneTransform);\n            }\n        });\n    });\n}\n/**\n * Registers transformation functions to convert coordinates in any projection\n * in projection1 to any projection in projection2.\n *\n * @param {Array<Projection>} projections1 Projections with equal\n *     meaning.\n * @param {Array<Projection>} projections2 Projections with equal\n *     meaning.\n * @param {TransformFunction} forwardTransform Transformation from any\n *   projection in projection1 to any projection in projection2.\n * @param {TransformFunction} inverseTransform Transform from any projection\n *   in projection2 to any projection in projection1..\n */\nexport function addEquivalentTransforms(projections1, projections2, forwardTransform, inverseTransform) {\n    projections1.forEach(function (projection1) {\n        projections2.forEach(function (projection2) {\n            addTransformFunc(projection1, projection2, forwardTransform);\n            addTransformFunc(projection2, projection1, inverseTransform);\n        });\n    });\n}\n/**\n * Clear all cached projections and transforms.\n */\nexport function clearAllProjections() {\n    clearProj();\n    clearTransformFuncs();\n}\n/**\n * @param {Projection|string|undefined} projection Projection.\n * @param {string} defaultCode Default code.\n * @return {Projection} Projection.\n */\nexport function createProjection(projection, defaultCode) {\n    if (!projection) {\n        return get(defaultCode);\n    }\n    else if (typeof projection === 'string') {\n        return get(projection);\n    }\n    else {\n        return /** @type {Projection} */ (projection);\n    }\n}\n/**\n * Creates a {@link module:ol/proj~TransformFunction} from a simple 2D coordinate transform\n * function.\n * @param {function(import(\"./coordinate.js\").Coordinate): import(\"./coordinate.js\").Coordinate} coordTransform Coordinate\n *     transform.\n * @return {TransformFunction} Transform function.\n */\nexport function createTransformFromCoordinateTransform(coordTransform) {\n    return (\n    /**\n     * @param {Array<number>} input Input.\n     * @param {Array<number>=} opt_output Output.\n     * @param {number=} opt_dimension Dimension.\n     * @return {Array<number>} Output.\n     */\n    function (input, opt_output, opt_dimension) {\n        var length = input.length;\n        var dimension = opt_dimension !== undefined ? opt_dimension : 2;\n        var output = opt_output !== undefined ? opt_output : new Array(length);\n        for (var i = 0; i < length; i += dimension) {\n            var point = coordTransform([input[i], input[i + 1]]);\n            output[i] = point[0];\n            output[i + 1] = point[1];\n            for (var j = dimension - 1; j >= 2; --j) {\n                output[i + j] = input[i + j];\n            }\n        }\n        return output;\n    });\n}\n/**\n * Registers coordinate transform functions to convert coordinates between the\n * source projection and the destination projection.\n * The forward and inverse functions convert coordinate pairs; this function\n * converts these into the functions used internally which also handle\n * extents and coordinate arrays.\n *\n * @param {ProjectionLike} source Source projection.\n * @param {ProjectionLike} destination Destination projection.\n * @param {function(import(\"./coordinate.js\").Coordinate): import(\"./coordinate.js\").Coordinate} forward The forward transform\n *     function (that is, from the source projection to the destination\n *     projection) that takes a {@link module:ol/coordinate~Coordinate} as argument and returns\n *     the transformed {@link module:ol/coordinate~Coordinate}.\n * @param {function(import(\"./coordinate.js\").Coordinate): import(\"./coordinate.js\").Coordinate} inverse The inverse transform\n *     function (that is, from the destination projection to the source\n *     projection) that takes a {@link module:ol/coordinate~Coordinate} as argument and returns\n *     the transformed {@link module:ol/coordinate~Coordinate}.\n * @api\n */\nexport function addCoordinateTransforms(source, destination, forward, inverse) {\n    var sourceProj = get(source);\n    var destProj = get(destination);\n    addTransformFunc(sourceProj, destProj, createTransformFromCoordinateTransform(forward));\n    addTransformFunc(destProj, sourceProj, createTransformFromCoordinateTransform(inverse));\n}\n/**\n * Transforms a coordinate from longitude/latitude to a different projection.\n * @param {import(\"./coordinate.js\").Coordinate} coordinate Coordinate as longitude and latitude, i.e.\n *     an array with longitude as 1st and latitude as 2nd element.\n * @param {ProjectionLike=} opt_projection Target projection. The\n *     default is Web Mercator, i.e. 'EPSG:3857'.\n * @return {import(\"./coordinate.js\").Coordinate} Coordinate projected to the target projection.\n * @api\n */\nexport function fromLonLat(coordinate, opt_projection) {\n    return transform(coordinate, 'EPSG:4326', opt_projection !== undefined ? opt_projection : 'EPSG:3857');\n}\n/**\n * Transforms a coordinate to longitude/latitude.\n * @param {import(\"./coordinate.js\").Coordinate} coordinate Projected coordinate.\n * @param {ProjectionLike=} opt_projection Projection of the coordinate.\n *     The default is Web Mercator, i.e. 'EPSG:3857'.\n * @return {import(\"./coordinate.js\").Coordinate} Coordinate as longitude and latitude, i.e. an array\n *     with longitude as 1st and latitude as 2nd element.\n * @api\n */\nexport function toLonLat(coordinate, opt_projection) {\n    var lonLat = transform(coordinate, opt_projection !== undefined ? opt_projection : 'EPSG:3857', 'EPSG:4326');\n    var lon = lonLat[0];\n    if (lon < -180 || lon > 180) {\n        lonLat[0] = modulo(lon + 180, 360) - 180;\n    }\n    return lonLat;\n}\n/**\n * Checks if two projections are the same, that is every coordinate in one\n * projection does represent the same geographic point as the same coordinate in\n * the other projection.\n *\n * @param {Projection} projection1 Projection 1.\n * @param {Projection} projection2 Projection 2.\n * @return {boolean} Equivalent.\n * @api\n */\nexport function equivalent(projection1, projection2) {\n    if (projection1 === projection2) {\n        return true;\n    }\n    var equalUnits = projection1.getUnits() === projection2.getUnits();\n    if (projection1.getCode() === projection2.getCode()) {\n        return equalUnits;\n    }\n    else {\n        var transformFunc = getTransformFromProjections(projection1, projection2);\n        return transformFunc === cloneTransform && equalUnits;\n    }\n}\n/**\n * Searches in the list of transform functions for the function for converting\n * coordinates from the source projection to the destination projection.\n *\n * @param {Projection} sourceProjection Source Projection object.\n * @param {Projection} destinationProjection Destination Projection\n *     object.\n * @return {TransformFunction} Transform function.\n */\nexport function getTransformFromProjections(sourceProjection, destinationProjection) {\n    var sourceCode = sourceProjection.getCode();\n    var destinationCode = destinationProjection.getCode();\n    var transformFunc = getTransformFunc(sourceCode, destinationCode);\n    if (!transformFunc) {\n        transformFunc = identityTransform;\n    }\n    return transformFunc;\n}\n/**\n * Given the projection-like objects, searches for a transformation\n * function to convert a coordinates array from the source projection to the\n * destination projection.\n *\n * @param {ProjectionLike} source Source.\n * @param {ProjectionLike} destination Destination.\n * @return {TransformFunction} Transform function.\n * @api\n */\nexport function getTransform(source, destination) {\n    var sourceProjection = get(source);\n    var destinationProjection = get(destination);\n    return getTransformFromProjections(sourceProjection, destinationProjection);\n}\n/**\n * Transforms a coordinate from source projection to destination projection.\n * This returns a new coordinate (and does not modify the original).\n *\n * See {@link module:ol/proj~transformExtent} for extent transformation.\n * See the transform method of {@link module:ol/geom/Geometry~Geometry} and its\n * subclasses for geometry transforms.\n *\n * @param {import(\"./coordinate.js\").Coordinate} coordinate Coordinate.\n * @param {ProjectionLike} source Source projection-like.\n * @param {ProjectionLike} destination Destination projection-like.\n * @return {import(\"./coordinate.js\").Coordinate} Coordinate.\n * @api\n */\nexport function transform(coordinate, source, destination) {\n    var transformFunc = getTransform(source, destination);\n    return transformFunc(coordinate, undefined, coordinate.length);\n}\n/**\n * Transforms an extent from source projection to destination projection.  This\n * returns a new extent (and does not modify the original).\n *\n * @param {import(\"./extent.js\").Extent} extent The extent to transform.\n * @param {ProjectionLike} source Source projection-like.\n * @param {ProjectionLike} destination Destination projection-like.\n * @param {number=} opt_stops Number of stops per side used for the transform.\n * By default only the corners are used.\n * @return {import(\"./extent.js\").Extent} The transformed extent.\n * @api\n */\nexport function transformExtent(extent, source, destination, opt_stops) {\n    var transformFunc = getTransform(source, destination);\n    return applyTransform(extent, transformFunc, undefined, opt_stops);\n}\n/**\n * Transforms the given point to the destination projection.\n *\n * @param {import(\"./coordinate.js\").Coordinate} point Point.\n * @param {Projection} sourceProjection Source projection.\n * @param {Projection} destinationProjection Destination projection.\n * @return {import(\"./coordinate.js\").Coordinate} Point.\n */\nexport function transformWithProjections(point, sourceProjection, destinationProjection) {\n    var transformFunc = getTransformFromProjections(sourceProjection, destinationProjection);\n    return transformFunc(point);\n}\n/**\n * @type {?Projection}\n */\nvar userProjection = null;\n/**\n * Set the projection for coordinates supplied from and returned by API methods.\n * Note that this method is not yet a part of the stable API.  Support for user\n * projections is not yet complete and should be considered experimental.\n * @param {ProjectionLike} projection The user projection.\n */\nexport function setUserProjection(projection) {\n    userProjection = get(projection);\n}\n/**\n * Clear the user projection if set.  Note that this method is not yet a part of\n * the stable API.  Support for user projections is not yet complete and should\n * be considered experimental.\n */\nexport function clearUserProjection() {\n    userProjection = null;\n}\n/**\n * Get the projection for coordinates supplied from and returned by API methods.\n * Note that this method is not yet a part of the stable API.  Support for user\n * projections is not yet complete and should be considered experimental.\n * @returns {?Projection} The user projection (or null if not set).\n */\nexport function getUserProjection() {\n    return userProjection;\n}\n/**\n * Use geographic coordinates (WGS-84 datum) in API methods.  Note that this\n * method is not yet a part of the stable API.  Support for user projections is\n * not yet complete and should be considered experimental.\n */\nexport function useGeographic() {\n    setUserProjection('EPSG:4326');\n}\n/**\n * Return a coordinate transformed into the user projection.  If no user projection\n * is set, the original coordinate is returned.\n * @param {Array<number>} coordinate Input coordinate.\n * @param {ProjectionLike} sourceProjection The input coordinate projection.\n * @returns {Array<number>} The input coordinate in the user projection.\n */\nexport function toUserCoordinate(coordinate, sourceProjection) {\n    if (!userProjection) {\n        return coordinate;\n    }\n    return transform(coordinate, sourceProjection, userProjection);\n}\n/**\n * Return a coordinate transformed from the user projection.  If no user projection\n * is set, the original coordinate is returned.\n * @param {Array<number>} coordinate Input coordinate.\n * @param {ProjectionLike} destProjection The destination projection.\n * @returns {Array<number>} The input coordinate transformed.\n */\nexport function fromUserCoordinate(coordinate, destProjection) {\n    if (!userProjection) {\n        return coordinate;\n    }\n    return transform(coordinate, userProjection, destProjection);\n}\n/**\n * Return an extent transformed into the user projection.  If no user projection\n * is set, the original extent is returned.\n * @param {import(\"./extent.js\").Extent} extent Input extent.\n * @param {ProjectionLike} sourceProjection The input extent projection.\n * @returns {import(\"./extent.js\").Extent} The input extent in the user projection.\n */\nexport function toUserExtent(extent, sourceProjection) {\n    if (!userProjection) {\n        return extent;\n    }\n    return transformExtent(extent, sourceProjection, userProjection);\n}\n/**\n * Return an extent transformed from the user projection.  If no user projection\n * is set, the original extent is returned.\n * @param {import(\"./extent.js\").Extent} extent Input extent.\n * @param {ProjectionLike} destProjection The destination projection.\n * @returns {import(\"./extent.js\").Extent} The input extent transformed.\n */\nexport function fromUserExtent(extent, destProjection) {\n    if (!userProjection) {\n        return extent;\n    }\n    return transformExtent(extent, userProjection, destProjection);\n}\n/**\n * Creates a safe coordinate transform function from a coordinate transform function.\n * \"Safe\" means that it can handle wrapping of x-coordinates for global projections,\n * and that coordinates exceeding the source projection validity extent's range will be\n * clamped to the validity range.\n * @param {Projection} sourceProj Source projection.\n * @param {Projection} destProj Destination projection.\n * @param {function(import(\"./coordinate.js\").Coordinate): import(\"./coordinate.js\").Coordinate} transform Transform function (source to destiation).\n * @return {function(import(\"./coordinate.js\").Coordinate): import(\"./coordinate.js\").Coordinate} Safe transform function (source to destiation).\n */\nexport function createSafeCoordinateTransform(sourceProj, destProj, transform) {\n    return function (coord) {\n        var sourceX = coord[0];\n        var sourceY = coord[1];\n        var transformed, worldsAway;\n        if (sourceProj.canWrapX()) {\n            var sourceExtent = sourceProj.getExtent();\n            var sourceExtentWidth = getWidth(sourceExtent);\n            worldsAway = getWorldsAway(coord, sourceProj, sourceExtentWidth);\n            if (worldsAway) {\n                // Move x to the real world\n                sourceX = sourceX - worldsAway * sourceExtentWidth;\n            }\n            sourceX = clamp(sourceX, sourceExtent[0], sourceExtent[2]);\n            sourceY = clamp(sourceY, sourceExtent[1], sourceExtent[3]);\n            transformed = transform([sourceX, sourceY]);\n        }\n        else {\n            transformed = transform(coord);\n        }\n        if (worldsAway && destProj.canWrapX()) {\n            // Move transformed coordinate back to the offset world\n            transformed[0] += worldsAway * getWidth(destProj.getExtent());\n        }\n        return transformed;\n    };\n}\n/**\n * Add transforms to and from EPSG:4326 and EPSG:3857.  This function is called\n * by when this module is executed and should only need to be called again after\n * `clearAllProjections()` is called (e.g. in tests).\n */\nexport function addCommon() {\n    // Add transformations that don't alter coordinates to convert within set of\n    // projections with equal meaning.\n    addEquivalentProjections(EPSG3857_PROJECTIONS);\n    addEquivalentProjections(EPSG4326_PROJECTIONS);\n    // Add transformations to convert EPSG:4326 like coordinates to EPSG:3857 like\n    // coordinates and back.\n    addEquivalentTransforms(EPSG4326_PROJECTIONS, EPSG3857_PROJECTIONS, fromEPSG4326, toEPSG4326);\n}\naddCommon();\n//# sourceMappingURL=proj.js.map","/**\n * @module ol/geom/flat/transform\n */\n/**\n * @param {Array<number>} flatCoordinates Flat coordinates.\n * @param {number} offset Offset.\n * @param {number} end End.\n * @param {number} stride Stride.\n * @param {import(\"../../transform.js\").Transform} transform Transform.\n * @param {Array<number>=} opt_dest Destination.\n * @return {Array<number>} Transformed coordinates.\n */\nexport function transform2D(flatCoordinates, offset, end, stride, transform, opt_dest) {\n    var dest = opt_dest ? opt_dest : [];\n    var i = 0;\n    for (var j = offset; j < end; j += stride) {\n        var x = flatCoordinates[j];\n        var y = flatCoordinates[j + 1];\n        dest[i++] = transform[0] * x + transform[2] * y + transform[4];\n        dest[i++] = transform[1] * x + transform[3] * y + transform[5];\n    }\n    if (opt_dest && dest.length != i) {\n        dest.length = i;\n    }\n    return dest;\n}\n/**\n * @param {Array<number>} flatCoordinates Flat coordinates.\n * @param {number} offset Offset.\n * @param {number} end End.\n * @param {number} stride Stride.\n * @param {number} angle Angle.\n * @param {Array<number>} anchor Rotation anchor point.\n * @param {Array<number>=} opt_dest Destination.\n * @return {Array<number>} Transformed coordinates.\n */\nexport function rotate(flatCoordinates, offset, end, stride, angle, anchor, opt_dest) {\n    var dest = opt_dest ? opt_dest : [];\n    var cos = Math.cos(angle);\n    var sin = Math.sin(angle);\n    var anchorX = anchor[0];\n    var anchorY = anchor[1];\n    var i = 0;\n    for (var j = offset; j < end; j += stride) {\n        var deltaX = flatCoordinates[j] - anchorX;\n        var deltaY = flatCoordinates[j + 1] - anchorY;\n        dest[i++] = anchorX + deltaX * cos - deltaY * sin;\n        dest[i++] = anchorY + deltaX * sin + deltaY * cos;\n        for (var k = j + 2; k < j + stride; ++k) {\n            dest[i++] = flatCoordinates[k];\n        }\n    }\n    if (opt_dest && dest.length != i) {\n        dest.length = i;\n    }\n    return dest;\n}\n/**\n * Scale the coordinates.\n * @param {Array<number>} flatCoordinates Flat coordinates.\n * @param {number} offset Offset.\n * @param {number} end End.\n * @param {number} stride Stride.\n * @param {number} sx Scale factor in the x-direction.\n * @param {number} sy Scale factor in the y-direction.\n * @param {Array<number>} anchor Scale anchor point.\n * @param {Array<number>=} opt_dest Destination.\n * @return {Array<number>} Transformed coordinates.\n */\nexport function scale(flatCoordinates, offset, end, stride, sx, sy, anchor, opt_dest) {\n    var dest = opt_dest ? opt_dest : [];\n    var anchorX = anchor[0];\n    var anchorY = anchor[1];\n    var i = 0;\n    for (var j = offset; j < end; j += stride) {\n        var deltaX = flatCoordinates[j] - anchorX;\n        var deltaY = flatCoordinates[j + 1] - anchorY;\n        dest[i++] = anchorX + sx * deltaX;\n        dest[i++] = anchorY + sy * deltaY;\n        for (var k = j + 2; k < j + stride; ++k) {\n            dest[i++] = flatCoordinates[k];\n        }\n    }\n    if (opt_dest && dest.length != i) {\n        dest.length = i;\n    }\n    return dest;\n}\n/**\n * @param {Array<number>} flatCoordinates Flat coordinates.\n * @param {number} offset Offset.\n * @param {number} end End.\n * @param {number} stride Stride.\n * @param {number} deltaX Delta X.\n * @param {number} deltaY Delta Y.\n * @param {Array<number>=} opt_dest Destination.\n * @return {Array<number>} Transformed coordinates.\n */\nexport function translate(flatCoordinates, offset, end, stride, deltaX, deltaY, opt_dest) {\n    var dest = opt_dest ? opt_dest : [];\n    var i = 0;\n    for (var j = offset; j < end; j += stride) {\n        dest[i++] = flatCoordinates[j] + deltaX;\n        dest[i++] = flatCoordinates[j + 1] + deltaY;\n        for (var k = j + 2; k < j + stride; ++k) {\n            dest[i++] = flatCoordinates[k];\n        }\n    }\n    if (opt_dest && dest.length != i) {\n        dest.length = i;\n    }\n    return dest;\n}\n//# sourceMappingURL=transform.js.map","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n/**\n * @module ol/geom/Geometry\n */\nimport BaseObject from '../Object.js';\nimport Units from '../proj/Units.js';\nimport { abstract } from '../util.js';\nimport { compose as composeTransform, create as createTransform, } from '../transform.js';\nimport { createEmpty, createOrUpdateEmpty, getHeight, returnOrUpdate, } from '../extent.js';\nimport { get as getProjection, getTransform } from '../proj.js';\nimport { memoizeOne } from '../functions.js';\nimport { transform2D } from './flat/transform.js';\n/**\n * @type {import(\"../transform.js\").Transform}\n */\nvar tmpTransform = createTransform();\n/**\n * @classdesc\n * Abstract base class; normally only used for creating subclasses and not\n * instantiated in apps.\n * Base class for vector geometries.\n *\n * To get notified of changes to the geometry, register a listener for the\n * generic `change` event on your geometry instance.\n *\n * @abstract\n * @api\n */\nvar Geometry = /** @class */ (function (_super) {\n    __extends(Geometry, _super);\n    function Geometry() {\n        var _this = _super.call(this) || this;\n        /**\n         * @private\n         * @type {import(\"../extent.js\").Extent}\n         */\n        _this.extent_ = createEmpty();\n        /**\n         * @private\n         * @type {number}\n         */\n        _this.extentRevision_ = -1;\n        /**\n         * @protected\n         * @type {number}\n         */\n        _this.simplifiedGeometryMaxMinSquaredTolerance = 0;\n        /**\n         * @protected\n         * @type {number}\n         */\n        _this.simplifiedGeometryRevision = 0;\n        /**\n         * Get a transformed and simplified version of the geometry.\n         * @abstract\n         * @param {number} revision The geometry revision.\n         * @param {number} squaredTolerance Squared tolerance.\n         * @param {import(\"../proj.js\").TransformFunction} [opt_transform] Optional transform function.\n         * @return {Geometry} Simplified geometry.\n         */\n        _this.simplifyTransformedInternal = memoizeOne(function (revision, squaredTolerance, opt_transform) {\n            if (!opt_transform) {\n                return this.getSimplifiedGeometry(squaredTolerance);\n            }\n            var clone = this.clone();\n            clone.applyTransform(opt_transform);\n            return clone.getSimplifiedGeometry(squaredTolerance);\n        });\n        return _this;\n    }\n    /**\n     * Get a transformed and simplified version of the geometry.\n     * @abstract\n     * @param {number} squaredTolerance Squared tolerance.\n     * @param {import(\"../proj.js\").TransformFunction} [opt_transform] Optional transform function.\n     * @return {Geometry} Simplified geometry.\n     */\n    Geometry.prototype.simplifyTransformed = function (squaredTolerance, opt_transform) {\n        return this.simplifyTransformedInternal(this.getRevision(), squaredTolerance, opt_transform);\n    };\n    /**\n     * Make a complete copy of the geometry.\n     * @abstract\n     * @return {!Geometry} Clone.\n     */\n    Geometry.prototype.clone = function () {\n        return abstract();\n    };\n    /**\n     * @abstract\n     * @param {number} x X.\n     * @param {number} y Y.\n     * @param {import(\"../coordinate.js\").Coordinate} closestPoint Closest point.\n     * @param {number} minSquaredDistance Minimum squared distance.\n     * @return {number} Minimum squared distance.\n     */\n    Geometry.prototype.closestPointXY = function (x, y, closestPoint, minSquaredDistance) {\n        return abstract();\n    };\n    /**\n     * @param {number} x X.\n     * @param {number} y Y.\n     * @return {boolean} Contains (x, y).\n     */\n    Geometry.prototype.containsXY = function (x, y) {\n        var coord = this.getClosestPoint([x, y]);\n        return coord[0] === x && coord[1] === y;\n    };\n    /**\n     * Return the closest point of the geometry to the passed point as\n     * {@link module:ol/coordinate~Coordinate coordinate}.\n     * @param {import(\"../coordinate.js\").Coordinate} point Point.\n     * @param {import(\"../coordinate.js\").Coordinate=} opt_closestPoint Closest point.\n     * @return {import(\"../coordinate.js\").Coordinate} Closest point.\n     * @api\n     */\n    Geometry.prototype.getClosestPoint = function (point, opt_closestPoint) {\n        var closestPoint = opt_closestPoint ? opt_closestPoint : [NaN, NaN];\n        this.closestPointXY(point[0], point[1], closestPoint, Infinity);\n        return closestPoint;\n    };\n    /**\n     * Returns true if this geometry includes the specified coordinate. If the\n     * coordinate is on the boundary of the geometry, returns false.\n     * @param {import(\"../coordinate.js\").Coordinate} coordinate Coordinate.\n     * @return {boolean} Contains coordinate.\n     * @api\n     */\n    Geometry.prototype.intersectsCoordinate = function (coordinate) {\n        return this.containsXY(coordinate[0], coordinate[1]);\n    };\n    /**\n     * @abstract\n     * @param {import(\"../extent.js\").Extent} extent Extent.\n     * @protected\n     * @return {import(\"../extent.js\").Extent} extent Extent.\n     */\n    Geometry.prototype.computeExtent = function (extent) {\n        return abstract();\n    };\n    /**\n     * Get the extent of the geometry.\n     * @param {import(\"../extent.js\").Extent=} opt_extent Extent.\n     * @return {import(\"../extent.js\").Extent} extent Extent.\n     * @api\n     */\n    Geometry.prototype.getExtent = function (opt_extent) {\n        if (this.extentRevision_ != this.getRevision()) {\n            var extent = this.computeExtent(this.extent_);\n            if (isNaN(extent[0]) || isNaN(extent[1])) {\n                createOrUpdateEmpty(extent);\n            }\n            this.extentRevision_ = this.getRevision();\n        }\n        return returnOrUpdate(this.extent_, opt_extent);\n    };\n    /**\n     * Rotate the geometry around a given coordinate. This modifies the geometry\n     * coordinates in place.\n     * @abstract\n     * @param {number} angle Rotation angle in radians.\n     * @param {import(\"../coordinate.js\").Coordinate} anchor The rotation center.\n     * @api\n     */\n    Geometry.prototype.rotate = function (angle, anchor) {\n        abstract();\n    };\n    /**\n     * Scale the geometry (with an optional origin).  This modifies the geometry\n     * coordinates in place.\n     * @abstract\n     * @param {number} sx The scaling factor in the x-direction.\n     * @param {number=} opt_sy The scaling factor in the y-direction (defaults to sx).\n     * @param {import(\"../coordinate.js\").Coordinate=} opt_anchor The scale origin (defaults to the center\n     *     of the geometry extent).\n     * @api\n     */\n    Geometry.prototype.scale = function (sx, opt_sy, opt_anchor) {\n        abstract();\n    };\n    /**\n     * Create a simplified version of this geometry.  For linestrings, this uses\n     * the [Douglas Peucker](https://en.wikipedia.org/wiki/Ramer-Douglas-Peucker_algorithm)\n     * algorithm.  For polygons, a quantization-based\n     * simplification is used to preserve topology.\n     * @param {number} tolerance The tolerance distance for simplification.\n     * @return {Geometry} A new, simplified version of the original geometry.\n     * @api\n     */\n    Geometry.prototype.simplify = function (tolerance) {\n        return this.getSimplifiedGeometry(tolerance * tolerance);\n    };\n    /**\n     * Create a simplified version of this geometry using the Douglas Peucker\n     * algorithm.\n     * See https://en.wikipedia.org/wiki/Ramer-Douglas-Peucker_algorithm.\n     * @abstract\n     * @param {number} squaredTolerance Squared tolerance.\n     * @return {Geometry} Simplified geometry.\n     */\n    Geometry.prototype.getSimplifiedGeometry = function (squaredTolerance) {\n        return abstract();\n    };\n    /**\n     * Get the type of this geometry.\n     * @abstract\n     * @return {import(\"./GeometryType.js\").default} Geometry type.\n     */\n    Geometry.prototype.getType = function () {\n        return abstract();\n    };\n    /**\n     * Apply a transform function to the coordinates of the geometry.\n     * The geometry is modified in place.\n     * If you do not want the geometry modified in place, first `clone()` it and\n     * then use this function on the clone.\n     * @abstract\n     * @param {import(\"../proj.js\").TransformFunction} transformFn Transform function.\n     * Called with a flat array of geometry coordinates.\n     */\n    Geometry.prototype.applyTransform = function (transformFn) {\n        abstract();\n    };\n    /**\n     * Test if the geometry and the passed extent intersect.\n     * @abstract\n     * @param {import(\"../extent.js\").Extent} extent Extent.\n     * @return {boolean} `true` if the geometry and the extent intersect.\n     */\n    Geometry.prototype.intersectsExtent = function (extent) {\n        return abstract();\n    };\n    /**\n     * Translate the geometry.  This modifies the geometry coordinates in place.  If\n     * instead you want a new geometry, first `clone()` this geometry.\n     * @abstract\n     * @param {number} deltaX Delta X.\n     * @param {number} deltaY Delta Y.\n     * @api\n     */\n    Geometry.prototype.translate = function (deltaX, deltaY) {\n        abstract();\n    };\n    /**\n     * Transform each coordinate of the geometry from one coordinate reference\n     * system to another. The geometry is modified in place.\n     * For example, a line will be transformed to a line and a circle to a circle.\n     * If you do not want the geometry modified in place, first `clone()` it and\n     * then use this function on the clone.\n     *\n     * @param {import(\"../proj.js\").ProjectionLike} source The current projection.  Can be a\n     *     string identifier or a {@link module:ol/proj/Projection~Projection} object.\n     * @param {import(\"../proj.js\").ProjectionLike} destination The desired projection.  Can be a\n     *     string identifier or a {@link module:ol/proj/Projection~Projection} object.\n     * @return {Geometry} This geometry.  Note that original geometry is\n     *     modified in place.\n     * @api\n     */\n    Geometry.prototype.transform = function (source, destination) {\n        /** @type {import(\"../proj/Projection.js\").default} */\n        var sourceProj = getProjection(source);\n        var transformFn = sourceProj.getUnits() == Units.TILE_PIXELS\n            ? function (inCoordinates, outCoordinates, stride) {\n                var pixelExtent = sourceProj.getExtent();\n                var projectedExtent = sourceProj.getWorldExtent();\n                var scale = getHeight(projectedExtent) / getHeight(pixelExtent);\n                composeTransform(tmpTransform, projectedExtent[0], projectedExtent[3], scale, -scale, 0, 0, 0);\n                transform2D(inCoordinates, 0, inCoordinates.length, stride, tmpTransform, outCoordinates);\n                return getTransform(sourceProj, destination)(inCoordinates, outCoordinates, stride);\n            }\n            : getTransform(sourceProj, destination);\n        this.applyTransform(transformFn);\n        return this;\n    };\n    return Geometry;\n}(BaseObject));\nexport default Geometry;\n//# sourceMappingURL=Geometry.js.map","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n/**\n * @module ol/geom/SimpleGeometry\n */\nimport Geometry from './Geometry.js';\nimport GeometryLayout from './GeometryLayout.js';\nimport { abstract } from '../util.js';\nimport { createOrUpdateFromFlatCoordinates, getCenter } from '../extent.js';\nimport { rotate, scale, transform2D, translate } from './flat/transform.js';\n/**\n * @classdesc\n * Abstract base class; only used for creating subclasses; do not instantiate\n * in apps, as cannot be rendered.\n *\n * @abstract\n * @api\n */\nvar SimpleGeometry = /** @class */ (function (_super) {\n    __extends(SimpleGeometry, _super);\n    function SimpleGeometry() {\n        var _this = _super.call(this) || this;\n        /**\n         * @protected\n         * @type {import(\"./GeometryLayout.js\").default}\n         */\n        _this.layout = GeometryLayout.XY;\n        /**\n         * @protected\n         * @type {number}\n         */\n        _this.stride = 2;\n        /**\n         * @protected\n         * @type {Array<number>}\n         */\n        _this.flatCoordinates = null;\n        return _this;\n    }\n    /**\n     * @param {import(\"../extent.js\").Extent} extent Extent.\n     * @protected\n     * @return {import(\"../extent.js\").Extent} extent Extent.\n     */\n    SimpleGeometry.prototype.computeExtent = function (extent) {\n        return createOrUpdateFromFlatCoordinates(this.flatCoordinates, 0, this.flatCoordinates.length, this.stride, extent);\n    };\n    /**\n     * @abstract\n     * @return {Array<*>} Coordinates.\n     */\n    SimpleGeometry.prototype.getCoordinates = function () {\n        return abstract();\n    };\n    /**\n     * Return the first coordinate of the geometry.\n     * @return {import(\"../coordinate.js\").Coordinate} First coordinate.\n     * @api\n     */\n    SimpleGeometry.prototype.getFirstCoordinate = function () {\n        return this.flatCoordinates.slice(0, this.stride);\n    };\n    /**\n     * @return {Array<number>} Flat coordinates.\n     */\n    SimpleGeometry.prototype.getFlatCoordinates = function () {\n        return this.flatCoordinates;\n    };\n    /**\n     * Return the last coordinate of the geometry.\n     * @return {import(\"../coordinate.js\").Coordinate} Last point.\n     * @api\n     */\n    SimpleGeometry.prototype.getLastCoordinate = function () {\n        return this.flatCoordinates.slice(this.flatCoordinates.length - this.stride);\n    };\n    /**\n     * Return the {@link module:ol/geom/GeometryLayout layout} of the geometry.\n     * @return {import(\"./GeometryLayout.js\").default} Layout.\n     * @api\n     */\n    SimpleGeometry.prototype.getLayout = function () {\n        return this.layout;\n    };\n    /**\n     * Create a simplified version of this geometry using the Douglas Peucker algorithm.\n     * @param {number} squaredTolerance Squared tolerance.\n     * @return {SimpleGeometry} Simplified geometry.\n     */\n    SimpleGeometry.prototype.getSimplifiedGeometry = function (squaredTolerance) {\n        if (this.simplifiedGeometryRevision !== this.getRevision()) {\n            this.simplifiedGeometryMaxMinSquaredTolerance = 0;\n            this.simplifiedGeometryRevision = this.getRevision();\n        }\n        // If squaredTolerance is negative or if we know that simplification will not\n        // have any effect then just return this.\n        if (squaredTolerance < 0 ||\n            (this.simplifiedGeometryMaxMinSquaredTolerance !== 0 &&\n                squaredTolerance <= this.simplifiedGeometryMaxMinSquaredTolerance)) {\n            return this;\n        }\n        var simplifiedGeometry = this.getSimplifiedGeometryInternal(squaredTolerance);\n        var simplifiedFlatCoordinates = simplifiedGeometry.getFlatCoordinates();\n        if (simplifiedFlatCoordinates.length < this.flatCoordinates.length) {\n            return simplifiedGeometry;\n        }\n        else {\n            // Simplification did not actually remove any coordinates.  We now know\n            // that any calls to getSimplifiedGeometry with a squaredTolerance less\n            // than or equal to the current squaredTolerance will also not have any\n            // effect.  This allows us to short circuit simplification (saving CPU\n            // cycles) and prevents the cache of simplified geometries from filling\n            // up with useless identical copies of this geometry (saving memory).\n            this.simplifiedGeometryMaxMinSquaredTolerance = squaredTolerance;\n            return this;\n        }\n    };\n    /**\n     * @param {number} squaredTolerance Squared tolerance.\n     * @return {SimpleGeometry} Simplified geometry.\n     * @protected\n     */\n    SimpleGeometry.prototype.getSimplifiedGeometryInternal = function (squaredTolerance) {\n        return this;\n    };\n    /**\n     * @return {number} Stride.\n     */\n    SimpleGeometry.prototype.getStride = function () {\n        return this.stride;\n    };\n    /**\n     * @param {import(\"./GeometryLayout.js\").default} layout Layout.\n     * @param {Array<number>} flatCoordinates Flat coordinates.\n     */\n    SimpleGeometry.prototype.setFlatCoordinates = function (layout, flatCoordinates) {\n        this.stride = getStrideForLayout(layout);\n        this.layout = layout;\n        this.flatCoordinates = flatCoordinates;\n    };\n    /**\n     * @abstract\n     * @param {!Array<*>} coordinates Coordinates.\n     * @param {import(\"./GeometryLayout.js\").default=} opt_layout Layout.\n     */\n    SimpleGeometry.prototype.setCoordinates = function (coordinates, opt_layout) {\n        abstract();\n    };\n    /**\n     * @param {import(\"./GeometryLayout.js\").default|undefined} layout Layout.\n     * @param {Array<*>} coordinates Coordinates.\n     * @param {number} nesting Nesting.\n     * @protected\n     */\n    SimpleGeometry.prototype.setLayout = function (layout, coordinates, nesting) {\n        /** @type {number} */\n        var stride;\n        if (layout) {\n            stride = getStrideForLayout(layout);\n        }\n        else {\n            for (var i = 0; i < nesting; ++i) {\n                if (coordinates.length === 0) {\n                    this.layout = GeometryLayout.XY;\n                    this.stride = 2;\n                    return;\n                }\n                else {\n                    coordinates = /** @type {Array} */ (coordinates[0]);\n                }\n            }\n            stride = coordinates.length;\n            layout = getLayoutForStride(stride);\n        }\n        this.layout = layout;\n        this.stride = stride;\n    };\n    /**\n     * Apply a transform function to the coordinates of the geometry.\n     * The geometry is modified in place.\n     * If you do not want the geometry modified in place, first `clone()` it and\n     * then use this function on the clone.\n     * @param {import(\"../proj.js\").TransformFunction} transformFn Transform function.\n     * Called with a flat array of geometry coordinates.\n     * @api\n     */\n    SimpleGeometry.prototype.applyTransform = function (transformFn) {\n        if (this.flatCoordinates) {\n            transformFn(this.flatCoordinates, this.flatCoordinates, this.stride);\n            this.changed();\n        }\n    };\n    /**\n     * Rotate the geometry around a given coordinate. This modifies the geometry\n     * coordinates in place.\n     * @param {number} angle Rotation angle in counter-clockwise radians.\n     * @param {import(\"../coordinate.js\").Coordinate} anchor The rotation center.\n     * @api\n     */\n    SimpleGeometry.prototype.rotate = function (angle, anchor) {\n        var flatCoordinates = this.getFlatCoordinates();\n        if (flatCoordinates) {\n            var stride = this.getStride();\n            rotate(flatCoordinates, 0, flatCoordinates.length, stride, angle, anchor, flatCoordinates);\n            this.changed();\n        }\n    };\n    /**\n     * Scale the geometry (with an optional origin).  This modifies the geometry\n     * coordinates in place.\n     * @param {number} sx The scaling factor in the x-direction.\n     * @param {number=} opt_sy The scaling factor in the y-direction (defaults to sx).\n     * @param {import(\"../coordinate.js\").Coordinate=} opt_anchor The scale origin (defaults to the center\n     *     of the geometry extent).\n     * @api\n     */\n    SimpleGeometry.prototype.scale = function (sx, opt_sy, opt_anchor) {\n        var sy = opt_sy;\n        if (sy === undefined) {\n            sy = sx;\n        }\n        var anchor = opt_anchor;\n        if (!anchor) {\n            anchor = getCenter(this.getExtent());\n        }\n        var flatCoordinates = this.getFlatCoordinates();\n        if (flatCoordinates) {\n            var stride = this.getStride();\n            scale(flatCoordinates, 0, flatCoordinates.length, stride, sx, sy, anchor, flatCoordinates);\n            this.changed();\n        }\n    };\n    /**\n     * Translate the geometry.  This modifies the geometry coordinates in place.  If\n     * instead you want a new geometry, first `clone()` this geometry.\n     * @param {number} deltaX Delta X.\n     * @param {number} deltaY Delta Y.\n     * @api\n     */\n    SimpleGeometry.prototype.translate = function (deltaX, deltaY) {\n        var flatCoordinates = this.getFlatCoordinates();\n        if (flatCoordinates) {\n            var stride = this.getStride();\n            translate(flatCoordinates, 0, flatCoordinates.length, stride, deltaX, deltaY, flatCoordinates);\n            this.changed();\n        }\n    };\n    return SimpleGeometry;\n}(Geometry));\n/**\n * @param {number} stride Stride.\n * @return {import(\"./GeometryLayout.js\").default} layout Layout.\n */\nfunction getLayoutForStride(stride) {\n    var layout;\n    if (stride == 2) {\n        layout = GeometryLayout.XY;\n    }\n    else if (stride == 3) {\n        layout = GeometryLayout.XYZ;\n    }\n    else if (stride == 4) {\n        layout = GeometryLayout.XYZM;\n    }\n    return /** @type {import(\"./GeometryLayout.js\").default} */ (layout);\n}\n/**\n * @param {import(\"./GeometryLayout.js\").default} layout Layout.\n * @return {number} Stride.\n */\nexport function getStrideForLayout(layout) {\n    var stride;\n    if (layout == GeometryLayout.XY) {\n        stride = 2;\n    }\n    else if (layout == GeometryLayout.XYZ || layout == GeometryLayout.XYM) {\n        stride = 3;\n    }\n    else if (layout == GeometryLayout.XYZM) {\n        stride = 4;\n    }\n    return /** @type {number} */ (stride);\n}\n/**\n * @param {SimpleGeometry} simpleGeometry Simple geometry.\n * @param {import(\"../transform.js\").Transform} transform Transform.\n * @param {Array<number>=} opt_dest Destination.\n * @return {Array<number>} Transformed flat coordinates.\n */\nexport function transformGeom2D(simpleGeometry, transform, opt_dest) {\n    var flatCoordinates = simpleGeometry.getFlatCoordinates();\n    if (!flatCoordinates) {\n        return null;\n    }\n    else {\n        var stride = simpleGeometry.getStride();\n        return transform2D(flatCoordinates, 0, flatCoordinates.length, stride, transform, opt_dest);\n    }\n}\nexport default SimpleGeometry;\n//# sourceMappingURL=SimpleGeometry.js.map","/**\n * @module ol/geom/flat/closest\n */\nimport { lerp, squaredDistance as squaredDx } from '../../math.js';\n/**\n * Returns the point on the 2D line segment flatCoordinates[offset1] to\n * flatCoordinates[offset2] that is closest to the point (x, y).  Extra\n * dimensions are linearly interpolated.\n * @param {Array<number>} flatCoordinates Flat coordinates.\n * @param {number} offset1 Offset 1.\n * @param {number} offset2 Offset 2.\n * @param {number} stride Stride.\n * @param {number} x X.\n * @param {number} y Y.\n * @param {Array<number>} closestPoint Closest point.\n */\nfunction assignClosest(flatCoordinates, offset1, offset2, stride, x, y, closestPoint) {\n    var x1 = flatCoordinates[offset1];\n    var y1 = flatCoordinates[offset1 + 1];\n    var dx = flatCoordinates[offset2] - x1;\n    var dy = flatCoordinates[offset2 + 1] - y1;\n    var offset;\n    if (dx === 0 && dy === 0) {\n        offset = offset1;\n    }\n    else {\n        var t = ((x - x1) * dx + (y - y1) * dy) / (dx * dx + dy * dy);\n        if (t > 1) {\n            offset = offset2;\n        }\n        else if (t > 0) {\n            for (var i = 0; i < stride; ++i) {\n                closestPoint[i] = lerp(flatCoordinates[offset1 + i], flatCoordinates[offset2 + i], t);\n            }\n            closestPoint.length = stride;\n            return;\n        }\n        else {\n            offset = offset1;\n        }\n    }\n    for (var i = 0; i < stride; ++i) {\n        closestPoint[i] = flatCoordinates[offset + i];\n    }\n    closestPoint.length = stride;\n}\n/**\n * Return the squared of the largest distance between any pair of consecutive\n * coordinates.\n * @param {Array<number>} flatCoordinates Flat coordinates.\n * @param {number} offset Offset.\n * @param {number} end End.\n * @param {number} stride Stride.\n * @param {number} max Max squared delta.\n * @return {number} Max squared delta.\n */\nexport function maxSquaredDelta(flatCoordinates, offset, end, stride, max) {\n    var x1 = flatCoordinates[offset];\n    var y1 = flatCoordinates[offset + 1];\n    for (offset += stride; offset < end; offset += stride) {\n        var x2 = flatCoordinates[offset];\n        var y2 = flatCoordinates[offset + 1];\n        var squaredDelta = squaredDx(x1, y1, x2, y2);\n        if (squaredDelta > max) {\n            max = squaredDelta;\n        }\n        x1 = x2;\n        y1 = y2;\n    }\n    return max;\n}\n/**\n * @param {Array<number>} flatCoordinates Flat coordinates.\n * @param {number} offset Offset.\n * @param {Array<number>} ends Ends.\n * @param {number} stride Stride.\n * @param {number} max Max squared delta.\n * @return {number} Max squared delta.\n */\nexport function arrayMaxSquaredDelta(flatCoordinates, offset, ends, stride, max) {\n    for (var i = 0, ii = ends.length; i < ii; ++i) {\n        var end = ends[i];\n        max = maxSquaredDelta(flatCoordinates, offset, end, stride, max);\n        offset = end;\n    }\n    return max;\n}\n/**\n * @param {Array<number>} flatCoordinates Flat coordinates.\n * @param {number} offset Offset.\n * @param {Array<Array<number>>} endss Endss.\n * @param {number} stride Stride.\n * @param {number} max Max squared delta.\n * @return {number} Max squared delta.\n */\nexport function multiArrayMaxSquaredDelta(flatCoordinates, offset, endss, stride, max) {\n    for (var i = 0, ii = endss.length; i < ii; ++i) {\n        var ends = endss[i];\n        max = arrayMaxSquaredDelta(flatCoordinates, offset, ends, stride, max);\n        offset = ends[ends.length - 1];\n    }\n    return max;\n}\n/**\n * @param {Array<number>} flatCoordinates Flat coordinates.\n * @param {number} offset Offset.\n * @param {number} end End.\n * @param {number} stride Stride.\n * @param {number} maxDelta Max delta.\n * @param {boolean} isRing Is ring.\n * @param {number} x X.\n * @param {number} y Y.\n * @param {Array<number>} closestPoint Closest point.\n * @param {number} minSquaredDistance Minimum squared distance.\n * @param {Array<number>=} opt_tmpPoint Temporary point object.\n * @return {number} Minimum squared distance.\n */\nexport function assignClosestPoint(flatCoordinates, offset, end, stride, maxDelta, isRing, x, y, closestPoint, minSquaredDistance, opt_tmpPoint) {\n    if (offset == end) {\n        return minSquaredDistance;\n    }\n    var i, squaredDistance;\n    if (maxDelta === 0) {\n        // All points are identical, so just test the first point.\n        squaredDistance = squaredDx(x, y, flatCoordinates[offset], flatCoordinates[offset + 1]);\n        if (squaredDistance < minSquaredDistance) {\n            for (i = 0; i < stride; ++i) {\n                closestPoint[i] = flatCoordinates[offset + i];\n            }\n            closestPoint.length = stride;\n            return squaredDistance;\n        }\n        else {\n            return minSquaredDistance;\n        }\n    }\n    var tmpPoint = opt_tmpPoint ? opt_tmpPoint : [NaN, NaN];\n    var index = offset + stride;\n    while (index < end) {\n        assignClosest(flatCoordinates, index - stride, index, stride, x, y, tmpPoint);\n        squaredDistance = squaredDx(x, y, tmpPoint[0], tmpPoint[1]);\n        if (squaredDistance < minSquaredDistance) {\n            minSquaredDistance = squaredDistance;\n            for (i = 0; i < stride; ++i) {\n                closestPoint[i] = tmpPoint[i];\n            }\n            closestPoint.length = stride;\n            index += stride;\n        }\n        else {\n            // Skip ahead multiple points, because we know that all the skipped\n            // points cannot be any closer than the closest point we have found so\n            // far.  We know this because we know how close the current point is, how\n            // close the closest point we have found so far is, and the maximum\n            // distance between consecutive points.  For example, if we're currently\n            // at distance 10, the best we've found so far is 3, and that the maximum\n            // distance between consecutive points is 2, then we'll need to skip at\n            // least (10 - 3) / 2 == 3 (rounded down) points to have any chance of\n            // finding a closer point.  We use Math.max(..., 1) to ensure that we\n            // always advance at least one point, to avoid an infinite loop.\n            index +=\n                stride *\n                    Math.max(((Math.sqrt(squaredDistance) - Math.sqrt(minSquaredDistance)) /\n                        maxDelta) |\n                        0, 1);\n        }\n    }\n    if (isRing) {\n        // Check the closing segment.\n        assignClosest(flatCoordinates, end - stride, offset, stride, x, y, tmpPoint);\n        squaredDistance = squaredDx(x, y, tmpPoint[0], tmpPoint[1]);\n        if (squaredDistance < minSquaredDistance) {\n            minSquaredDistance = squaredDistance;\n            for (i = 0; i < stride; ++i) {\n                closestPoint[i] = tmpPoint[i];\n            }\n            closestPoint.length = stride;\n        }\n    }\n    return minSquaredDistance;\n}\n/**\n * @param {Array<number>} flatCoordinates Flat coordinates.\n * @param {number} offset Offset.\n * @param {Array<number>} ends Ends.\n * @param {number} stride Stride.\n * @param {number} maxDelta Max delta.\n * @param {boolean} isRing Is ring.\n * @param {number} x X.\n * @param {number} y Y.\n * @param {Array<number>} closestPoint Closest point.\n * @param {number} minSquaredDistance Minimum squared distance.\n * @param {Array<number>=} opt_tmpPoint Temporary point object.\n * @return {number} Minimum squared distance.\n */\nexport function assignClosestArrayPoint(flatCoordinates, offset, ends, stride, maxDelta, isRing, x, y, closestPoint, minSquaredDistance, opt_tmpPoint) {\n    var tmpPoint = opt_tmpPoint ? opt_tmpPoint : [NaN, NaN];\n    for (var i = 0, ii = ends.length; i < ii; ++i) {\n        var end = ends[i];\n        minSquaredDistance = assignClosestPoint(flatCoordinates, offset, end, stride, maxDelta, isRing, x, y, closestPoint, minSquaredDistance, tmpPoint);\n        offset = end;\n    }\n    return minSquaredDistance;\n}\n/**\n * @param {Array<number>} flatCoordinates Flat coordinates.\n * @param {number} offset Offset.\n * @param {Array<Array<number>>} endss Endss.\n * @param {number} stride Stride.\n * @param {number} maxDelta Max delta.\n * @param {boolean} isRing Is ring.\n * @param {number} x X.\n * @param {number} y Y.\n * @param {Array<number>} closestPoint Closest point.\n * @param {number} minSquaredDistance Minimum squared distance.\n * @param {Array<number>=} opt_tmpPoint Temporary point object.\n * @return {number} Minimum squared distance.\n */\nexport function assignClosestMultiArrayPoint(flatCoordinates, offset, endss, stride, maxDelta, isRing, x, y, closestPoint, minSquaredDistance, opt_tmpPoint) {\n    var tmpPoint = opt_tmpPoint ? opt_tmpPoint : [NaN, NaN];\n    for (var i = 0, ii = endss.length; i < ii; ++i) {\n        var ends = endss[i];\n        minSquaredDistance = assignClosestArrayPoint(flatCoordinates, offset, ends, stride, maxDelta, isRing, x, y, closestPoint, minSquaredDistance, tmpPoint);\n        offset = ends[ends.length - 1];\n    }\n    return minSquaredDistance;\n}\n//# sourceMappingURL=closest.js.map","/**\n * @module ol/geom/flat/deflate\n */\n/**\n * @param {Array<number>} flatCoordinates Flat coordinates.\n * @param {number} offset Offset.\n * @param {import(\"../../coordinate.js\").Coordinate} coordinate Coordinate.\n * @param {number} stride Stride.\n * @return {number} offset Offset.\n */\nexport function deflateCoordinate(flatCoordinates, offset, coordinate, stride) {\n    for (var i = 0, ii = coordinate.length; i < ii; ++i) {\n        flatCoordinates[offset++] = coordinate[i];\n    }\n    return offset;\n}\n/**\n * @param {Array<number>} flatCoordinates Flat coordinates.\n * @param {number} offset Offset.\n * @param {Array<import(\"../../coordinate.js\").Coordinate>} coordinates Coordinates.\n * @param {number} stride Stride.\n * @return {number} offset Offset.\n */\nexport function deflateCoordinates(flatCoordinates, offset, coordinates, stride) {\n    for (var i = 0, ii = coordinates.length; i < ii; ++i) {\n        var coordinate = coordinates[i];\n        for (var j = 0; j < stride; ++j) {\n            flatCoordinates[offset++] = coordinate[j];\n        }\n    }\n    return offset;\n}\n/**\n * @param {Array<number>} flatCoordinates Flat coordinates.\n * @param {number} offset Offset.\n * @param {Array<Array<import(\"../../coordinate.js\").Coordinate>>} coordinatess Coordinatess.\n * @param {number} stride Stride.\n * @param {Array<number>=} opt_ends Ends.\n * @return {Array<number>} Ends.\n */\nexport function deflateCoordinatesArray(flatCoordinates, offset, coordinatess, stride, opt_ends) {\n    var ends = opt_ends ? opt_ends : [];\n    var i = 0;\n    for (var j = 0, jj = coordinatess.length; j < jj; ++j) {\n        var end = deflateCoordinates(flatCoordinates, offset, coordinatess[j], stride);\n        ends[i++] = end;\n        offset = end;\n    }\n    ends.length = i;\n    return ends;\n}\n/**\n * @param {Array<number>} flatCoordinates Flat coordinates.\n * @param {number} offset Offset.\n * @param {Array<Array<Array<import(\"../../coordinate.js\").Coordinate>>>} coordinatesss Coordinatesss.\n * @param {number} stride Stride.\n * @param {Array<Array<number>>=} opt_endss Endss.\n * @return {Array<Array<number>>} Endss.\n */\nexport function deflateMultiCoordinatesArray(flatCoordinates, offset, coordinatesss, stride, opt_endss) {\n    var endss = opt_endss ? opt_endss : [];\n    var i = 0;\n    for (var j = 0, jj = coordinatesss.length; j < jj; ++j) {\n        var ends = deflateCoordinatesArray(flatCoordinates, offset, coordinatesss[j], stride, endss[i]);\n        endss[i++] = ends;\n        offset = ends[ends.length - 1];\n    }\n    endss.length = i;\n    return endss;\n}\n//# sourceMappingURL=deflate.js.map","/**\n * @module ol/geom/flat/simplify\n */\n// Based on simplify-js https://github.com/mourner/simplify-js\n// Copyright (c) 2012, Vladimir Agafonkin\n// All rights reserved.\n//\n// Redistribution and use in source and binary forms, with or without\n// modification, are permitted provided that the following conditions are met:\n//\n//    1. Redistributions of source code must retain the above copyright notice,\n//       this list of conditions and the following disclaimer.\n//\n//    2. Redistributions in binary form must reproduce the above copyright\n//       notice, this list of conditions and the following disclaimer in the\n//       documentation and/or other materials provided with the distribution.\n//\n// THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\"\n// AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE\n// IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE\n// ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE\n// LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR\n// CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF\n// SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS\n// INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN\n// CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)\n// ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE\n// POSSIBILITY OF SUCH DAMAGE.\nimport { squaredDistance, squaredSegmentDistance } from '../../math.js';\n/**\n * @param {Array<number>} flatCoordinates Flat coordinates.\n * @param {number} offset Offset.\n * @param {number} end End.\n * @param {number} stride Stride.\n * @param {number} squaredTolerance Squared tolerance.\n * @param {boolean} highQuality Highest quality.\n * @param {Array<number>=} opt_simplifiedFlatCoordinates Simplified flat\n *     coordinates.\n * @return {Array<number>} Simplified line string.\n */\nexport function simplifyLineString(flatCoordinates, offset, end, stride, squaredTolerance, highQuality, opt_simplifiedFlatCoordinates) {\n    var simplifiedFlatCoordinates = opt_simplifiedFlatCoordinates !== undefined\n        ? opt_simplifiedFlatCoordinates\n        : [];\n    if (!highQuality) {\n        end = radialDistance(flatCoordinates, offset, end, stride, squaredTolerance, simplifiedFlatCoordinates, 0);\n        flatCoordinates = simplifiedFlatCoordinates;\n        offset = 0;\n        stride = 2;\n    }\n    simplifiedFlatCoordinates.length = douglasPeucker(flatCoordinates, offset, end, stride, squaredTolerance, simplifiedFlatCoordinates, 0);\n    return simplifiedFlatCoordinates;\n}\n/**\n * @param {Array<number>} flatCoordinates Flat coordinates.\n * @param {number} offset Offset.\n * @param {number} end End.\n * @param {number} stride Stride.\n * @param {number} squaredTolerance Squared tolerance.\n * @param {Array<number>} simplifiedFlatCoordinates Simplified flat\n *     coordinates.\n * @param {number} simplifiedOffset Simplified offset.\n * @return {number} Simplified offset.\n */\nexport function douglasPeucker(flatCoordinates, offset, end, stride, squaredTolerance, simplifiedFlatCoordinates, simplifiedOffset) {\n    var n = (end - offset) / stride;\n    if (n < 3) {\n        for (; offset < end; offset += stride) {\n            simplifiedFlatCoordinates[simplifiedOffset++] = flatCoordinates[offset];\n            simplifiedFlatCoordinates[simplifiedOffset++] =\n                flatCoordinates[offset + 1];\n        }\n        return simplifiedOffset;\n    }\n    /** @type {Array<number>} */\n    var markers = new Array(n);\n    markers[0] = 1;\n    markers[n - 1] = 1;\n    /** @type {Array<number>} */\n    var stack = [offset, end - stride];\n    var index = 0;\n    while (stack.length > 0) {\n        var last = stack.pop();\n        var first = stack.pop();\n        var maxSquaredDistance = 0;\n        var x1 = flatCoordinates[first];\n        var y1 = flatCoordinates[first + 1];\n        var x2 = flatCoordinates[last];\n        var y2 = flatCoordinates[last + 1];\n        for (var i = first + stride; i < last; i += stride) {\n            var x = flatCoordinates[i];\n            var y = flatCoordinates[i + 1];\n            var squaredDistance_1 = squaredSegmentDistance(x, y, x1, y1, x2, y2);\n            if (squaredDistance_1 > maxSquaredDistance) {\n                index = i;\n                maxSquaredDistance = squaredDistance_1;\n            }\n        }\n        if (maxSquaredDistance > squaredTolerance) {\n            markers[(index - offset) / stride] = 1;\n            if (first + stride < index) {\n                stack.push(first, index);\n            }\n            if (index + stride < last) {\n                stack.push(index, last);\n            }\n        }\n    }\n    for (var i = 0; i < n; ++i) {\n        if (markers[i]) {\n            simplifiedFlatCoordinates[simplifiedOffset++] =\n                flatCoordinates[offset + i * stride];\n            simplifiedFlatCoordinates[simplifiedOffset++] =\n                flatCoordinates[offset + i * stride + 1];\n        }\n    }\n    return simplifiedOffset;\n}\n/**\n * @param {Array<number>} flatCoordinates Flat coordinates.\n * @param {number} offset Offset.\n * @param {Array<number>} ends Ends.\n * @param {number} stride Stride.\n * @param {number} squaredTolerance Squared tolerance.\n * @param {Array<number>} simplifiedFlatCoordinates Simplified flat\n *     coordinates.\n * @param {number} simplifiedOffset Simplified offset.\n * @param {Array<number>} simplifiedEnds Simplified ends.\n * @return {number} Simplified offset.\n */\nexport function douglasPeuckerArray(flatCoordinates, offset, ends, stride, squaredTolerance, simplifiedFlatCoordinates, simplifiedOffset, simplifiedEnds) {\n    for (var i = 0, ii = ends.length; i < ii; ++i) {\n        var end = ends[i];\n        simplifiedOffset = douglasPeucker(flatCoordinates, offset, end, stride, squaredTolerance, simplifiedFlatCoordinates, simplifiedOffset);\n        simplifiedEnds.push(simplifiedOffset);\n        offset = end;\n    }\n    return simplifiedOffset;\n}\n/**\n * @param {Array<number>} flatCoordinates Flat coordinates.\n * @param {number} offset Offset.\n * @param {Array<Array<number>>} endss Endss.\n * @param {number} stride Stride.\n * @param {number} squaredTolerance Squared tolerance.\n * @param {Array<number>} simplifiedFlatCoordinates Simplified flat\n *     coordinates.\n * @param {number} simplifiedOffset Simplified offset.\n * @param {Array<Array<number>>} simplifiedEndss Simplified endss.\n * @return {number} Simplified offset.\n */\nexport function douglasPeuckerMultiArray(flatCoordinates, offset, endss, stride, squaredTolerance, simplifiedFlatCoordinates, simplifiedOffset, simplifiedEndss) {\n    for (var i = 0, ii = endss.length; i < ii; ++i) {\n        var ends = endss[i];\n        var simplifiedEnds = [];\n        simplifiedOffset = douglasPeuckerArray(flatCoordinates, offset, ends, stride, squaredTolerance, simplifiedFlatCoordinates, simplifiedOffset, simplifiedEnds);\n        simplifiedEndss.push(simplifiedEnds);\n        offset = ends[ends.length - 1];\n    }\n    return simplifiedOffset;\n}\n/**\n * @param {Array<number>} flatCoordinates Flat coordinates.\n * @param {number} offset Offset.\n * @param {number} end End.\n * @param {number} stride Stride.\n * @param {number} squaredTolerance Squared tolerance.\n * @param {Array<number>} simplifiedFlatCoordinates Simplified flat\n *     coordinates.\n * @param {number} simplifiedOffset Simplified offset.\n * @return {number} Simplified offset.\n */\nexport function radialDistance(flatCoordinates, offset, end, stride, squaredTolerance, simplifiedFlatCoordinates, simplifiedOffset) {\n    if (end <= offset + stride) {\n        // zero or one point, no simplification possible, so copy and return\n        for (; offset < end; offset += stride) {\n            simplifiedFlatCoordinates[simplifiedOffset++] = flatCoordinates[offset];\n            simplifiedFlatCoordinates[simplifiedOffset++] =\n                flatCoordinates[offset + 1];\n        }\n        return simplifiedOffset;\n    }\n    var x1 = flatCoordinates[offset];\n    var y1 = flatCoordinates[offset + 1];\n    // copy first point\n    simplifiedFlatCoordinates[simplifiedOffset++] = x1;\n    simplifiedFlatCoordinates[simplifiedOffset++] = y1;\n    var x2 = x1;\n    var y2 = y1;\n    for (offset += stride; offset < end; offset += stride) {\n        x2 = flatCoordinates[offset];\n        y2 = flatCoordinates[offset + 1];\n        if (squaredDistance(x1, y1, x2, y2) > squaredTolerance) {\n            // copy point at offset\n            simplifiedFlatCoordinates[simplifiedOffset++] = x2;\n            simplifiedFlatCoordinates[simplifiedOffset++] = y2;\n            x1 = x2;\n            y1 = y2;\n        }\n    }\n    if (x2 != x1 || y2 != y1) {\n        // copy last point\n        simplifiedFlatCoordinates[simplifiedOffset++] = x2;\n        simplifiedFlatCoordinates[simplifiedOffset++] = y2;\n    }\n    return simplifiedOffset;\n}\n/**\n * @param {number} value Value.\n * @param {number} tolerance Tolerance.\n * @return {number} Rounded value.\n */\nexport function snap(value, tolerance) {\n    return tolerance * Math.round(value / tolerance);\n}\n/**\n * Simplifies a line string using an algorithm designed by Tim Schaub.\n * Coordinates are snapped to the nearest value in a virtual grid and\n * consecutive duplicate coordinates are discarded.  This effectively preserves\n * topology as the simplification of any subsection of a line string is\n * independent of the rest of the line string.  This means that, for examples,\n * the common edge between two polygons will be simplified to the same line\n * string independently in both polygons.  This implementation uses a single\n * pass over the coordinates and eliminates intermediate collinear points.\n * @param {Array<number>} flatCoordinates Flat coordinates.\n * @param {number} offset Offset.\n * @param {number} end End.\n * @param {number} stride Stride.\n * @param {number} tolerance Tolerance.\n * @param {Array<number>} simplifiedFlatCoordinates Simplified flat\n *     coordinates.\n * @param {number} simplifiedOffset Simplified offset.\n * @return {number} Simplified offset.\n */\nexport function quantize(flatCoordinates, offset, end, stride, tolerance, simplifiedFlatCoordinates, simplifiedOffset) {\n    // do nothing if the line is empty\n    if (offset == end) {\n        return simplifiedOffset;\n    }\n    // snap the first coordinate (P1)\n    var x1 = snap(flatCoordinates[offset], tolerance);\n    var y1 = snap(flatCoordinates[offset + 1], tolerance);\n    offset += stride;\n    // add the first coordinate to the output\n    simplifiedFlatCoordinates[simplifiedOffset++] = x1;\n    simplifiedFlatCoordinates[simplifiedOffset++] = y1;\n    // find the next coordinate that does not snap to the same value as the first\n    // coordinate (P2)\n    var x2, y2;\n    do {\n        x2 = snap(flatCoordinates[offset], tolerance);\n        y2 = snap(flatCoordinates[offset + 1], tolerance);\n        offset += stride;\n        if (offset == end) {\n            // all coordinates snap to the same value, the line collapses to a point\n            // push the last snapped value anyway to ensure that the output contains\n            // at least two points\n            // FIXME should we really return at least two points anyway?\n            simplifiedFlatCoordinates[simplifiedOffset++] = x2;\n            simplifiedFlatCoordinates[simplifiedOffset++] = y2;\n            return simplifiedOffset;\n        }\n    } while (x2 == x1 && y2 == y1);\n    while (offset < end) {\n        // snap the next coordinate (P3)\n        var x3 = snap(flatCoordinates[offset], tolerance);\n        var y3 = snap(flatCoordinates[offset + 1], tolerance);\n        offset += stride;\n        // skip P3 if it is equal to P2\n        if (x3 == x2 && y3 == y2) {\n            continue;\n        }\n        // calculate the delta between P1 and P2\n        var dx1 = x2 - x1;\n        var dy1 = y2 - y1;\n        // calculate the delta between P3 and P1\n        var dx2 = x3 - x1;\n        var dy2 = y3 - y1;\n        // if P1, P2, and P3 are colinear and P3 is further from P1 than P2 is from\n        // P1 in the same direction then P2 is on the straight line between P1 and\n        // P3\n        if (dx1 * dy2 == dy1 * dx2 &&\n            ((dx1 < 0 && dx2 < dx1) || dx1 == dx2 || (dx1 > 0 && dx2 > dx1)) &&\n            ((dy1 < 0 && dy2 < dy1) || dy1 == dy2 || (dy1 > 0 && dy2 > dy1))) {\n            // discard P2 and set P2 = P3\n            x2 = x3;\n            y2 = y3;\n            continue;\n        }\n        // either P1, P2, and P3 are not colinear, or they are colinear but P3 is\n        // between P3 and P1 or on the opposite half of the line to P2.  add P2,\n        // and continue with P1 = P2 and P2 = P3\n        simplifiedFlatCoordinates[simplifiedOffset++] = x2;\n        simplifiedFlatCoordinates[simplifiedOffset++] = y2;\n        x1 = x2;\n        y1 = y2;\n        x2 = x3;\n        y2 = y3;\n    }\n    // add the last point (P2)\n    simplifiedFlatCoordinates[simplifiedOffset++] = x2;\n    simplifiedFlatCoordinates[simplifiedOffset++] = y2;\n    return simplifiedOffset;\n}\n/**\n * @param {Array<number>} flatCoordinates Flat coordinates.\n * @param {number} offset Offset.\n * @param {Array<number>} ends Ends.\n * @param {number} stride Stride.\n * @param {number} tolerance Tolerance.\n * @param {Array<number>} simplifiedFlatCoordinates Simplified flat\n *     coordinates.\n * @param {number} simplifiedOffset Simplified offset.\n * @param {Array<number>} simplifiedEnds Simplified ends.\n * @return {number} Simplified offset.\n */\nexport function quantizeArray(flatCoordinates, offset, ends, stride, tolerance, simplifiedFlatCoordinates, simplifiedOffset, simplifiedEnds) {\n    for (var i = 0, ii = ends.length; i < ii; ++i) {\n        var end = ends[i];\n        simplifiedOffset = quantize(flatCoordinates, offset, end, stride, tolerance, simplifiedFlatCoordinates, simplifiedOffset);\n        simplifiedEnds.push(simplifiedOffset);\n        offset = end;\n    }\n    return simplifiedOffset;\n}\n/**\n * @param {Array<number>} flatCoordinates Flat coordinates.\n * @param {number} offset Offset.\n * @param {Array<Array<number>>} endss Endss.\n * @param {number} stride Stride.\n * @param {number} tolerance Tolerance.\n * @param {Array<number>} simplifiedFlatCoordinates Simplified flat\n *     coordinates.\n * @param {number} simplifiedOffset Simplified offset.\n * @param {Array<Array<number>>} simplifiedEndss Simplified endss.\n * @return {number} Simplified offset.\n */\nexport function quantizeMultiArray(flatCoordinates, offset, endss, stride, tolerance, simplifiedFlatCoordinates, simplifiedOffset, simplifiedEndss) {\n    for (var i = 0, ii = endss.length; i < ii; ++i) {\n        var ends = endss[i];\n        var simplifiedEnds = [];\n        simplifiedOffset = quantizeArray(flatCoordinates, offset, ends, stride, tolerance, simplifiedFlatCoordinates, simplifiedOffset, simplifiedEnds);\n        simplifiedEndss.push(simplifiedEnds);\n        offset = ends[ends.length - 1];\n    }\n    return simplifiedOffset;\n}\n//# sourceMappingURL=simplify.js.map","/**\n * @module ol/geom/flat/segments\n */\n/**\n * This function calls `callback` for each segment of the flat coordinates\n * array. If the callback returns a truthy value the function returns that\n * value immediately. Otherwise the function returns `false`.\n * @param {Array<number>} flatCoordinates Flat coordinates.\n * @param {number} offset Offset.\n * @param {number} end End.\n * @param {number} stride Stride.\n * @param {function(import(\"../../coordinate.js\").Coordinate, import(\"../../coordinate.js\").Coordinate): T} callback Function\n *     called for each segment.\n * @return {T|boolean} Value.\n * @template T\n */\nexport function forEach(flatCoordinates, offset, end, stride, callback) {\n    var point1 = [flatCoordinates[offset], flatCoordinates[offset + 1]];\n    var point2 = [];\n    var ret;\n    for (; offset + stride < end; offset += stride) {\n        point2[0] = flatCoordinates[offset + stride];\n        point2[1] = flatCoordinates[offset + stride + 1];\n        ret = callback(point1, point2);\n        if (ret) {\n            return ret;\n        }\n        point1[0] = point2[0];\n        point1[1] = point2[1];\n    }\n    return false;\n}\n//# sourceMappingURL=segments.js.map","/**\n * @module ol/geom/flat/inflate\n */\n/**\n * @param {Array<number>} flatCoordinates Flat coordinates.\n * @param {number} offset Offset.\n * @param {number} end End.\n * @param {number} stride Stride.\n * @param {Array<import(\"../../coordinate.js\").Coordinate>=} opt_coordinates Coordinates.\n * @return {Array<import(\"../../coordinate.js\").Coordinate>} Coordinates.\n */\nexport function inflateCoordinates(flatCoordinates, offset, end, stride, opt_coordinates) {\n    var coordinates = opt_coordinates !== undefined ? opt_coordinates : [];\n    var i = 0;\n    for (var j = offset; j < end; j += stride) {\n        coordinates[i++] = flatCoordinates.slice(j, j + stride);\n    }\n    coordinates.length = i;\n    return coordinates;\n}\n/**\n * @param {Array<number>} flatCoordinates Flat coordinates.\n * @param {number} offset Offset.\n * @param {Array<number>} ends Ends.\n * @param {number} stride Stride.\n * @param {Array<Array<import(\"../../coordinate.js\").Coordinate>>=} opt_coordinatess Coordinatess.\n * @return {Array<Array<import(\"../../coordinate.js\").Coordinate>>} Coordinatess.\n */\nexport function inflateCoordinatesArray(flatCoordinates, offset, ends, stride, opt_coordinatess) {\n    var coordinatess = opt_coordinatess !== undefined ? opt_coordinatess : [];\n    var i = 0;\n    for (var j = 0, jj = ends.length; j < jj; ++j) {\n        var end = ends[j];\n        coordinatess[i++] = inflateCoordinates(flatCoordinates, offset, end, stride, coordinatess[i]);\n        offset = end;\n    }\n    coordinatess.length = i;\n    return coordinatess;\n}\n/**\n * @param {Array<number>} flatCoordinates Flat coordinates.\n * @param {number} offset Offset.\n * @param {Array<Array<number>>} endss Endss.\n * @param {number} stride Stride.\n * @param {Array<Array<Array<import(\"../../coordinate.js\").Coordinate>>>=} opt_coordinatesss\n *     Coordinatesss.\n * @return {Array<Array<Array<import(\"../../coordinate.js\").Coordinate>>>} Coordinatesss.\n */\nexport function inflateMultiCoordinatesArray(flatCoordinates, offset, endss, stride, opt_coordinatesss) {\n    var coordinatesss = opt_coordinatesss !== undefined ? opt_coordinatesss : [];\n    var i = 0;\n    for (var j = 0, jj = endss.length; j < jj; ++j) {\n        var ends = endss[j];\n        coordinatesss[i++] = inflateCoordinatesArray(flatCoordinates, offset, ends, stride, coordinatesss[i]);\n        offset = ends[ends.length - 1];\n    }\n    coordinatesss.length = i;\n    return coordinatesss;\n}\n//# sourceMappingURL=inflate.js.map","/**\n * @module ol/geom/flat/interpolate\n */\nimport { binarySearch } from '../../array.js';\nimport { lerp } from '../../math.js';\n/**\n * @param {Array<number>} flatCoordinates Flat coordinates.\n * @param {number} offset Offset.\n * @param {number} end End.\n * @param {number} stride Stride.\n * @param {number} fraction Fraction.\n * @param {Array<number>=} opt_dest Destination.\n * @param {number=} opt_dimension Destination dimension (default is `2`)\n * @return {Array<number>} Destination.\n */\nexport function interpolatePoint(flatCoordinates, offset, end, stride, fraction, opt_dest, opt_dimension) {\n    var o, t;\n    var n = (end - offset) / stride;\n    if (n === 1) {\n        o = offset;\n    }\n    else if (n === 2) {\n        o = offset;\n        t = fraction;\n    }\n    else if (n !== 0) {\n        var x1 = flatCoordinates[offset];\n        var y1 = flatCoordinates[offset + 1];\n        var length_1 = 0;\n        var cumulativeLengths = [0];\n        for (var i = offset + stride; i < end; i += stride) {\n            var x2 = flatCoordinates[i];\n            var y2 = flatCoordinates[i + 1];\n            length_1 += Math.sqrt((x2 - x1) * (x2 - x1) + (y2 - y1) * (y2 - y1));\n            cumulativeLengths.push(length_1);\n            x1 = x2;\n            y1 = y2;\n        }\n        var target = fraction * length_1;\n        var index = binarySearch(cumulativeLengths, target);\n        if (index < 0) {\n            t =\n                (target - cumulativeLengths[-index - 2]) /\n                    (cumulativeLengths[-index - 1] - cumulativeLengths[-index - 2]);\n            o = offset + (-index - 2) * stride;\n        }\n        else {\n            o = offset + index * stride;\n        }\n    }\n    var dimension = opt_dimension > 1 ? opt_dimension : 2;\n    var dest = opt_dest ? opt_dest : new Array(dimension);\n    for (var i = 0; i < dimension; ++i) {\n        dest[i] =\n            o === undefined\n                ? NaN\n                : t === undefined\n                    ? flatCoordinates[o + i]\n                    : lerp(flatCoordinates[o + i], flatCoordinates[o + stride + i], t);\n    }\n    return dest;\n}\n/**\n * @param {Array<number>} flatCoordinates Flat coordinates.\n * @param {number} offset Offset.\n * @param {number} end End.\n * @param {number} stride Stride.\n * @param {number} m M.\n * @param {boolean} extrapolate Extrapolate.\n * @return {import(\"../../coordinate.js\").Coordinate} Coordinate.\n */\nexport function lineStringCoordinateAtM(flatCoordinates, offset, end, stride, m, extrapolate) {\n    if (end == offset) {\n        return null;\n    }\n    var coordinate;\n    if (m < flatCoordinates[offset + stride - 1]) {\n        if (extrapolate) {\n            coordinate = flatCoordinates.slice(offset, offset + stride);\n            coordinate[stride - 1] = m;\n            return coordinate;\n        }\n        else {\n            return null;\n        }\n    }\n    else if (flatCoordinates[end - 1] < m) {\n        if (extrapolate) {\n            coordinate = flatCoordinates.slice(end - stride, end);\n            coordinate[stride - 1] = m;\n            return coordinate;\n        }\n        else {\n            return null;\n        }\n    }\n    // FIXME use O(1) search\n    if (m == flatCoordinates[offset + stride - 1]) {\n        return flatCoordinates.slice(offset, offset + stride);\n    }\n    var lo = offset / stride;\n    var hi = end / stride;\n    while (lo < hi) {\n        var mid = (lo + hi) >> 1;\n        if (m < flatCoordinates[(mid + 1) * stride - 1]) {\n            hi = mid;\n        }\n        else {\n            lo = mid + 1;\n        }\n    }\n    var m0 = flatCoordinates[lo * stride - 1];\n    if (m == m0) {\n        return flatCoordinates.slice((lo - 1) * stride, (lo - 1) * stride + stride);\n    }\n    var m1 = flatCoordinates[(lo + 1) * stride - 1];\n    var t = (m - m0) / (m1 - m0);\n    coordinate = [];\n    for (var i = 0; i < stride - 1; ++i) {\n        coordinate.push(lerp(flatCoordinates[(lo - 1) * stride + i], flatCoordinates[lo * stride + i], t));\n    }\n    coordinate.push(m);\n    return coordinate;\n}\n/**\n * @param {Array<number>} flatCoordinates Flat coordinates.\n * @param {number} offset Offset.\n * @param {Array<number>} ends Ends.\n * @param {number} stride Stride.\n * @param {number} m M.\n * @param {boolean} extrapolate Extrapolate.\n * @param {boolean} interpolate Interpolate.\n * @return {import(\"../../coordinate.js\").Coordinate} Coordinate.\n */\nexport function lineStringsCoordinateAtM(flatCoordinates, offset, ends, stride, m, extrapolate, interpolate) {\n    if (interpolate) {\n        return lineStringCoordinateAtM(flatCoordinates, offset, ends[ends.length - 1], stride, m, extrapolate);\n    }\n    var coordinate;\n    if (m < flatCoordinates[stride - 1]) {\n        if (extrapolate) {\n            coordinate = flatCoordinates.slice(0, stride);\n            coordinate[stride - 1] = m;\n            return coordinate;\n        }\n        else {\n            return null;\n        }\n    }\n    if (flatCoordinates[flatCoordinates.length - 1] < m) {\n        if (extrapolate) {\n            coordinate = flatCoordinates.slice(flatCoordinates.length - stride);\n            coordinate[stride - 1] = m;\n            return coordinate;\n        }\n        else {\n            return null;\n        }\n    }\n    for (var i = 0, ii = ends.length; i < ii; ++i) {\n        var end = ends[i];\n        if (offset == end) {\n            continue;\n        }\n        if (m < flatCoordinates[offset + stride - 1]) {\n            return null;\n        }\n        else if (m <= flatCoordinates[end - 1]) {\n            return lineStringCoordinateAtM(flatCoordinates, offset, end, stride, m, false);\n        }\n        offset = end;\n    }\n    return null;\n}\n//# sourceMappingURL=interpolate.js.map","/**\n * @module ol/geom/flat/contains\n */\nimport { forEachCorner } from '../../extent.js';\n/**\n * @param {Array<number>} flatCoordinates Flat coordinates.\n * @param {number} offset Offset.\n * @param {number} end End.\n * @param {number} stride Stride.\n * @param {import(\"../../extent.js\").Extent} extent Extent.\n * @return {boolean} Contains extent.\n */\nexport function linearRingContainsExtent(flatCoordinates, offset, end, stride, extent) {\n    var outside = forEachCorner(extent, \n    /**\n     * @param {import(\"../../coordinate.js\").Coordinate} coordinate Coordinate.\n     * @return {boolean} Contains (x, y).\n     */\n    function (coordinate) {\n        return !linearRingContainsXY(flatCoordinates, offset, end, stride, coordinate[0], coordinate[1]);\n    });\n    return !outside;\n}\n/**\n * @param {Array<number>} flatCoordinates Flat coordinates.\n * @param {number} offset Offset.\n * @param {number} end End.\n * @param {number} stride Stride.\n * @param {number} x X.\n * @param {number} y Y.\n * @return {boolean} Contains (x, y).\n */\nexport function linearRingContainsXY(flatCoordinates, offset, end, stride, x, y) {\n    // http://geomalgorithms.com/a03-_inclusion.html\n    // Copyright 2000 softSurfer, 2012 Dan Sunday\n    // This code may be freely used and modified for any purpose\n    // providing that this copyright notice is included with it.\n    // SoftSurfer makes no warranty for this code, and cannot be held\n    // liable for any real or imagined damage resulting from its use.\n    // Users of this code must verify correctness for their application.\n    var wn = 0;\n    var x1 = flatCoordinates[end - stride];\n    var y1 = flatCoordinates[end - stride + 1];\n    for (; offset < end; offset += stride) {\n        var x2 = flatCoordinates[offset];\n        var y2 = flatCoordinates[offset + 1];\n        if (y1 <= y) {\n            if (y2 > y && (x2 - x1) * (y - y1) - (x - x1) * (y2 - y1) > 0) {\n                wn++;\n            }\n        }\n        else if (y2 <= y && (x2 - x1) * (y - y1) - (x - x1) * (y2 - y1) < 0) {\n            wn--;\n        }\n        x1 = x2;\n        y1 = y2;\n    }\n    return wn !== 0;\n}\n/**\n * @param {Array<number>} flatCoordinates Flat coordinates.\n * @param {number} offset Offset.\n * @param {Array<number>} ends Ends.\n * @param {number} stride Stride.\n * @param {number} x X.\n * @param {number} y Y.\n * @return {boolean} Contains (x, y).\n */\nexport function linearRingsContainsXY(flatCoordinates, offset, ends, stride, x, y) {\n    if (ends.length === 0) {\n        return false;\n    }\n    if (!linearRingContainsXY(flatCoordinates, offset, ends[0], stride, x, y)) {\n        return false;\n    }\n    for (var i = 1, ii = ends.length; i < ii; ++i) {\n        if (linearRingContainsXY(flatCoordinates, ends[i - 1], ends[i], stride, x, y)) {\n            return false;\n        }\n    }\n    return true;\n}\n/**\n * @param {Array<number>} flatCoordinates Flat coordinates.\n * @param {number} offset Offset.\n * @param {Array<Array<number>>} endss Endss.\n * @param {number} stride Stride.\n * @param {number} x X.\n * @param {number} y Y.\n * @return {boolean} Contains (x, y).\n */\nexport function linearRingssContainsXY(flatCoordinates, offset, endss, stride, x, y) {\n    if (endss.length === 0) {\n        return false;\n    }\n    for (var i = 0, ii = endss.length; i < ii; ++i) {\n        var ends = endss[i];\n        if (linearRingsContainsXY(flatCoordinates, offset, ends, stride, x, y)) {\n            return true;\n        }\n        offset = ends[ends.length - 1];\n    }\n    return false;\n}\n//# sourceMappingURL=contains.js.map","/**\n * @module ol/geom/flat/intersectsextent\n */\nimport { containsExtent, createEmpty, extendFlatCoordinates, intersects, intersectsSegment, } from '../../extent.js';\nimport { forEach as forEachSegment } from './segments.js';\nimport { linearRingContainsExtent, linearRingContainsXY } from './contains.js';\n/**\n * @param {Array<number>} flatCoordinates Flat coordinates.\n * @param {number} offset Offset.\n * @param {number} end End.\n * @param {number} stride Stride.\n * @param {import(\"../../extent.js\").Extent} extent Extent.\n * @return {boolean} True if the geometry and the extent intersect.\n */\nexport function intersectsLineString(flatCoordinates, offset, end, stride, extent) {\n    var coordinatesExtent = extendFlatCoordinates(createEmpty(), flatCoordinates, offset, end, stride);\n    if (!intersects(extent, coordinatesExtent)) {\n        return false;\n    }\n    if (containsExtent(extent, coordinatesExtent)) {\n        return true;\n    }\n    if (coordinatesExtent[0] >= extent[0] && coordinatesExtent[2] <= extent[2]) {\n        return true;\n    }\n    if (coordinatesExtent[1] >= extent[1] && coordinatesExtent[3] <= extent[3]) {\n        return true;\n    }\n    return forEachSegment(flatCoordinates, offset, end, stride, \n    /**\n     * @param {import(\"../../coordinate.js\").Coordinate} point1 Start point.\n     * @param {import(\"../../coordinate.js\").Coordinate} point2 End point.\n     * @return {boolean} `true` if the segment and the extent intersect,\n     *     `false` otherwise.\n     */\n    function (point1, point2) {\n        return intersectsSegment(extent, point1, point2);\n    });\n}\n/**\n * @param {Array<number>} flatCoordinates Flat coordinates.\n * @param {number} offset Offset.\n * @param {Array<number>} ends Ends.\n * @param {number} stride Stride.\n * @param {import(\"../../extent.js\").Extent} extent Extent.\n * @return {boolean} True if the geometry and the extent intersect.\n */\nexport function intersectsLineStringArray(flatCoordinates, offset, ends, stride, extent) {\n    for (var i = 0, ii = ends.length; i < ii; ++i) {\n        if (intersectsLineString(flatCoordinates, offset, ends[i], stride, extent)) {\n            return true;\n        }\n        offset = ends[i];\n    }\n    return false;\n}\n/**\n * @param {Array<number>} flatCoordinates Flat coordinates.\n * @param {number} offset Offset.\n * @param {number} end End.\n * @param {number} stride Stride.\n * @param {import(\"../../extent.js\").Extent} extent Extent.\n * @return {boolean} True if the geometry and the extent intersect.\n */\nexport function intersectsLinearRing(flatCoordinates, offset, end, stride, extent) {\n    if (intersectsLineString(flatCoordinates, offset, end, stride, extent)) {\n        return true;\n    }\n    if (linearRingContainsXY(flatCoordinates, offset, end, stride, extent[0], extent[1])) {\n        return true;\n    }\n    if (linearRingContainsXY(flatCoordinates, offset, end, stride, extent[0], extent[3])) {\n        return true;\n    }\n    if (linearRingContainsXY(flatCoordinates, offset, end, stride, extent[2], extent[1])) {\n        return true;\n    }\n    if (linearRingContainsXY(flatCoordinates, offset, end, stride, extent[2], extent[3])) {\n        return true;\n    }\n    return false;\n}\n/**\n * @param {Array<number>} flatCoordinates Flat coordinates.\n * @param {number} offset Offset.\n * @param {Array<number>} ends Ends.\n * @param {number} stride Stride.\n * @param {import(\"../../extent.js\").Extent} extent Extent.\n * @return {boolean} True if the geometry and the extent intersect.\n */\nexport function intersectsLinearRingArray(flatCoordinates, offset, ends, stride, extent) {\n    if (!intersectsLinearRing(flatCoordinates, offset, ends[0], stride, extent)) {\n        return false;\n    }\n    if (ends.length === 1) {\n        return true;\n    }\n    for (var i = 1, ii = ends.length; i < ii; ++i) {\n        if (linearRingContainsExtent(flatCoordinates, ends[i - 1], ends[i], stride, extent)) {\n            if (!intersectsLineString(flatCoordinates, ends[i - 1], ends[i], stride, extent)) {\n                return false;\n            }\n        }\n    }\n    return true;\n}\n/**\n * @param {Array<number>} flatCoordinates Flat coordinates.\n * @param {number} offset Offset.\n * @param {Array<Array<number>>} endss Endss.\n * @param {number} stride Stride.\n * @param {import(\"../../extent.js\").Extent} extent Extent.\n * @return {boolean} True if the geometry and the extent intersect.\n */\nexport function intersectsLinearRingMultiArray(flatCoordinates, offset, endss, stride, extent) {\n    for (var i = 0, ii = endss.length; i < ii; ++i) {\n        var ends = endss[i];\n        if (intersectsLinearRingArray(flatCoordinates, offset, ends, stride, extent)) {\n            return true;\n        }\n        offset = ends[ends.length - 1];\n    }\n    return false;\n}\n//# sourceMappingURL=intersectsextent.js.map","/**\n * @module ol/geom/flat/length\n */\n/**\n * @param {Array<number>} flatCoordinates Flat coordinates.\n * @param {number} offset Offset.\n * @param {number} end End.\n * @param {number} stride Stride.\n * @return {number} Length.\n */\nexport function lineStringLength(flatCoordinates, offset, end, stride) {\n    var x1 = flatCoordinates[offset];\n    var y1 = flatCoordinates[offset + 1];\n    var length = 0;\n    for (var i = offset + stride; i < end; i += stride) {\n        var x2 = flatCoordinates[i];\n        var y2 = flatCoordinates[i + 1];\n        length += Math.sqrt((x2 - x1) * (x2 - x1) + (y2 - y1) * (y2 - y1));\n        x1 = x2;\n        y1 = y2;\n    }\n    return length;\n}\n/**\n * @param {Array<number>} flatCoordinates Flat coordinates.\n * @param {number} offset Offset.\n * @param {number} end End.\n * @param {number} stride Stride.\n * @return {number} Perimeter.\n */\nexport function linearRingLength(flatCoordinates, offset, end, stride) {\n    var perimeter = lineStringLength(flatCoordinates, offset, end, stride);\n    var dx = flatCoordinates[end - stride] - flatCoordinates[offset];\n    var dy = flatCoordinates[end - stride + 1] - flatCoordinates[offset + 1];\n    perimeter += Math.sqrt(dx * dx + dy * dy);\n    return perimeter;\n}\n//# sourceMappingURL=length.js.map","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n/**\n * @module ol/geom/LineString\n */\nimport GeometryLayout from './GeometryLayout.js';\nimport GeometryType from './GeometryType.js';\nimport SimpleGeometry from './SimpleGeometry.js';\nimport { assignClosestPoint, maxSquaredDelta } from './flat/closest.js';\nimport { closestSquaredDistanceXY } from '../extent.js';\nimport { deflateCoordinates } from './flat/deflate.js';\nimport { douglasPeucker } from './flat/simplify.js';\nimport { extend } from '../array.js';\nimport { forEach as forEachSegment } from './flat/segments.js';\nimport { inflateCoordinates } from './flat/inflate.js';\nimport { interpolatePoint, lineStringCoordinateAtM } from './flat/interpolate.js';\nimport { intersectsLineString } from './flat/intersectsextent.js';\nimport { lineStringLength } from './flat/length.js';\n/**\n * @classdesc\n * Linestring geometry.\n *\n * @api\n */\nvar LineString = /** @class */ (function (_super) {\n    __extends(LineString, _super);\n    /**\n     * @param {Array<import(\"../coordinate.js\").Coordinate>|Array<number>} coordinates Coordinates.\n     *     For internal use, flat coordinates in combination with `opt_layout` are also accepted.\n     * @param {import(\"./GeometryLayout.js\").default=} opt_layout Layout.\n     */\n    function LineString(coordinates, opt_layout) {\n        var _this = _super.call(this) || this;\n        /**\n         * @private\n         * @type {import(\"../coordinate.js\").Coordinate}\n         */\n        _this.flatMidpoint_ = null;\n        /**\n         * @private\n         * @type {number}\n         */\n        _this.flatMidpointRevision_ = -1;\n        /**\n         * @private\n         * @type {number}\n         */\n        _this.maxDelta_ = -1;\n        /**\n         * @private\n         * @type {number}\n         */\n        _this.maxDeltaRevision_ = -1;\n        if (opt_layout !== undefined && !Array.isArray(coordinates[0])) {\n            _this.setFlatCoordinates(opt_layout, \n            /** @type {Array<number>} */ (coordinates));\n        }\n        else {\n            _this.setCoordinates(\n            /** @type {Array<import(\"../coordinate.js\").Coordinate>} */ (coordinates), opt_layout);\n        }\n        return _this;\n    }\n    /**\n     * Append the passed coordinate to the coordinates of the linestring.\n     * @param {import(\"../coordinate.js\").Coordinate} coordinate Coordinate.\n     * @api\n     */\n    LineString.prototype.appendCoordinate = function (coordinate) {\n        if (!this.flatCoordinates) {\n            this.flatCoordinates = coordinate.slice();\n        }\n        else {\n            extend(this.flatCoordinates, coordinate);\n        }\n        this.changed();\n    };\n    /**\n     * Make a complete copy of the geometry.\n     * @return {!LineString} Clone.\n     * @api\n     */\n    LineString.prototype.clone = function () {\n        var lineString = new LineString(this.flatCoordinates.slice(), this.layout);\n        lineString.applyProperties(this);\n        return lineString;\n    };\n    /**\n     * @param {number} x X.\n     * @param {number} y Y.\n     * @param {import(\"../coordinate.js\").Coordinate} closestPoint Closest point.\n     * @param {number} minSquaredDistance Minimum squared distance.\n     * @return {number} Minimum squared distance.\n     */\n    LineString.prototype.closestPointXY = function (x, y, closestPoint, minSquaredDistance) {\n        if (minSquaredDistance < closestSquaredDistanceXY(this.getExtent(), x, y)) {\n            return minSquaredDistance;\n        }\n        if (this.maxDeltaRevision_ != this.getRevision()) {\n            this.maxDelta_ = Math.sqrt(maxSquaredDelta(this.flatCoordinates, 0, this.flatCoordinates.length, this.stride, 0));\n            this.maxDeltaRevision_ = this.getRevision();\n        }\n        return assignClosestPoint(this.flatCoordinates, 0, this.flatCoordinates.length, this.stride, this.maxDelta_, false, x, y, closestPoint, minSquaredDistance);\n    };\n    /**\n     * Iterate over each segment, calling the provided callback.\n     * If the callback returns a truthy value the function returns that\n     * value immediately. Otherwise the function returns `false`.\n     *\n     * @param {function(this: S, import(\"../coordinate.js\").Coordinate, import(\"../coordinate.js\").Coordinate): T} callback Function\n     *     called for each segment. The function will receive two arguments, the start and end coordinates of the segment.\n     * @return {T|boolean} Value.\n     * @template T,S\n     * @api\n     */\n    LineString.prototype.forEachSegment = function (callback) {\n        return forEachSegment(this.flatCoordinates, 0, this.flatCoordinates.length, this.stride, callback);\n    };\n    /**\n     * Returns the coordinate at `m` using linear interpolation, or `null` if no\n     * such coordinate exists.\n     *\n     * `opt_extrapolate` controls extrapolation beyond the range of Ms in the\n     * MultiLineString. If `opt_extrapolate` is `true` then Ms less than the first\n     * M will return the first coordinate and Ms greater than the last M will\n     * return the last coordinate.\n     *\n     * @param {number} m M.\n     * @param {boolean=} opt_extrapolate Extrapolate. Default is `false`.\n     * @return {import(\"../coordinate.js\").Coordinate} Coordinate.\n     * @api\n     */\n    LineString.prototype.getCoordinateAtM = function (m, opt_extrapolate) {\n        if (this.layout != GeometryLayout.XYM &&\n            this.layout != GeometryLayout.XYZM) {\n            return null;\n        }\n        var extrapolate = opt_extrapolate !== undefined ? opt_extrapolate : false;\n        return lineStringCoordinateAtM(this.flatCoordinates, 0, this.flatCoordinates.length, this.stride, m, extrapolate);\n    };\n    /**\n     * Return the coordinates of the linestring.\n     * @return {Array<import(\"../coordinate.js\").Coordinate>} Coordinates.\n     * @api\n     */\n    LineString.prototype.getCoordinates = function () {\n        return inflateCoordinates(this.flatCoordinates, 0, this.flatCoordinates.length, this.stride);\n    };\n    /**\n     * Return the coordinate at the provided fraction along the linestring.\n     * The `fraction` is a number between 0 and 1, where 0 is the start of the\n     * linestring and 1 is the end.\n     * @param {number} fraction Fraction.\n     * @param {import(\"../coordinate.js\").Coordinate=} opt_dest Optional coordinate whose values will\n     *     be modified. If not provided, a new coordinate will be returned.\n     * @return {import(\"../coordinate.js\").Coordinate} Coordinate of the interpolated point.\n     * @api\n     */\n    LineString.prototype.getCoordinateAt = function (fraction, opt_dest) {\n        return interpolatePoint(this.flatCoordinates, 0, this.flatCoordinates.length, this.stride, fraction, opt_dest, this.stride);\n    };\n    /**\n     * Return the length of the linestring on projected plane.\n     * @return {number} Length (on projected plane).\n     * @api\n     */\n    LineString.prototype.getLength = function () {\n        return lineStringLength(this.flatCoordinates, 0, this.flatCoordinates.length, this.stride);\n    };\n    /**\n     * @return {Array<number>} Flat midpoint.\n     */\n    LineString.prototype.getFlatMidpoint = function () {\n        if (this.flatMidpointRevision_ != this.getRevision()) {\n            this.flatMidpoint_ = this.getCoordinateAt(0.5, this.flatMidpoint_);\n            this.flatMidpointRevision_ = this.getRevision();\n        }\n        return this.flatMidpoint_;\n    };\n    /**\n     * @param {number} squaredTolerance Squared tolerance.\n     * @return {LineString} Simplified LineString.\n     * @protected\n     */\n    LineString.prototype.getSimplifiedGeometryInternal = function (squaredTolerance) {\n        var simplifiedFlatCoordinates = [];\n        simplifiedFlatCoordinates.length = douglasPeucker(this.flatCoordinates, 0, this.flatCoordinates.length, this.stride, squaredTolerance, simplifiedFlatCoordinates, 0);\n        return new LineString(simplifiedFlatCoordinates, GeometryLayout.XY);\n    };\n    /**\n     * Get the type of this geometry.\n     * @return {import(\"./GeometryType.js\").default} Geometry type.\n     * @api\n     */\n    LineString.prototype.getType = function () {\n        return GeometryType.LINE_STRING;\n    };\n    /**\n     * Test if the geometry and the passed extent intersect.\n     * @param {import(\"../extent.js\").Extent} extent Extent.\n     * @return {boolean} `true` if the geometry and the extent intersect.\n     * @api\n     */\n    LineString.prototype.intersectsExtent = function (extent) {\n        return intersectsLineString(this.flatCoordinates, 0, this.flatCoordinates.length, this.stride, extent);\n    };\n    /**\n     * Set the coordinates of the linestring.\n     * @param {!Array<import(\"../coordinate.js\").Coordinate>} coordinates Coordinates.\n     * @param {import(\"./GeometryLayout.js\").default=} opt_layout Layout.\n     * @api\n     */\n    LineString.prototype.setCoordinates = function (coordinates, opt_layout) {\n        this.setLayout(opt_layout, coordinates, 1);\n        if (!this.flatCoordinates) {\n            this.flatCoordinates = [];\n        }\n        this.flatCoordinates.length = deflateCoordinates(this.flatCoordinates, 0, coordinates, this.stride);\n        this.changed();\n    };\n    return LineString;\n}(SimpleGeometry));\nexport default LineString;\n//# sourceMappingURL=LineString.js.map","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n/**\n * @module ol/geom/MultiLineString\n */\nimport GeometryLayout from './GeometryLayout.js';\nimport GeometryType from './GeometryType.js';\nimport LineString from './LineString.js';\nimport SimpleGeometry from './SimpleGeometry.js';\nimport { arrayMaxSquaredDelta, assignClosestArrayPoint } from './flat/closest.js';\nimport { closestSquaredDistanceXY } from '../extent.js';\nimport { deflateCoordinatesArray } from './flat/deflate.js';\nimport { douglasPeuckerArray } from './flat/simplify.js';\nimport { extend } from '../array.js';\nimport { inflateCoordinatesArray } from './flat/inflate.js';\nimport { interpolatePoint, lineStringsCoordinateAtM, } from './flat/interpolate.js';\nimport { intersectsLineStringArray } from './flat/intersectsextent.js';\n/**\n * @classdesc\n * Multi-linestring geometry.\n *\n * @api\n */\nvar MultiLineString = /** @class */ (function (_super) {\n    __extends(MultiLineString, _super);\n    /**\n     * @param {Array<Array<import(\"../coordinate.js\").Coordinate>|LineString>|Array<number>} coordinates\n     *     Coordinates or LineString geometries. (For internal use, flat coordinates in\n     *     combination with `opt_layout` and `opt_ends` are also accepted.)\n     * @param {import(\"./GeometryLayout.js\").default=} opt_layout Layout.\n     * @param {Array<number>=} opt_ends Flat coordinate ends for internal use.\n     */\n    function MultiLineString(coordinates, opt_layout, opt_ends) {\n        var _this = _super.call(this) || this;\n        /**\n         * @type {Array<number>}\n         * @private\n         */\n        _this.ends_ = [];\n        /**\n         * @private\n         * @type {number}\n         */\n        _this.maxDelta_ = -1;\n        /**\n         * @private\n         * @type {number}\n         */\n        _this.maxDeltaRevision_ = -1;\n        if (Array.isArray(coordinates[0])) {\n            _this.setCoordinates(\n            /** @type {Array<Array<import(\"../coordinate.js\").Coordinate>>} */ (coordinates), opt_layout);\n        }\n        else if (opt_layout !== undefined && opt_ends) {\n            _this.setFlatCoordinates(opt_layout, \n            /** @type {Array<number>} */ (coordinates));\n            _this.ends_ = opt_ends;\n        }\n        else {\n            var layout = _this.getLayout();\n            var lineStrings = /** @type {Array<LineString>} */ (coordinates);\n            var flatCoordinates = [];\n            var ends = [];\n            for (var i = 0, ii = lineStrings.length; i < ii; ++i) {\n                var lineString = lineStrings[i];\n                if (i === 0) {\n                    layout = lineString.getLayout();\n                }\n                extend(flatCoordinates, lineString.getFlatCoordinates());\n                ends.push(flatCoordinates.length);\n            }\n            _this.setFlatCoordinates(layout, flatCoordinates);\n            _this.ends_ = ends;\n        }\n        return _this;\n    }\n    /**\n     * Append the passed linestring to the multilinestring.\n     * @param {LineString} lineString LineString.\n     * @api\n     */\n    MultiLineString.prototype.appendLineString = function (lineString) {\n        if (!this.flatCoordinates) {\n            this.flatCoordinates = lineString.getFlatCoordinates().slice();\n        }\n        else {\n            extend(this.flatCoordinates, lineString.getFlatCoordinates().slice());\n        }\n        this.ends_.push(this.flatCoordinates.length);\n        this.changed();\n    };\n    /**\n     * Make a complete copy of the geometry.\n     * @return {!MultiLineString} Clone.\n     * @api\n     */\n    MultiLineString.prototype.clone = function () {\n        var multiLineString = new MultiLineString(this.flatCoordinates.slice(), this.layout, this.ends_.slice());\n        multiLineString.applyProperties(this);\n        return multiLineString;\n    };\n    /**\n     * @param {number} x X.\n     * @param {number} y Y.\n     * @param {import(\"../coordinate.js\").Coordinate} closestPoint Closest point.\n     * @param {number} minSquaredDistance Minimum squared distance.\n     * @return {number} Minimum squared distance.\n     */\n    MultiLineString.prototype.closestPointXY = function (x, y, closestPoint, minSquaredDistance) {\n        if (minSquaredDistance < closestSquaredDistanceXY(this.getExtent(), x, y)) {\n            return minSquaredDistance;\n        }\n        if (this.maxDeltaRevision_ != this.getRevision()) {\n            this.maxDelta_ = Math.sqrt(arrayMaxSquaredDelta(this.flatCoordinates, 0, this.ends_, this.stride, 0));\n            this.maxDeltaRevision_ = this.getRevision();\n        }\n        return assignClosestArrayPoint(this.flatCoordinates, 0, this.ends_, this.stride, this.maxDelta_, false, x, y, closestPoint, minSquaredDistance);\n    };\n    /**\n     * Returns the coordinate at `m` using linear interpolation, or `null` if no\n     * such coordinate exists.\n     *\n     * `opt_extrapolate` controls extrapolation beyond the range of Ms in the\n     * MultiLineString. If `opt_extrapolate` is `true` then Ms less than the first\n     * M will return the first coordinate and Ms greater than the last M will\n     * return the last coordinate.\n     *\n     * `opt_interpolate` controls interpolation between consecutive LineStrings\n     * within the MultiLineString. If `opt_interpolate` is `true` the coordinates\n     * will be linearly interpolated between the last coordinate of one LineString\n     * and the first coordinate of the next LineString.  If `opt_interpolate` is\n     * `false` then the function will return `null` for Ms falling between\n     * LineStrings.\n     *\n     * @param {number} m M.\n     * @param {boolean=} opt_extrapolate Extrapolate. Default is `false`.\n     * @param {boolean=} opt_interpolate Interpolate. Default is `false`.\n     * @return {import(\"../coordinate.js\").Coordinate} Coordinate.\n     * @api\n     */\n    MultiLineString.prototype.getCoordinateAtM = function (m, opt_extrapolate, opt_interpolate) {\n        if ((this.layout != GeometryLayout.XYM &&\n            this.layout != GeometryLayout.XYZM) ||\n            this.flatCoordinates.length === 0) {\n            return null;\n        }\n        var extrapolate = opt_extrapolate !== undefined ? opt_extrapolate : false;\n        var interpolate = opt_interpolate !== undefined ? opt_interpolate : false;\n        return lineStringsCoordinateAtM(this.flatCoordinates, 0, this.ends_, this.stride, m, extrapolate, interpolate);\n    };\n    /**\n     * Return the coordinates of the multilinestring.\n     * @return {Array<Array<import(\"../coordinate.js\").Coordinate>>} Coordinates.\n     * @api\n     */\n    MultiLineString.prototype.getCoordinates = function () {\n        return inflateCoordinatesArray(this.flatCoordinates, 0, this.ends_, this.stride);\n    };\n    /**\n     * @return {Array<number>} Ends.\n     */\n    MultiLineString.prototype.getEnds = function () {\n        return this.ends_;\n    };\n    /**\n     * Return the linestring at the specified index.\n     * @param {number} index Index.\n     * @return {LineString} LineString.\n     * @api\n     */\n    MultiLineString.prototype.getLineString = function (index) {\n        if (index < 0 || this.ends_.length <= index) {\n            return null;\n        }\n        return new LineString(this.flatCoordinates.slice(index === 0 ? 0 : this.ends_[index - 1], this.ends_[index]), this.layout);\n    };\n    /**\n     * Return the linestrings of this multilinestring.\n     * @return {Array<LineString>} LineStrings.\n     * @api\n     */\n    MultiLineString.prototype.getLineStrings = function () {\n        var flatCoordinates = this.flatCoordinates;\n        var ends = this.ends_;\n        var layout = this.layout;\n        /** @type {Array<LineString>} */\n        var lineStrings = [];\n        var offset = 0;\n        for (var i = 0, ii = ends.length; i < ii; ++i) {\n            var end = ends[i];\n            var lineString = new LineString(flatCoordinates.slice(offset, end), layout);\n            lineStrings.push(lineString);\n            offset = end;\n        }\n        return lineStrings;\n    };\n    /**\n     * @return {Array<number>} Flat midpoints.\n     */\n    MultiLineString.prototype.getFlatMidpoints = function () {\n        var midpoints = [];\n        var flatCoordinates = this.flatCoordinates;\n        var offset = 0;\n        var ends = this.ends_;\n        var stride = this.stride;\n        for (var i = 0, ii = ends.length; i < ii; ++i) {\n            var end = ends[i];\n            var midpoint = interpolatePoint(flatCoordinates, offset, end, stride, 0.5);\n            extend(midpoints, midpoint);\n            offset = end;\n        }\n        return midpoints;\n    };\n    /**\n     * @param {number} squaredTolerance Squared tolerance.\n     * @return {MultiLineString} Simplified MultiLineString.\n     * @protected\n     */\n    MultiLineString.prototype.getSimplifiedGeometryInternal = function (squaredTolerance) {\n        var simplifiedFlatCoordinates = [];\n        var simplifiedEnds = [];\n        simplifiedFlatCoordinates.length = douglasPeuckerArray(this.flatCoordinates, 0, this.ends_, this.stride, squaredTolerance, simplifiedFlatCoordinates, 0, simplifiedEnds);\n        return new MultiLineString(simplifiedFlatCoordinates, GeometryLayout.XY, simplifiedEnds);\n    };\n    /**\n     * Get the type of this geometry.\n     * @return {import(\"./GeometryType.js\").default} Geometry type.\n     * @api\n     */\n    MultiLineString.prototype.getType = function () {\n        return GeometryType.MULTI_LINE_STRING;\n    };\n    /**\n     * Test if the geometry and the passed extent intersect.\n     * @param {import(\"../extent.js\").Extent} extent Extent.\n     * @return {boolean} `true` if the geometry and the extent intersect.\n     * @api\n     */\n    MultiLineString.prototype.intersectsExtent = function (extent) {\n        return intersectsLineStringArray(this.flatCoordinates, 0, this.ends_, this.stride, extent);\n    };\n    /**\n     * Set the coordinates of the multilinestring.\n     * @param {!Array<Array<import(\"../coordinate.js\").Coordinate>>} coordinates Coordinates.\n     * @param {GeometryLayout=} opt_layout Layout.\n     * @api\n     */\n    MultiLineString.prototype.setCoordinates = function (coordinates, opt_layout) {\n        this.setLayout(opt_layout, coordinates, 2);\n        if (!this.flatCoordinates) {\n            this.flatCoordinates = [];\n        }\n        var ends = deflateCoordinatesArray(this.flatCoordinates, 0, coordinates, this.stride, this.ends_);\n        this.flatCoordinates.length = ends.length === 0 ? 0 : ends[ends.length - 1];\n        this.changed();\n    };\n    return MultiLineString;\n}(SimpleGeometry));\nexport default MultiLineString;\n//# sourceMappingURL=MultiLineString.js.map","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n/**\n * @module ol/geom/Point\n */\nimport GeometryType from './GeometryType.js';\nimport SimpleGeometry from './SimpleGeometry.js';\nimport { containsXY, createOrUpdateFromCoordinate } from '../extent.js';\nimport { deflateCoordinate } from './flat/deflate.js';\nimport { squaredDistance as squaredDx } from '../math.js';\n/**\n * @classdesc\n * Point geometry.\n *\n * @api\n */\nvar Point = /** @class */ (function (_super) {\n    __extends(Point, _super);\n    /**\n     * @param {import(\"../coordinate.js\").Coordinate} coordinates Coordinates.\n     * @param {import(\"./GeometryLayout.js\").default=} opt_layout Layout.\n     */\n    function Point(coordinates, opt_layout) {\n        var _this = _super.call(this) || this;\n        _this.setCoordinates(coordinates, opt_layout);\n        return _this;\n    }\n    /**\n     * Make a complete copy of the geometry.\n     * @return {!Point} Clone.\n     * @api\n     */\n    Point.prototype.clone = function () {\n        var point = new Point(this.flatCoordinates.slice(), this.layout);\n        point.applyProperties(this);\n        return point;\n    };\n    /**\n     * @param {number} x X.\n     * @param {number} y Y.\n     * @param {import(\"../coordinate.js\").Coordinate} closestPoint Closest point.\n     * @param {number} minSquaredDistance Minimum squared distance.\n     * @return {number} Minimum squared distance.\n     */\n    Point.prototype.closestPointXY = function (x, y, closestPoint, minSquaredDistance) {\n        var flatCoordinates = this.flatCoordinates;\n        var squaredDistance = squaredDx(x, y, flatCoordinates[0], flatCoordinates[1]);\n        if (squaredDistance < minSquaredDistance) {\n            var stride = this.stride;\n            for (var i = 0; i < stride; ++i) {\n                closestPoint[i] = flatCoordinates[i];\n            }\n            closestPoint.length = stride;\n            return squaredDistance;\n        }\n        else {\n            return minSquaredDistance;\n        }\n    };\n    /**\n     * Return the coordinate of the point.\n     * @return {import(\"../coordinate.js\").Coordinate} Coordinates.\n     * @api\n     */\n    Point.prototype.getCoordinates = function () {\n        return !this.flatCoordinates ? [] : this.flatCoordinates.slice();\n    };\n    /**\n     * @param {import(\"../extent.js\").Extent} extent Extent.\n     * @protected\n     * @return {import(\"../extent.js\").Extent} extent Extent.\n     */\n    Point.prototype.computeExtent = function (extent) {\n        return createOrUpdateFromCoordinate(this.flatCoordinates, extent);\n    };\n    /**\n     * Get the type of this geometry.\n     * @return {import(\"./GeometryType.js\").default} Geometry type.\n     * @api\n     */\n    Point.prototype.getType = function () {\n        return GeometryType.POINT;\n    };\n    /**\n     * Test if the geometry and the passed extent intersect.\n     * @param {import(\"../extent.js\").Extent} extent Extent.\n     * @return {boolean} `true` if the geometry and the extent intersect.\n     * @api\n     */\n    Point.prototype.intersectsExtent = function (extent) {\n        return containsXY(extent, this.flatCoordinates[0], this.flatCoordinates[1]);\n    };\n    /**\n     * @param {!Array<*>} coordinates Coordinates.\n     * @param {import(\"./GeometryLayout.js\").default=} opt_layout Layout.\n     * @api\n     */\n    Point.prototype.setCoordinates = function (coordinates, opt_layout) {\n        this.setLayout(opt_layout, coordinates, 0);\n        if (!this.flatCoordinates) {\n            this.flatCoordinates = [];\n        }\n        this.flatCoordinates.length = deflateCoordinate(this.flatCoordinates, 0, coordinates, this.stride);\n        this.changed();\n    };\n    return Point;\n}(SimpleGeometry));\nexport default Point;\n//# sourceMappingURL=Point.js.map","/**\n * @module ol/format/Feature\n */\nimport Units from '../proj/Units.js';\nimport { abstract } from '../util.js';\nimport { assign } from '../obj.js';\nimport { equivalent as equivalentProjection, get as getProjection, transformExtent, } from '../proj.js';\n/**\n * @typedef {Object} ReadOptions\n * @property {import(\"../proj.js\").ProjectionLike} [dataProjection] Projection of the data we are reading.\n * If not provided, the projection will be derived from the data (where possible) or\n * the `dataProjection` of the format is assigned (where set). If the projection\n * can not be derived from the data and if no `dataProjection` is set for a format,\n * the features will not be reprojected.\n * @property {import(\"../extent.js\").Extent} [extent] Tile extent in map units of the tile being read.\n * This is only required when reading data with tile pixels as geometry units. When configured,\n * a `dataProjection` with `TILE_PIXELS` as `units` and the tile's pixel extent as `extent` needs to be\n * provided.\n * @property {import(\"../proj.js\").ProjectionLike} [featureProjection] Projection of the feature geometries\n * created by the format reader. If not provided, features will be returned in the\n * `dataProjection`.\n */\n/**\n * @typedef {Object} WriteOptions\n * @property {import(\"../proj.js\").ProjectionLike} [dataProjection] Projection of the data we are writing.\n * If not provided, the `dataProjection` of the format is assigned (where set).\n * If no `dataProjection` is set for a format, the features will be returned\n * in the `featureProjection`.\n * @property {import(\"../proj.js\").ProjectionLike} [featureProjection] Projection of the feature geometries\n * that will be serialized by the format writer. If not provided, geometries are assumed\n * to be in the `dataProjection` if that is set; in other words, they are not transformed.\n * @property {boolean} [rightHanded] When writing geometries, follow the right-hand\n * rule for linear ring orientation.  This means that polygons will have counter-clockwise\n * exterior rings and clockwise interior rings.  By default, coordinates are serialized\n * as they are provided at construction.  If `true`, the right-hand rule will\n * be applied.  If `false`, the left-hand rule will be applied (clockwise for\n * exterior and counter-clockwise for interior rings).  Note that not all\n * formats support this.  The GeoJSON format does use this property when writing\n * geometries.\n * @property {number} [decimals] Maximum number of decimal places for coordinates.\n * Coordinates are stored internally as floats, but floating-point arithmetic can create\n * coordinates with a large number of decimal places, not generally wanted on output.\n * Set a number here to round coordinates. Can also be used to ensure that\n * coordinates read in can be written back out with the same number of decimals.\n * Default is no rounding.\n */\n/**\n * @classdesc\n * Abstract base class; normally only used for creating subclasses and not\n * instantiated in apps.\n * Base class for feature formats.\n * {@link module:ol/format/Feature~FeatureFormat} subclasses provide the ability to decode and encode\n * {@link module:ol/Feature~Feature} objects from a variety of commonly used geospatial\n * file formats.  See the documentation for each format for more details.\n *\n * @abstract\n * @api\n */\nvar FeatureFormat = /** @class */ (function () {\n    function FeatureFormat() {\n        /**\n         * @protected\n         * @type {import(\"../proj/Projection.js\").default}\n         */\n        this.dataProjection = null;\n        /**\n         * @protected\n         * @type {import(\"../proj/Projection.js\").default}\n         */\n        this.defaultFeatureProjection = null;\n    }\n    /**\n     * Adds the data projection to the read options.\n     * @param {Document|Element|Object|string} source Source.\n     * @param {ReadOptions=} opt_options Options.\n     * @return {ReadOptions|undefined} Options.\n     * @protected\n     */\n    FeatureFormat.prototype.getReadOptions = function (source, opt_options) {\n        var options;\n        if (opt_options) {\n            var dataProjection = opt_options.dataProjection\n                ? getProjection(opt_options.dataProjection)\n                : this.readProjection(source);\n            if (opt_options.extent &&\n                dataProjection &&\n                dataProjection.getUnits() === Units.TILE_PIXELS) {\n                dataProjection = getProjection(dataProjection);\n                dataProjection.setWorldExtent(opt_options.extent);\n            }\n            options = {\n                dataProjection: dataProjection,\n                featureProjection: opt_options.featureProjection,\n            };\n        }\n        return this.adaptOptions(options);\n    };\n    /**\n     * Sets the `dataProjection` on the options, if no `dataProjection`\n     * is set.\n     * @param {WriteOptions|ReadOptions|undefined} options\n     *     Options.\n     * @protected\n     * @return {WriteOptions|ReadOptions|undefined}\n     *     Updated options.\n     */\n    FeatureFormat.prototype.adaptOptions = function (options) {\n        return assign({\n            dataProjection: this.dataProjection,\n            featureProjection: this.defaultFeatureProjection,\n        }, options);\n    };\n    /**\n     * @abstract\n     * @return {import(\"./FormatType.js\").default} Format.\n     */\n    FeatureFormat.prototype.getType = function () {\n        return abstract();\n    };\n    /**\n     * Read a single feature from a source.\n     *\n     * @abstract\n     * @param {Document|Element|Object|string} source Source.\n     * @param {ReadOptions=} opt_options Read options.\n     * @return {import(\"../Feature.js\").FeatureLike} Feature.\n     */\n    FeatureFormat.prototype.readFeature = function (source, opt_options) {\n        return abstract();\n    };\n    /**\n     * Read all features from a source.\n     *\n     * @abstract\n     * @param {Document|Element|ArrayBuffer|Object|string} source Source.\n     * @param {ReadOptions=} opt_options Read options.\n     * @return {Array<import(\"../Feature.js\").FeatureLike>} Features.\n     */\n    FeatureFormat.prototype.readFeatures = function (source, opt_options) {\n        return abstract();\n    };\n    /**\n     * Read a single geometry from a source.\n     *\n     * @abstract\n     * @param {Document|Element|Object|string} source Source.\n     * @param {ReadOptions=} opt_options Read options.\n     * @return {import(\"../geom/Geometry.js\").default} Geometry.\n     */\n    FeatureFormat.prototype.readGeometry = function (source, opt_options) {\n        return abstract();\n    };\n    /**\n     * Read the projection from a source.\n     *\n     * @abstract\n     * @param {Document|Element|Object|string} source Source.\n     * @return {import(\"../proj/Projection.js\").default} Projection.\n     */\n    FeatureFormat.prototype.readProjection = function (source) {\n        return abstract();\n    };\n    /**\n     * Encode a feature in this format.\n     *\n     * @abstract\n     * @param {import(\"../Feature.js\").default} feature Feature.\n     * @param {WriteOptions=} opt_options Write options.\n     * @return {string} Result.\n     */\n    FeatureFormat.prototype.writeFeature = function (feature, opt_options) {\n        return abstract();\n    };\n    /**\n     * Encode an array of features in this format.\n     *\n     * @abstract\n     * @param {Array<import(\"../Feature.js\").default>} features Features.\n     * @param {WriteOptions=} opt_options Write options.\n     * @return {string} Result.\n     */\n    FeatureFormat.prototype.writeFeatures = function (features, opt_options) {\n        return abstract();\n    };\n    /**\n     * Write a single geometry in this format.\n     *\n     * @abstract\n     * @param {import(\"../geom/Geometry.js\").default} geometry Geometry.\n     * @param {WriteOptions=} opt_options Write options.\n     * @return {string} Result.\n     */\n    FeatureFormat.prototype.writeGeometry = function (geometry, opt_options) {\n        return abstract();\n    };\n    return FeatureFormat;\n}());\nexport default FeatureFormat;\n/**\n * @param {import(\"../geom/Geometry.js\").default} geometry Geometry.\n * @param {boolean} write Set to true for writing, false for reading.\n * @param {(WriteOptions|ReadOptions)=} opt_options Options.\n * @return {import(\"../geom/Geometry.js\").default} Transformed geometry.\n */\nexport function transformGeometryWithOptions(geometry, write, opt_options) {\n    var featureProjection = opt_options\n        ? getProjection(opt_options.featureProjection)\n        : null;\n    var dataProjection = opt_options\n        ? getProjection(opt_options.dataProjection)\n        : null;\n    var transformed;\n    if (featureProjection &&\n        dataProjection &&\n        !equivalentProjection(featureProjection, dataProjection)) {\n        transformed = (write ? geometry.clone() : geometry).transform(write ? featureProjection : dataProjection, write ? dataProjection : featureProjection);\n    }\n    else {\n        transformed = geometry;\n    }\n    if (write &&\n        opt_options &&\n        /** @type {WriteOptions} */ (opt_options).decimals !== undefined) {\n        var power_1 = Math.pow(10, \n        /** @type {WriteOptions} */ (opt_options).decimals);\n        // if decimals option on write, round each coordinate appropriately\n        /**\n         * @param {Array<number>} coordinates Coordinates.\n         * @return {Array<number>} Transformed coordinates.\n         */\n        var transform = function (coordinates) {\n            for (var i = 0, ii = coordinates.length; i < ii; ++i) {\n                coordinates[i] = Math.round(coordinates[i] * power_1) / power_1;\n            }\n            return coordinates;\n        };\n        if (transformed === geometry) {\n            transformed = geometry.clone();\n        }\n        transformed.applyTransform(transform);\n    }\n    return transformed;\n}\n/**\n * @param {import(\"../extent.js\").Extent} extent Extent.\n * @param {ReadOptions=} opt_options Read options.\n * @return {import(\"../extent.js\").Extent} Transformed extent.\n */\nexport function transformExtentWithOptions(extent, opt_options) {\n    var featureProjection = opt_options\n        ? getProjection(opt_options.featureProjection)\n        : null;\n    var dataProjection = opt_options\n        ? getProjection(opt_options.dataProjection)\n        : null;\n    if (featureProjection &&\n        dataProjection &&\n        !equivalentProjection(featureProjection, dataProjection)) {\n        return transformExtent(extent, dataProjection, featureProjection);\n    }\n    else {\n        return extent;\n    }\n}\n//# sourceMappingURL=Feature.js.map","/**\n * @module ol/format/FormatType\n */\n/**\n * @enum {string}\n */\nexport default {\n    ARRAY_BUFFER: 'arraybuffer',\n    JSON: 'json',\n    TEXT: 'text',\n    XML: 'xml',\n};\n//# sourceMappingURL=FormatType.js.map","/**\n * @module ol/xml\n */\nimport { extend } from './array.js';\n/**\n * When using {@link module:ol/xml~makeChildAppender} or\n * {@link module:ol/xml~makeSimpleNodeFactory}, the top `objectStack` item needs\n * to have this structure.\n * @typedef {Object} NodeStackItem\n * @property {Node} node\n */\n/**\n * @typedef {function(Element, Array<*>): void} Parser\n */\n/**\n * @typedef {function(Element, *, Array<*>): void} Serializer\n */\n/**\n * @type {string}\n */\nexport var XML_SCHEMA_INSTANCE_URI = 'http://www.w3.org/2001/XMLSchema-instance';\n/**\n * @param {string} namespaceURI Namespace URI.\n * @param {string} qualifiedName Qualified name.\n * @return {Element} Node.\n */\nexport function createElementNS(namespaceURI, qualifiedName) {\n    return getDocument().createElementNS(namespaceURI, qualifiedName);\n}\n/**\n * Recursively grab all text content of child nodes into a single string.\n * @param {Node} node Node.\n * @param {boolean} normalizeWhitespace Normalize whitespace: remove all line\n * breaks.\n * @return {string} All text content.\n * @api\n */\nexport function getAllTextContent(node, normalizeWhitespace) {\n    return getAllTextContent_(node, normalizeWhitespace, []).join('');\n}\n/**\n * Recursively grab all text content of child nodes into a single string.\n * @param {Node} node Node.\n * @param {boolean} normalizeWhitespace Normalize whitespace: remove all line\n * breaks.\n * @param {Array<string>} accumulator Accumulator.\n * @private\n * @return {Array<string>} Accumulator.\n */\nexport function getAllTextContent_(node, normalizeWhitespace, accumulator) {\n    if (node.nodeType == Node.CDATA_SECTION_NODE ||\n        node.nodeType == Node.TEXT_NODE) {\n        if (normalizeWhitespace) {\n            accumulator.push(String(node.nodeValue).replace(/(\\r\\n|\\r|\\n)/g, ''));\n        }\n        else {\n            accumulator.push(node.nodeValue);\n        }\n    }\n    else {\n        var n = void 0;\n        for (n = node.firstChild; n; n = n.nextSibling) {\n            getAllTextContent_(n, normalizeWhitespace, accumulator);\n        }\n    }\n    return accumulator;\n}\n/**\n * @param {Object} object Object.\n * @return {boolean} Is a document.\n */\nexport function isDocument(object) {\n    return 'documentElement' in object;\n}\n/**\n * @param {Element} node Node.\n * @param {?string} namespaceURI Namespace URI.\n * @param {string} name Attribute name.\n * @return {string} Value\n */\nexport function getAttributeNS(node, namespaceURI, name) {\n    return node.getAttributeNS(namespaceURI, name) || '';\n}\n/**\n * Parse an XML string to an XML Document.\n * @param {string} xml XML.\n * @return {Document} Document.\n * @api\n */\nexport function parse(xml) {\n    return new DOMParser().parseFromString(xml, 'application/xml');\n}\n/**\n * Make an array extender function for extending the array at the top of the\n * object stack.\n * @param {function(this: T, Node, Array<*>): (Array<*>|undefined)} valueReader Value reader.\n * @param {T=} opt_this The object to use as `this` in `valueReader`.\n * @return {Parser} Parser.\n * @template T\n */\nexport function makeArrayExtender(valueReader, opt_this) {\n    return (\n    /**\n     * @param {Node} node Node.\n     * @param {Array<*>} objectStack Object stack.\n     */\n    function (node, objectStack) {\n        var value = valueReader.call(opt_this !== undefined ? opt_this : this, node, objectStack);\n        if (value !== undefined) {\n            var array = /** @type {Array<*>} */ (objectStack[objectStack.length - 1]);\n            extend(array, value);\n        }\n    });\n}\n/**\n * Make an array pusher function for pushing to the array at the top of the\n * object stack.\n * @param {function(this: T, Element, Array<*>): *} valueReader Value reader.\n * @param {T=} opt_this The object to use as `this` in `valueReader`.\n * @return {Parser} Parser.\n * @template T\n */\nexport function makeArrayPusher(valueReader, opt_this) {\n    return (\n    /**\n     * @param {Element} node Node.\n     * @param {Array<*>} objectStack Object stack.\n     */\n    function (node, objectStack) {\n        var value = valueReader.call(opt_this !== undefined ? opt_this : this, node, objectStack);\n        if (value !== undefined) {\n            var array = /** @type {Array<*>} */ (objectStack[objectStack.length - 1]);\n            array.push(value);\n        }\n    });\n}\n/**\n * Make an object stack replacer function for replacing the object at the\n * top of the stack.\n * @param {function(this: T, Node, Array<*>): *} valueReader Value reader.\n * @param {T=} opt_this The object to use as `this` in `valueReader`.\n * @return {Parser} Parser.\n * @template T\n */\nexport function makeReplacer(valueReader, opt_this) {\n    return (\n    /**\n     * @param {Node} node Node.\n     * @param {Array<*>} objectStack Object stack.\n     */\n    function (node, objectStack) {\n        var value = valueReader.call(opt_this !== undefined ? opt_this : this, node, objectStack);\n        if (value !== undefined) {\n            objectStack[objectStack.length - 1] = value;\n        }\n    });\n}\n/**\n * Make an object property pusher function for adding a property to the\n * object at the top of the stack.\n * @param {function(this: T, Element, Array<*>): *} valueReader Value reader.\n * @param {string=} opt_property Property.\n * @param {T=} opt_this The object to use as `this` in `valueReader`.\n * @return {Parser} Parser.\n * @template T\n */\nexport function makeObjectPropertyPusher(valueReader, opt_property, opt_this) {\n    return (\n    /**\n     * @param {Element} node Node.\n     * @param {Array<*>} objectStack Object stack.\n     */\n    function (node, objectStack) {\n        var value = valueReader.call(opt_this !== undefined ? opt_this : this, node, objectStack);\n        if (value !== undefined) {\n            var object = /** @type {!Object} */ (objectStack[objectStack.length - 1]);\n            var property = opt_property !== undefined ? opt_property : node.localName;\n            var array = void 0;\n            if (property in object) {\n                array = object[property];\n            }\n            else {\n                array = [];\n                object[property] = array;\n            }\n            array.push(value);\n        }\n    });\n}\n/**\n * Make an object property setter function.\n * @param {function(this: T, Element, Array<*>): *} valueReader Value reader.\n * @param {string=} opt_property Property.\n * @param {T=} opt_this The object to use as `this` in `valueReader`.\n * @return {Parser} Parser.\n * @template T\n */\nexport function makeObjectPropertySetter(valueReader, opt_property, opt_this) {\n    return (\n    /**\n     * @param {Element} node Node.\n     * @param {Array<*>} objectStack Object stack.\n     */\n    function (node, objectStack) {\n        var value = valueReader.call(opt_this !== undefined ? opt_this : this, node, objectStack);\n        if (value !== undefined) {\n            var object = /** @type {!Object} */ (objectStack[objectStack.length - 1]);\n            var property = opt_property !== undefined ? opt_property : node.localName;\n            object[property] = value;\n        }\n    });\n}\n/**\n * Create a serializer that appends nodes written by its `nodeWriter` to its\n * designated parent. The parent is the `node` of the\n * {@link module:ol/xml~NodeStackItem} at the top of the `objectStack`.\n * @param {function(this: T, Node, V, Array<*>): void} nodeWriter Node writer.\n * @param {T=} opt_this The object to use as `this` in `nodeWriter`.\n * @return {Serializer} Serializer.\n * @template T, V\n */\nexport function makeChildAppender(nodeWriter, opt_this) {\n    return function (node, value, objectStack) {\n        nodeWriter.call(opt_this !== undefined ? opt_this : this, node, value, objectStack);\n        var parent = /** @type {NodeStackItem} */ (objectStack[objectStack.length - 1]);\n        var parentNode = parent.node;\n        parentNode.appendChild(node);\n    };\n}\n/**\n * Create a serializer that calls the provided `nodeWriter` from\n * {@link module:ol/xml~serialize}. This can be used by the parent writer to have the\n * 'nodeWriter' called with an array of values when the `nodeWriter` was\n * designed to serialize a single item. An example would be a LineString\n * geometry writer, which could be reused for writing MultiLineString\n * geometries.\n * @param {function(this: T, Element, V, Array<*>): void} nodeWriter Node writer.\n * @param {T=} opt_this The object to use as `this` in `nodeWriter`.\n * @return {Serializer} Serializer.\n * @template T, V\n */\nexport function makeArraySerializer(nodeWriter, opt_this) {\n    var serializersNS, nodeFactory;\n    return function (node, value, objectStack) {\n        if (serializersNS === undefined) {\n            serializersNS = {};\n            var serializers = {};\n            serializers[node.localName] = nodeWriter;\n            serializersNS[node.namespaceURI] = serializers;\n            nodeFactory = makeSimpleNodeFactory(node.localName);\n        }\n        serialize(serializersNS, nodeFactory, value, objectStack);\n    };\n}\n/**\n * Create a node factory which can use the `opt_keys` passed to\n * {@link module:ol/xml~serialize} or {@link module:ol/xml~pushSerializeAndPop} as node names,\n * or a fixed node name. The namespace of the created nodes can either be fixed,\n * or the parent namespace will be used.\n * @param {string=} opt_nodeName Fixed node name which will be used for all\n *     created nodes. If not provided, the 3rd argument to the resulting node\n *     factory needs to be provided and will be the nodeName.\n * @param {string=} opt_namespaceURI Fixed namespace URI which will be used for\n *     all created nodes. If not provided, the namespace of the parent node will\n *     be used.\n * @return {function(*, Array<*>, string=): (Node|undefined)} Node factory.\n */\nexport function makeSimpleNodeFactory(opt_nodeName, opt_namespaceURI) {\n    var fixedNodeName = opt_nodeName;\n    return (\n    /**\n     * @param {*} value Value.\n     * @param {Array<*>} objectStack Object stack.\n     * @param {string=} opt_nodeName Node name.\n     * @return {Node} Node.\n     */\n    function (value, objectStack, opt_nodeName) {\n        var context = /** @type {NodeStackItem} */ (objectStack[objectStack.length - 1]);\n        var node = context.node;\n        var nodeName = fixedNodeName;\n        if (nodeName === undefined) {\n            nodeName = opt_nodeName;\n        }\n        var namespaceURI = opt_namespaceURI !== undefined ? opt_namespaceURI : node.namespaceURI;\n        return createElementNS(namespaceURI, /** @type {string} */ (nodeName));\n    });\n}\n/**\n * A node factory that creates a node using the parent's `namespaceURI` and the\n * `nodeName` passed by {@link module:ol/xml~serialize} or\n * {@link module:ol/xml~pushSerializeAndPop} to the node factory.\n * @const\n * @type {function(*, Array<*>, string=): (Node|undefined)}\n */\nexport var OBJECT_PROPERTY_NODE_FACTORY = makeSimpleNodeFactory();\n/**\n * Create an array of `values` to be used with {@link module:ol/xml~serialize} or\n * {@link module:ol/xml~pushSerializeAndPop}, where `orderedKeys` has to be provided as\n * `opt_key` argument.\n * @param {Object<string, *>} object Key-value pairs for the sequence. Keys can\n *     be a subset of the `orderedKeys`.\n * @param {Array<string>} orderedKeys Keys in the order of the sequence.\n * @return {Array<*>} Values in the order of the sequence. The resulting array\n *     has the same length as the `orderedKeys` array. Values that are not\n *     present in `object` will be `undefined` in the resulting array.\n */\nexport function makeSequence(object, orderedKeys) {\n    var length = orderedKeys.length;\n    var sequence = new Array(length);\n    for (var i = 0; i < length; ++i) {\n        sequence[i] = object[orderedKeys[i]];\n    }\n    return sequence;\n}\n/**\n * Create a namespaced structure, using the same values for each namespace.\n * This can be used as a starting point for versioned parsers, when only a few\n * values are version specific.\n * @param {Array<string>} namespaceURIs Namespace URIs.\n * @param {T} structure Structure.\n * @param {Object<string, T>=} opt_structureNS Namespaced structure to add to.\n * @return {Object<string, T>} Namespaced structure.\n * @template T\n */\nexport function makeStructureNS(namespaceURIs, structure, opt_structureNS) {\n    /**\n     * @type {Object<string, T>}\n     */\n    var structureNS = opt_structureNS !== undefined ? opt_structureNS : {};\n    var i, ii;\n    for (i = 0, ii = namespaceURIs.length; i < ii; ++i) {\n        structureNS[namespaceURIs[i]] = structure;\n    }\n    return structureNS;\n}\n/**\n * Parse a node using the parsers and object stack.\n * @param {Object<string, Object<string, Parser>>} parsersNS\n *     Parsers by namespace.\n * @param {Element} node Node.\n * @param {Array<*>} objectStack Object stack.\n * @param {*=} opt_this The object to use as `this`.\n */\nexport function parseNode(parsersNS, node, objectStack, opt_this) {\n    var n;\n    for (n = node.firstElementChild; n; n = n.nextElementSibling) {\n        var parsers = parsersNS[n.namespaceURI];\n        if (parsers !== undefined) {\n            var parser = parsers[n.localName];\n            if (parser !== undefined) {\n                parser.call(opt_this, n, objectStack);\n            }\n        }\n    }\n}\n/**\n * Push an object on top of the stack, parse and return the popped object.\n * @param {T} object Object.\n * @param {Object<string, Object<string, Parser>>} parsersNS\n *     Parsers by namespace.\n * @param {Element} node Node.\n * @param {Array<*>} objectStack Object stack.\n * @param {*=} opt_this The object to use as `this`.\n * @return {T} Object.\n * @template T\n */\nexport function pushParseAndPop(object, parsersNS, node, objectStack, opt_this) {\n    objectStack.push(object);\n    parseNode(parsersNS, node, objectStack, opt_this);\n    return /** @type {T} */ (objectStack.pop());\n}\n/**\n * Walk through an array of `values` and call a serializer for each value.\n * @param {Object<string, Object<string, Serializer>>} serializersNS\n *     Namespaced serializers.\n * @param {function(this: T, *, Array<*>, (string|undefined)): (Node|undefined)} nodeFactory\n *     Node factory. The `nodeFactory` creates the node whose namespace and name\n *     will be used to choose a node writer from `serializersNS`. This\n *     separation allows us to decide what kind of node to create, depending on\n *     the value we want to serialize. An example for this would be different\n *     geometry writers based on the geometry type.\n * @param {Array<*>} values Values to serialize. An example would be an array\n *     of {@link module:ol/Feature~Feature} instances.\n * @param {Array<*>} objectStack Node stack.\n * @param {Array<string>=} opt_keys Keys of the `values`. Will be passed to the\n *     `nodeFactory`. This is used for serializing object literals where the\n *     node name relates to the property key. The array length of `opt_keys` has\n *     to match the length of `values`. For serializing a sequence, `opt_keys`\n *     determines the order of the sequence.\n * @param {T=} opt_this The object to use as `this` for the node factory and\n *     serializers.\n * @template T\n */\nexport function serialize(serializersNS, nodeFactory, values, objectStack, opt_keys, opt_this) {\n    var length = (opt_keys !== undefined ? opt_keys : values).length;\n    var value, node;\n    for (var i = 0; i < length; ++i) {\n        value = values[i];\n        if (value !== undefined) {\n            node = nodeFactory.call(opt_this !== undefined ? opt_this : this, value, objectStack, opt_keys !== undefined ? opt_keys[i] : undefined);\n            if (node !== undefined) {\n                serializersNS[node.namespaceURI][node.localName].call(opt_this, node, value, objectStack);\n            }\n        }\n    }\n}\n/**\n * @param {O} object Object.\n * @param {Object<string, Object<string, Serializer>>} serializersNS\n *     Namespaced serializers.\n * @param {function(this: T, *, Array<*>, (string|undefined)): (Node|undefined)} nodeFactory\n *     Node factory. The `nodeFactory` creates the node whose namespace and name\n *     will be used to choose a node writer from `serializersNS`. This\n *     separation allows us to decide what kind of node to create, depending on\n *     the value we want to serialize. An example for this would be different\n *     geometry writers based on the geometry type.\n * @param {Array<*>} values Values to serialize. An example would be an array\n *     of {@link module:ol/Feature~Feature} instances.\n * @param {Array<*>} objectStack Node stack.\n * @param {Array<string>=} opt_keys Keys of the `values`. Will be passed to the\n *     `nodeFactory`. This is used for serializing object literals where the\n *     node name relates to the property key. The array length of `opt_keys` has\n *     to match the length of `values`. For serializing a sequence, `opt_keys`\n *     determines the order of the sequence.\n * @param {T=} opt_this The object to use as `this` for the node factory and\n *     serializers.\n * @return {O|undefined} Object.\n * @template O, T\n */\nexport function pushSerializeAndPop(object, serializersNS, nodeFactory, values, objectStack, opt_keys, opt_this) {\n    objectStack.push(object);\n    serialize(serializersNS, nodeFactory, values, objectStack, opt_keys, opt_this);\n    return /** @type {O|undefined} */ (objectStack.pop());\n}\nvar xmlSerializer_ = undefined;\n/**\n * Register a XMLSerializer. Can be used  to inject a XMLSerializer\n * where there is no globally available implementation.\n *\n * @param {XMLSerializer} xmlSerializer A XMLSerializer.\n * @api\n */\nexport function registerXMLSerializer(xmlSerializer) {\n    xmlSerializer_ = xmlSerializer;\n}\n/**\n * @return {XMLSerializer} The XMLSerializer.\n */\nexport function getXMLSerializer() {\n    if (xmlSerializer_ === undefined && typeof XMLSerializer !== 'undefined') {\n        xmlSerializer_ = new XMLSerializer();\n    }\n    return xmlSerializer_;\n}\nvar document_ = undefined;\n/**\n * Register a Document to use when creating nodes for XML serializations. Can be used\n * to inject a Document where there is no globally available implementation.\n *\n * @param {Document} document A Document.\n * @api\n */\nexport function registerDocument(document) {\n    document_ = document;\n}\n/**\n * Get a document that should be used when creating nodes for XML serializations.\n * @return {Document} The document.\n */\nexport function getDocument() {\n    if (document_ === undefined && typeof document !== 'undefined') {\n        document_ = document.implementation.createDocument('', '', null);\n    }\n    return document_;\n}\n//# sourceMappingURL=xml.js.map","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n/**\n * @module ol/format/XMLFeature\n */\nimport FeatureFormat from '../format/Feature.js';\nimport FormatType from '../format/FormatType.js';\nimport { abstract } from '../util.js';\nimport { extend } from '../array.js';\nimport { getXMLSerializer, isDocument, parse } from '../xml.js';\n/**\n * @classdesc\n * Abstract base class; normally only used for creating subclasses and not\n * instantiated in apps.\n * Base class for XML feature formats.\n *\n * @abstract\n */\nvar XMLFeature = /** @class */ (function (_super) {\n    __extends(XMLFeature, _super);\n    function XMLFeature() {\n        var _this = _super.call(this) || this;\n        /**\n         * @type {XMLSerializer}\n         * @private\n         */\n        _this.xmlSerializer_ = getXMLSerializer();\n        return _this;\n    }\n    /**\n     * @return {import(\"./FormatType.js\").default} Format.\n     */\n    XMLFeature.prototype.getType = function () {\n        return FormatType.XML;\n    };\n    /**\n     * Read a single feature.\n     *\n     * @param {Document|Element|Object|string} source Source.\n     * @param {import(\"./Feature.js\").ReadOptions=} opt_options Read options.\n     * @return {import(\"../Feature.js\").default} Feature.\n     * @api\n     */\n    XMLFeature.prototype.readFeature = function (source, opt_options) {\n        if (!source) {\n            return null;\n        }\n        else if (typeof source === 'string') {\n            var doc = parse(source);\n            return this.readFeatureFromDocument(doc, opt_options);\n        }\n        else if (isDocument(source)) {\n            return this.readFeatureFromDocument(\n            /** @type {Document} */ (source), opt_options);\n        }\n        else {\n            return this.readFeatureFromNode(\n            /** @type {Element} */ (source), opt_options);\n        }\n    };\n    /**\n     * @param {Document} doc Document.\n     * @param {import(\"./Feature.js\").ReadOptions=} opt_options Options.\n     * @return {import(\"../Feature.js\").default} Feature.\n     */\n    XMLFeature.prototype.readFeatureFromDocument = function (doc, opt_options) {\n        var features = this.readFeaturesFromDocument(doc, opt_options);\n        if (features.length > 0) {\n            return features[0];\n        }\n        else {\n            return null;\n        }\n    };\n    /**\n     * @param {Element} node Node.\n     * @param {import(\"./Feature.js\").ReadOptions=} opt_options Options.\n     * @return {import(\"../Feature.js\").default} Feature.\n     */\n    XMLFeature.prototype.readFeatureFromNode = function (node, opt_options) {\n        return null; // not implemented\n    };\n    /**\n     * Read all features from a feature collection.\n     *\n     * @param {Document|Element|Object|string} source Source.\n     * @param {import(\"./Feature.js\").ReadOptions=} opt_options Options.\n     * @return {Array<import(\"../Feature.js\").default>} Features.\n     * @api\n     */\n    XMLFeature.prototype.readFeatures = function (source, opt_options) {\n        if (!source) {\n            return [];\n        }\n        else if (typeof source === 'string') {\n            var doc = parse(source);\n            return this.readFeaturesFromDocument(doc, opt_options);\n        }\n        else if (isDocument(source)) {\n            return this.readFeaturesFromDocument(\n            /** @type {Document} */ (source), opt_options);\n        }\n        else {\n            return this.readFeaturesFromNode(\n            /** @type {Element} */ (source), opt_options);\n        }\n    };\n    /**\n     * @param {Document} doc Document.\n     * @param {import(\"./Feature.js\").ReadOptions=} opt_options Options.\n     * @protected\n     * @return {Array<import(\"../Feature.js\").default>} Features.\n     */\n    XMLFeature.prototype.readFeaturesFromDocument = function (doc, opt_options) {\n        /** @type {Array<import(\"../Feature.js\").default>} */\n        var features = [];\n        for (var n = doc.firstChild; n; n = n.nextSibling) {\n            if (n.nodeType == Node.ELEMENT_NODE) {\n                extend(features, this.readFeaturesFromNode(/** @type {Element} */ (n), opt_options));\n            }\n        }\n        return features;\n    };\n    /**\n     * @abstract\n     * @param {Element} node Node.\n     * @param {import(\"./Feature.js\").ReadOptions=} opt_options Options.\n     * @protected\n     * @return {Array<import(\"../Feature.js\").default>} Features.\n     */\n    XMLFeature.prototype.readFeaturesFromNode = function (node, opt_options) {\n        return abstract();\n    };\n    /**\n     * Read a single geometry from a source.\n     *\n     * @param {Document|Element|Object|string} source Source.\n     * @param {import(\"./Feature.js\").ReadOptions=} opt_options Read options.\n     * @return {import(\"../geom/Geometry.js\").default} Geometry.\n     */\n    XMLFeature.prototype.readGeometry = function (source, opt_options) {\n        if (!source) {\n            return null;\n        }\n        else if (typeof source === 'string') {\n            var doc = parse(source);\n            return this.readGeometryFromDocument(doc, opt_options);\n        }\n        else if (isDocument(source)) {\n            return this.readGeometryFromDocument(\n            /** @type {Document} */ (source), opt_options);\n        }\n        else {\n            return this.readGeometryFromNode(\n            /** @type {Element} */ (source), opt_options);\n        }\n    };\n    /**\n     * @param {Document} doc Document.\n     * @param {import(\"./Feature.js\").ReadOptions=} opt_options Options.\n     * @protected\n     * @return {import(\"../geom/Geometry.js\").default} Geometry.\n     */\n    XMLFeature.prototype.readGeometryFromDocument = function (doc, opt_options) {\n        return null; // not implemented\n    };\n    /**\n     * @param {Element} node Node.\n     * @param {import(\"./Feature.js\").ReadOptions=} opt_options Options.\n     * @protected\n     * @return {import(\"../geom/Geometry.js\").default} Geometry.\n     */\n    XMLFeature.prototype.readGeometryFromNode = function (node, opt_options) {\n        return null; // not implemented\n    };\n    /**\n     * Read the projection from the source.\n     *\n     * @param {Document|Element|Object|string} source Source.\n     * @return {import(\"../proj/Projection.js\").default} Projection.\n     * @api\n     */\n    XMLFeature.prototype.readProjection = function (source) {\n        if (!source) {\n            return null;\n        }\n        else if (typeof source === 'string') {\n            var doc = parse(source);\n            return this.readProjectionFromDocument(doc);\n        }\n        else if (isDocument(source)) {\n            return this.readProjectionFromDocument(/** @type {Document} */ (source));\n        }\n        else {\n            return this.readProjectionFromNode(/** @type {Element} */ (source));\n        }\n    };\n    /**\n     * @param {Document} doc Document.\n     * @protected\n     * @return {import(\"../proj/Projection.js\").default} Projection.\n     */\n    XMLFeature.prototype.readProjectionFromDocument = function (doc) {\n        return this.dataProjection;\n    };\n    /**\n     * @param {Element} node Node.\n     * @protected\n     * @return {import(\"../proj/Projection.js\").default} Projection.\n     */\n    XMLFeature.prototype.readProjectionFromNode = function (node) {\n        return this.dataProjection;\n    };\n    /**\n     * Encode a feature as string.\n     *\n     * @param {import(\"../Feature.js\").default} feature Feature.\n     * @param {import(\"./Feature.js\").WriteOptions=} opt_options Write options.\n     * @return {string} Encoded feature.\n     */\n    XMLFeature.prototype.writeFeature = function (feature, opt_options) {\n        var node = this.writeFeatureNode(feature, opt_options);\n        return this.xmlSerializer_.serializeToString(node);\n    };\n    /**\n     * @param {import(\"../Feature.js\").default} feature Feature.\n     * @param {import(\"./Feature.js\").WriteOptions=} opt_options Options.\n     * @protected\n     * @return {Node} Node.\n     */\n    XMLFeature.prototype.writeFeatureNode = function (feature, opt_options) {\n        return null; // not implemented\n    };\n    /**\n     * Encode an array of features as string.\n     *\n     * @param {Array<import(\"../Feature.js\").default>} features Features.\n     * @param {import(\"./Feature.js\").WriteOptions=} opt_options Write options.\n     * @return {string} Result.\n     * @api\n     */\n    XMLFeature.prototype.writeFeatures = function (features, opt_options) {\n        var node = this.writeFeaturesNode(features, opt_options);\n        return this.xmlSerializer_.serializeToString(node);\n    };\n    /**\n     * @param {Array<import(\"../Feature.js\").default>} features Features.\n     * @param {import(\"./Feature.js\").WriteOptions=} opt_options Options.\n     * @return {Node} Node.\n     */\n    XMLFeature.prototype.writeFeaturesNode = function (features, opt_options) {\n        return null; // not implemented\n    };\n    /**\n     * Encode a geometry as string.\n     *\n     * @param {import(\"../geom/Geometry.js\").default} geometry Geometry.\n     * @param {import(\"./Feature.js\").WriteOptions=} opt_options Write options.\n     * @return {string} Encoded geometry.\n     */\n    XMLFeature.prototype.writeGeometry = function (geometry, opt_options) {\n        var node = this.writeGeometryNode(geometry, opt_options);\n        return this.xmlSerializer_.serializeToString(node);\n    };\n    /**\n     * @param {import(\"../geom/Geometry.js\").default} geometry Geometry.\n     * @param {import(\"./Feature.js\").WriteOptions=} opt_options Options.\n     * @return {Node} Node.\n     */\n    XMLFeature.prototype.writeGeometryNode = function (geometry, opt_options) {\n        return null; // not implemented\n    };\n    return XMLFeature;\n}(FeatureFormat));\nexport default XMLFeature;\n//# sourceMappingURL=XMLFeature.js.map","/**\n * @module ol/format/xsd\n */\nimport { getAllTextContent, getDocument } from '../xml.js';\nimport { padNumber } from '../string.js';\n/**\n * @param {Node} node Node.\n * @return {boolean|undefined} Boolean.\n */\nexport function readBoolean(node) {\n    var s = getAllTextContent(node, false);\n    return readBooleanString(s);\n}\n/**\n * @param {string} string String.\n * @return {boolean|undefined} Boolean.\n */\nexport function readBooleanString(string) {\n    var m = /^\\s*(true|1)|(false|0)\\s*$/.exec(string);\n    if (m) {\n        return m[1] !== undefined || false;\n    }\n    else {\n        return undefined;\n    }\n}\n/**\n * @param {Node} node Node.\n * @return {number|undefined} DateTime in seconds.\n */\nexport function readDateTime(node) {\n    var s = getAllTextContent(node, false);\n    var dateTime = Date.parse(s);\n    return isNaN(dateTime) ? undefined : dateTime / 1000;\n}\n/**\n * @param {Node} node Node.\n * @return {number|undefined} Decimal.\n */\nexport function readDecimal(node) {\n    var s = getAllTextContent(node, false);\n    return readDecimalString(s);\n}\n/**\n * @param {string} string String.\n * @return {number|undefined} Decimal.\n */\nexport function readDecimalString(string) {\n    // FIXME check spec\n    var m = /^\\s*([+\\-]?\\d*\\.?\\d+(?:e[+\\-]?\\d+)?)\\s*$/i.exec(string);\n    if (m) {\n        return parseFloat(m[1]);\n    }\n    else {\n        return undefined;\n    }\n}\n/**\n * @param {Node} node Node.\n * @return {number|undefined} Non negative integer.\n */\nexport function readNonNegativeInteger(node) {\n    var s = getAllTextContent(node, false);\n    return readNonNegativeIntegerString(s);\n}\n/**\n * @param {string} string String.\n * @return {number|undefined} Non negative integer.\n */\nexport function readNonNegativeIntegerString(string) {\n    var m = /^\\s*(\\d+)\\s*$/.exec(string);\n    if (m) {\n        return parseInt(m[1], 10);\n    }\n    else {\n        return undefined;\n    }\n}\n/**\n * @param {Node} node Node.\n * @return {string|undefined} String.\n */\nexport function readString(node) {\n    return getAllTextContent(node, false).trim();\n}\n/**\n * @param {Node} node Node to append a TextNode with the boolean to.\n * @param {boolean} bool Boolean.\n */\nexport function writeBooleanTextNode(node, bool) {\n    writeStringTextNode(node, bool ? '1' : '0');\n}\n/**\n * @param {Node} node Node to append a CDATA Section with the string to.\n * @param {string} string String.\n */\nexport function writeCDATASection(node, string) {\n    node.appendChild(getDocument().createCDATASection(string));\n}\n/**\n * @param {Node} node Node to append a TextNode with the dateTime to.\n * @param {number} dateTime DateTime in seconds.\n */\nexport function writeDateTimeTextNode(node, dateTime) {\n    var date = new Date(dateTime * 1000);\n    var string = date.getUTCFullYear() +\n        '-' +\n        padNumber(date.getUTCMonth() + 1, 2) +\n        '-' +\n        padNumber(date.getUTCDate(), 2) +\n        'T' +\n        padNumber(date.getUTCHours(), 2) +\n        ':' +\n        padNumber(date.getUTCMinutes(), 2) +\n        ':' +\n        padNumber(date.getUTCSeconds(), 2) +\n        'Z';\n    node.appendChild(getDocument().createTextNode(string));\n}\n/**\n * @param {Node} node Node to append a TextNode with the decimal to.\n * @param {number} decimal Decimal.\n */\nexport function writeDecimalTextNode(node, decimal) {\n    var string = decimal.toPrecision();\n    node.appendChild(getDocument().createTextNode(string));\n}\n/**\n * @param {Node} node Node to append a TextNode with the decimal to.\n * @param {number} nonNegativeInteger Non negative integer.\n */\nexport function writeNonNegativeIntegerTextNode(node, nonNegativeInteger) {\n    var string = nonNegativeInteger.toString();\n    node.appendChild(getDocument().createTextNode(string));\n}\n/**\n * @param {Node} node Node to append a TextNode with the string to.\n * @param {string} string String.\n */\nexport function writeStringTextNode(node, string) {\n    node.appendChild(getDocument().createTextNode(string));\n}\n//# sourceMappingURL=xsd.js.map","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n/**\n * @module ol/format/GPX\n */\nimport Feature from '../Feature.js';\nimport GeometryLayout from '../geom/GeometryLayout.js';\nimport GeometryType from '../geom/GeometryType.js';\nimport LineString from '../geom/LineString.js';\nimport MultiLineString from '../geom/MultiLineString.js';\nimport Point from '../geom/Point.js';\nimport XMLFeature from './XMLFeature.js';\nimport { OBJECT_PROPERTY_NODE_FACTORY, XML_SCHEMA_INSTANCE_URI, createElementNS, makeArrayPusher, makeArraySerializer, makeChildAppender, makeObjectPropertySetter, makeSequence, makeSimpleNodeFactory, makeStructureNS, parseNode, pushParseAndPop, pushSerializeAndPop, } from '../xml.js';\nimport { get as getProjection } from '../proj.js';\nimport { includes } from '../array.js';\nimport { readDateTime, readDecimal, readNonNegativeInteger, readString, writeDateTimeTextNode, writeDecimalTextNode, writeNonNegativeIntegerTextNode, writeStringTextNode, } from './xsd.js';\nimport { transformGeometryWithOptions } from './Feature.js';\n/**\n * @const\n * @type {Array<null|string>}\n */\nvar NAMESPACE_URIS = [\n    null,\n    'http://www.topografix.com/GPX/1/0',\n    'http://www.topografix.com/GPX/1/1',\n];\n/**\n * @const\n * @type {string}\n */\nvar SCHEMA_LOCATION = 'http://www.topografix.com/GPX/1/1 ' +\n    'http://www.topografix.com/GPX/1/1/gpx.xsd';\n/**\n * @const\n * @type {Object<string, function(Node, Array<*>): (Feature|undefined)>}\n */\nvar FEATURE_READER = {\n    'rte': readRte,\n    'trk': readTrk,\n    'wpt': readWpt,\n};\n/**\n * @const\n * @type {Object<string, Object<string, import(\"../xml.js\").Parser>>}\n */\n// @ts-ignore\nvar GPX_PARSERS = makeStructureNS(NAMESPACE_URIS, {\n    'rte': makeArrayPusher(readRte),\n    'trk': makeArrayPusher(readTrk),\n    'wpt': makeArrayPusher(readWpt),\n});\n/**\n * @const\n * @type {Object<string, Object<string, import(\"../xml.js\").Parser>>}\n */\n// @ts-ignore\nvar LINK_PARSERS = makeStructureNS(NAMESPACE_URIS, {\n    'text': makeObjectPropertySetter(readString, 'linkText'),\n    'type': makeObjectPropertySetter(readString, 'linkType'),\n});\n/**\n * @const\n * @type {Object<string, Object<string, import(\"../xml.js\").Serializer>>}\n */\n// @ts-ignore\nvar GPX_SERIALIZERS = makeStructureNS(NAMESPACE_URIS, {\n    'rte': makeChildAppender(writeRte),\n    'trk': makeChildAppender(writeTrk),\n    'wpt': makeChildAppender(writeWpt),\n});\n/**\n * @typedef {Object} Options\n * @property {function(Feature, Node):void} [readExtensions] Callback function\n * to process `extensions` nodes. To prevent memory leaks, this callback function must\n * not store any references to the node. Note that the `extensions`\n * node is not allowed in GPX 1.0. Moreover, only `extensions`\n * nodes from `wpt`, `rte` and `trk` can be processed, as those are\n * directly mapped to a feature.\n */\n/**\n * @typedef {Object} LayoutOptions\n * @property {boolean} [hasZ]\n * @property {boolean} [hasM]\n */\n/**\n * @classdesc\n * Feature format for reading and writing data in the GPX format.\n *\n * Note that {@link module:ol/format/GPX~GPX#readFeature} only reads the first\n * feature of the source.\n *\n * When reading, routes (`<rte>`) are converted into LineString geometries, and\n * tracks (`<trk>`) into MultiLineString. Any properties on route and track\n * waypoints are ignored.\n *\n * When writing, LineString geometries are output as routes (`<rte>`), and\n * MultiLineString as tracks (`<trk>`).\n *\n * @api\n */\nvar GPX = /** @class */ (function (_super) {\n    __extends(GPX, _super);\n    /**\n     * @param {Options=} opt_options Options.\n     */\n    function GPX(opt_options) {\n        var _this = _super.call(this) || this;\n        var options = opt_options ? opt_options : {};\n        /**\n         * @type {import(\"../proj/Projection.js\").default}\n         */\n        _this.dataProjection = getProjection('EPSG:4326');\n        /**\n         * @type {function(Feature, Node): void|undefined}\n         * @private\n         */\n        _this.readExtensions_ = options.readExtensions;\n        return _this;\n    }\n    /**\n     * @param {Array<Feature>} features List of features.\n     * @private\n     */\n    GPX.prototype.handleReadExtensions_ = function (features) {\n        if (!features) {\n            features = [];\n        }\n        for (var i = 0, ii = features.length; i < ii; ++i) {\n            var feature = features[i];\n            if (this.readExtensions_) {\n                var extensionsNode = feature.get('extensionsNode_') || null;\n                this.readExtensions_(feature, extensionsNode);\n            }\n            feature.set('extensionsNode_', undefined);\n        }\n    };\n    /**\n     * @param {Element} node Node.\n     * @param {import(\"./Feature.js\").ReadOptions=} opt_options Options.\n     * @return {import(\"../Feature.js\").default} Feature.\n     */\n    GPX.prototype.readFeatureFromNode = function (node, opt_options) {\n        if (!includes(NAMESPACE_URIS, node.namespaceURI)) {\n            return null;\n        }\n        var featureReader = FEATURE_READER[node.localName];\n        if (!featureReader) {\n            return null;\n        }\n        var feature = featureReader(node, [\n            this.getReadOptions(node, opt_options),\n        ]);\n        if (!feature) {\n            return null;\n        }\n        this.handleReadExtensions_([feature]);\n        return feature;\n    };\n    /**\n     * @param {Element} node Node.\n     * @param {import(\"./Feature.js\").ReadOptions=} opt_options Options.\n     * @return {Array<import(\"../Feature.js\").default>} Features.\n     */\n    GPX.prototype.readFeaturesFromNode = function (node, opt_options) {\n        if (!includes(NAMESPACE_URIS, node.namespaceURI)) {\n            return [];\n        }\n        if (node.localName == 'gpx') {\n            /** @type {Array<Feature>} */\n            var features = pushParseAndPop([], GPX_PARSERS, node, [\n                this.getReadOptions(node, opt_options),\n            ]);\n            if (features) {\n                this.handleReadExtensions_(features);\n                return features;\n            }\n            else {\n                return [];\n            }\n        }\n        return [];\n    };\n    /**\n     * Encode an array of features in the GPX format as an XML node.\n     * LineString geometries are output as routes (`<rte>`), and MultiLineString\n     * as tracks (`<trk>`).\n     *\n     * @param {Array<Feature>} features Features.\n     * @param {import(\"./Feature.js\").WriteOptions=} opt_options Options.\n     * @return {Node} Node.\n     * @api\n     */\n    GPX.prototype.writeFeaturesNode = function (features, opt_options) {\n        opt_options = this.adaptOptions(opt_options);\n        //FIXME Serialize metadata\n        var gpx = createElementNS('http://www.topografix.com/GPX/1/1', 'gpx');\n        var xmlnsUri = 'http://www.w3.org/2000/xmlns/';\n        gpx.setAttributeNS(xmlnsUri, 'xmlns:xsi', XML_SCHEMA_INSTANCE_URI);\n        gpx.setAttributeNS(XML_SCHEMA_INSTANCE_URI, 'xsi:schemaLocation', SCHEMA_LOCATION);\n        gpx.setAttribute('version', '1.1');\n        gpx.setAttribute('creator', 'OpenLayers');\n        pushSerializeAndPop(\n        /** @type {import(\"../xml.js\").NodeStackItem} */\n        ({ node: gpx }), GPX_SERIALIZERS, GPX_NODE_FACTORY, features, [opt_options]);\n        return gpx;\n    };\n    return GPX;\n}(XMLFeature));\n/**\n * @const\n * @type {Object<string, Object<string, import(\"../xml.js\").Parser>>}\n */\n// @ts-ignore\nvar RTE_PARSERS = makeStructureNS(NAMESPACE_URIS, {\n    'name': makeObjectPropertySetter(readString),\n    'cmt': makeObjectPropertySetter(readString),\n    'desc': makeObjectPropertySetter(readString),\n    'src': makeObjectPropertySetter(readString),\n    'link': parseLink,\n    'number': makeObjectPropertySetter(readNonNegativeInteger),\n    'extensions': parseExtensions,\n    'type': makeObjectPropertySetter(readString),\n    'rtept': parseRtePt,\n});\n/**\n * @const\n * @type {Object<string, Object<string, import(\"../xml.js\").Parser>>}\n */\n// @ts-ignore\nvar RTEPT_PARSERS = makeStructureNS(NAMESPACE_URIS, {\n    'ele': makeObjectPropertySetter(readDecimal),\n    'time': makeObjectPropertySetter(readDateTime),\n});\n/**\n * @const\n * @type {Object<string, Object<string, import(\"../xml.js\").Parser>>}\n */\n// @ts-ignore\nvar TRK_PARSERS = makeStructureNS(NAMESPACE_URIS, {\n    'name': makeObjectPropertySetter(readString),\n    'cmt': makeObjectPropertySetter(readString),\n    'desc': makeObjectPropertySetter(readString),\n    'src': makeObjectPropertySetter(readString),\n    'link': parseLink,\n    'number': makeObjectPropertySetter(readNonNegativeInteger),\n    'type': makeObjectPropertySetter(readString),\n    'extensions': parseExtensions,\n    'trkseg': parseTrkSeg,\n});\n/**\n * @const\n * @type {Object<string, Object<string, import(\"../xml.js\").Parser>>}\n */\n// @ts-ignore\nvar TRKSEG_PARSERS = makeStructureNS(NAMESPACE_URIS, {\n    'trkpt': parseTrkPt,\n});\n/**\n * @const\n * @type {Object<string, Object<string, import(\"../xml.js\").Parser>>}\n */\n// @ts-ignore\nvar TRKPT_PARSERS = makeStructureNS(NAMESPACE_URIS, {\n    'ele': makeObjectPropertySetter(readDecimal),\n    'time': makeObjectPropertySetter(readDateTime),\n});\n/**\n * @const\n * @type {Object<string, Object<string, import(\"../xml.js\").Parser>>}\n */\n// @ts-ignore\nvar WPT_PARSERS = makeStructureNS(NAMESPACE_URIS, {\n    'ele': makeObjectPropertySetter(readDecimal),\n    'time': makeObjectPropertySetter(readDateTime),\n    'magvar': makeObjectPropertySetter(readDecimal),\n    'geoidheight': makeObjectPropertySetter(readDecimal),\n    'name': makeObjectPropertySetter(readString),\n    'cmt': makeObjectPropertySetter(readString),\n    'desc': makeObjectPropertySetter(readString),\n    'src': makeObjectPropertySetter(readString),\n    'link': parseLink,\n    'sym': makeObjectPropertySetter(readString),\n    'type': makeObjectPropertySetter(readString),\n    'fix': makeObjectPropertySetter(readString),\n    'sat': makeObjectPropertySetter(readNonNegativeInteger),\n    'hdop': makeObjectPropertySetter(readDecimal),\n    'vdop': makeObjectPropertySetter(readDecimal),\n    'pdop': makeObjectPropertySetter(readDecimal),\n    'ageofdgpsdata': makeObjectPropertySetter(readDecimal),\n    'dgpsid': makeObjectPropertySetter(readNonNegativeInteger),\n    'extensions': parseExtensions,\n});\n/**\n * @const\n * @type {Array<string>}\n */\nvar LINK_SEQUENCE = ['text', 'type'];\n/**\n * @const\n * @type {Object<string, Object<string, import(\"../xml.js\").Serializer>>}\n */\n// @ts-ignore\nvar LINK_SERIALIZERS = makeStructureNS(NAMESPACE_URIS, {\n    'text': makeChildAppender(writeStringTextNode),\n    'type': makeChildAppender(writeStringTextNode),\n});\n/**\n * @const\n * @type {Object<string, Array<string>>}\n */\n// @ts-ignore\nvar RTE_SEQUENCE = makeStructureNS(NAMESPACE_URIS, [\n    'name',\n    'cmt',\n    'desc',\n    'src',\n    'link',\n    'number',\n    'type',\n    'rtept',\n]);\n/**\n * @const\n * @type {Object<string, Object<string, import(\"../xml.js\").Serializer>>}\n */\n// @ts-ignore\nvar RTE_SERIALIZERS = makeStructureNS(NAMESPACE_URIS, {\n    'name': makeChildAppender(writeStringTextNode),\n    'cmt': makeChildAppender(writeStringTextNode),\n    'desc': makeChildAppender(writeStringTextNode),\n    'src': makeChildAppender(writeStringTextNode),\n    'link': makeChildAppender(writeLink),\n    'number': makeChildAppender(writeNonNegativeIntegerTextNode),\n    'type': makeChildAppender(writeStringTextNode),\n    'rtept': makeArraySerializer(makeChildAppender(writeWptType)),\n});\n/**\n * @const\n * @type {Object<string, Array<string>>}\n */\n// @ts-ignore\nvar RTEPT_TYPE_SEQUENCE = makeStructureNS(NAMESPACE_URIS, ['ele', 'time']);\n/**\n * @const\n * @type {Object<string, Array<string>>}\n */\n// @ts-ignore\nvar TRK_SEQUENCE = makeStructureNS(NAMESPACE_URIS, [\n    'name',\n    'cmt',\n    'desc',\n    'src',\n    'link',\n    'number',\n    'type',\n    'trkseg',\n]);\n/**\n * @const\n * @type {Object<string, Object<string, import(\"../xml.js\").Serializer>>}\n */\n// @ts-ignore\nvar TRK_SERIALIZERS = makeStructureNS(NAMESPACE_URIS, {\n    'name': makeChildAppender(writeStringTextNode),\n    'cmt': makeChildAppender(writeStringTextNode),\n    'desc': makeChildAppender(writeStringTextNode),\n    'src': makeChildAppender(writeStringTextNode),\n    'link': makeChildAppender(writeLink),\n    'number': makeChildAppender(writeNonNegativeIntegerTextNode),\n    'type': makeChildAppender(writeStringTextNode),\n    'trkseg': makeArraySerializer(makeChildAppender(writeTrkSeg)),\n});\n/**\n * @const\n * @type {function(*, Array<*>, string=): (Node|undefined)}\n */\nvar TRKSEG_NODE_FACTORY = makeSimpleNodeFactory('trkpt');\n/**\n * @const\n * @type {Object<string, Object<string, import(\"../xml.js\").Serializer>>}\n */\n// @ts-ignore\nvar TRKSEG_SERIALIZERS = makeStructureNS(NAMESPACE_URIS, {\n    'trkpt': makeChildAppender(writeWptType),\n});\n/**\n * @const\n * @type {Object<string, Array<string>>}\n */\n// @ts-ignore\nvar WPT_TYPE_SEQUENCE = makeStructureNS(NAMESPACE_URIS, [\n    'ele',\n    'time',\n    'magvar',\n    'geoidheight',\n    'name',\n    'cmt',\n    'desc',\n    'src',\n    'link',\n    'sym',\n    'type',\n    'fix',\n    'sat',\n    'hdop',\n    'vdop',\n    'pdop',\n    'ageofdgpsdata',\n    'dgpsid',\n]);\n/**\n * @const\n * @type {Object<string, Object<string, import(\"../xml.js\").Serializer>>}\n */\n// @ts-ignore\nvar WPT_TYPE_SERIALIZERS = makeStructureNS(NAMESPACE_URIS, {\n    'ele': makeChildAppender(writeDecimalTextNode),\n    'time': makeChildAppender(writeDateTimeTextNode),\n    'magvar': makeChildAppender(writeDecimalTextNode),\n    'geoidheight': makeChildAppender(writeDecimalTextNode),\n    'name': makeChildAppender(writeStringTextNode),\n    'cmt': makeChildAppender(writeStringTextNode),\n    'desc': makeChildAppender(writeStringTextNode),\n    'src': makeChildAppender(writeStringTextNode),\n    'link': makeChildAppender(writeLink),\n    'sym': makeChildAppender(writeStringTextNode),\n    'type': makeChildAppender(writeStringTextNode),\n    'fix': makeChildAppender(writeStringTextNode),\n    'sat': makeChildAppender(writeNonNegativeIntegerTextNode),\n    'hdop': makeChildAppender(writeDecimalTextNode),\n    'vdop': makeChildAppender(writeDecimalTextNode),\n    'pdop': makeChildAppender(writeDecimalTextNode),\n    'ageofdgpsdata': makeChildAppender(writeDecimalTextNode),\n    'dgpsid': makeChildAppender(writeNonNegativeIntegerTextNode),\n});\n/**\n * @const\n * @type {Object<string, string>}\n */\nvar GEOMETRY_TYPE_TO_NODENAME = {\n    'Point': 'wpt',\n    'LineString': 'rte',\n    'MultiLineString': 'trk',\n};\n/**\n * @param {*} value Value.\n * @param {Array<*>} objectStack Object stack.\n * @param {string=} opt_nodeName Node name.\n * @return {Node|undefined} Node.\n */\nfunction GPX_NODE_FACTORY(value, objectStack, opt_nodeName) {\n    var geometry = /** @type {Feature} */ (value).getGeometry();\n    if (geometry) {\n        var nodeName = GEOMETRY_TYPE_TO_NODENAME[geometry.getType()];\n        if (nodeName) {\n            var parentNode = objectStack[objectStack.length - 1].node;\n            return createElementNS(parentNode.namespaceURI, nodeName);\n        }\n    }\n}\n/**\n * @param {Array<number>} flatCoordinates Flat coordinates.\n * @param {LayoutOptions} layoutOptions Layout options.\n * @param {Element} node Node.\n * @param {!Object} values Values.\n * @return {Array<number>} Flat coordinates.\n */\nfunction appendCoordinate(flatCoordinates, layoutOptions, node, values) {\n    flatCoordinates.push(parseFloat(node.getAttribute('lon')), parseFloat(node.getAttribute('lat')));\n    if ('ele' in values) {\n        flatCoordinates.push(/** @type {number} */ (values['ele']));\n        delete values['ele'];\n        layoutOptions.hasZ = true;\n    }\n    else {\n        flatCoordinates.push(0);\n    }\n    if ('time' in values) {\n        flatCoordinates.push(/** @type {number} */ (values['time']));\n        delete values['time'];\n        layoutOptions.hasM = true;\n    }\n    else {\n        flatCoordinates.push(0);\n    }\n    return flatCoordinates;\n}\n/**\n * Choose GeometryLayout based on flags in layoutOptions and adjust flatCoordinates\n * and ends arrays by shrinking them accordingly (removing unused zero entries).\n *\n * @param {LayoutOptions} layoutOptions Layout options.\n * @param {Array<number>} flatCoordinates Flat coordinates.\n * @param {Array<number>=} ends Ends.\n * @return {import(\"../geom/GeometryLayout.js\").default} Layout.\n */\nfunction applyLayoutOptions(layoutOptions, flatCoordinates, ends) {\n    var layout = GeometryLayout.XY;\n    var stride = 2;\n    if (layoutOptions.hasZ && layoutOptions.hasM) {\n        layout = GeometryLayout.XYZM;\n        stride = 4;\n    }\n    else if (layoutOptions.hasZ) {\n        layout = GeometryLayout.XYZ;\n        stride = 3;\n    }\n    else if (layoutOptions.hasM) {\n        layout = GeometryLayout.XYM;\n        stride = 3;\n    }\n    if (stride !== 4) {\n        for (var i = 0, ii = flatCoordinates.length / 4; i < ii; i++) {\n            flatCoordinates[i * stride] = flatCoordinates[i * 4];\n            flatCoordinates[i * stride + 1] = flatCoordinates[i * 4 + 1];\n            if (layoutOptions.hasZ) {\n                flatCoordinates[i * stride + 2] = flatCoordinates[i * 4 + 2];\n            }\n            if (layoutOptions.hasM) {\n                flatCoordinates[i * stride + 2] = flatCoordinates[i * 4 + 3];\n            }\n        }\n        flatCoordinates.length = (flatCoordinates.length / 4) * stride;\n        if (ends) {\n            for (var i = 0, ii = ends.length; i < ii; i++) {\n                ends[i] = (ends[i] / 4) * stride;\n            }\n        }\n    }\n    return layout;\n}\n/**\n * @param {Element} node Node.\n * @param {Array<*>} objectStack Object stack.\n */\nfunction parseLink(node, objectStack) {\n    var values = /** @type {Object} */ (objectStack[objectStack.length - 1]);\n    var href = node.getAttribute('href');\n    if (href !== null) {\n        values['link'] = href;\n    }\n    parseNode(LINK_PARSERS, node, objectStack);\n}\n/**\n * @param {Node} node Node.\n * @param {Array<*>} objectStack Object stack.\n */\nfunction parseExtensions(node, objectStack) {\n    var values = /** @type {Object} */ (objectStack[objectStack.length - 1]);\n    values['extensionsNode_'] = node;\n}\n/**\n * @param {Element} node Node.\n * @param {Array<*>} objectStack Object stack.\n */\nfunction parseRtePt(node, objectStack) {\n    var values = pushParseAndPop({}, RTEPT_PARSERS, node, objectStack);\n    if (values) {\n        var rteValues = /** @type {!Object} */ (objectStack[objectStack.length - 1]);\n        var flatCoordinates = /** @type {Array<number>} */ (rteValues['flatCoordinates']);\n        var layoutOptions = /** @type {LayoutOptions} */ (rteValues['layoutOptions']);\n        appendCoordinate(flatCoordinates, layoutOptions, node, values);\n    }\n}\n/**\n * @param {Element} node Node.\n * @param {Array<*>} objectStack Object stack.\n */\nfunction parseTrkPt(node, objectStack) {\n    var values = pushParseAndPop({}, TRKPT_PARSERS, node, objectStack);\n    if (values) {\n        var trkValues = /** @type {!Object} */ (objectStack[objectStack.length - 1]);\n        var flatCoordinates = /** @type {Array<number>} */ (trkValues['flatCoordinates']);\n        var layoutOptions = /** @type {LayoutOptions} */ (trkValues['layoutOptions']);\n        appendCoordinate(flatCoordinates, layoutOptions, node, values);\n    }\n}\n/**\n * @param {Element} node Node.\n * @param {Array<*>} objectStack Object stack.\n */\nfunction parseTrkSeg(node, objectStack) {\n    var values = /** @type {Object} */ (objectStack[objectStack.length - 1]);\n    parseNode(TRKSEG_PARSERS, node, objectStack);\n    var flatCoordinates = \n    /** @type {Array<number>} */\n    (values['flatCoordinates']);\n    var ends = /** @type {Array<number>} */ (values['ends']);\n    ends.push(flatCoordinates.length);\n}\n/**\n * @param {Element} node Node.\n * @param {Array<*>} objectStack Object stack.\n * @return {Feature|undefined} Track.\n */\nfunction readRte(node, objectStack) {\n    var options = /** @type {import(\"./Feature.js\").ReadOptions} */ (objectStack[0]);\n    var values = pushParseAndPop({\n        'flatCoordinates': [],\n        'layoutOptions': {},\n    }, RTE_PARSERS, node, objectStack);\n    if (!values) {\n        return undefined;\n    }\n    var flatCoordinates = \n    /** @type {Array<number>} */\n    (values['flatCoordinates']);\n    delete values['flatCoordinates'];\n    var layoutOptions = /** @type {LayoutOptions} */ (values['layoutOptions']);\n    delete values['layoutOptions'];\n    var layout = applyLayoutOptions(layoutOptions, flatCoordinates);\n    var geometry = new LineString(flatCoordinates, layout);\n    transformGeometryWithOptions(geometry, false, options);\n    var feature = new Feature(geometry);\n    feature.setProperties(values, true);\n    return feature;\n}\n/**\n * @param {Element} node Node.\n * @param {Array<*>} objectStack Object stack.\n * @return {Feature|undefined} Track.\n */\nfunction readTrk(node, objectStack) {\n    var options = /** @type {import(\"./Feature.js\").ReadOptions} */ (objectStack[0]);\n    var values = pushParseAndPop({\n        'flatCoordinates': [],\n        'ends': [],\n        'layoutOptions': {},\n    }, TRK_PARSERS, node, objectStack);\n    if (!values) {\n        return undefined;\n    }\n    var flatCoordinates = \n    /** @type {Array<number>} */\n    (values['flatCoordinates']);\n    delete values['flatCoordinates'];\n    var ends = /** @type {Array<number>} */ (values['ends']);\n    delete values['ends'];\n    var layoutOptions = /** @type {LayoutOptions} */ (values['layoutOptions']);\n    delete values['layoutOptions'];\n    var layout = applyLayoutOptions(layoutOptions, flatCoordinates, ends);\n    var geometry = new MultiLineString(flatCoordinates, layout, ends);\n    transformGeometryWithOptions(geometry, false, options);\n    var feature = new Feature(geometry);\n    feature.setProperties(values, true);\n    return feature;\n}\n/**\n * @param {Element} node Node.\n * @param {Array<*>} objectStack Object stack.\n * @return {Feature|undefined} Waypoint.\n */\nfunction readWpt(node, objectStack) {\n    var options = /** @type {import(\"./Feature.js\").ReadOptions} */ (objectStack[0]);\n    var values = pushParseAndPop({}, WPT_PARSERS, node, objectStack);\n    if (!values) {\n        return undefined;\n    }\n    var layoutOptions = /** @type {LayoutOptions} */ ({});\n    var coordinates = appendCoordinate([], layoutOptions, node, values);\n    var layout = applyLayoutOptions(layoutOptions, coordinates);\n    var geometry = new Point(coordinates, layout);\n    transformGeometryWithOptions(geometry, false, options);\n    var feature = new Feature(geometry);\n    feature.setProperties(values, true);\n    return feature;\n}\n/**\n * @param {Element} node Node.\n * @param {string} value Value for the link's `href` attribute.\n * @param {Array<*>} objectStack Node stack.\n */\nfunction writeLink(node, value, objectStack) {\n    node.setAttribute('href', value);\n    var context = objectStack[objectStack.length - 1];\n    var properties = context['properties'];\n    var link = [properties['linkText'], properties['linkType']];\n    pushSerializeAndPop(\n    /** @type {import(\"../xml.js\").NodeStackItem} */ ({ node: node }), LINK_SERIALIZERS, OBJECT_PROPERTY_NODE_FACTORY, link, objectStack, LINK_SEQUENCE);\n}\n/**\n * @param {Element} node Node.\n * @param {import(\"../coordinate.js\").Coordinate} coordinate Coordinate.\n * @param {Array<*>} objectStack Object stack.\n */\nfunction writeWptType(node, coordinate, objectStack) {\n    var context = objectStack[objectStack.length - 1];\n    var parentNode = context.node;\n    var namespaceURI = parentNode.namespaceURI;\n    var properties = context['properties'];\n    //FIXME Projection handling\n    node.setAttributeNS(null, 'lat', String(coordinate[1]));\n    node.setAttributeNS(null, 'lon', String(coordinate[0]));\n    var geometryLayout = context['geometryLayout'];\n    switch (geometryLayout) {\n        case GeometryLayout.XYZM:\n            if (coordinate[3] !== 0) {\n                properties['time'] = coordinate[3];\n            }\n        // fall through\n        case GeometryLayout.XYZ:\n            if (coordinate[2] !== 0) {\n                properties['ele'] = coordinate[2];\n            }\n            break;\n        case GeometryLayout.XYM:\n            if (coordinate[2] !== 0) {\n                properties['time'] = coordinate[2];\n            }\n            break;\n        default:\n        // pass\n    }\n    var orderedKeys = node.nodeName == 'rtept'\n        ? RTEPT_TYPE_SEQUENCE[namespaceURI]\n        : WPT_TYPE_SEQUENCE[namespaceURI];\n    var values = makeSequence(properties, orderedKeys);\n    pushSerializeAndPop(\n    /** @type {import(\"../xml.js\").NodeStackItem} */\n    ({ node: node, 'properties': properties }), WPT_TYPE_SERIALIZERS, OBJECT_PROPERTY_NODE_FACTORY, values, objectStack, orderedKeys);\n}\n/**\n * @param {Node} node Node.\n * @param {Feature} feature Feature.\n * @param {Array<*>} objectStack Object stack.\n */\nfunction writeRte(node, feature, objectStack) {\n    var options = /** @type {import(\"./Feature.js\").WriteOptions} */ (objectStack[0]);\n    var properties = feature.getProperties();\n    var context = { node: node };\n    context['properties'] = properties;\n    var geometry = feature.getGeometry();\n    if (geometry.getType() == GeometryType.LINE_STRING) {\n        var lineString = /** @type {LineString} */ (transformGeometryWithOptions(geometry, true, options));\n        context['geometryLayout'] = lineString.getLayout();\n        properties['rtept'] = lineString.getCoordinates();\n    }\n    var parentNode = objectStack[objectStack.length - 1].node;\n    var orderedKeys = RTE_SEQUENCE[parentNode.namespaceURI];\n    var values = makeSequence(properties, orderedKeys);\n    pushSerializeAndPop(context, RTE_SERIALIZERS, OBJECT_PROPERTY_NODE_FACTORY, values, objectStack, orderedKeys);\n}\n/**\n * @param {Node} node Node.\n * @param {Feature} feature Feature.\n * @param {Array<*>} objectStack Object stack.\n */\nfunction writeTrk(node, feature, objectStack) {\n    var options = /** @type {import(\"./Feature.js\").WriteOptions} */ (objectStack[0]);\n    var properties = feature.getProperties();\n    /** @type {import(\"../xml.js\").NodeStackItem} */\n    var context = { node: node };\n    context['properties'] = properties;\n    var geometry = feature.getGeometry();\n    if (geometry.getType() == GeometryType.MULTI_LINE_STRING) {\n        var multiLineString = /** @type {MultiLineString} */ (transformGeometryWithOptions(geometry, true, options));\n        properties['trkseg'] = multiLineString.getLineStrings();\n    }\n    var parentNode = objectStack[objectStack.length - 1].node;\n    var orderedKeys = TRK_SEQUENCE[parentNode.namespaceURI];\n    var values = makeSequence(properties, orderedKeys);\n    pushSerializeAndPop(context, TRK_SERIALIZERS, OBJECT_PROPERTY_NODE_FACTORY, values, objectStack, orderedKeys);\n}\n/**\n * @param {Node} node Node.\n * @param {LineString} lineString LineString.\n * @param {Array<*>} objectStack Object stack.\n */\nfunction writeTrkSeg(node, lineString, objectStack) {\n    /** @type {import(\"../xml.js\").NodeStackItem} */\n    var context = { node: node };\n    context['geometryLayout'] = lineString.getLayout();\n    context['properties'] = {};\n    pushSerializeAndPop(context, TRKSEG_SERIALIZERS, TRKSEG_NODE_FACTORY, lineString.getCoordinates(), objectStack);\n}\n/**\n * @param {Element} node Node.\n * @param {Feature} feature Feature.\n * @param {Array<*>} objectStack Object stack.\n */\nfunction writeWpt(node, feature, objectStack) {\n    var options = /** @type {import(\"./Feature.js\").WriteOptions} */ (objectStack[0]);\n    var context = objectStack[objectStack.length - 1];\n    context['properties'] = feature.getProperties();\n    var geometry = feature.getGeometry();\n    if (geometry.getType() == GeometryType.POINT) {\n        var point = /** @type {Point} */ (transformGeometryWithOptions(geometry, true, options));\n        context['geometryLayout'] = point.getLayout();\n        writeWptType(node, point.getCoordinates(), objectStack);\n    }\n}\nexport default GPX;\n//# sourceMappingURL=GPX.js.map","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n/**\n * @module ol/geom/GeometryCollection\n */\nimport EventType from '../events/EventType.js';\nimport Geometry from './Geometry.js';\nimport GeometryType from './GeometryType.js';\nimport { closestSquaredDistanceXY, createOrUpdateEmpty, extend, getCenter, } from '../extent.js';\nimport { listen, unlistenByKey } from '../events.js';\n/**\n * @classdesc\n * An array of {@link module:ol/geom/Geometry} objects.\n *\n * @api\n */\nvar GeometryCollection = /** @class */ (function (_super) {\n    __extends(GeometryCollection, _super);\n    /**\n     * @param {Array<Geometry>=} opt_geometries Geometries.\n     */\n    function GeometryCollection(opt_geometries) {\n        var _this = _super.call(this) || this;\n        /**\n         * @private\n         * @type {Array<Geometry>}\n         */\n        _this.geometries_ = opt_geometries ? opt_geometries : null;\n        /**\n         * @type {Array<import(\"../events.js\").EventsKey>}\n         */\n        _this.changeEventsKeys_ = [];\n        _this.listenGeometriesChange_();\n        return _this;\n    }\n    /**\n     * @private\n     */\n    GeometryCollection.prototype.unlistenGeometriesChange_ = function () {\n        this.changeEventsKeys_.forEach(unlistenByKey);\n        this.changeEventsKeys_.length = 0;\n    };\n    /**\n     * @private\n     */\n    GeometryCollection.prototype.listenGeometriesChange_ = function () {\n        if (!this.geometries_) {\n            return;\n        }\n        for (var i = 0, ii = this.geometries_.length; i < ii; ++i) {\n            this.changeEventsKeys_.push(listen(this.geometries_[i], EventType.CHANGE, this.changed, this));\n        }\n    };\n    /**\n     * Make a complete copy of the geometry.\n     * @return {!GeometryCollection} Clone.\n     * @api\n     */\n    GeometryCollection.prototype.clone = function () {\n        var geometryCollection = new GeometryCollection(null);\n        geometryCollection.setGeometries(this.geometries_);\n        geometryCollection.applyProperties(this);\n        return geometryCollection;\n    };\n    /**\n     * @param {number} x X.\n     * @param {number} y Y.\n     * @param {import(\"../coordinate.js\").Coordinate} closestPoint Closest point.\n     * @param {number} minSquaredDistance Minimum squared distance.\n     * @return {number} Minimum squared distance.\n     */\n    GeometryCollection.prototype.closestPointXY = function (x, y, closestPoint, minSquaredDistance) {\n        if (minSquaredDistance < closestSquaredDistanceXY(this.getExtent(), x, y)) {\n            return minSquaredDistance;\n        }\n        var geometries = this.geometries_;\n        for (var i = 0, ii = geometries.length; i < ii; ++i) {\n            minSquaredDistance = geometries[i].closestPointXY(x, y, closestPoint, minSquaredDistance);\n        }\n        return minSquaredDistance;\n    };\n    /**\n     * @param {number} x X.\n     * @param {number} y Y.\n     * @return {boolean} Contains (x, y).\n     */\n    GeometryCollection.prototype.containsXY = function (x, y) {\n        var geometries = this.geometries_;\n        for (var i = 0, ii = geometries.length; i < ii; ++i) {\n            if (geometries[i].containsXY(x, y)) {\n                return true;\n            }\n        }\n        return false;\n    };\n    /**\n     * @param {import(\"../extent.js\").Extent} extent Extent.\n     * @protected\n     * @return {import(\"../extent.js\").Extent} extent Extent.\n     */\n    GeometryCollection.prototype.computeExtent = function (extent) {\n        createOrUpdateEmpty(extent);\n        var geometries = this.geometries_;\n        for (var i = 0, ii = geometries.length; i < ii; ++i) {\n            extend(extent, geometries[i].getExtent());\n        }\n        return extent;\n    };\n    /**\n     * Return the geometries that make up this geometry collection.\n     * @return {Array<Geometry>} Geometries.\n     * @api\n     */\n    GeometryCollection.prototype.getGeometries = function () {\n        return cloneGeometries(this.geometries_);\n    };\n    /**\n     * @return {Array<Geometry>} Geometries.\n     */\n    GeometryCollection.prototype.getGeometriesArray = function () {\n        return this.geometries_;\n    };\n    /**\n     * @return {Array<Geometry>} Geometries.\n     */\n    GeometryCollection.prototype.getGeometriesArrayRecursive = function () {\n        /** @type {Array<Geometry>} */\n        var geometriesArray = [];\n        var geometries = this.geometries_;\n        for (var i = 0, ii = geometries.length; i < ii; ++i) {\n            if (geometries[i].getType() === this.getType()) {\n                geometriesArray = geometriesArray.concat(\n                /** @type {GeometryCollection} */ (geometries[i]).getGeometriesArrayRecursive());\n            }\n            else {\n                geometriesArray.push(geometries[i]);\n            }\n        }\n        return geometriesArray;\n    };\n    /**\n     * Create a simplified version of this geometry using the Douglas Peucker algorithm.\n     * @param {number} squaredTolerance Squared tolerance.\n     * @return {GeometryCollection} Simplified GeometryCollection.\n     */\n    GeometryCollection.prototype.getSimplifiedGeometry = function (squaredTolerance) {\n        if (this.simplifiedGeometryRevision !== this.getRevision()) {\n            this.simplifiedGeometryMaxMinSquaredTolerance = 0;\n            this.simplifiedGeometryRevision = this.getRevision();\n        }\n        if (squaredTolerance < 0 ||\n            (this.simplifiedGeometryMaxMinSquaredTolerance !== 0 &&\n                squaredTolerance < this.simplifiedGeometryMaxMinSquaredTolerance)) {\n            return this;\n        }\n        var simplifiedGeometries = [];\n        var geometries = this.geometries_;\n        var simplified = false;\n        for (var i = 0, ii = geometries.length; i < ii; ++i) {\n            var geometry = geometries[i];\n            var simplifiedGeometry = geometry.getSimplifiedGeometry(squaredTolerance);\n            simplifiedGeometries.push(simplifiedGeometry);\n            if (simplifiedGeometry !== geometry) {\n                simplified = true;\n            }\n        }\n        if (simplified) {\n            var simplifiedGeometryCollection = new GeometryCollection(null);\n            simplifiedGeometryCollection.setGeometriesArray(simplifiedGeometries);\n            return simplifiedGeometryCollection;\n        }\n        else {\n            this.simplifiedGeometryMaxMinSquaredTolerance = squaredTolerance;\n            return this;\n        }\n    };\n    /**\n     * Get the type of this geometry.\n     * @return {import(\"./GeometryType.js\").default} Geometry type.\n     * @api\n     */\n    GeometryCollection.prototype.getType = function () {\n        return GeometryType.GEOMETRY_COLLECTION;\n    };\n    /**\n     * Test if the geometry and the passed extent intersect.\n     * @param {import(\"../extent.js\").Extent} extent Extent.\n     * @return {boolean} `true` if the geometry and the extent intersect.\n     * @api\n     */\n    GeometryCollection.prototype.intersectsExtent = function (extent) {\n        var geometries = this.geometries_;\n        for (var i = 0, ii = geometries.length; i < ii; ++i) {\n            if (geometries[i].intersectsExtent(extent)) {\n                return true;\n            }\n        }\n        return false;\n    };\n    /**\n     * @return {boolean} Is empty.\n     */\n    GeometryCollection.prototype.isEmpty = function () {\n        return this.geometries_.length === 0;\n    };\n    /**\n     * Rotate the geometry around a given coordinate. This modifies the geometry\n     * coordinates in place.\n     * @param {number} angle Rotation angle in radians.\n     * @param {import(\"../coordinate.js\").Coordinate} anchor The rotation center.\n     * @api\n     */\n    GeometryCollection.prototype.rotate = function (angle, anchor) {\n        var geometries = this.geometries_;\n        for (var i = 0, ii = geometries.length; i < ii; ++i) {\n            geometries[i].rotate(angle, anchor);\n        }\n        this.changed();\n    };\n    /**\n     * Scale the geometry (with an optional origin).  This modifies the geometry\n     * coordinates in place.\n     * @abstract\n     * @param {number} sx The scaling factor in the x-direction.\n     * @param {number=} opt_sy The scaling factor in the y-direction (defaults to sx).\n     * @param {import(\"../coordinate.js\").Coordinate=} opt_anchor The scale origin (defaults to the center\n     *     of the geometry extent).\n     * @api\n     */\n    GeometryCollection.prototype.scale = function (sx, opt_sy, opt_anchor) {\n        var anchor = opt_anchor;\n        if (!anchor) {\n            anchor = getCenter(this.getExtent());\n        }\n        var geometries = this.geometries_;\n        for (var i = 0, ii = geometries.length; i < ii; ++i) {\n            geometries[i].scale(sx, opt_sy, anchor);\n        }\n        this.changed();\n    };\n    /**\n     * Set the geometries that make up this geometry collection.\n     * @param {Array<Geometry>} geometries Geometries.\n     * @api\n     */\n    GeometryCollection.prototype.setGeometries = function (geometries) {\n        this.setGeometriesArray(cloneGeometries(geometries));\n    };\n    /**\n     * @param {Array<Geometry>} geometries Geometries.\n     */\n    GeometryCollection.prototype.setGeometriesArray = function (geometries) {\n        this.unlistenGeometriesChange_();\n        this.geometries_ = geometries;\n        this.listenGeometriesChange_();\n        this.changed();\n    };\n    /**\n     * Apply a transform function to the coordinates of the geometry.\n     * The geometry is modified in place.\n     * If you do not want the geometry modified in place, first `clone()` it and\n     * then use this function on the clone.\n     * @param {import(\"../proj.js\").TransformFunction} transformFn Transform function.\n     * Called with a flat array of geometry coordinates.\n     * @api\n     */\n    GeometryCollection.prototype.applyTransform = function (transformFn) {\n        var geometries = this.geometries_;\n        for (var i = 0, ii = geometries.length; i < ii; ++i) {\n            geometries[i].applyTransform(transformFn);\n        }\n        this.changed();\n    };\n    /**\n     * Translate the geometry.  This modifies the geometry coordinates in place.  If\n     * instead you want a new geometry, first `clone()` this geometry.\n     * @param {number} deltaX Delta X.\n     * @param {number} deltaY Delta Y.\n     * @api\n     */\n    GeometryCollection.prototype.translate = function (deltaX, deltaY) {\n        var geometries = this.geometries_;\n        for (var i = 0, ii = geometries.length; i < ii; ++i) {\n            geometries[i].translate(deltaX, deltaY);\n        }\n        this.changed();\n    };\n    /**\n     * Clean up.\n     */\n    GeometryCollection.prototype.disposeInternal = function () {\n        this.unlistenGeometriesChange_();\n        _super.prototype.disposeInternal.call(this);\n    };\n    return GeometryCollection;\n}(Geometry));\n/**\n * @param {Array<Geometry>} geometries Geometries.\n * @return {Array<Geometry>} Cloned geometries.\n */\nfunction cloneGeometries(geometries) {\n    var clonedGeometries = [];\n    for (var i = 0, ii = geometries.length; i < ii; ++i) {\n        clonedGeometries.push(geometries[i].clone());\n    }\n    return clonedGeometries;\n}\nexport default GeometryCollection;\n//# sourceMappingURL=GeometryCollection.js.map","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n/**\n * @module ol/format/JSONFeature\n */\nimport FeatureFormat from './Feature.js';\nimport FormatType from './FormatType.js';\nimport { abstract } from '../util.js';\n/**\n * @classdesc\n * Abstract base class; normally only used for creating subclasses and not\n * instantiated in apps.\n * Base class for JSON feature formats.\n *\n * @abstract\n */\nvar JSONFeature = /** @class */ (function (_super) {\n    __extends(JSONFeature, _super);\n    function JSONFeature() {\n        return _super.call(this) || this;\n    }\n    /**\n     * @return {import(\"./FormatType.js\").default} Format.\n     */\n    JSONFeature.prototype.getType = function () {\n        return FormatType.JSON;\n    };\n    /**\n     * Read a feature.  Only works for a single feature. Use `readFeatures` to\n     * read a feature collection.\n     *\n     * @param {ArrayBuffer|Document|Element|Object|string} source Source.\n     * @param {import(\"./Feature.js\").ReadOptions=} opt_options Read options.\n     * @return {import(\"../Feature.js\").default} Feature.\n     * @api\n     */\n    JSONFeature.prototype.readFeature = function (source, opt_options) {\n        return this.readFeatureFromObject(getObject(source), this.getReadOptions(source, opt_options));\n    };\n    /**\n     * Read all features.  Works with both a single feature and a feature\n     * collection.\n     *\n     * @param {ArrayBuffer|Document|Element|Object|string} source Source.\n     * @param {import(\"./Feature.js\").ReadOptions=} opt_options Read options.\n     * @return {Array<import(\"../Feature.js\").default>} Features.\n     * @api\n     */\n    JSONFeature.prototype.readFeatures = function (source, opt_options) {\n        return this.readFeaturesFromObject(getObject(source), this.getReadOptions(source, opt_options));\n    };\n    /**\n     * @abstract\n     * @param {Object} object Object.\n     * @param {import(\"./Feature.js\").ReadOptions=} opt_options Read options.\n     * @protected\n     * @return {import(\"../Feature.js\").default} Feature.\n     */\n    JSONFeature.prototype.readFeatureFromObject = function (object, opt_options) {\n        return abstract();\n    };\n    /**\n     * @abstract\n     * @param {Object} object Object.\n     * @param {import(\"./Feature.js\").ReadOptions=} opt_options Read options.\n     * @protected\n     * @return {Array<import(\"../Feature.js\").default>} Features.\n     */\n    JSONFeature.prototype.readFeaturesFromObject = function (object, opt_options) {\n        return abstract();\n    };\n    /**\n     * Read a geometry.\n     *\n     * @param {ArrayBuffer|Document|Element|Object|string} source Source.\n     * @param {import(\"./Feature.js\").ReadOptions=} opt_options Read options.\n     * @return {import(\"../geom/Geometry.js\").default} Geometry.\n     * @api\n     */\n    JSONFeature.prototype.readGeometry = function (source, opt_options) {\n        return this.readGeometryFromObject(getObject(source), this.getReadOptions(source, opt_options));\n    };\n    /**\n     * @abstract\n     * @param {Object} object Object.\n     * @param {import(\"./Feature.js\").ReadOptions=} opt_options Read options.\n     * @protected\n     * @return {import(\"../geom/Geometry.js\").default} Geometry.\n     */\n    JSONFeature.prototype.readGeometryFromObject = function (object, opt_options) {\n        return abstract();\n    };\n    /**\n     * Read the projection.\n     *\n     * @param {ArrayBuffer|Document|Element|Object|string} source Source.\n     * @return {import(\"../proj/Projection.js\").default} Projection.\n     * @api\n     */\n    JSONFeature.prototype.readProjection = function (source) {\n        return this.readProjectionFromObject(getObject(source));\n    };\n    /**\n     * @abstract\n     * @param {Object} object Object.\n     * @protected\n     * @return {import(\"../proj/Projection.js\").default} Projection.\n     */\n    JSONFeature.prototype.readProjectionFromObject = function (object) {\n        return abstract();\n    };\n    /**\n     * Encode a feature as string.\n     *\n     * @param {import(\"../Feature.js\").default} feature Feature.\n     * @param {import(\"./Feature.js\").WriteOptions=} opt_options Write options.\n     * @return {string} Encoded feature.\n     * @api\n     */\n    JSONFeature.prototype.writeFeature = function (feature, opt_options) {\n        return JSON.stringify(this.writeFeatureObject(feature, opt_options));\n    };\n    /**\n     * @abstract\n     * @param {import(\"../Feature.js\").default} feature Feature.\n     * @param {import(\"./Feature.js\").WriteOptions=} opt_options Write options.\n     * @return {Object} Object.\n     */\n    JSONFeature.prototype.writeFeatureObject = function (feature, opt_options) {\n        return abstract();\n    };\n    /**\n     * Encode an array of features as string.\n     *\n     * @param {Array<import(\"../Feature.js\").default>} features Features.\n     * @param {import(\"./Feature.js\").WriteOptions=} opt_options Write options.\n     * @return {string} Encoded features.\n     * @api\n     */\n    JSONFeature.prototype.writeFeatures = function (features, opt_options) {\n        return JSON.stringify(this.writeFeaturesObject(features, opt_options));\n    };\n    /**\n     * @abstract\n     * @param {Array<import(\"../Feature.js\").default>} features Features.\n     * @param {import(\"./Feature.js\").WriteOptions=} opt_options Write options.\n     * @return {Object} Object.\n     */\n    JSONFeature.prototype.writeFeaturesObject = function (features, opt_options) {\n        return abstract();\n    };\n    /**\n     * Encode a geometry as string.\n     *\n     * @param {import(\"../geom/Geometry.js\").default} geometry Geometry.\n     * @param {import(\"./Feature.js\").WriteOptions=} opt_options Write options.\n     * @return {string} Encoded geometry.\n     * @api\n     */\n    JSONFeature.prototype.writeGeometry = function (geometry, opt_options) {\n        return JSON.stringify(this.writeGeometryObject(geometry, opt_options));\n    };\n    /**\n     * @abstract\n     * @param {import(\"../geom/Geometry.js\").default} geometry Geometry.\n     * @param {import(\"./Feature.js\").WriteOptions=} opt_options Write options.\n     * @return {Object} Object.\n     */\n    JSONFeature.prototype.writeGeometryObject = function (geometry, opt_options) {\n        return abstract();\n    };\n    return JSONFeature;\n}(FeatureFormat));\n/**\n * @param {Document|Element|Object|string} source Source.\n * @return {Object} Object.\n */\nfunction getObject(source) {\n    if (typeof source === 'string') {\n        var object = JSON.parse(source);\n        return object ? /** @type {Object} */ (object) : null;\n    }\n    else if (source !== null) {\n        return source;\n    }\n    else {\n        return null;\n    }\n}\nexport default JSONFeature;\n//# sourceMappingURL=JSONFeature.js.map","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n/**\n * @module ol/geom/MultiPoint\n */\nimport GeometryType from './GeometryType.js';\nimport Point from './Point.js';\nimport SimpleGeometry from './SimpleGeometry.js';\nimport { closestSquaredDistanceXY, containsXY } from '../extent.js';\nimport { deflateCoordinates } from './flat/deflate.js';\nimport { extend } from '../array.js';\nimport { inflateCoordinates } from './flat/inflate.js';\nimport { squaredDistance as squaredDx } from '../math.js';\n/**\n * @classdesc\n * Multi-point geometry.\n *\n * @api\n */\nvar MultiPoint = /** @class */ (function (_super) {\n    __extends(MultiPoint, _super);\n    /**\n     * @param {Array<import(\"../coordinate.js\").Coordinate>|Array<number>} coordinates Coordinates.\n     *     For internal use, flat coordinates in combination with `opt_layout` are also accepted.\n     * @param {import(\"./GeometryLayout.js\").default=} opt_layout Layout.\n     */\n    function MultiPoint(coordinates, opt_layout) {\n        var _this = _super.call(this) || this;\n        if (opt_layout && !Array.isArray(coordinates[0])) {\n            _this.setFlatCoordinates(opt_layout, \n            /** @type {Array<number>} */ (coordinates));\n        }\n        else {\n            _this.setCoordinates(\n            /** @type {Array<import(\"../coordinate.js\").Coordinate>} */ (coordinates), opt_layout);\n        }\n        return _this;\n    }\n    /**\n     * Append the passed point to this multipoint.\n     * @param {Point} point Point.\n     * @api\n     */\n    MultiPoint.prototype.appendPoint = function (point) {\n        if (!this.flatCoordinates) {\n            this.flatCoordinates = point.getFlatCoordinates().slice();\n        }\n        else {\n            extend(this.flatCoordinates, point.getFlatCoordinates());\n        }\n        this.changed();\n    };\n    /**\n     * Make a complete copy of the geometry.\n     * @return {!MultiPoint} Clone.\n     * @api\n     */\n    MultiPoint.prototype.clone = function () {\n        var multiPoint = new MultiPoint(this.flatCoordinates.slice(), this.layout);\n        multiPoint.applyProperties(this);\n        return multiPoint;\n    };\n    /**\n     * @param {number} x X.\n     * @param {number} y Y.\n     * @param {import(\"../coordinate.js\").Coordinate} closestPoint Closest point.\n     * @param {number} minSquaredDistance Minimum squared distance.\n     * @return {number} Minimum squared distance.\n     */\n    MultiPoint.prototype.closestPointXY = function (x, y, closestPoint, minSquaredDistance) {\n        if (minSquaredDistance < closestSquaredDistanceXY(this.getExtent(), x, y)) {\n            return minSquaredDistance;\n        }\n        var flatCoordinates = this.flatCoordinates;\n        var stride = this.stride;\n        for (var i = 0, ii = flatCoordinates.length; i < ii; i += stride) {\n            var squaredDistance = squaredDx(x, y, flatCoordinates[i], flatCoordinates[i + 1]);\n            if (squaredDistance < minSquaredDistance) {\n                minSquaredDistance = squaredDistance;\n                for (var j = 0; j < stride; ++j) {\n                    closestPoint[j] = flatCoordinates[i + j];\n                }\n                closestPoint.length = stride;\n            }\n        }\n        return minSquaredDistance;\n    };\n    /**\n     * Return the coordinates of the multipoint.\n     * @return {Array<import(\"../coordinate.js\").Coordinate>} Coordinates.\n     * @api\n     */\n    MultiPoint.prototype.getCoordinates = function () {\n        return inflateCoordinates(this.flatCoordinates, 0, this.flatCoordinates.length, this.stride);\n    };\n    /**\n     * Return the point at the specified index.\n     * @param {number} index Index.\n     * @return {Point} Point.\n     * @api\n     */\n    MultiPoint.prototype.getPoint = function (index) {\n        var n = !this.flatCoordinates\n            ? 0\n            : this.flatCoordinates.length / this.stride;\n        if (index < 0 || n <= index) {\n            return null;\n        }\n        return new Point(this.flatCoordinates.slice(index * this.stride, (index + 1) * this.stride), this.layout);\n    };\n    /**\n     * Return the points of this multipoint.\n     * @return {Array<Point>} Points.\n     * @api\n     */\n    MultiPoint.prototype.getPoints = function () {\n        var flatCoordinates = this.flatCoordinates;\n        var layout = this.layout;\n        var stride = this.stride;\n        /** @type {Array<Point>} */\n        var points = [];\n        for (var i = 0, ii = flatCoordinates.length; i < ii; i += stride) {\n            var point = new Point(flatCoordinates.slice(i, i + stride), layout);\n            points.push(point);\n        }\n        return points;\n    };\n    /**\n     * Get the type of this geometry.\n     * @return {import(\"./GeometryType.js\").default} Geometry type.\n     * @api\n     */\n    MultiPoint.prototype.getType = function () {\n        return GeometryType.MULTI_POINT;\n    };\n    /**\n     * Test if the geometry and the passed extent intersect.\n     * @param {import(\"../extent.js\").Extent} extent Extent.\n     * @return {boolean} `true` if the geometry and the extent intersect.\n     * @api\n     */\n    MultiPoint.prototype.intersectsExtent = function (extent) {\n        var flatCoordinates = this.flatCoordinates;\n        var stride = this.stride;\n        for (var i = 0, ii = flatCoordinates.length; i < ii; i += stride) {\n            var x = flatCoordinates[i];\n            var y = flatCoordinates[i + 1];\n            if (containsXY(extent, x, y)) {\n                return true;\n            }\n        }\n        return false;\n    };\n    /**\n     * Set the coordinates of the multipoint.\n     * @param {!Array<import(\"../coordinate.js\").Coordinate>} coordinates Coordinates.\n     * @param {import(\"./GeometryLayout.js\").default=} opt_layout Layout.\n     * @api\n     */\n    MultiPoint.prototype.setCoordinates = function (coordinates, opt_layout) {\n        this.setLayout(opt_layout, coordinates, 1);\n        if (!this.flatCoordinates) {\n            this.flatCoordinates = [];\n        }\n        this.flatCoordinates.length = deflateCoordinates(this.flatCoordinates, 0, coordinates, this.stride);\n        this.changed();\n    };\n    return MultiPoint;\n}(SimpleGeometry));\nexport default MultiPoint;\n//# sourceMappingURL=MultiPoint.js.map","/**\n * @module ol/geom/flat/area\n */\n/**\n * @param {Array<number>} flatCoordinates Flat coordinates.\n * @param {number} offset Offset.\n * @param {number} end End.\n * @param {number} stride Stride.\n * @return {number} Area.\n */\nexport function linearRing(flatCoordinates, offset, end, stride) {\n    var twiceArea = 0;\n    var x1 = flatCoordinates[end - stride];\n    var y1 = flatCoordinates[end - stride + 1];\n    for (; offset < end; offset += stride) {\n        var x2 = flatCoordinates[offset];\n        var y2 = flatCoordinates[offset + 1];\n        twiceArea += y1 * x2 - x1 * y2;\n        x1 = x2;\n        y1 = y2;\n    }\n    return twiceArea / 2;\n}\n/**\n * @param {Array<number>} flatCoordinates Flat coordinates.\n * @param {number} offset Offset.\n * @param {Array<number>} ends Ends.\n * @param {number} stride Stride.\n * @return {number} Area.\n */\nexport function linearRings(flatCoordinates, offset, ends, stride) {\n    var area = 0;\n    for (var i = 0, ii = ends.length; i < ii; ++i) {\n        var end = ends[i];\n        area += linearRing(flatCoordinates, offset, end, stride);\n        offset = end;\n    }\n    return area;\n}\n/**\n * @param {Array<number>} flatCoordinates Flat coordinates.\n * @param {number} offset Offset.\n * @param {Array<Array<number>>} endss Endss.\n * @param {number} stride Stride.\n * @return {number} Area.\n */\nexport function linearRingss(flatCoordinates, offset, endss, stride) {\n    var area = 0;\n    for (var i = 0, ii = endss.length; i < ii; ++i) {\n        var ends = endss[i];\n        area += linearRings(flatCoordinates, offset, ends, stride);\n        offset = ends[ends.length - 1];\n    }\n    return area;\n}\n//# sourceMappingURL=area.js.map","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n/**\n * @module ol/geom/LinearRing\n */\nimport GeometryLayout from './GeometryLayout.js';\nimport GeometryType from './GeometryType.js';\nimport SimpleGeometry from './SimpleGeometry.js';\nimport { assignClosestPoint, maxSquaredDelta } from './flat/closest.js';\nimport { closestSquaredDistanceXY } from '../extent.js';\nimport { deflateCoordinates } from './flat/deflate.js';\nimport { douglasPeucker } from './flat/simplify.js';\nimport { inflateCoordinates } from './flat/inflate.js';\nimport { linearRing as linearRingArea } from './flat/area.js';\n/**\n * @classdesc\n * Linear ring geometry. Only used as part of polygon; cannot be rendered\n * on its own.\n *\n * @api\n */\nvar LinearRing = /** @class */ (function (_super) {\n    __extends(LinearRing, _super);\n    /**\n     * @param {Array<import(\"../coordinate.js\").Coordinate>|Array<number>} coordinates Coordinates.\n     *     For internal use, flat coordinates in combination with `opt_layout` are also accepted.\n     * @param {import(\"./GeometryLayout.js\").default=} opt_layout Layout.\n     */\n    function LinearRing(coordinates, opt_layout) {\n        var _this = _super.call(this) || this;\n        /**\n         * @private\n         * @type {number}\n         */\n        _this.maxDelta_ = -1;\n        /**\n         * @private\n         * @type {number}\n         */\n        _this.maxDeltaRevision_ = -1;\n        if (opt_layout !== undefined && !Array.isArray(coordinates[0])) {\n            _this.setFlatCoordinates(opt_layout, \n            /** @type {Array<number>} */ (coordinates));\n        }\n        else {\n            _this.setCoordinates(\n            /** @type {Array<import(\"../coordinate.js\").Coordinate>} */ (coordinates), opt_layout);\n        }\n        return _this;\n    }\n    /**\n     * Make a complete copy of the geometry.\n     * @return {!LinearRing} Clone.\n     * @api\n     */\n    LinearRing.prototype.clone = function () {\n        return new LinearRing(this.flatCoordinates.slice(), this.layout);\n    };\n    /**\n     * @param {number} x X.\n     * @param {number} y Y.\n     * @param {import(\"../coordinate.js\").Coordinate} closestPoint Closest point.\n     * @param {number} minSquaredDistance Minimum squared distance.\n     * @return {number} Minimum squared distance.\n     */\n    LinearRing.prototype.closestPointXY = function (x, y, closestPoint, minSquaredDistance) {\n        if (minSquaredDistance < closestSquaredDistanceXY(this.getExtent(), x, y)) {\n            return minSquaredDistance;\n        }\n        if (this.maxDeltaRevision_ != this.getRevision()) {\n            this.maxDelta_ = Math.sqrt(maxSquaredDelta(this.flatCoordinates, 0, this.flatCoordinates.length, this.stride, 0));\n            this.maxDeltaRevision_ = this.getRevision();\n        }\n        return assignClosestPoint(this.flatCoordinates, 0, this.flatCoordinates.length, this.stride, this.maxDelta_, true, x, y, closestPoint, minSquaredDistance);\n    };\n    /**\n     * Return the area of the linear ring on projected plane.\n     * @return {number} Area (on projected plane).\n     * @api\n     */\n    LinearRing.prototype.getArea = function () {\n        return linearRingArea(this.flatCoordinates, 0, this.flatCoordinates.length, this.stride);\n    };\n    /**\n     * Return the coordinates of the linear ring.\n     * @return {Array<import(\"../coordinate.js\").Coordinate>} Coordinates.\n     * @api\n     */\n    LinearRing.prototype.getCoordinates = function () {\n        return inflateCoordinates(this.flatCoordinates, 0, this.flatCoordinates.length, this.stride);\n    };\n    /**\n     * @param {number} squaredTolerance Squared tolerance.\n     * @return {LinearRing} Simplified LinearRing.\n     * @protected\n     */\n    LinearRing.prototype.getSimplifiedGeometryInternal = function (squaredTolerance) {\n        var simplifiedFlatCoordinates = [];\n        simplifiedFlatCoordinates.length = douglasPeucker(this.flatCoordinates, 0, this.flatCoordinates.length, this.stride, squaredTolerance, simplifiedFlatCoordinates, 0);\n        return new LinearRing(simplifiedFlatCoordinates, GeometryLayout.XY);\n    };\n    /**\n     * Get the type of this geometry.\n     * @return {import(\"./GeometryType.js\").default} Geometry type.\n     * @api\n     */\n    LinearRing.prototype.getType = function () {\n        return GeometryType.LINEAR_RING;\n    };\n    /**\n     * Test if the geometry and the passed extent intersect.\n     * @param {import(\"../extent.js\").Extent} extent Extent.\n     * @return {boolean} `true` if the geometry and the extent intersect.\n     * @api\n     */\n    LinearRing.prototype.intersectsExtent = function (extent) {\n        return false;\n    };\n    /**\n     * Set the coordinates of the linear ring.\n     * @param {!Array<import(\"../coordinate.js\").Coordinate>} coordinates Coordinates.\n     * @param {import(\"./GeometryLayout.js\").default=} opt_layout Layout.\n     * @api\n     */\n    LinearRing.prototype.setCoordinates = function (coordinates, opt_layout) {\n        this.setLayout(opt_layout, coordinates, 1);\n        if (!this.flatCoordinates) {\n            this.flatCoordinates = [];\n        }\n        this.flatCoordinates.length = deflateCoordinates(this.flatCoordinates, 0, coordinates, this.stride);\n        this.changed();\n    };\n    return LinearRing;\n}(SimpleGeometry));\nexport default LinearRing;\n//# sourceMappingURL=LinearRing.js.map","/**\n * @module ol/geom/flat/interiorpoint\n */\nimport { linearRingsContainsXY } from './contains.js';\nimport { numberSafeCompareFunction } from '../../array.js';\n/**\n * Calculates a point that is likely to lie in the interior of the linear rings.\n * Inspired by JTS's com.vividsolutions.jts.geom.Geometry#getInteriorPoint.\n * @param {Array<number>} flatCoordinates Flat coordinates.\n * @param {number} offset Offset.\n * @param {Array<number>} ends Ends.\n * @param {number} stride Stride.\n * @param {Array<number>} flatCenters Flat centers.\n * @param {number} flatCentersOffset Flat center offset.\n * @param {Array<number>=} opt_dest Destination.\n * @return {Array<number>} Destination point as XYM coordinate, where M is the\n * length of the horizontal intersection that the point belongs to.\n */\nexport function getInteriorPointOfArray(flatCoordinates, offset, ends, stride, flatCenters, flatCentersOffset, opt_dest) {\n    var i, ii, x, x1, x2, y1, y2;\n    var y = flatCenters[flatCentersOffset + 1];\n    /** @type {Array<number>} */\n    var intersections = [];\n    // Calculate intersections with the horizontal line\n    for (var r = 0, rr = ends.length; r < rr; ++r) {\n        var end = ends[r];\n        x1 = flatCoordinates[end - stride];\n        y1 = flatCoordinates[end - stride + 1];\n        for (i = offset; i < end; i += stride) {\n            x2 = flatCoordinates[i];\n            y2 = flatCoordinates[i + 1];\n            if ((y <= y1 && y2 <= y) || (y1 <= y && y <= y2)) {\n                x = ((y - y1) / (y2 - y1)) * (x2 - x1) + x1;\n                intersections.push(x);\n            }\n            x1 = x2;\n            y1 = y2;\n        }\n    }\n    // Find the longest segment of the horizontal line that has its center point\n    // inside the linear ring.\n    var pointX = NaN;\n    var maxSegmentLength = -Infinity;\n    intersections.sort(numberSafeCompareFunction);\n    x1 = intersections[0];\n    for (i = 1, ii = intersections.length; i < ii; ++i) {\n        x2 = intersections[i];\n        var segmentLength = Math.abs(x2 - x1);\n        if (segmentLength > maxSegmentLength) {\n            x = (x1 + x2) / 2;\n            if (linearRingsContainsXY(flatCoordinates, offset, ends, stride, x, y)) {\n                pointX = x;\n                maxSegmentLength = segmentLength;\n            }\n        }\n        x1 = x2;\n    }\n    if (isNaN(pointX)) {\n        // There is no horizontal line that has its center point inside the linear\n        // ring.  Use the center of the the linear ring's extent.\n        pointX = flatCenters[flatCentersOffset];\n    }\n    if (opt_dest) {\n        opt_dest.push(pointX, y, maxSegmentLength);\n        return opt_dest;\n    }\n    else {\n        return [pointX, y, maxSegmentLength];\n    }\n}\n/**\n * @param {Array<number>} flatCoordinates Flat coordinates.\n * @param {number} offset Offset.\n * @param {Array<Array<number>>} endss Endss.\n * @param {number} stride Stride.\n * @param {Array<number>} flatCenters Flat centers.\n * @return {Array<number>} Interior points as XYM coordinates, where M is the\n * length of the horizontal intersection that the point belongs to.\n */\nexport function getInteriorPointsOfMultiArray(flatCoordinates, offset, endss, stride, flatCenters) {\n    var interiorPoints = [];\n    for (var i = 0, ii = endss.length; i < ii; ++i) {\n        var ends = endss[i];\n        interiorPoints = getInteriorPointOfArray(flatCoordinates, offset, ends, stride, flatCenters, 2 * i, interiorPoints);\n        offset = ends[ends.length - 1];\n    }\n    return interiorPoints;\n}\n//# sourceMappingURL=interiorpoint.js.map","/**\n * @module ol/geom/flat/reverse\n */\n/**\n * @param {Array<number>} flatCoordinates Flat coordinates.\n * @param {number} offset Offset.\n * @param {number} end End.\n * @param {number} stride Stride.\n */\nexport function coordinates(flatCoordinates, offset, end, stride) {\n    while (offset < end - stride) {\n        for (var i = 0; i < stride; ++i) {\n            var tmp = flatCoordinates[offset + i];\n            flatCoordinates[offset + i] = flatCoordinates[end - stride + i];\n            flatCoordinates[end - stride + i] = tmp;\n        }\n        offset += stride;\n        end -= stride;\n    }\n}\n//# sourceMappingURL=reverse.js.map","/**\n * @module ol/geom/flat/orient\n */\nimport { coordinates as reverseCoordinates } from './reverse.js';\n/**\n * Is the linear ring oriented clockwise in a coordinate system with a bottom-left\n * coordinate origin? For a coordinate system with a top-left coordinate origin,\n * the ring's orientation is clockwise when this function returns false.\n * @param {Array<number>} flatCoordinates Flat coordinates.\n * @param {number} offset Offset.\n * @param {number} end End.\n * @param {number} stride Stride.\n * @return {boolean} Is clockwise.\n */\nexport function linearRingIsClockwise(flatCoordinates, offset, end, stride) {\n    // http://tinyurl.com/clockwise-method\n    // https://github.com/OSGeo/gdal/blob/trunk/gdal/ogr/ogrlinearring.cpp\n    var edge = 0;\n    var x1 = flatCoordinates[end - stride];\n    var y1 = flatCoordinates[end - stride + 1];\n    for (; offset < end; offset += stride) {\n        var x2 = flatCoordinates[offset];\n        var y2 = flatCoordinates[offset + 1];\n        edge += (x2 - x1) * (y2 + y1);\n        x1 = x2;\n        y1 = y2;\n    }\n    return edge === 0 ? undefined : edge > 0;\n}\n/**\n * Determines if linear rings are oriented.  By default, left-hand orientation\n * is tested (first ring must be clockwise, remaining rings counter-clockwise).\n * To test for right-hand orientation, use the `opt_right` argument.\n *\n * @param {Array<number>} flatCoordinates Flat coordinates.\n * @param {number} offset Offset.\n * @param {Array<number>} ends Array of end indexes.\n * @param {number} stride Stride.\n * @param {boolean=} opt_right Test for right-hand orientation\n *     (counter-clockwise exterior ring and clockwise interior rings).\n * @return {boolean} Rings are correctly oriented.\n */\nexport function linearRingsAreOriented(flatCoordinates, offset, ends, stride, opt_right) {\n    var right = opt_right !== undefined ? opt_right : false;\n    for (var i = 0, ii = ends.length; i < ii; ++i) {\n        var end = ends[i];\n        var isClockwise = linearRingIsClockwise(flatCoordinates, offset, end, stride);\n        if (i === 0) {\n            if ((right && isClockwise) || (!right && !isClockwise)) {\n                return false;\n            }\n        }\n        else {\n            if ((right && !isClockwise) || (!right && isClockwise)) {\n                return false;\n            }\n        }\n        offset = end;\n    }\n    return true;\n}\n/**\n * Determines if linear rings are oriented.  By default, left-hand orientation\n * is tested (first ring must be clockwise, remaining rings counter-clockwise).\n * To test for right-hand orientation, use the `opt_right` argument.\n *\n * @param {Array<number>} flatCoordinates Flat coordinates.\n * @param {number} offset Offset.\n * @param {Array<Array<number>>} endss Array of array of end indexes.\n * @param {number} stride Stride.\n * @param {boolean=} opt_right Test for right-hand orientation\n *     (counter-clockwise exterior ring and clockwise interior rings).\n * @return {boolean} Rings are correctly oriented.\n */\nexport function linearRingssAreOriented(flatCoordinates, offset, endss, stride, opt_right) {\n    for (var i = 0, ii = endss.length; i < ii; ++i) {\n        var ends = endss[i];\n        if (!linearRingsAreOriented(flatCoordinates, offset, ends, stride, opt_right)) {\n            return false;\n        }\n        if (ends.length) {\n            offset = ends[ends.length - 1];\n        }\n    }\n    return true;\n}\n/**\n * Orient coordinates in a flat array of linear rings.  By default, rings\n * are oriented following the left-hand rule (clockwise for exterior and\n * counter-clockwise for interior rings).  To orient according to the\n * right-hand rule, use the `opt_right` argument.\n *\n * @param {Array<number>} flatCoordinates Flat coordinates.\n * @param {number} offset Offset.\n * @param {Array<number>} ends Ends.\n * @param {number} stride Stride.\n * @param {boolean=} opt_right Follow the right-hand rule for orientation.\n * @return {number} End.\n */\nexport function orientLinearRings(flatCoordinates, offset, ends, stride, opt_right) {\n    var right = opt_right !== undefined ? opt_right : false;\n    for (var i = 0, ii = ends.length; i < ii; ++i) {\n        var end = ends[i];\n        var isClockwise = linearRingIsClockwise(flatCoordinates, offset, end, stride);\n        var reverse = i === 0\n            ? (right && isClockwise) || (!right && !isClockwise)\n            : (right && !isClockwise) || (!right && isClockwise);\n        if (reverse) {\n            reverseCoordinates(flatCoordinates, offset, end, stride);\n        }\n        offset = end;\n    }\n    return offset;\n}\n/**\n * Orient coordinates in a flat array of linear rings.  By default, rings\n * are oriented following the left-hand rule (clockwise for exterior and\n * counter-clockwise for interior rings).  To orient according to the\n * right-hand rule, use the `opt_right` argument.\n *\n * @param {Array<number>} flatCoordinates Flat coordinates.\n * @param {number} offset Offset.\n * @param {Array<Array<number>>} endss Array of array of end indexes.\n * @param {number} stride Stride.\n * @param {boolean=} opt_right Follow the right-hand rule for orientation.\n * @return {number} End.\n */\nexport function orientLinearRingsArray(flatCoordinates, offset, endss, stride, opt_right) {\n    for (var i = 0, ii = endss.length; i < ii; ++i) {\n        offset = orientLinearRings(flatCoordinates, offset, endss[i], stride, opt_right);\n    }\n    return offset;\n}\n//# sourceMappingURL=orient.js.map","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n/**\n * @module ol/geom/Polygon\n */\nimport GeometryLayout from './GeometryLayout.js';\nimport GeometryType from './GeometryType.js';\nimport LinearRing from './LinearRing.js';\nimport Point from './Point.js';\nimport SimpleGeometry from './SimpleGeometry.js';\nimport { arrayMaxSquaredDelta, assignClosestArrayPoint } from './flat/closest.js';\nimport { closestSquaredDistanceXY, getCenter } from '../extent.js';\nimport { deflateCoordinatesArray } from './flat/deflate.js';\nimport { extend } from '../array.js';\nimport { getInteriorPointOfArray } from './flat/interiorpoint.js';\nimport { inflateCoordinatesArray } from './flat/inflate.js';\nimport { intersectsLinearRingArray } from './flat/intersectsextent.js';\nimport { linearRingsAreOriented, orientLinearRings } from './flat/orient.js';\nimport { linearRings as linearRingsArea } from './flat/area.js';\nimport { linearRingsContainsXY } from './flat/contains.js';\nimport { modulo } from '../math.js';\nimport { quantizeArray } from './flat/simplify.js';\nimport { offset as sphereOffset } from '../sphere.js';\n/**\n * @classdesc\n * Polygon geometry.\n *\n * @api\n */\nvar Polygon = /** @class */ (function (_super) {\n    __extends(Polygon, _super);\n    /**\n     * @param {!Array<Array<import(\"../coordinate.js\").Coordinate>>|!Array<number>} coordinates\n     *     Array of linear rings that define the polygon. The first linear ring of the\n     *     array defines the outer-boundary or surface of the polygon. Each subsequent\n     *     linear ring defines a hole in the surface of the polygon. A linear ring is\n     *     an array of vertices' coordinates where the first coordinate and the last are\n     *     equivalent. (For internal use, flat coordinates in combination with\n     *     `opt_layout` and `opt_ends` are also accepted.)\n     * @param {import(\"./GeometryLayout.js\").default=} opt_layout Layout.\n     * @param {Array<number>=} opt_ends Ends (for internal use with flat coordinates).\n     */\n    function Polygon(coordinates, opt_layout, opt_ends) {\n        var _this = _super.call(this) || this;\n        /**\n         * @type {Array<number>}\n         * @private\n         */\n        _this.ends_ = [];\n        /**\n         * @private\n         * @type {number}\n         */\n        _this.flatInteriorPointRevision_ = -1;\n        /**\n         * @private\n         * @type {import(\"../coordinate.js\").Coordinate}\n         */\n        _this.flatInteriorPoint_ = null;\n        /**\n         * @private\n         * @type {number}\n         */\n        _this.maxDelta_ = -1;\n        /**\n         * @private\n         * @type {number}\n         */\n        _this.maxDeltaRevision_ = -1;\n        /**\n         * @private\n         * @type {number}\n         */\n        _this.orientedRevision_ = -1;\n        /**\n         * @private\n         * @type {Array<number>}\n         */\n        _this.orientedFlatCoordinates_ = null;\n        if (opt_layout !== undefined && opt_ends) {\n            _this.setFlatCoordinates(opt_layout, \n            /** @type {Array<number>} */ (coordinates));\n            _this.ends_ = opt_ends;\n        }\n        else {\n            _this.setCoordinates(\n            /** @type {Array<Array<import(\"../coordinate.js\").Coordinate>>} */ (coordinates), opt_layout);\n        }\n        return _this;\n    }\n    /**\n     * Append the passed linear ring to this polygon.\n     * @param {LinearRing} linearRing Linear ring.\n     * @api\n     */\n    Polygon.prototype.appendLinearRing = function (linearRing) {\n        if (!this.flatCoordinates) {\n            this.flatCoordinates = linearRing.getFlatCoordinates().slice();\n        }\n        else {\n            extend(this.flatCoordinates, linearRing.getFlatCoordinates());\n        }\n        this.ends_.push(this.flatCoordinates.length);\n        this.changed();\n    };\n    /**\n     * Make a complete copy of the geometry.\n     * @return {!Polygon} Clone.\n     * @api\n     */\n    Polygon.prototype.clone = function () {\n        var polygon = new Polygon(this.flatCoordinates.slice(), this.layout, this.ends_.slice());\n        polygon.applyProperties(this);\n        return polygon;\n    };\n    /**\n     * @param {number} x X.\n     * @param {number} y Y.\n     * @param {import(\"../coordinate.js\").Coordinate} closestPoint Closest point.\n     * @param {number} minSquaredDistance Minimum squared distance.\n     * @return {number} Minimum squared distance.\n     */\n    Polygon.prototype.closestPointXY = function (x, y, closestPoint, minSquaredDistance) {\n        if (minSquaredDistance < closestSquaredDistanceXY(this.getExtent(), x, y)) {\n            return minSquaredDistance;\n        }\n        if (this.maxDeltaRevision_ != this.getRevision()) {\n            this.maxDelta_ = Math.sqrt(arrayMaxSquaredDelta(this.flatCoordinates, 0, this.ends_, this.stride, 0));\n            this.maxDeltaRevision_ = this.getRevision();\n        }\n        return assignClosestArrayPoint(this.flatCoordinates, 0, this.ends_, this.stride, this.maxDelta_, true, x, y, closestPoint, minSquaredDistance);\n    };\n    /**\n     * @param {number} x X.\n     * @param {number} y Y.\n     * @return {boolean} Contains (x, y).\n     */\n    Polygon.prototype.containsXY = function (x, y) {\n        return linearRingsContainsXY(this.getOrientedFlatCoordinates(), 0, this.ends_, this.stride, x, y);\n    };\n    /**\n     * Return the area of the polygon on projected plane.\n     * @return {number} Area (on projected plane).\n     * @api\n     */\n    Polygon.prototype.getArea = function () {\n        return linearRingsArea(this.getOrientedFlatCoordinates(), 0, this.ends_, this.stride);\n    };\n    /**\n     * Get the coordinate array for this geometry.  This array has the structure\n     * of a GeoJSON coordinate array for polygons.\n     *\n     * @param {boolean=} opt_right Orient coordinates according to the right-hand\n     *     rule (counter-clockwise for exterior and clockwise for interior rings).\n     *     If `false`, coordinates will be oriented according to the left-hand rule\n     *     (clockwise for exterior and counter-clockwise for interior rings).\n     *     By default, coordinate orientation will depend on how the geometry was\n     *     constructed.\n     * @return {Array<Array<import(\"../coordinate.js\").Coordinate>>} Coordinates.\n     * @api\n     */\n    Polygon.prototype.getCoordinates = function (opt_right) {\n        var flatCoordinates;\n        if (opt_right !== undefined) {\n            flatCoordinates = this.getOrientedFlatCoordinates().slice();\n            orientLinearRings(flatCoordinates, 0, this.ends_, this.stride, opt_right);\n        }\n        else {\n            flatCoordinates = this.flatCoordinates;\n        }\n        return inflateCoordinatesArray(flatCoordinates, 0, this.ends_, this.stride);\n    };\n    /**\n     * @return {Array<number>} Ends.\n     */\n    Polygon.prototype.getEnds = function () {\n        return this.ends_;\n    };\n    /**\n     * @return {Array<number>} Interior point.\n     */\n    Polygon.prototype.getFlatInteriorPoint = function () {\n        if (this.flatInteriorPointRevision_ != this.getRevision()) {\n            var flatCenter = getCenter(this.getExtent());\n            this.flatInteriorPoint_ = getInteriorPointOfArray(this.getOrientedFlatCoordinates(), 0, this.ends_, this.stride, flatCenter, 0);\n            this.flatInteriorPointRevision_ = this.getRevision();\n        }\n        return this.flatInteriorPoint_;\n    };\n    /**\n     * Return an interior point of the polygon.\n     * @return {Point} Interior point as XYM coordinate, where M is the\n     * length of the horizontal intersection that the point belongs to.\n     * @api\n     */\n    Polygon.prototype.getInteriorPoint = function () {\n        return new Point(this.getFlatInteriorPoint(), GeometryLayout.XYM);\n    };\n    /**\n     * Return the number of rings of the polygon,  this includes the exterior\n     * ring and any interior rings.\n     *\n     * @return {number} Number of rings.\n     * @api\n     */\n    Polygon.prototype.getLinearRingCount = function () {\n        return this.ends_.length;\n    };\n    /**\n     * Return the Nth linear ring of the polygon geometry. Return `null` if the\n     * given index is out of range.\n     * The exterior linear ring is available at index `0` and the interior rings\n     * at index `1` and beyond.\n     *\n     * @param {number} index Index.\n     * @return {LinearRing} Linear ring.\n     * @api\n     */\n    Polygon.prototype.getLinearRing = function (index) {\n        if (index < 0 || this.ends_.length <= index) {\n            return null;\n        }\n        return new LinearRing(this.flatCoordinates.slice(index === 0 ? 0 : this.ends_[index - 1], this.ends_[index]), this.layout);\n    };\n    /**\n     * Return the linear rings of the polygon.\n     * @return {Array<LinearRing>} Linear rings.\n     * @api\n     */\n    Polygon.prototype.getLinearRings = function () {\n        var layout = this.layout;\n        var flatCoordinates = this.flatCoordinates;\n        var ends = this.ends_;\n        var linearRings = [];\n        var offset = 0;\n        for (var i = 0, ii = ends.length; i < ii; ++i) {\n            var end = ends[i];\n            var linearRing = new LinearRing(flatCoordinates.slice(offset, end), layout);\n            linearRings.push(linearRing);\n            offset = end;\n        }\n        return linearRings;\n    };\n    /**\n     * @return {Array<number>} Oriented flat coordinates.\n     */\n    Polygon.prototype.getOrientedFlatCoordinates = function () {\n        if (this.orientedRevision_ != this.getRevision()) {\n            var flatCoordinates = this.flatCoordinates;\n            if (linearRingsAreOriented(flatCoordinates, 0, this.ends_, this.stride)) {\n                this.orientedFlatCoordinates_ = flatCoordinates;\n            }\n            else {\n                this.orientedFlatCoordinates_ = flatCoordinates.slice();\n                this.orientedFlatCoordinates_.length = orientLinearRings(this.orientedFlatCoordinates_, 0, this.ends_, this.stride);\n            }\n            this.orientedRevision_ = this.getRevision();\n        }\n        return this.orientedFlatCoordinates_;\n    };\n    /**\n     * @param {number} squaredTolerance Squared tolerance.\n     * @return {Polygon} Simplified Polygon.\n     * @protected\n     */\n    Polygon.prototype.getSimplifiedGeometryInternal = function (squaredTolerance) {\n        var simplifiedFlatCoordinates = [];\n        var simplifiedEnds = [];\n        simplifiedFlatCoordinates.length = quantizeArray(this.flatCoordinates, 0, this.ends_, this.stride, Math.sqrt(squaredTolerance), simplifiedFlatCoordinates, 0, simplifiedEnds);\n        return new Polygon(simplifiedFlatCoordinates, GeometryLayout.XY, simplifiedEnds);\n    };\n    /**\n     * Get the type of this geometry.\n     * @return {import(\"./GeometryType.js\").default} Geometry type.\n     * @api\n     */\n    Polygon.prototype.getType = function () {\n        return GeometryType.POLYGON;\n    };\n    /**\n     * Test if the geometry and the passed extent intersect.\n     * @param {import(\"../extent.js\").Extent} extent Extent.\n     * @return {boolean} `true` if the geometry and the extent intersect.\n     * @api\n     */\n    Polygon.prototype.intersectsExtent = function (extent) {\n        return intersectsLinearRingArray(this.getOrientedFlatCoordinates(), 0, this.ends_, this.stride, extent);\n    };\n    /**\n     * Set the coordinates of the polygon.\n     * @param {!Array<Array<import(\"../coordinate.js\").Coordinate>>} coordinates Coordinates.\n     * @param {import(\"./GeometryLayout.js\").default=} opt_layout Layout.\n     * @api\n     */\n    Polygon.prototype.setCoordinates = function (coordinates, opt_layout) {\n        this.setLayout(opt_layout, coordinates, 2);\n        if (!this.flatCoordinates) {\n            this.flatCoordinates = [];\n        }\n        var ends = deflateCoordinatesArray(this.flatCoordinates, 0, coordinates, this.stride, this.ends_);\n        this.flatCoordinates.length = ends.length === 0 ? 0 : ends[ends.length - 1];\n        this.changed();\n    };\n    return Polygon;\n}(SimpleGeometry));\nexport default Polygon;\n/**\n * Create an approximation of a circle on the surface of a sphere.\n * @param {import(\"../coordinate.js\").Coordinate} center Center (`[lon, lat]` in degrees).\n * @param {number} radius The great-circle distance from the center to\n *     the polygon vertices.\n * @param {number=} opt_n Optional number of vertices for the resulting\n *     polygon. Default is `32`.\n * @param {number=} opt_sphereRadius Optional radius for the sphere (defaults to\n *     the Earth's mean radius using the WGS84 ellipsoid).\n * @return {Polygon} The \"circular\" polygon.\n * @api\n */\nexport function circular(center, radius, opt_n, opt_sphereRadius) {\n    var n = opt_n ? opt_n : 32;\n    /** @type {Array<number>} */\n    var flatCoordinates = [];\n    for (var i = 0; i < n; ++i) {\n        extend(flatCoordinates, sphereOffset(center, radius, (2 * Math.PI * i) / n, opt_sphereRadius));\n    }\n    flatCoordinates.push(flatCoordinates[0], flatCoordinates[1]);\n    return new Polygon(flatCoordinates, GeometryLayout.XY, [\n        flatCoordinates.length,\n    ]);\n}\n/**\n * Create a polygon from an extent. The layout used is `XY`.\n * @param {import(\"../extent.js\").Extent} extent The extent.\n * @return {Polygon} The polygon.\n * @api\n */\nexport function fromExtent(extent) {\n    var minX = extent[0];\n    var minY = extent[1];\n    var maxX = extent[2];\n    var maxY = extent[3];\n    var flatCoordinates = [\n        minX,\n        minY,\n        minX,\n        maxY,\n        maxX,\n        maxY,\n        maxX,\n        minY,\n        minX,\n        minY,\n    ];\n    return new Polygon(flatCoordinates, GeometryLayout.XY, [\n        flatCoordinates.length,\n    ]);\n}\n/**\n * Create a regular polygon from a circle.\n * @param {import(\"./Circle.js\").default} circle Circle geometry.\n * @param {number=} opt_sides Number of sides of the polygon. Default is 32.\n * @param {number=} opt_angle Start angle for the first vertex of the polygon in\n *     counter-clockwise radians. 0 means East. Default is 0.\n * @return {Polygon} Polygon geometry.\n * @api\n */\nexport function fromCircle(circle, opt_sides, opt_angle) {\n    var sides = opt_sides ? opt_sides : 32;\n    var stride = circle.getStride();\n    var layout = circle.getLayout();\n    var center = circle.getCenter();\n    var arrayLength = stride * (sides + 1);\n    var flatCoordinates = new Array(arrayLength);\n    for (var i = 0; i < arrayLength; i += stride) {\n        flatCoordinates[i] = 0;\n        flatCoordinates[i + 1] = 0;\n        for (var j = 2; j < stride; j++) {\n            flatCoordinates[i + j] = center[j];\n        }\n    }\n    var ends = [flatCoordinates.length];\n    var polygon = new Polygon(flatCoordinates, layout, ends);\n    makeRegular(polygon, center, circle.getRadius(), opt_angle);\n    return polygon;\n}\n/**\n * Modify the coordinates of a polygon to make it a regular polygon.\n * @param {Polygon} polygon Polygon geometry.\n * @param {import(\"../coordinate.js\").Coordinate} center Center of the regular polygon.\n * @param {number} radius Radius of the regular polygon.\n * @param {number=} opt_angle Start angle for the first vertex of the polygon in\n *     counter-clockwise radians. 0 means East. Default is 0.\n */\nexport function makeRegular(polygon, center, radius, opt_angle) {\n    var flatCoordinates = polygon.getFlatCoordinates();\n    var stride = polygon.getStride();\n    var sides = flatCoordinates.length / stride - 1;\n    var startAngle = opt_angle ? opt_angle : 0;\n    for (var i = 0; i <= sides; ++i) {\n        var offset = i * stride;\n        var angle = startAngle + (modulo(i, sides) * 2 * Math.PI) / sides;\n        flatCoordinates[offset] = center[0] + radius * Math.cos(angle);\n        flatCoordinates[offset + 1] = center[1] + radius * Math.sin(angle);\n    }\n    polygon.changed();\n}\n//# sourceMappingURL=Polygon.js.map","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n/**\n * @module ol/geom/MultiPolygon\n */\nimport GeometryLayout from './GeometryLayout.js';\nimport GeometryType from './GeometryType.js';\nimport MultiPoint from './MultiPoint.js';\nimport Polygon from './Polygon.js';\nimport SimpleGeometry from './SimpleGeometry.js';\nimport { assignClosestMultiArrayPoint, multiArrayMaxSquaredDelta, } from './flat/closest.js';\nimport { closestSquaredDistanceXY } from '../extent.js';\nimport { deflateMultiCoordinatesArray } from './flat/deflate.js';\nimport { extend } from '../array.js';\nimport { getInteriorPointsOfMultiArray } from './flat/interiorpoint.js';\nimport { inflateMultiCoordinatesArray } from './flat/inflate.js';\nimport { intersectsLinearRingMultiArray } from './flat/intersectsextent.js';\nimport { linearRingssAreOriented, orientLinearRingsArray, } from './flat/orient.js';\nimport { linearRingss as linearRingssArea } from './flat/area.js';\nimport { linearRingss as linearRingssCenter } from './flat/center.js';\nimport { linearRingssContainsXY } from './flat/contains.js';\nimport { quantizeMultiArray } from './flat/simplify.js';\n/**\n * @classdesc\n * Multi-polygon geometry.\n *\n * @api\n */\nvar MultiPolygon = /** @class */ (function (_super) {\n    __extends(MultiPolygon, _super);\n    /**\n     * @param {Array<Array<Array<import(\"../coordinate.js\").Coordinate>>|Polygon>|Array<number>} coordinates Coordinates.\n     *     For internal use, flat coordinates in combination with `opt_layout` and `opt_endss` are also accepted.\n     * @param {import(\"./GeometryLayout.js\").default=} opt_layout Layout.\n     * @param {Array<Array<number>>=} opt_endss Array of ends for internal use with flat coordinates.\n     */\n    function MultiPolygon(coordinates, opt_layout, opt_endss) {\n        var _this = _super.call(this) || this;\n        /**\n         * @type {Array<Array<number>>}\n         * @private\n         */\n        _this.endss_ = [];\n        /**\n         * @private\n         * @type {number}\n         */\n        _this.flatInteriorPointsRevision_ = -1;\n        /**\n         * @private\n         * @type {Array<number>}\n         */\n        _this.flatInteriorPoints_ = null;\n        /**\n         * @private\n         * @type {number}\n         */\n        _this.maxDelta_ = -1;\n        /**\n         * @private\n         * @type {number}\n         */\n        _this.maxDeltaRevision_ = -1;\n        /**\n         * @private\n         * @type {number}\n         */\n        _this.orientedRevision_ = -1;\n        /**\n         * @private\n         * @type {Array<number>}\n         */\n        _this.orientedFlatCoordinates_ = null;\n        if (!opt_endss && !Array.isArray(coordinates[0])) {\n            var layout = _this.getLayout();\n            var polygons = /** @type {Array<Polygon>} */ (coordinates);\n            var flatCoordinates = [];\n            var endss = [];\n            for (var i = 0, ii = polygons.length; i < ii; ++i) {\n                var polygon = polygons[i];\n                if (i === 0) {\n                    layout = polygon.getLayout();\n                }\n                var offset = flatCoordinates.length;\n                var ends = polygon.getEnds();\n                for (var j = 0, jj = ends.length; j < jj; ++j) {\n                    ends[j] += offset;\n                }\n                extend(flatCoordinates, polygon.getFlatCoordinates());\n                endss.push(ends);\n            }\n            opt_layout = layout;\n            coordinates = flatCoordinates;\n            opt_endss = endss;\n        }\n        if (opt_layout !== undefined && opt_endss) {\n            _this.setFlatCoordinates(opt_layout, \n            /** @type {Array<number>} */ (coordinates));\n            _this.endss_ = opt_endss;\n        }\n        else {\n            _this.setCoordinates(\n            /** @type {Array<Array<Array<import(\"../coordinate.js\").Coordinate>>>} */ (coordinates), opt_layout);\n        }\n        return _this;\n    }\n    /**\n     * Append the passed polygon to this multipolygon.\n     * @param {Polygon} polygon Polygon.\n     * @api\n     */\n    MultiPolygon.prototype.appendPolygon = function (polygon) {\n        /** @type {Array<number>} */\n        var ends;\n        if (!this.flatCoordinates) {\n            this.flatCoordinates = polygon.getFlatCoordinates().slice();\n            ends = polygon.getEnds().slice();\n            this.endss_.push();\n        }\n        else {\n            var offset = this.flatCoordinates.length;\n            extend(this.flatCoordinates, polygon.getFlatCoordinates());\n            ends = polygon.getEnds().slice();\n            for (var i = 0, ii = ends.length; i < ii; ++i) {\n                ends[i] += offset;\n            }\n        }\n        this.endss_.push(ends);\n        this.changed();\n    };\n    /**\n     * Make a complete copy of the geometry.\n     * @return {!MultiPolygon} Clone.\n     * @api\n     */\n    MultiPolygon.prototype.clone = function () {\n        var len = this.endss_.length;\n        var newEndss = new Array(len);\n        for (var i = 0; i < len; ++i) {\n            newEndss[i] = this.endss_[i].slice();\n        }\n        var multiPolygon = new MultiPolygon(this.flatCoordinates.slice(), this.layout, newEndss);\n        multiPolygon.applyProperties(this);\n        return multiPolygon;\n    };\n    /**\n     * @param {number} x X.\n     * @param {number} y Y.\n     * @param {import(\"../coordinate.js\").Coordinate} closestPoint Closest point.\n     * @param {number} minSquaredDistance Minimum squared distance.\n     * @return {number} Minimum squared distance.\n     */\n    MultiPolygon.prototype.closestPointXY = function (x, y, closestPoint, minSquaredDistance) {\n        if (minSquaredDistance < closestSquaredDistanceXY(this.getExtent(), x, y)) {\n            return minSquaredDistance;\n        }\n        if (this.maxDeltaRevision_ != this.getRevision()) {\n            this.maxDelta_ = Math.sqrt(multiArrayMaxSquaredDelta(this.flatCoordinates, 0, this.endss_, this.stride, 0));\n            this.maxDeltaRevision_ = this.getRevision();\n        }\n        return assignClosestMultiArrayPoint(this.getOrientedFlatCoordinates(), 0, this.endss_, this.stride, this.maxDelta_, true, x, y, closestPoint, minSquaredDistance);\n    };\n    /**\n     * @param {number} x X.\n     * @param {number} y Y.\n     * @return {boolean} Contains (x, y).\n     */\n    MultiPolygon.prototype.containsXY = function (x, y) {\n        return linearRingssContainsXY(this.getOrientedFlatCoordinates(), 0, this.endss_, this.stride, x, y);\n    };\n    /**\n     * Return the area of the multipolygon on projected plane.\n     * @return {number} Area (on projected plane).\n     * @api\n     */\n    MultiPolygon.prototype.getArea = function () {\n        return linearRingssArea(this.getOrientedFlatCoordinates(), 0, this.endss_, this.stride);\n    };\n    /**\n     * Get the coordinate array for this geometry.  This array has the structure\n     * of a GeoJSON coordinate array for multi-polygons.\n     *\n     * @param {boolean=} opt_right Orient coordinates according to the right-hand\n     *     rule (counter-clockwise for exterior and clockwise for interior rings).\n     *     If `false`, coordinates will be oriented according to the left-hand rule\n     *     (clockwise for exterior and counter-clockwise for interior rings).\n     *     By default, coordinate orientation will depend on how the geometry was\n     *     constructed.\n     * @return {Array<Array<Array<import(\"../coordinate.js\").Coordinate>>>} Coordinates.\n     * @api\n     */\n    MultiPolygon.prototype.getCoordinates = function (opt_right) {\n        var flatCoordinates;\n        if (opt_right !== undefined) {\n            flatCoordinates = this.getOrientedFlatCoordinates().slice();\n            orientLinearRingsArray(flatCoordinates, 0, this.endss_, this.stride, opt_right);\n        }\n        else {\n            flatCoordinates = this.flatCoordinates;\n        }\n        return inflateMultiCoordinatesArray(flatCoordinates, 0, this.endss_, this.stride);\n    };\n    /**\n     * @return {Array<Array<number>>} Endss.\n     */\n    MultiPolygon.prototype.getEndss = function () {\n        return this.endss_;\n    };\n    /**\n     * @return {Array<number>} Flat interior points.\n     */\n    MultiPolygon.prototype.getFlatInteriorPoints = function () {\n        if (this.flatInteriorPointsRevision_ != this.getRevision()) {\n            var flatCenters = linearRingssCenter(this.flatCoordinates, 0, this.endss_, this.stride);\n            this.flatInteriorPoints_ = getInteriorPointsOfMultiArray(this.getOrientedFlatCoordinates(), 0, this.endss_, this.stride, flatCenters);\n            this.flatInteriorPointsRevision_ = this.getRevision();\n        }\n        return this.flatInteriorPoints_;\n    };\n    /**\n     * Return the interior points as {@link module:ol/geom/MultiPoint multipoint}.\n     * @return {MultiPoint} Interior points as XYM coordinates, where M is\n     * the length of the horizontal intersection that the point belongs to.\n     * @api\n     */\n    MultiPolygon.prototype.getInteriorPoints = function () {\n        return new MultiPoint(this.getFlatInteriorPoints().slice(), GeometryLayout.XYM);\n    };\n    /**\n     * @return {Array<number>} Oriented flat coordinates.\n     */\n    MultiPolygon.prototype.getOrientedFlatCoordinates = function () {\n        if (this.orientedRevision_ != this.getRevision()) {\n            var flatCoordinates = this.flatCoordinates;\n            if (linearRingssAreOriented(flatCoordinates, 0, this.endss_, this.stride)) {\n                this.orientedFlatCoordinates_ = flatCoordinates;\n            }\n            else {\n                this.orientedFlatCoordinates_ = flatCoordinates.slice();\n                this.orientedFlatCoordinates_.length = orientLinearRingsArray(this.orientedFlatCoordinates_, 0, this.endss_, this.stride);\n            }\n            this.orientedRevision_ = this.getRevision();\n        }\n        return this.orientedFlatCoordinates_;\n    };\n    /**\n     * @param {number} squaredTolerance Squared tolerance.\n     * @return {MultiPolygon} Simplified MultiPolygon.\n     * @protected\n     */\n    MultiPolygon.prototype.getSimplifiedGeometryInternal = function (squaredTolerance) {\n        var simplifiedFlatCoordinates = [];\n        var simplifiedEndss = [];\n        simplifiedFlatCoordinates.length = quantizeMultiArray(this.flatCoordinates, 0, this.endss_, this.stride, Math.sqrt(squaredTolerance), simplifiedFlatCoordinates, 0, simplifiedEndss);\n        return new MultiPolygon(simplifiedFlatCoordinates, GeometryLayout.XY, simplifiedEndss);\n    };\n    /**\n     * Return the polygon at the specified index.\n     * @param {number} index Index.\n     * @return {Polygon} Polygon.\n     * @api\n     */\n    MultiPolygon.prototype.getPolygon = function (index) {\n        if (index < 0 || this.endss_.length <= index) {\n            return null;\n        }\n        var offset;\n        if (index === 0) {\n            offset = 0;\n        }\n        else {\n            var prevEnds = this.endss_[index - 1];\n            offset = prevEnds[prevEnds.length - 1];\n        }\n        var ends = this.endss_[index].slice();\n        var end = ends[ends.length - 1];\n        if (offset !== 0) {\n            for (var i = 0, ii = ends.length; i < ii; ++i) {\n                ends[i] -= offset;\n            }\n        }\n        return new Polygon(this.flatCoordinates.slice(offset, end), this.layout, ends);\n    };\n    /**\n     * Return the polygons of this multipolygon.\n     * @return {Array<Polygon>} Polygons.\n     * @api\n     */\n    MultiPolygon.prototype.getPolygons = function () {\n        var layout = this.layout;\n        var flatCoordinates = this.flatCoordinates;\n        var endss = this.endss_;\n        var polygons = [];\n        var offset = 0;\n        for (var i = 0, ii = endss.length; i < ii; ++i) {\n            var ends = endss[i].slice();\n            var end = ends[ends.length - 1];\n            if (offset !== 0) {\n                for (var j = 0, jj = ends.length; j < jj; ++j) {\n                    ends[j] -= offset;\n                }\n            }\n            var polygon = new Polygon(flatCoordinates.slice(offset, end), layout, ends);\n            polygons.push(polygon);\n            offset = end;\n        }\n        return polygons;\n    };\n    /**\n     * Get the type of this geometry.\n     * @return {import(\"./GeometryType.js\").default} Geometry type.\n     * @api\n     */\n    MultiPolygon.prototype.getType = function () {\n        return GeometryType.MULTI_POLYGON;\n    };\n    /**\n     * Test if the geometry and the passed extent intersect.\n     * @param {import(\"../extent.js\").Extent} extent Extent.\n     * @return {boolean} `true` if the geometry and the extent intersect.\n     * @api\n     */\n    MultiPolygon.prototype.intersectsExtent = function (extent) {\n        return intersectsLinearRingMultiArray(this.getOrientedFlatCoordinates(), 0, this.endss_, this.stride, extent);\n    };\n    /**\n     * Set the coordinates of the multipolygon.\n     * @param {!Array<Array<Array<import(\"../coordinate.js\").Coordinate>>>} coordinates Coordinates.\n     * @param {import(\"./GeometryLayout.js\").default=} opt_layout Layout.\n     * @api\n     */\n    MultiPolygon.prototype.setCoordinates = function (coordinates, opt_layout) {\n        this.setLayout(opt_layout, coordinates, 3);\n        if (!this.flatCoordinates) {\n            this.flatCoordinates = [];\n        }\n        var endss = deflateMultiCoordinatesArray(this.flatCoordinates, 0, coordinates, this.stride, this.endss_);\n        if (endss.length === 0) {\n            this.flatCoordinates.length = 0;\n        }\n        else {\n            var lastEnds = endss[endss.length - 1];\n            this.flatCoordinates.length =\n                lastEnds.length === 0 ? 0 : lastEnds[lastEnds.length - 1];\n        }\n        this.changed();\n    };\n    return MultiPolygon;\n}(SimpleGeometry));\nexport default MultiPolygon;\n//# sourceMappingURL=MultiPolygon.js.map","/**\n * @module ol/geom/flat/center\n */\nimport { createEmpty, createOrUpdateFromFlatCoordinates } from '../../extent.js';\n/**\n * @param {Array<number>} flatCoordinates Flat coordinates.\n * @param {number} offset Offset.\n * @param {Array<Array<number>>} endss Endss.\n * @param {number} stride Stride.\n * @return {Array<number>} Flat centers.\n */\nexport function linearRingss(flatCoordinates, offset, endss, stride) {\n    var flatCenters = [];\n    var extent = createEmpty();\n    for (var i = 0, ii = endss.length; i < ii; ++i) {\n        var ends = endss[i];\n        extent = createOrUpdateFromFlatCoordinates(flatCoordinates, offset, ends[0], stride);\n        flatCenters.push((extent[0] + extent[2]) / 2, (extent[1] + extent[3]) / 2);\n        offset = ends[ends.length - 1];\n    }\n    return flatCenters;\n}\n//# sourceMappingURL=center.js.map","/**\n * @module ol/format/GeoJSON\n */\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport Feature from '../Feature.js';\nimport GeometryCollection from '../geom/GeometryCollection.js';\nimport GeometryType from '../geom/GeometryType.js';\nimport JSONFeature from './JSONFeature.js';\nimport LineString from '../geom/LineString.js';\nimport MultiLineString from '../geom/MultiLineString.js';\nimport MultiPoint from '../geom/MultiPoint.js';\nimport MultiPolygon from '../geom/MultiPolygon.js';\nimport Point from '../geom/Point.js';\nimport Polygon from '../geom/Polygon.js';\nimport { assert } from '../asserts.js';\nimport { assign, isEmpty } from '../obj.js';\nimport { get as getProjection } from '../proj.js';\nimport { transformGeometryWithOptions } from './Feature.js';\n/**\n * @typedef {import(\"geojson\").GeoJSON} GeoJSONObject\n * @typedef {import(\"geojson\").Feature} GeoJSONFeature\n * @typedef {import(\"geojson\").FeatureCollection} GeoJSONFeatureCollection\n * @typedef {import(\"geojson\").Geometry} GeoJSONGeometry\n * @typedef {import(\"geojson\").Point} GeoJSONPoint\n * @typedef {import(\"geojson\").LineString} GeoJSONLineString\n * @typedef {import(\"geojson\").Polygon} GeoJSONPolygon\n * @typedef {import(\"geojson\").MultiPoint} GeoJSONMultiPoint\n * @typedef {import(\"geojson\").MultiLineString} GeoJSONMultiLineString\n * @typedef {import(\"geojson\").MultiPolygon} GeoJSONMultiPolygon\n * @typedef {import(\"geojson\").GeometryCollection} GeoJSONGeometryCollection\n */\n/**\n * @typedef {Object} Options\n * @property {import(\"../proj.js\").ProjectionLike} [dataProjection='EPSG:4326'] Default data projection.\n * @property {import(\"../proj.js\").ProjectionLike} [featureProjection] Projection for features read or\n * written by the format.  Options passed to read or write methods will take precedence.\n * @property {string} [geometryName] Geometry name to use when creating features.\n * @property {boolean} [extractGeometryName=false] Certain GeoJSON providers include\n * the geometry_name field in the feature GeoJSON. If set to `true` the GeoJSON reader\n * will look for that field to set the geometry name. If both this field is set to `true`\n * and a `geometryName` is provided, the `geometryName` will take precedence.\n */\n/**\n * @classdesc\n * Feature format for reading and writing data in the GeoJSON format.\n *\n * @api\n */\nvar GeoJSON = /** @class */ (function (_super) {\n    __extends(GeoJSON, _super);\n    /**\n     * @param {Options=} opt_options Options.\n     */\n    function GeoJSON(opt_options) {\n        var _this = this;\n        var options = opt_options ? opt_options : {};\n        _this = _super.call(this) || this;\n        /**\n         * @type {import(\"../proj/Projection.js\").default}\n         */\n        _this.dataProjection = getProjection(options.dataProjection ? options.dataProjection : 'EPSG:4326');\n        if (options.featureProjection) {\n            _this.defaultFeatureProjection = getProjection(options.featureProjection);\n        }\n        /**\n         * Name of the geometry attribute for features.\n         * @type {string|undefined}\n         * @private\n         */\n        _this.geometryName_ = options.geometryName;\n        /**\n         * Look for the geometry name in the feature GeoJSON\n         * @type {boolean|undefined}\n         * @private\n         */\n        _this.extractGeometryName_ = options.extractGeometryName;\n        return _this;\n    }\n    /**\n     * @param {Object} object Object.\n     * @param {import(\"./Feature.js\").ReadOptions=} opt_options Read options.\n     * @protected\n     * @return {import(\"../Feature.js\").default} Feature.\n     */\n    GeoJSON.prototype.readFeatureFromObject = function (object, opt_options) {\n        /**\n         * @type {GeoJSONFeature}\n         */\n        var geoJSONFeature = null;\n        if (object['type'] === 'Feature') {\n            geoJSONFeature = /** @type {GeoJSONFeature} */ (object);\n        }\n        else {\n            geoJSONFeature = {\n                'type': 'Feature',\n                'geometry': /** @type {GeoJSONGeometry} */ (object),\n                'properties': null,\n            };\n        }\n        var geometry = readGeometry(geoJSONFeature['geometry'], opt_options);\n        var feature = new Feature();\n        if (this.geometryName_) {\n            feature.setGeometryName(this.geometryName_);\n        }\n        else if (this.extractGeometryName_ &&\n            'geometry_name' in geoJSONFeature !== undefined) {\n            feature.setGeometryName(geoJSONFeature['geometry_name']);\n        }\n        feature.setGeometry(geometry);\n        if ('id' in geoJSONFeature) {\n            feature.setId(geoJSONFeature['id']);\n        }\n        if (geoJSONFeature['properties']) {\n            feature.setProperties(geoJSONFeature['properties'], true);\n        }\n        return feature;\n    };\n    /**\n     * @param {Object} object Object.\n     * @param {import(\"./Feature.js\").ReadOptions=} opt_options Read options.\n     * @protected\n     * @return {Array<Feature>} Features.\n     */\n    GeoJSON.prototype.readFeaturesFromObject = function (object, opt_options) {\n        var geoJSONObject = /** @type {GeoJSONObject} */ (object);\n        /** @type {Array<import(\"../Feature.js\").default>} */\n        var features = null;\n        if (geoJSONObject['type'] === 'FeatureCollection') {\n            var geoJSONFeatureCollection = /** @type {GeoJSONFeatureCollection} */ (object);\n            features = [];\n            var geoJSONFeatures = geoJSONFeatureCollection['features'];\n            for (var i = 0, ii = geoJSONFeatures.length; i < ii; ++i) {\n                features.push(this.readFeatureFromObject(geoJSONFeatures[i], opt_options));\n            }\n        }\n        else {\n            features = [this.readFeatureFromObject(object, opt_options)];\n        }\n        return features;\n    };\n    /**\n     * @param {GeoJSONGeometry} object Object.\n     * @param {import(\"./Feature.js\").ReadOptions=} opt_options Read options.\n     * @protected\n     * @return {import(\"../geom/Geometry.js\").default} Geometry.\n     */\n    GeoJSON.prototype.readGeometryFromObject = function (object, opt_options) {\n        return readGeometry(object, opt_options);\n    };\n    /**\n     * @param {Object} object Object.\n     * @protected\n     * @return {import(\"../proj/Projection.js\").default} Projection.\n     */\n    GeoJSON.prototype.readProjectionFromObject = function (object) {\n        var crs = object['crs'];\n        var projection;\n        if (crs) {\n            if (crs['type'] == 'name') {\n                projection = getProjection(crs['properties']['name']);\n            }\n            else if (crs['type'] === 'EPSG') {\n                projection = getProjection('EPSG:' + crs['properties']['code']);\n            }\n            else {\n                assert(false, 36); // Unknown SRS type\n            }\n        }\n        else {\n            projection = this.dataProjection;\n        }\n        return /** @type {import(\"../proj/Projection.js\").default} */ (projection);\n    };\n    /**\n     * Encode a feature as a GeoJSON Feature object.\n     *\n     * @param {import(\"../Feature.js\").default} feature Feature.\n     * @param {import(\"./Feature.js\").WriteOptions=} opt_options Write options.\n     * @return {GeoJSONFeature} Object.\n     * @api\n     */\n    GeoJSON.prototype.writeFeatureObject = function (feature, opt_options) {\n        opt_options = this.adaptOptions(opt_options);\n        /** @type {GeoJSONFeature} */\n        var object = {\n            'type': 'Feature',\n            geometry: null,\n            properties: null,\n        };\n        var id = feature.getId();\n        if (id !== undefined) {\n            object.id = id;\n        }\n        if (!feature.hasProperties()) {\n            return object;\n        }\n        var properties = feature.getProperties();\n        var geometry = feature.getGeometry();\n        if (geometry) {\n            object.geometry = writeGeometry(geometry, opt_options);\n            delete properties[feature.getGeometryName()];\n        }\n        if (!isEmpty(properties)) {\n            object.properties = properties;\n        }\n        return object;\n    };\n    /**\n     * Encode an array of features as a GeoJSON object.\n     *\n     * @param {Array<import(\"../Feature.js\").default>} features Features.\n     * @param {import(\"./Feature.js\").WriteOptions=} opt_options Write options.\n     * @return {GeoJSONFeatureCollection} GeoJSON Object.\n     * @api\n     */\n    GeoJSON.prototype.writeFeaturesObject = function (features, opt_options) {\n        opt_options = this.adaptOptions(opt_options);\n        var objects = [];\n        for (var i = 0, ii = features.length; i < ii; ++i) {\n            objects.push(this.writeFeatureObject(features[i], opt_options));\n        }\n        return {\n            type: 'FeatureCollection',\n            features: objects,\n        };\n    };\n    /**\n     * Encode a geometry as a GeoJSON object.\n     *\n     * @param {import(\"../geom/Geometry.js\").default} geometry Geometry.\n     * @param {import(\"./Feature.js\").WriteOptions=} opt_options Write options.\n     * @return {GeoJSONGeometry|GeoJSONGeometryCollection} Object.\n     * @api\n     */\n    GeoJSON.prototype.writeGeometryObject = function (geometry, opt_options) {\n        return writeGeometry(geometry, this.adaptOptions(opt_options));\n    };\n    return GeoJSON;\n}(JSONFeature));\n/**\n * @param {GeoJSONGeometry|GeoJSONGeometryCollection} object Object.\n * @param {import(\"./Feature.js\").ReadOptions=} opt_options Read options.\n * @return {import(\"../geom/Geometry.js\").default} Geometry.\n */\nfunction readGeometry(object, opt_options) {\n    if (!object) {\n        return null;\n    }\n    /**\n     * @type {import(\"../geom/Geometry.js\").default}\n     */\n    var geometry;\n    switch (object['type']) {\n        case GeometryType.POINT: {\n            geometry = readPointGeometry(/** @type {GeoJSONPoint} */ (object));\n            break;\n        }\n        case GeometryType.LINE_STRING: {\n            geometry = readLineStringGeometry(\n            /** @type {GeoJSONLineString} */ (object));\n            break;\n        }\n        case GeometryType.POLYGON: {\n            geometry = readPolygonGeometry(/** @type {GeoJSONPolygon} */ (object));\n            break;\n        }\n        case GeometryType.MULTI_POINT: {\n            geometry = readMultiPointGeometry(\n            /** @type {GeoJSONMultiPoint} */ (object));\n            break;\n        }\n        case GeometryType.MULTI_LINE_STRING: {\n            geometry = readMultiLineStringGeometry(\n            /** @type {GeoJSONMultiLineString} */ (object));\n            break;\n        }\n        case GeometryType.MULTI_POLYGON: {\n            geometry = readMultiPolygonGeometry(\n            /** @type {GeoJSONMultiPolygon} */ (object));\n            break;\n        }\n        case GeometryType.GEOMETRY_COLLECTION: {\n            geometry = readGeometryCollectionGeometry(\n            /** @type {GeoJSONGeometryCollection} */ (object));\n            break;\n        }\n        default: {\n            throw new Error('Unsupported GeoJSON type: ' + object.type);\n        }\n    }\n    return transformGeometryWithOptions(geometry, false, opt_options);\n}\n/**\n * @param {GeoJSONGeometryCollection} object Object.\n * @param {import(\"./Feature.js\").ReadOptions=} opt_options Read options.\n * @return {GeometryCollection} Geometry collection.\n */\nfunction readGeometryCollectionGeometry(object, opt_options) {\n    var geometries = object['geometries'].map(\n    /**\n     * @param {GeoJSONGeometry} geometry Geometry.\n     * @return {import(\"../geom/Geometry.js\").default} geometry Geometry.\n     */\n    function (geometry) {\n        return readGeometry(geometry, opt_options);\n    });\n    return new GeometryCollection(geometries);\n}\n/**\n * @param {GeoJSONPoint} object Object.\n * @return {Point} Point.\n */\nfunction readPointGeometry(object) {\n    return new Point(object['coordinates']);\n}\n/**\n * @param {GeoJSONLineString} object Object.\n * @return {LineString} LineString.\n */\nfunction readLineStringGeometry(object) {\n    return new LineString(object['coordinates']);\n}\n/**\n * @param {GeoJSONMultiLineString} object Object.\n * @return {MultiLineString} MultiLineString.\n */\nfunction readMultiLineStringGeometry(object) {\n    return new MultiLineString(object['coordinates']);\n}\n/**\n * @param {GeoJSONMultiPoint} object Object.\n * @return {MultiPoint} MultiPoint.\n */\nfunction readMultiPointGeometry(object) {\n    return new MultiPoint(object['coordinates']);\n}\n/**\n * @param {GeoJSONMultiPolygon} object Object.\n * @return {MultiPolygon} MultiPolygon.\n */\nfunction readMultiPolygonGeometry(object) {\n    return new MultiPolygon(object['coordinates']);\n}\n/**\n * @param {GeoJSONPolygon} object Object.\n * @return {Polygon} Polygon.\n */\nfunction readPolygonGeometry(object) {\n    return new Polygon(object['coordinates']);\n}\n/**\n * @param {import(\"../geom/Geometry.js\").default} geometry Geometry.\n * @param {import(\"./Feature.js\").WriteOptions=} opt_options Write options.\n * @return {GeoJSONGeometry} GeoJSON geometry.\n */\nfunction writeGeometry(geometry, opt_options) {\n    geometry = transformGeometryWithOptions(geometry, true, opt_options);\n    var type = geometry.getType();\n    /** @type {GeoJSONGeometry} */\n    var geoJSON;\n    switch (type) {\n        case GeometryType.POINT: {\n            geoJSON = writePointGeometry(\n            /** @type {Point} */ (geometry), opt_options);\n            break;\n        }\n        case GeometryType.LINE_STRING: {\n            geoJSON = writeLineStringGeometry(\n            /** @type {LineString} */ (geometry), opt_options);\n            break;\n        }\n        case GeometryType.POLYGON: {\n            geoJSON = writePolygonGeometry(\n            /** @type {Polygon} */ (geometry), opt_options);\n            break;\n        }\n        case GeometryType.MULTI_POINT: {\n            geoJSON = writeMultiPointGeometry(\n            /** @type {MultiPoint} */ (geometry), opt_options);\n            break;\n        }\n        case GeometryType.MULTI_LINE_STRING: {\n            geoJSON = writeMultiLineStringGeometry(\n            /** @type {MultiLineString} */ (geometry), opt_options);\n            break;\n        }\n        case GeometryType.MULTI_POLYGON: {\n            geoJSON = writeMultiPolygonGeometry(\n            /** @type {MultiPolygon} */ (geometry), opt_options);\n            break;\n        }\n        case GeometryType.GEOMETRY_COLLECTION: {\n            geoJSON = writeGeometryCollectionGeometry(\n            /** @type {GeometryCollection} */ (geometry), opt_options);\n            break;\n        }\n        case GeometryType.CIRCLE: {\n            geoJSON = {\n                type: 'GeometryCollection',\n                geometries: [],\n            };\n            break;\n        }\n        default: {\n            throw new Error('Unsupported geometry type: ' + type);\n        }\n    }\n    return geoJSON;\n}\n/**\n * @param {GeometryCollection} geometry Geometry.\n * @param {import(\"./Feature.js\").WriteOptions=} opt_options Write options.\n * @return {GeoJSONGeometryCollection} GeoJSON geometry collection.\n */\nfunction writeGeometryCollectionGeometry(geometry, opt_options) {\n    var geometries = geometry.getGeometriesArray().map(function (geometry) {\n        var options = assign({}, opt_options);\n        delete options.featureProjection;\n        return writeGeometry(geometry, options);\n    });\n    return {\n        type: 'GeometryCollection',\n        geometries: geometries,\n    };\n}\n/**\n * @param {LineString} geometry Geometry.\n * @param {import(\"./Feature.js\").WriteOptions=} opt_options Write options.\n * @return {GeoJSONGeometry} GeoJSON geometry.\n */\nfunction writeLineStringGeometry(geometry, opt_options) {\n    return {\n        type: 'LineString',\n        coordinates: geometry.getCoordinates(),\n    };\n}\n/**\n * @param {MultiLineString} geometry Geometry.\n * @param {import(\"./Feature.js\").WriteOptions=} opt_options Write options.\n * @return {GeoJSONGeometry} GeoJSON geometry.\n */\nfunction writeMultiLineStringGeometry(geometry, opt_options) {\n    return {\n        type: 'MultiLineString',\n        coordinates: geometry.getCoordinates(),\n    };\n}\n/**\n * @param {MultiPoint} geometry Geometry.\n * @param {import(\"./Feature.js\").WriteOptions=} opt_options Write options.\n * @return {GeoJSONGeometry} GeoJSON geometry.\n */\nfunction writeMultiPointGeometry(geometry, opt_options) {\n    return {\n        type: 'MultiPoint',\n        coordinates: geometry.getCoordinates(),\n    };\n}\n/**\n * @param {MultiPolygon} geometry Geometry.\n * @param {import(\"./Feature.js\").WriteOptions=} opt_options Write options.\n * @return {GeoJSONGeometry} GeoJSON geometry.\n */\nfunction writeMultiPolygonGeometry(geometry, opt_options) {\n    var right;\n    if (opt_options) {\n        right = opt_options.rightHanded;\n    }\n    return {\n        type: 'MultiPolygon',\n        coordinates: geometry.getCoordinates(right),\n    };\n}\n/**\n * @param {Point} geometry Geometry.\n * @param {import(\"./Feature.js\").WriteOptions=} opt_options Write options.\n * @return {GeoJSONGeometry} GeoJSON geometry.\n */\nfunction writePointGeometry(geometry, opt_options) {\n    return {\n        type: 'Point',\n        coordinates: geometry.getCoordinates(),\n    };\n}\n/**\n * @param {Polygon} geometry Geometry.\n * @param {import(\"./Feature.js\").WriteOptions=} opt_options Write options.\n * @return {GeoJSONGeometry} GeoJSON geometry.\n */\nfunction writePolygonGeometry(geometry, opt_options) {\n    var right;\n    if (opt_options) {\n        right = opt_options.rightHanded;\n    }\n    return {\n        type: 'Polygon',\n        coordinates: geometry.getCoordinates(right),\n    };\n}\nexport default GeoJSON;\n//# sourceMappingURL=GeoJSON.js.map","/**\n * @module ol/color\n */\nimport { assert } from './asserts.js';\nimport { clamp } from './math.js';\n/**\n * A color represented as a short array [red, green, blue, alpha].\n * red, green, and blue should be integers in the range 0..255 inclusive.\n * alpha should be a float in the range 0..1 inclusive. If no alpha value is\n * given then `1` will be used.\n * @typedef {Array<number>} Color\n * @api\n */\n/**\n * This RegExp matches # followed by 3, 4, 6, or 8 hex digits.\n * @const\n * @type {RegExp}\n * @private\n */\nvar HEX_COLOR_RE_ = /^#([a-f0-9]{3}|[a-f0-9]{4}(?:[a-f0-9]{2}){0,2})$/i;\n/**\n * Regular expression for matching potential named color style strings.\n * @const\n * @type {RegExp}\n * @private\n */\nvar NAMED_COLOR_RE_ = /^([a-z]*)$|^hsla?\\(.*\\)$/i;\n/**\n * Return the color as an rgba string.\n * @param {Color|string} color Color.\n * @return {string} Rgba string.\n * @api\n */\nexport function asString(color) {\n    if (typeof color === 'string') {\n        return color;\n    }\n    else {\n        return toString(color);\n    }\n}\n/**\n * Return named color as an rgba string.\n * @param {string} color Named color.\n * @return {string} Rgb string.\n */\nfunction fromNamed(color) {\n    var el = document.createElement('div');\n    el.style.color = color;\n    if (el.style.color !== '') {\n        document.body.appendChild(el);\n        var rgb = getComputedStyle(el).color;\n        document.body.removeChild(el);\n        return rgb;\n    }\n    else {\n        return '';\n    }\n}\n/**\n * @param {string} s String.\n * @return {Color} Color.\n */\nexport var fromString = (function () {\n    // We maintain a small cache of parsed strings.  To provide cheap LRU-like\n    // semantics, whenever the cache grows too large we simply delete an\n    // arbitrary 25% of the entries.\n    /**\n     * @const\n     * @type {number}\n     */\n    var MAX_CACHE_SIZE = 1024;\n    /**\n     * @type {Object<string, Color>}\n     */\n    var cache = {};\n    /**\n     * @type {number}\n     */\n    var cacheSize = 0;\n    return (\n    /**\n     * @param {string} s String.\n     * @return {Color} Color.\n     */\n    function (s) {\n        var color;\n        if (cache.hasOwnProperty(s)) {\n            color = cache[s];\n        }\n        else {\n            if (cacheSize >= MAX_CACHE_SIZE) {\n                var i = 0;\n                for (var key in cache) {\n                    if ((i++ & 3) === 0) {\n                        delete cache[key];\n                        --cacheSize;\n                    }\n                }\n            }\n            color = fromStringInternal_(s);\n            cache[s] = color;\n            ++cacheSize;\n        }\n        return color;\n    });\n})();\n/**\n * Return the color as an array. This function maintains a cache of calculated\n * arrays which means the result should not be modified.\n * @param {Color|string} color Color.\n * @return {Color} Color.\n * @api\n */\nexport function asArray(color) {\n    if (Array.isArray(color)) {\n        return color;\n    }\n    else {\n        return fromString(color);\n    }\n}\n/**\n * @param {string} s String.\n * @private\n * @return {Color} Color.\n */\nfunction fromStringInternal_(s) {\n    var r, g, b, a, color;\n    if (NAMED_COLOR_RE_.exec(s)) {\n        s = fromNamed(s);\n    }\n    if (HEX_COLOR_RE_.exec(s)) {\n        // hex\n        var n = s.length - 1; // number of hex digits\n        var d = // number of digits per channel\n         void 0; // number of digits per channel\n        if (n <= 4) {\n            d = 1;\n        }\n        else {\n            d = 2;\n        }\n        var hasAlpha = n === 4 || n === 8;\n        r = parseInt(s.substr(1 + 0 * d, d), 16);\n        g = parseInt(s.substr(1 + 1 * d, d), 16);\n        b = parseInt(s.substr(1 + 2 * d, d), 16);\n        if (hasAlpha) {\n            a = parseInt(s.substr(1 + 3 * d, d), 16);\n        }\n        else {\n            a = 255;\n        }\n        if (d == 1) {\n            r = (r << 4) + r;\n            g = (g << 4) + g;\n            b = (b << 4) + b;\n            if (hasAlpha) {\n                a = (a << 4) + a;\n            }\n        }\n        color = [r, g, b, a / 255];\n    }\n    else if (s.indexOf('rgba(') == 0) {\n        // rgba()\n        color = s.slice(5, -1).split(',').map(Number);\n        normalize(color);\n    }\n    else if (s.indexOf('rgb(') == 0) {\n        // rgb()\n        color = s.slice(4, -1).split(',').map(Number);\n        color.push(1);\n        normalize(color);\n    }\n    else {\n        assert(false, 14); // Invalid color\n    }\n    return color;\n}\n/**\n * TODO this function is only used in the test, we probably shouldn't export it\n * @param {Color} color Color.\n * @return {Color} Clamped color.\n */\nexport function normalize(color) {\n    color[0] = clamp((color[0] + 0.5) | 0, 0, 255);\n    color[1] = clamp((color[1] + 0.5) | 0, 0, 255);\n    color[2] = clamp((color[2] + 0.5) | 0, 0, 255);\n    color[3] = clamp(color[3], 0, 1);\n    return color;\n}\n/**\n * @param {Color} color Color.\n * @return {string} String.\n */\nexport function toString(color) {\n    var r = color[0];\n    if (r != (r | 0)) {\n        r = (r + 0.5) | 0;\n    }\n    var g = color[1];\n    if (g != (g | 0)) {\n        g = (g + 0.5) | 0;\n    }\n    var b = color[2];\n    if (b != (b | 0)) {\n        b = (b + 0.5) | 0;\n    }\n    var a = color[3] === undefined ? 1 : color[3];\n    return 'rgba(' + r + ',' + g + ',' + b + ',' + a + ')';\n}\n/**\n * @param {string} s String.\n * @return {boolean} Whether the string is actually a valid color\n */\nexport function isStringColor(s) {\n    if (NAMED_COLOR_RE_.test(s)) {\n        s = fromNamed(s);\n    }\n    return (HEX_COLOR_RE_.test(s) || s.indexOf('rgba(') === 0 || s.indexOf('rgb(') === 0);\n}\n//# sourceMappingURL=color.js.map","/**\n * @module ol/style/IconImageCache\n */\nimport { asString } from '../color.js';\n/**\n * @classdesc\n * Singleton class. Available through {@link module:ol/style/IconImageCache~shared}.\n */\nvar IconImageCache = /** @class */ (function () {\n    function IconImageCache() {\n        /**\n         * @type {!Object<string, import(\"./IconImage.js\").default>}\n         * @private\n         */\n        this.cache_ = {};\n        /**\n         * @type {number}\n         * @private\n         */\n        this.cacheSize_ = 0;\n        /**\n         * @type {number}\n         * @private\n         */\n        this.maxCacheSize_ = 32;\n    }\n    /**\n     * FIXME empty description for jsdoc\n     */\n    IconImageCache.prototype.clear = function () {\n        this.cache_ = {};\n        this.cacheSize_ = 0;\n    };\n    /**\n     * @return {boolean} Can expire cache.\n     */\n    IconImageCache.prototype.canExpireCache = function () {\n        return this.cacheSize_ > this.maxCacheSize_;\n    };\n    /**\n     * FIXME empty description for jsdoc\n     */\n    IconImageCache.prototype.expire = function () {\n        if (this.canExpireCache()) {\n            var i = 0;\n            for (var key in this.cache_) {\n                var iconImage = this.cache_[key];\n                if ((i++ & 3) === 0 && !iconImage.hasListener()) {\n                    delete this.cache_[key];\n                    --this.cacheSize_;\n                }\n            }\n        }\n    };\n    /**\n     * @param {string} src Src.\n     * @param {?string} crossOrigin Cross origin.\n     * @param {import(\"../color.js\").Color} color Color.\n     * @return {import(\"./IconImage.js\").default} Icon image.\n     */\n    IconImageCache.prototype.get = function (src, crossOrigin, color) {\n        var key = getKey(src, crossOrigin, color);\n        return key in this.cache_ ? this.cache_[key] : null;\n    };\n    /**\n     * @param {string} src Src.\n     * @param {?string} crossOrigin Cross origin.\n     * @param {import(\"../color.js\").Color} color Color.\n     * @param {import(\"./IconImage.js\").default} iconImage Icon image.\n     */\n    IconImageCache.prototype.set = function (src, crossOrigin, color, iconImage) {\n        var key = getKey(src, crossOrigin, color);\n        this.cache_[key] = iconImage;\n        ++this.cacheSize_;\n    };\n    /**\n     * Set the cache size of the icon cache. Default is `32`. Change this value when\n     * your map uses more than 32 different icon images and you are not caching icon\n     * styles on the application level.\n     * @param {number} maxCacheSize Cache max size.\n     * @api\n     */\n    IconImageCache.prototype.setSize = function (maxCacheSize) {\n        this.maxCacheSize_ = maxCacheSize;\n        this.expire();\n    };\n    return IconImageCache;\n}());\n/**\n * @param {string} src Src.\n * @param {?string} crossOrigin Cross origin.\n * @param {import(\"../color.js\").Color} color Color.\n * @return {string} Cache key.\n */\nfunction getKey(src, crossOrigin, color) {\n    var colorString = color ? asString(color) : 'null';\n    return crossOrigin + ':' + src + ':' + colorString;\n}\nexport default IconImageCache;\n/**\n * The {@link module:ol/style/IconImageCache~IconImageCache} for\n * {@link module:ol/style/Icon~Icon} images.\n * @api\n */\nexport var shared = new IconImageCache();\n//# sourceMappingURL=IconImageCache.js.map","/**\n * @module ol/layer/Property\n */\n/**\n * @enum {string}\n */\nexport default {\n    OPACITY: 'opacity',\n    VISIBLE: 'visible',\n    EXTENT: 'extent',\n    Z_INDEX: 'zIndex',\n    MAX_RESOLUTION: 'maxResolution',\n    MIN_RESOLUTION: 'minResolution',\n    MAX_ZOOM: 'maxZoom',\n    MIN_ZOOM: 'minZoom',\n    SOURCE: 'source',\n};\n//# sourceMappingURL=Property.js.map","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n/**\n * @module ol/layer/Base\n */\nimport BaseObject from '../Object.js';\nimport LayerProperty from './Property.js';\nimport { abstract } from '../util.js';\nimport { assert } from '../asserts.js';\nimport { assign } from '../obj.js';\nimport { clamp } from '../math.js';\n/**\n * @typedef {Object} Options\n * @property {string} [className='ol-layer'] A CSS class name to set to the layer element.\n * @property {number} [opacity=1] Opacity (0, 1).\n * @property {boolean} [visible=true] Visibility.\n * @property {import(\"../extent.js\").Extent} [extent] The bounding extent for layer rendering.  The layer will not be\n * rendered outside of this extent.\n * @property {number} [zIndex] The z-index for layer rendering.  At rendering time, the layers\n * will be ordered, first by Z-index and then by position. When `undefined`, a `zIndex` of 0 is assumed\n * for layers that are added to the map's `layers` collection, or `Infinity` when the layer's `setMap()`\n * method was used.\n * @property {number} [minResolution] The minimum resolution (inclusive) at which this layer will be\n * visible.\n * @property {number} [maxResolution] The maximum resolution (exclusive) below which this layer will\n * be visible.\n * @property {number} [minZoom] The minimum view zoom level (exclusive) above which this layer will be\n * visible.\n * @property {number} [maxZoom] The maximum view zoom level (inclusive) at which this layer will\n * be visible.\n */\n/**\n * @classdesc\n * Abstract base class; normally only used for creating subclasses and not\n * instantiated in apps.\n * Note that with {@link module:ol/layer/Base} and all its subclasses, any property set in\n * the options is set as a {@link module:ol/Object} property on the layer object, so\n * is observable, and has get/set accessors.\n *\n * @api\n */\nvar BaseLayer = /** @class */ (function (_super) {\n    __extends(BaseLayer, _super);\n    /**\n     * @param {Options} options Layer options.\n     */\n    function BaseLayer(options) {\n        var _this = _super.call(this) || this;\n        /**\n         * @type {Object<string, *>}\n         */\n        var properties = assign({}, options);\n        properties[LayerProperty.OPACITY] =\n            options.opacity !== undefined ? options.opacity : 1;\n        assert(typeof properties[LayerProperty.OPACITY] === 'number', 64); // Layer opacity must be a number\n        properties[LayerProperty.VISIBLE] =\n            options.visible !== undefined ? options.visible : true;\n        properties[LayerProperty.Z_INDEX] = options.zIndex;\n        properties[LayerProperty.MAX_RESOLUTION] =\n            options.maxResolution !== undefined ? options.maxResolution : Infinity;\n        properties[LayerProperty.MIN_RESOLUTION] =\n            options.minResolution !== undefined ? options.minResolution : 0;\n        properties[LayerProperty.MIN_ZOOM] =\n            options.minZoom !== undefined ? options.minZoom : -Infinity;\n        properties[LayerProperty.MAX_ZOOM] =\n            options.maxZoom !== undefined ? options.maxZoom : Infinity;\n        /**\n         * @type {string}\n         * @private\n         */\n        _this.className_ =\n            properties.className !== undefined ? options.className : 'ol-layer';\n        delete properties.className;\n        _this.setProperties(properties);\n        /**\n         * @type {import(\"./Layer.js\").State}\n         * @private\n         */\n        _this.state_ = null;\n        return _this;\n    }\n    /**\n     * @return {string} CSS class name.\n     */\n    BaseLayer.prototype.getClassName = function () {\n        return this.className_;\n    };\n    /**\n     * This method is not meant to be called by layers or layer renderers because the state\n     * is incorrect if the layer is included in a layer group.\n     *\n     * @param {boolean=} opt_managed Layer is managed.\n     * @return {import(\"./Layer.js\").State} Layer state.\n     */\n    BaseLayer.prototype.getLayerState = function (opt_managed) {\n        /** @type {import(\"./Layer.js\").State} */\n        var state = this.state_ ||\n            /** @type {?} */ ({\n                layer: this,\n                managed: opt_managed === undefined ? true : opt_managed,\n            });\n        var zIndex = this.getZIndex();\n        state.opacity = clamp(Math.round(this.getOpacity() * 100) / 100, 0, 1);\n        state.sourceState = this.getSourceState();\n        state.visible = this.getVisible();\n        state.extent = this.getExtent();\n        state.zIndex =\n            zIndex !== undefined ? zIndex : state.managed === false ? Infinity : 0;\n        state.maxResolution = this.getMaxResolution();\n        state.minResolution = Math.max(this.getMinResolution(), 0);\n        state.minZoom = this.getMinZoom();\n        state.maxZoom = this.getMaxZoom();\n        this.state_ = state;\n        return state;\n    };\n    /**\n     * @abstract\n     * @param {Array<import(\"./Layer.js\").default>=} opt_array Array of layers (to be\n     *     modified in place).\n     * @return {Array<import(\"./Layer.js\").default>} Array of layers.\n     */\n    BaseLayer.prototype.getLayersArray = function (opt_array) {\n        return abstract();\n    };\n    /**\n     * @abstract\n     * @param {Array<import(\"./Layer.js\").State>=} opt_states Optional list of layer\n     *     states (to be modified in place).\n     * @return {Array<import(\"./Layer.js\").State>} List of layer states.\n     */\n    BaseLayer.prototype.getLayerStatesArray = function (opt_states) {\n        return abstract();\n    };\n    /**\n     * Return the {@link module:ol/extent~Extent extent} of the layer or `undefined` if it\n     * will be visible regardless of extent.\n     * @return {import(\"../extent.js\").Extent|undefined} The layer extent.\n     * @observable\n     * @api\n     */\n    BaseLayer.prototype.getExtent = function () {\n        return /** @type {import(\"../extent.js\").Extent|undefined} */ (this.get(LayerProperty.EXTENT));\n    };\n    /**\n     * Return the maximum resolution of the layer.\n     * @return {number} The maximum resolution of the layer.\n     * @observable\n     * @api\n     */\n    BaseLayer.prototype.getMaxResolution = function () {\n        return /** @type {number} */ (this.get(LayerProperty.MAX_RESOLUTION));\n    };\n    /**\n     * Return the minimum resolution of the layer.\n     * @return {number} The minimum resolution of the layer.\n     * @observable\n     * @api\n     */\n    BaseLayer.prototype.getMinResolution = function () {\n        return /** @type {number} */ (this.get(LayerProperty.MIN_RESOLUTION));\n    };\n    /**\n     * Return the minimum zoom level of the layer.\n     * @return {number} The minimum zoom level of the layer.\n     * @observable\n     * @api\n     */\n    BaseLayer.prototype.getMinZoom = function () {\n        return /** @type {number} */ (this.get(LayerProperty.MIN_ZOOM));\n    };\n    /**\n     * Return the maximum zoom level of the layer.\n     * @return {number} The maximum zoom level of the layer.\n     * @observable\n     * @api\n     */\n    BaseLayer.prototype.getMaxZoom = function () {\n        return /** @type {number} */ (this.get(LayerProperty.MAX_ZOOM));\n    };\n    /**\n     * Return the opacity of the layer (between 0 and 1).\n     * @return {number} The opacity of the layer.\n     * @observable\n     * @api\n     */\n    BaseLayer.prototype.getOpacity = function () {\n        return /** @type {number} */ (this.get(LayerProperty.OPACITY));\n    };\n    /**\n     * @abstract\n     * @return {import(\"../source/State.js\").default} Source state.\n     */\n    BaseLayer.prototype.getSourceState = function () {\n        return abstract();\n    };\n    /**\n     * Return the visibility of the layer (`true` or `false`).\n     * @return {boolean} The visibility of the layer.\n     * @observable\n     * @api\n     */\n    BaseLayer.prototype.getVisible = function () {\n        return /** @type {boolean} */ (this.get(LayerProperty.VISIBLE));\n    };\n    /**\n     * Return the Z-index of the layer, which is used to order layers before\n     * rendering. The default Z-index is 0.\n     * @return {number} The Z-index of the layer.\n     * @observable\n     * @api\n     */\n    BaseLayer.prototype.getZIndex = function () {\n        return /** @type {number} */ (this.get(LayerProperty.Z_INDEX));\n    };\n    /**\n     * Set the extent at which the layer is visible.  If `undefined`, the layer\n     * will be visible at all extents.\n     * @param {import(\"../extent.js\").Extent|undefined} extent The extent of the layer.\n     * @observable\n     * @api\n     */\n    BaseLayer.prototype.setExtent = function (extent) {\n        this.set(LayerProperty.EXTENT, extent);\n    };\n    /**\n     * Set the maximum resolution at which the layer is visible.\n     * @param {number} maxResolution The maximum resolution of the layer.\n     * @observable\n     * @api\n     */\n    BaseLayer.prototype.setMaxResolution = function (maxResolution) {\n        this.set(LayerProperty.MAX_RESOLUTION, maxResolution);\n    };\n    /**\n     * Set the minimum resolution at which the layer is visible.\n     * @param {number} minResolution The minimum resolution of the layer.\n     * @observable\n     * @api\n     */\n    BaseLayer.prototype.setMinResolution = function (minResolution) {\n        this.set(LayerProperty.MIN_RESOLUTION, minResolution);\n    };\n    /**\n     * Set the maximum zoom (exclusive) at which the layer is visible.\n     * Note that the zoom levels for layer visibility are based on the\n     * view zoom level, which may be different from a tile source zoom level.\n     * @param {number} maxZoom The maximum zoom of the layer.\n     * @observable\n     * @api\n     */\n    BaseLayer.prototype.setMaxZoom = function (maxZoom) {\n        this.set(LayerProperty.MAX_ZOOM, maxZoom);\n    };\n    /**\n     * Set the minimum zoom (inclusive) at which the layer is visible.\n     * Note that the zoom levels for layer visibility are based on the\n     * view zoom level, which may be different from a tile source zoom level.\n     * @param {number} minZoom The minimum zoom of the layer.\n     * @observable\n     * @api\n     */\n    BaseLayer.prototype.setMinZoom = function (minZoom) {\n        this.set(LayerProperty.MIN_ZOOM, minZoom);\n    };\n    /**\n     * Set the opacity of the layer, allowed values range from 0 to 1.\n     * @param {number} opacity The opacity of the layer.\n     * @observable\n     * @api\n     */\n    BaseLayer.prototype.setOpacity = function (opacity) {\n        assert(typeof opacity === 'number', 64); // Layer opacity must be a number\n        this.set(LayerProperty.OPACITY, opacity);\n    };\n    /**\n     * Set the visibility of the layer (`true` or `false`).\n     * @param {boolean} visible The visibility of the layer.\n     * @observable\n     * @api\n     */\n    BaseLayer.prototype.setVisible = function (visible) {\n        this.set(LayerProperty.VISIBLE, visible);\n    };\n    /**\n     * Set Z-index of the layer, which is used to order layers before rendering.\n     * The default Z-index is 0.\n     * @param {number} zindex The z-index of the layer.\n     * @observable\n     * @api\n     */\n    BaseLayer.prototype.setZIndex = function (zindex) {\n        this.set(LayerProperty.Z_INDEX, zindex);\n    };\n    /**\n     * Clean up.\n     */\n    BaseLayer.prototype.disposeInternal = function () {\n        if (this.state_) {\n            this.state_.layer = null;\n            this.state_ = null;\n        }\n        _super.prototype.disposeInternal.call(this);\n    };\n    return BaseLayer;\n}(BaseObject));\nexport default BaseLayer;\n//# sourceMappingURL=Base.js.map","/**\n * @module ol/render/EventType\n */\n/**\n * @enum {string}\n */\nexport default {\n    /**\n     * Triggered before a layer is rendered.\n     * @event module:ol/render/Event~RenderEvent#prerender\n     * @api\n     */\n    PRERENDER: 'prerender',\n    /**\n     * Triggered after a layer is rendered.\n     * @event module:ol/render/Event~RenderEvent#postrender\n     * @api\n     */\n    POSTRENDER: 'postrender',\n    /**\n     * Triggered before layers are rendered.\n     * The event object will not have a `context` set.\n     * @event module:ol/render/Event~RenderEvent#precompose\n     * @api\n     */\n    PRECOMPOSE: 'precompose',\n    /**\n     * Triggered after all layers are rendered.\n     * The event object will not have a `context` set.\n     * @event module:ol/render/Event~RenderEvent#postcompose\n     * @api\n     */\n    POSTCOMPOSE: 'postcompose',\n    /**\n     * Triggered when rendering is complete, i.e. all sources and tiles have\n     * finished loading for the current viewport, and all tiles are faded in.\n     * The event object will not have a `context` set.\n     * @event module:ol/render/Event~RenderEvent#rendercomplete\n     * @api\n     */\n    RENDERCOMPLETE: 'rendercomplete',\n};\n//# sourceMappingURL=EventType.js.map","/**\n * @module ol/source/State\n */\n/**\n * @enum {string}\n * State of the source, one of 'undefined', 'loading', 'ready' or 'error'.\n */\nexport default {\n    UNDEFINED: 'undefined',\n    LOADING: 'loading',\n    READY: 'ready',\n    ERROR: 'error',\n};\n//# sourceMappingURL=State.js.map","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n/**\n * @module ol/layer/Layer\n */\nimport BaseLayer from './Base.js';\nimport EventType from '../events/EventType.js';\nimport LayerProperty from './Property.js';\nimport RenderEventType from '../render/EventType.js';\nimport SourceState from '../source/State.js';\nimport { assert } from '../asserts.js';\nimport { assign } from '../obj.js';\nimport { getChangeEventType } from '../Object.js';\nimport { listen, unlistenByKey } from '../events.js';\n/**\n * @typedef {function(import(\"../PluggableMap.js\").FrameState):HTMLElement} RenderFunction\n */\n/**\n * @typedef {Object} Options\n * @property {string} [className='ol-layer'] A CSS class name to set to the layer element.\n * @property {number} [opacity=1] Opacity (0, 1).\n * @property {boolean} [visible=true] Visibility.\n * @property {import(\"../extent.js\").Extent} [extent] The bounding extent for layer rendering.  The layer will not be\n * rendered outside of this extent.\n * @property {number} [zIndex] The z-index for layer rendering.  At rendering time, the layers\n * will be ordered, first by Z-index and then by position. When `undefined`, a `zIndex` of 0 is assumed\n * for layers that are added to the map's `layers` collection, or `Infinity` when the layer's `setMap()`\n * method was used.\n * @property {number} [minResolution] The minimum resolution (inclusive) at which this layer will be\n * visible.\n * @property {number} [maxResolution] The maximum resolution (exclusive) below which this layer will\n * be visible.\n * @property {number} [minZoom] The minimum view zoom level (exclusive) above which this layer will be\n * visible.\n * @property {number} [maxZoom] The maximum view zoom level (inclusive) at which this layer will\n * be visible.\n * @property {import(\"../source/Source.js\").default} [source] Source for this layer.  If not provided to the constructor,\n * the source can be set by calling {@link module:ol/layer/Layer#setSource layer.setSource(source)} after\n * construction.\n * @property {import(\"../PluggableMap.js\").default} [map] Map.\n * @property {RenderFunction} [render] Render function. Takes the frame state as input and is expected to return an\n * HTML element. Will overwrite the default rendering for the layer.\n */\n/**\n * @typedef {Object} State\n * @property {import(\"./Layer.js\").default} layer\n * @property {number} opacity Opacity, the value is rounded to two digits to appear after the decimal point.\n * @property {import(\"../source/State.js\").default} sourceState\n * @property {boolean} visible\n * @property {boolean} managed\n * @property {import(\"../extent.js\").Extent} [extent]\n * @property {number} zIndex\n * @property {number} maxResolution\n * @property {number} minResolution\n * @property {number} minZoom\n * @property {number} maxZoom\n */\n/**\n * @classdesc\n * Base class from which all layer types are derived. This should only be instantiated\n * in the case where a custom layer is be added to the map with a custom `render` function.\n * Such a function can be specified in the `options` object, and is expected to return an HTML element.\n *\n * A visual representation of raster or vector map data.\n * Layers group together those properties that pertain to how the data is to be\n * displayed, irrespective of the source of that data.\n *\n * Layers are usually added to a map with {@link module:ol/Map#addLayer}. Components\n * like {@link module:ol/interaction/Select~Select} use unmanaged layers\n * internally. These unmanaged layers are associated with the map using\n * {@link module:ol/layer/Layer~Layer#setMap} instead.\n *\n * A generic `change` event is fired when the state of the source changes.\n *\n * Please note that for performance reasons several layers might get rendered to\n * the same HTML element, which will cause {@link module:ol/Map~Map#forEachLayerAtPixel} to\n * give false positives. To avoid this, apply different `className` properties to the\n * layers at creation time.\n *\n * @fires import(\"../render/Event.js\").RenderEvent#prerender\n * @fires import(\"../render/Event.js\").RenderEvent#postrender\n *\n * @template {import(\"../source/Source.js\").default} SourceType\n * @api\n */\nvar Layer = /** @class */ (function (_super) {\n    __extends(Layer, _super);\n    /**\n     * @param {Options} options Layer options.\n     */\n    function Layer(options) {\n        var _this = this;\n        var baseOptions = assign({}, options);\n        delete baseOptions.source;\n        _this = _super.call(this, baseOptions) || this;\n        /**\n         * @private\n         * @type {?import(\"../events.js\").EventsKey}\n         */\n        _this.mapPrecomposeKey_ = null;\n        /**\n         * @private\n         * @type {?import(\"../events.js\").EventsKey}\n         */\n        _this.mapRenderKey_ = null;\n        /**\n         * @private\n         * @type {?import(\"../events.js\").EventsKey}\n         */\n        _this.sourceChangeKey_ = null;\n        /**\n         * @private\n         * @type {import(\"../renderer/Layer.js\").default}\n         */\n        _this.renderer_ = null;\n        // Overwrite default render method with a custom one\n        if (options.render) {\n            _this.render = options.render;\n        }\n        if (options.map) {\n            _this.setMap(options.map);\n        }\n        _this.addEventListener(getChangeEventType(LayerProperty.SOURCE), _this.handleSourcePropertyChange_);\n        var source = options.source\n            ? /** @type {SourceType} */ (options.source)\n            : null;\n        _this.setSource(source);\n        return _this;\n    }\n    /**\n     * @param {Array<import(\"./Layer.js\").default>=} opt_array Array of layers (to be modified in place).\n     * @return {Array<import(\"./Layer.js\").default>} Array of layers.\n     */\n    Layer.prototype.getLayersArray = function (opt_array) {\n        var array = opt_array ? opt_array : [];\n        array.push(this);\n        return array;\n    };\n    /**\n     * @param {Array<import(\"./Layer.js\").State>=} opt_states Optional list of layer states (to be modified in place).\n     * @return {Array<import(\"./Layer.js\").State>} List of layer states.\n     */\n    Layer.prototype.getLayerStatesArray = function (opt_states) {\n        var states = opt_states ? opt_states : [];\n        states.push(this.getLayerState());\n        return states;\n    };\n    /**\n     * Get the layer source.\n     * @return {SourceType} The layer source (or `null` if not yet set).\n     * @observable\n     * @api\n     */\n    Layer.prototype.getSource = function () {\n        return /** @type {SourceType} */ (this.get(LayerProperty.SOURCE)) || null;\n    };\n    /**\n     * @return {import(\"../source/State.js\").default} Source state.\n     */\n    Layer.prototype.getSourceState = function () {\n        var source = this.getSource();\n        return !source ? SourceState.UNDEFINED : source.getState();\n    };\n    /**\n     * @private\n     */\n    Layer.prototype.handleSourceChange_ = function () {\n        this.changed();\n    };\n    /**\n     * @private\n     */\n    Layer.prototype.handleSourcePropertyChange_ = function () {\n        if (this.sourceChangeKey_) {\n            unlistenByKey(this.sourceChangeKey_);\n            this.sourceChangeKey_ = null;\n        }\n        var source = this.getSource();\n        if (source) {\n            this.sourceChangeKey_ = listen(source, EventType.CHANGE, this.handleSourceChange_, this);\n        }\n        this.changed();\n    };\n    /**\n     * @param {import(\"../pixel\").Pixel} pixel Pixel.\n     * @return {Promise<Array<import(\"../Feature\").default>>} Promise that resolves with\n     * an array of features.\n     */\n    Layer.prototype.getFeatures = function (pixel) {\n        return this.renderer_.getFeatures(pixel);\n    };\n    /**\n     * In charge to manage the rendering of the layer. One layer type is\n     * bounded with one layer renderer.\n     * @param {?import(\"../PluggableMap.js\").FrameState} frameState Frame state.\n     * @param {HTMLElement} target Target which the renderer may (but need not) use\n     * for rendering its content.\n     * @return {HTMLElement} The rendered element.\n     */\n    Layer.prototype.render = function (frameState, target) {\n        var layerRenderer = this.getRenderer();\n        if (layerRenderer.prepareFrame(frameState)) {\n            return layerRenderer.renderFrame(frameState, target);\n        }\n    };\n    /**\n     * Sets the layer to be rendered on top of other layers on a map. The map will\n     * not manage this layer in its layers collection, and the callback in\n     * {@link module:ol/Map#forEachLayerAtPixel} will receive `null` as layer. This\n     * is useful for temporary layers. To remove an unmanaged layer from the map,\n     * use `#setMap(null)`.\n     *\n     * To add the layer to a map and have it managed by the map, use\n     * {@link module:ol/Map#addLayer} instead.\n     * @param {import(\"../PluggableMap.js\").default} map Map.\n     * @api\n     */\n    Layer.prototype.setMap = function (map) {\n        if (this.mapPrecomposeKey_) {\n            unlistenByKey(this.mapPrecomposeKey_);\n            this.mapPrecomposeKey_ = null;\n        }\n        if (!map) {\n            this.changed();\n        }\n        if (this.mapRenderKey_) {\n            unlistenByKey(this.mapRenderKey_);\n            this.mapRenderKey_ = null;\n        }\n        if (map) {\n            this.mapPrecomposeKey_ = listen(map, RenderEventType.PRECOMPOSE, function (evt) {\n                var renderEvent = /** @type {import(\"../render/Event.js\").default} */ (evt);\n                var layerStatesArray = renderEvent.frameState.layerStatesArray;\n                var layerState = this.getLayerState(false);\n                // A layer can only be added to the map once. Use either `layer.setMap()` or `map.addLayer()`, not both.\n                assert(!layerStatesArray.some(function (arrayLayerState) {\n                    return arrayLayerState.layer === layerState.layer;\n                }), 67);\n                layerStatesArray.push(layerState);\n            }, this);\n            this.mapRenderKey_ = listen(this, EventType.CHANGE, map.render, map);\n            this.changed();\n        }\n    };\n    /**\n     * Set the layer source.\n     * @param {SourceType} source The layer source.\n     * @observable\n     * @api\n     */\n    Layer.prototype.setSource = function (source) {\n        this.set(LayerProperty.SOURCE, source);\n    };\n    /**\n     * Get the renderer for this layer.\n     * @return {import(\"../renderer/Layer.js\").default} The layer renderer.\n     */\n    Layer.prototype.getRenderer = function () {\n        if (!this.renderer_) {\n            this.renderer_ = this.createRenderer();\n        }\n        return this.renderer_;\n    };\n    /**\n     * @return {boolean} The layer has a renderer.\n     */\n    Layer.prototype.hasRenderer = function () {\n        return !!this.renderer_;\n    };\n    /**\n     * Create a renderer for this layer.\n     * @return {import(\"../renderer/Layer.js\").default} A layer renderer.\n     * @protected\n     */\n    Layer.prototype.createRenderer = function () {\n        return null;\n    };\n    /**\n     * Clean up.\n     */\n    Layer.prototype.disposeInternal = function () {\n        this.setSource(null);\n        _super.prototype.disposeInternal.call(this);\n    };\n    return Layer;\n}(BaseLayer));\n/**\n * Return `true` if the layer is visible and if the provided view state\n * has resolution and zoom levels that are in range of the layer's min/max.\n * @param {State} layerState Layer state.\n * @param {import(\"../View.js\").State} viewState View state.\n * @return {boolean} The layer is visible at the given view state.\n */\nexport function inView(layerState, viewState) {\n    if (!layerState.visible) {\n        return false;\n    }\n    var resolution = viewState.resolution;\n    if (resolution < layerState.minResolution ||\n        resolution >= layerState.maxResolution) {\n        return false;\n    }\n    var zoom = viewState.zoom;\n    return zoom > layerState.minZoom && zoom <= layerState.maxZoom;\n}\nexport default Layer;\n//# sourceMappingURL=Layer.js.map","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n/**\n * @module ol/renderer/Map\n */\nimport Disposable from '../Disposable.js';\nimport { TRUE } from '../functions.js';\nimport { abstract } from '../util.js';\nimport { compose as composeTransform, makeInverse } from '../transform.js';\nimport { getWidth } from '../extent.js';\nimport { shared as iconImageCache } from '../style/IconImageCache.js';\nimport { inView } from '../layer/Layer.js';\nimport { wrapX } from '../coordinate.js';\n/**\n * @typedef HitMatch\n * @property {import(\"../Feature.js\").FeatureLike} feature\n * @property {import(\"../layer/Layer.js\").default} layer\n * @property {import(\"../geom/SimpleGeometry.js\").default} geometry\n * @property {number} distanceSq\n * @property {import(\"./vector.js\").FeatureCallback<T>} callback\n * @template T\n */\n/**\n * @abstract\n */\nvar MapRenderer = /** @class */ (function (_super) {\n    __extends(MapRenderer, _super);\n    /**\n     * @param {import(\"../PluggableMap.js\").default} map Map.\n     */\n    function MapRenderer(map) {\n        var _this = _super.call(this) || this;\n        /**\n         * @private\n         * @type {import(\"../PluggableMap.js\").default}\n         */\n        _this.map_ = map;\n        return _this;\n    }\n    /**\n     * @abstract\n     * @param {import(\"../render/EventType.js\").default} type Event type.\n     * @param {import(\"../PluggableMap.js\").FrameState} frameState Frame state.\n     */\n    MapRenderer.prototype.dispatchRenderEvent = function (type, frameState) {\n        abstract();\n    };\n    /**\n     * @param {import(\"../PluggableMap.js\").FrameState} frameState FrameState.\n     * @protected\n     */\n    MapRenderer.prototype.calculateMatrices2D = function (frameState) {\n        var viewState = frameState.viewState;\n        var coordinateToPixelTransform = frameState.coordinateToPixelTransform;\n        var pixelToCoordinateTransform = frameState.pixelToCoordinateTransform;\n        composeTransform(coordinateToPixelTransform, frameState.size[0] / 2, frameState.size[1] / 2, 1 / viewState.resolution, -1 / viewState.resolution, -viewState.rotation, -viewState.center[0], -viewState.center[1]);\n        makeInverse(pixelToCoordinateTransform, coordinateToPixelTransform);\n    };\n    /**\n     * @param {import(\"../coordinate.js\").Coordinate} coordinate Coordinate.\n     * @param {import(\"../PluggableMap.js\").FrameState} frameState FrameState.\n     * @param {number} hitTolerance Hit tolerance in pixels.\n     * @param {boolean} checkWrapped Check for wrapped geometries.\n     * @param {import(\"./vector.js\").FeatureCallback<T>} callback Feature callback.\n     * @param {S} thisArg Value to use as `this` when executing `callback`.\n     * @param {function(this: U, import(\"../layer/Layer.js\").default): boolean} layerFilter Layer filter\n     *     function, only layers which are visible and for which this function\n     *     returns `true` will be tested for features.  By default, all visible\n     *     layers will be tested.\n     * @param {U} thisArg2 Value to use as `this` when executing `layerFilter`.\n     * @return {T|undefined} Callback result.\n     * @template S,T,U\n     */\n    MapRenderer.prototype.forEachFeatureAtCoordinate = function (coordinate, frameState, hitTolerance, checkWrapped, callback, thisArg, layerFilter, thisArg2) {\n        var result;\n        var viewState = frameState.viewState;\n        /**\n         * @param {boolean} managed Managed layer.\n         * @param {import(\"../Feature.js\").FeatureLike} feature Feature.\n         * @param {import(\"../layer/Layer.js\").default} layer Layer.\n         * @param {import(\"../geom/Geometry.js\").default} geometry Geometry.\n         * @return {T|undefined} Callback result.\n         */\n        function forEachFeatureAtCoordinate(managed, feature, layer, geometry) {\n            return callback.call(thisArg, feature, managed ? layer : null, geometry);\n        }\n        var projection = viewState.projection;\n        var translatedCoordinate = wrapX(coordinate.slice(), projection);\n        var offsets = [[0, 0]];\n        if (projection.canWrapX() && checkWrapped) {\n            var projectionExtent = projection.getExtent();\n            var worldWidth = getWidth(projectionExtent);\n            offsets.push([-worldWidth, 0], [worldWidth, 0]);\n        }\n        var layerStates = frameState.layerStatesArray;\n        var numLayers = layerStates.length;\n        var matches = /** @type {Array<HitMatch<T>>} */ ([]);\n        var tmpCoord = [];\n        for (var i = 0; i < offsets.length; i++) {\n            for (var j = numLayers - 1; j >= 0; --j) {\n                var layerState = layerStates[j];\n                var layer = layerState.layer;\n                if (layer.hasRenderer() &&\n                    inView(layerState, viewState) &&\n                    layerFilter.call(thisArg2, layer)) {\n                    var layerRenderer = layer.getRenderer();\n                    var source = layer.getSource();\n                    if (layerRenderer && source) {\n                        var coordinates = source.getWrapX()\n                            ? translatedCoordinate\n                            : coordinate;\n                        var callback_1 = forEachFeatureAtCoordinate.bind(null, layerState.managed);\n                        tmpCoord[0] = coordinates[0] + offsets[i][0];\n                        tmpCoord[1] = coordinates[1] + offsets[i][1];\n                        result = layerRenderer.forEachFeatureAtCoordinate(tmpCoord, frameState, hitTolerance, callback_1, matches);\n                    }\n                    if (result) {\n                        return result;\n                    }\n                }\n            }\n        }\n        if (matches.length === 0) {\n            return undefined;\n        }\n        var order = 1 / matches.length;\n        matches.forEach(function (m, i) { return (m.distanceSq += i * order); });\n        matches.sort(function (a, b) { return a.distanceSq - b.distanceSq; });\n        matches.some(function (m) {\n            return (result = m.callback(m.feature, m.layer, m.geometry));\n        });\n        return result;\n    };\n    /**\n     * @abstract\n     * @param {import(\"../pixel.js\").Pixel} pixel Pixel.\n     * @param {import(\"../PluggableMap.js\").FrameState} frameState FrameState.\n     * @param {number} hitTolerance Hit tolerance in pixels.\n     * @param {function(import(\"../layer/Layer.js\").default, (Uint8ClampedArray|Uint8Array)): T} callback Layer\n     *     callback.\n     * @param {function(import(\"../layer/Layer.js\").default): boolean} layerFilter Layer filter\n     *     function, only layers which are visible and for which this function\n     *     returns `true` will be tested for features.  By default, all visible\n     *     layers will be tested.\n     * @return {T|undefined} Callback result.\n     * @template T\n     */\n    MapRenderer.prototype.forEachLayerAtPixel = function (pixel, frameState, hitTolerance, callback, layerFilter) {\n        return abstract();\n    };\n    /**\n     * @param {import(\"../coordinate.js\").Coordinate} coordinate Coordinate.\n     * @param {import(\"../PluggableMap.js\").FrameState} frameState FrameState.\n     * @param {number} hitTolerance Hit tolerance in pixels.\n     * @param {boolean} checkWrapped Check for wrapped geometries.\n     * @param {function(this: U, import(\"../layer/Layer.js\").default): boolean} layerFilter Layer filter\n     *     function, only layers which are visible and for which this function\n     *     returns `true` will be tested for features.  By default, all visible\n     *     layers will be tested.\n     * @param {U} thisArg Value to use as `this` when executing `layerFilter`.\n     * @return {boolean} Is there a feature at the given coordinate?\n     * @template U\n     */\n    MapRenderer.prototype.hasFeatureAtCoordinate = function (coordinate, frameState, hitTolerance, checkWrapped, layerFilter, thisArg) {\n        var hasFeature = this.forEachFeatureAtCoordinate(coordinate, frameState, hitTolerance, checkWrapped, TRUE, this, layerFilter, thisArg);\n        return hasFeature !== undefined;\n    };\n    /**\n     * @return {import(\"../PluggableMap.js\").default} Map.\n     */\n    MapRenderer.prototype.getMap = function () {\n        return this.map_;\n    };\n    /**\n     * Render.\n     * @abstract\n     * @param {?import(\"../PluggableMap.js\").FrameState} frameState Frame state.\n     */\n    MapRenderer.prototype.renderFrame = function (frameState) {\n        abstract();\n    };\n    /**\n     * @param {import(\"../PluggableMap.js\").FrameState} frameState Frame state.\n     * @protected\n     */\n    MapRenderer.prototype.scheduleExpireIconCache = function (frameState) {\n        if (iconImageCache.canExpireCache()) {\n            frameState.postRenderFunctions.push(expireIconCache);\n        }\n    };\n    return MapRenderer;\n}(Disposable));\n/**\n * @param {import(\"../PluggableMap.js\").default} map Map.\n * @param {import(\"../PluggableMap.js\").FrameState} frameState Frame state.\n */\nfunction expireIconCache(map, frameState) {\n    iconImageCache.expire();\n}\nexport default MapRenderer;\n//# sourceMappingURL=Map.js.map","/**\n * @module ol/render/Event\n */\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport Event from '../events/Event.js';\nvar RenderEvent = /** @class */ (function (_super) {\n    __extends(RenderEvent, _super);\n    /**\n     * @param {import(\"./EventType.js\").default} type Type.\n     * @param {import(\"../transform.js\").Transform=} opt_inversePixelTransform Transform for\n     *     CSS pixels to rendered pixels.\n     * @param {import(\"../PluggableMap.js\").FrameState=} opt_frameState Frame state.\n     * @param {?CanvasRenderingContext2D=} opt_context Context.\n     */\n    function RenderEvent(type, opt_inversePixelTransform, opt_frameState, opt_context) {\n        var _this = _super.call(this, type) || this;\n        /**\n         * Transform from CSS pixels (relative to the top-left corner of the map viewport)\n         * to rendered pixels on this event's `context`. Only available when a Canvas renderer is used, null otherwise.\n         * @type {import(\"../transform.js\").Transform|undefined}\n         * @api\n         */\n        _this.inversePixelTransform = opt_inversePixelTransform;\n        /**\n         * An object representing the current render frame state.\n         * @type {import(\"../PluggableMap.js\").FrameState|undefined}\n         * @api\n         */\n        _this.frameState = opt_frameState;\n        /**\n         * Canvas context. Not available when the event is dispatched by the map. Only available\n         * when a Canvas renderer is used, null otherwise.\n         * @type {CanvasRenderingContext2D|null|undefined}\n         * @api\n         */\n        _this.context = opt_context;\n        return _this;\n    }\n    return RenderEvent;\n}(Event));\nexport default RenderEvent;\n//# sourceMappingURL=Event.js.map","/**\n * @module ol/css\n */\n/**\n * @typedef {Object} FontParameters\n * @property {string} style\n * @property {string} variant\n * @property {string} weight\n * @property {string} size\n * @property {string} lineHeight\n * @property {string} family\n * @property {Array<string>} families\n */\n/**\n * The CSS class for hidden feature.\n *\n * @const\n * @type {string}\n */\nexport var CLASS_HIDDEN = 'ol-hidden';\n/**\n * The CSS class that we'll give the DOM elements to have them selectable.\n *\n * @const\n * @type {string}\n */\nexport var CLASS_SELECTABLE = 'ol-selectable';\n/**\n * The CSS class that we'll give the DOM elements to have them unselectable.\n *\n * @const\n * @type {string}\n */\nexport var CLASS_UNSELECTABLE = 'ol-unselectable';\n/**\n * The CSS class for unsupported feature.\n *\n * @const\n * @type {string}\n */\nexport var CLASS_UNSUPPORTED = 'ol-unsupported';\n/**\n * The CSS class for controls.\n *\n * @const\n * @type {string}\n */\nexport var CLASS_CONTROL = 'ol-control';\n/**\n * The CSS class that we'll give the DOM elements that are collapsed, i.e.\n * to those elements which usually can be expanded.\n *\n * @const\n * @type {string}\n */\nexport var CLASS_COLLAPSED = 'ol-collapsed';\n/**\n * From http://stackoverflow.com/questions/10135697/regex-to-parse-any-css-font\n * @type {RegExp}\n */\nvar fontRegEx = new RegExp([\n    '^\\\\s*(?=(?:(?:[-a-z]+\\\\s*){0,2}(italic|oblique))?)',\n    '(?=(?:(?:[-a-z]+\\\\s*){0,2}(small-caps))?)',\n    '(?=(?:(?:[-a-z]+\\\\s*){0,2}(bold(?:er)?|lighter|[1-9]00 ))?)',\n    '(?:(?:normal|\\\\1|\\\\2|\\\\3)\\\\s*){0,3}((?:xx?-)?',\n    '(?:small|large)|medium|smaller|larger|[\\\\.\\\\d]+(?:\\\\%|in|[cem]m|ex|p[ctx]))',\n    '(?:\\\\s*\\\\/\\\\s*(normal|[\\\\.\\\\d]+(?:\\\\%|in|[cem]m|ex|p[ctx])?))',\n    '?\\\\s*([-,\\\\\"\\\\\\'\\\\sa-z]+?)\\\\s*$',\n].join(''), 'i');\nvar fontRegExMatchIndex = [\n    'style',\n    'variant',\n    'weight',\n    'size',\n    'lineHeight',\n    'family',\n];\n/**\n * Get the list of font families from a font spec.  Note that this doesn't work\n * for font families that have commas in them.\n * @param {string} fontSpec The CSS font property.\n * @return {FontParameters} The font parameters (or null if the input spec is invalid).\n */\nexport var getFontParameters = function (fontSpec) {\n    var match = fontSpec.match(fontRegEx);\n    if (!match) {\n        return null;\n    }\n    var style = /** @type {FontParameters} */ ({\n        lineHeight: 'normal',\n        size: '1.2em',\n        style: 'normal',\n        weight: 'normal',\n        variant: 'normal',\n    });\n    for (var i = 0, ii = fontRegExMatchIndex.length; i < ii; ++i) {\n        var value = match[i + 1];\n        if (value !== undefined) {\n            style[fontRegExMatchIndex[i]] = value;\n        }\n    }\n    style.families = style.family.split(/,\\s?/);\n    return style;\n};\n//# sourceMappingURL=css.js.map","/**\n * @module ol/has\n */\nvar ua = typeof navigator !== 'undefined' && typeof navigator.userAgent !== 'undefined'\n    ? navigator.userAgent.toLowerCase()\n    : '';\n/**\n * User agent string says we are dealing with Firefox as browser.\n * @type {boolean}\n */\nexport var FIREFOX = ua.indexOf('firefox') !== -1;\n/**\n * User agent string says we are dealing with Safari as browser.\n * @type {boolean}\n */\nexport var SAFARI = ua.indexOf('safari') !== -1 && ua.indexOf('chrom') == -1;\n/**\n * User agent string says we are dealing with a WebKit engine.\n * @type {boolean}\n */\nexport var WEBKIT = ua.indexOf('webkit') !== -1 && ua.indexOf('edge') == -1;\n/**\n * User agent string says we are dealing with a Mac as platform.\n * @type {boolean}\n */\nexport var MAC = ua.indexOf('macintosh') !== -1;\n/**\n * The ratio between physical pixels and device-independent pixels\n * (dips) on the device (`window.devicePixelRatio`).\n * @const\n * @type {number}\n * @api\n */\nexport var DEVICE_PIXEL_RATIO = typeof devicePixelRatio !== 'undefined' ? devicePixelRatio : 1;\n/**\n * The execution context is a worker with OffscreenCanvas available.\n * @const\n * @type {boolean}\n */\nexport var WORKER_OFFSCREEN_CANVAS = typeof WorkerGlobalScope !== 'undefined' &&\n    typeof OffscreenCanvas !== 'undefined' &&\n    self instanceof WorkerGlobalScope; //eslint-disable-line\n/**\n * Image.prototype.decode() is supported.\n * @type {boolean}\n */\nexport var IMAGE_DECODE = typeof Image !== 'undefined' && Image.prototype.decode;\n/**\n * @type {boolean}\n */\nexport var PASSIVE_EVENT_LISTENERS = (function () {\n    var passive = false;\n    try {\n        var options = Object.defineProperty({}, 'passive', {\n            get: function () {\n                passive = true;\n            },\n        });\n        window.addEventListener('_', null, options);\n        window.removeEventListener('_', null, options);\n    }\n    catch (error) {\n        // passive not supported\n    }\n    return passive;\n})();\n//# sourceMappingURL=has.js.map","import { WORKER_OFFSCREEN_CANVAS } from './has.js';\n/**\n * @module ol/dom\n */\n//FIXME Move this function to the canvas module\n/**\n * Create an html canvas element and returns its 2d context.\n * @param {number=} opt_width Canvas width.\n * @param {number=} opt_height Canvas height.\n * @param {Array<HTMLCanvasElement>=} opt_canvasPool Canvas pool to take existing canvas from.\n * @return {CanvasRenderingContext2D} The context.\n */\nexport function createCanvasContext2D(opt_width, opt_height, opt_canvasPool) {\n    var canvas = opt_canvasPool && opt_canvasPool.length\n        ? opt_canvasPool.shift()\n        : WORKER_OFFSCREEN_CANVAS\n            ? new OffscreenCanvas(opt_width || 300, opt_height || 300)\n            : document.createElement('canvas');\n    if (opt_width) {\n        canvas.width = opt_width;\n    }\n    if (opt_height) {\n        canvas.height = opt_height;\n    }\n    //FIXME Allow OffscreenCanvasRenderingContext2D as return type\n    return /** @type {CanvasRenderingContext2D} */ (canvas.getContext('2d'));\n}\n/**\n * Get the current computed width for the given element including margin,\n * padding and border.\n * Equivalent to jQuery's `$(el).outerWidth(true)`.\n * @param {!HTMLElement} element Element.\n * @return {number} The width.\n */\nexport function outerWidth(element) {\n    var width = element.offsetWidth;\n    var style = getComputedStyle(element);\n    width += parseInt(style.marginLeft, 10) + parseInt(style.marginRight, 10);\n    return width;\n}\n/**\n * Get the current computed height for the given element including margin,\n * padding and border.\n * Equivalent to jQuery's `$(el).outerHeight(true)`.\n * @param {!HTMLElement} element Element.\n * @return {number} The height.\n */\nexport function outerHeight(element) {\n    var height = element.offsetHeight;\n    var style = getComputedStyle(element);\n    height += parseInt(style.marginTop, 10) + parseInt(style.marginBottom, 10);\n    return height;\n}\n/**\n * @param {Node} newNode Node to replace old node\n * @param {Node} oldNode The node to be replaced\n */\nexport function replaceNode(newNode, oldNode) {\n    var parent = oldNode.parentNode;\n    if (parent) {\n        parent.replaceChild(newNode, oldNode);\n    }\n}\n/**\n * @param {Node} node The node to remove.\n * @returns {Node} The node that was removed or null.\n */\nexport function removeNode(node) {\n    return node && node.parentNode ? node.parentNode.removeChild(node) : null;\n}\n/**\n * @param {Node} node The node to remove the children from.\n */\nexport function removeChildren(node) {\n    while (node.lastChild) {\n        node.removeChild(node.lastChild);\n    }\n}\n/**\n * Transform the children of a parent node so they match the\n * provided list of children.  This function aims to efficiently\n * remove, add, and reorder child nodes while maintaining a simple\n * implementation (it is not guaranteed to minimize DOM operations).\n * @param {Node} node The parent node whose children need reworking.\n * @param {Array<Node>} children The desired children.\n */\nexport function replaceChildren(node, children) {\n    var oldChildren = node.childNodes;\n    for (var i = 0; true; ++i) {\n        var oldChild = oldChildren[i];\n        var newChild = children[i];\n        // check if our work is done\n        if (!oldChild && !newChild) {\n            break;\n        }\n        // check if children match\n        if (oldChild === newChild) {\n            continue;\n        }\n        // check if a new child needs to be added\n        if (!oldChild) {\n            node.appendChild(newChild);\n            continue;\n        }\n        // check if an old child needs to be removed\n        if (!newChild) {\n            node.removeChild(oldChild);\n            --i;\n            continue;\n        }\n        // reorder\n        node.insertBefore(newChild, oldChild);\n    }\n}\n//# sourceMappingURL=dom.js.map","/**\n * @module ol/render/canvas\n */\nimport BaseObject from '../Object.js';\nimport EventTarget from '../events/Target.js';\nimport { WORKER_OFFSCREEN_CANVAS } from '../has.js';\nimport { clear } from '../obj.js';\nimport { createCanvasContext2D } from '../dom.js';\nimport { getFontParameters } from '../css.js';\nimport { toString } from '../transform.js';\n/**\n * @typedef {Object} FillState\n * @property {import(\"../colorlike.js\").ColorLike} fillStyle\n */\n/**\n * @typedef Label\n * @property {number} width\n * @property {number} height\n * @property {Array<string|number>} contextInstructions\n */\n/**\n * @typedef {Object} FillStrokeState\n * @property {import(\"../colorlike.js\").ColorLike} [currentFillStyle]\n * @property {import(\"../colorlike.js\").ColorLike} [currentStrokeStyle]\n * @property {CanvasLineCap} [currentLineCap]\n * @property {Array<number>} currentLineDash\n * @property {number} [currentLineDashOffset]\n * @property {CanvasLineJoin} [currentLineJoin]\n * @property {number} [currentLineWidth]\n * @property {number} [currentMiterLimit]\n * @property {number} [lastStroke]\n * @property {import(\"../colorlike.js\").ColorLike} [fillStyle]\n * @property {import(\"../colorlike.js\").ColorLike} [strokeStyle]\n * @property {CanvasLineCap} [lineCap]\n * @property {Array<number>} lineDash\n * @property {number} [lineDashOffset]\n * @property {CanvasLineJoin} [lineJoin]\n * @property {number} [lineWidth]\n * @property {number} [miterLimit]\n */\n/**\n * @typedef {Object} StrokeState\n * @property {CanvasLineCap} lineCap\n * @property {Array<number>} lineDash\n * @property {number} lineDashOffset\n * @property {CanvasLineJoin} lineJoin\n * @property {number} lineWidth\n * @property {number} miterLimit\n * @property {import(\"../colorlike.js\").ColorLike} strokeStyle\n */\n/**\n * @typedef {Object} TextState\n * @property {string} font\n * @property {string} [textAlign]\n * @property {string} textBaseline\n * @property {string} [placement]\n * @property {number} [maxAngle]\n * @property {boolean} [overflow]\n * @property {import(\"../style/Fill.js\").default} [backgroundFill]\n * @property {import(\"../style/Stroke.js\").default} [backgroundStroke]\n * @property {import(\"../size.js\").Size} [scale]\n * @property {Array<number>} [padding]\n */\n/**\n * @typedef {Object} SerializableInstructions\n * @property {Array<*>} instructions The rendering instructions.\n * @property {Array<*>} hitDetectionInstructions The rendering hit detection instructions.\n * @property {Array<number>} coordinates The array of all coordinates.\n * @property {!Object<string, TextState>} [textStates] The text states (decluttering).\n * @property {!Object<string, FillState>} [fillStates] The fill states (decluttering).\n * @property {!Object<string, StrokeState>} [strokeStates] The stroke states (decluttering).\n */\n/**\n * @typedef {Object<number, import(\"./canvas/Executor.js\").ReplayImageOrLabelArgs>} DeclutterImageWithText\n */\n/**\n * @const\n * @type {string}\n */\nexport var defaultFont = '10px sans-serif';\n/**\n * @const\n * @type {import(\"../colorlike.js\").ColorLike}\n */\nexport var defaultFillStyle = '#000';\n/**\n * @const\n * @type {CanvasLineCap}\n */\nexport var defaultLineCap = 'round';\n/**\n * @const\n * @type {Array<number>}\n */\nexport var defaultLineDash = [];\n/**\n * @const\n * @type {number}\n */\nexport var defaultLineDashOffset = 0;\n/**\n * @const\n * @type {CanvasLineJoin}\n */\nexport var defaultLineJoin = 'round';\n/**\n * @const\n * @type {number}\n */\nexport var defaultMiterLimit = 10;\n/**\n * @const\n * @type {import(\"../colorlike.js\").ColorLike}\n */\nexport var defaultStrokeStyle = '#000';\n/**\n * @const\n * @type {string}\n */\nexport var defaultTextAlign = 'center';\n/**\n * @const\n * @type {string}\n */\nexport var defaultTextBaseline = 'middle';\n/**\n * @const\n * @type {Array<number>}\n */\nexport var defaultPadding = [0, 0, 0, 0];\n/**\n * @const\n * @type {number}\n */\nexport var defaultLineWidth = 1;\n/**\n * @type {BaseObject}\n */\nexport var checkedFonts = new BaseObject();\n/**\n * The label cache for text rendering. To change the default cache size of 2048\n * entries, use {@link module:ol/structs/LRUCache#setSize}.\n * Deprecated - there is no label cache any more.\n * @type {?}\n * @api\n * @deprecated\n */\nexport var labelCache = new EventTarget();\nlabelCache.setSize = function () {\n    console.warn('labelCache is deprecated.'); //eslint-disable-line\n};\n/**\n * @type {CanvasRenderingContext2D}\n */\nvar measureContext = null;\n/**\n * @type {string}\n */\nvar measureFont;\n/**\n * @type {!Object<string, number>}\n */\nexport var textHeights = {};\n/**\n * Clears the label cache when a font becomes available.\n * @param {string} fontSpec CSS font spec.\n */\nexport var registerFont = (function () {\n    var retries = 100;\n    var size = '32px ';\n    var referenceFonts = ['monospace', 'serif'];\n    var len = referenceFonts.length;\n    var text = 'wmytzilWMYTZIL@#/&?$%10\\uF013';\n    var interval, referenceWidth;\n    /**\n     * @param {string} fontStyle Css font-style\n     * @param {string} fontWeight Css font-weight\n     * @param {*} fontFamily Css font-family\n     * @return {boolean} Font with style and weight is available\n     */\n    function isAvailable(fontStyle, fontWeight, fontFamily) {\n        var available = true;\n        for (var i = 0; i < len; ++i) {\n            var referenceFont = referenceFonts[i];\n            referenceWidth = measureTextWidth(fontStyle + ' ' + fontWeight + ' ' + size + referenceFont, text);\n            if (fontFamily != referenceFont) {\n                var width = measureTextWidth(fontStyle +\n                    ' ' +\n                    fontWeight +\n                    ' ' +\n                    size +\n                    fontFamily +\n                    ',' +\n                    referenceFont, text);\n                // If width and referenceWidth are the same, then the fallback was used\n                // instead of the font we wanted, so the font is not available.\n                available = available && width != referenceWidth;\n            }\n        }\n        if (available) {\n            return true;\n        }\n        return false;\n    }\n    function check() {\n        var done = true;\n        var fonts = checkedFonts.getKeys();\n        for (var i = 0, ii = fonts.length; i < ii; ++i) {\n            var font = fonts[i];\n            if (checkedFonts.get(font) < retries) {\n                if (isAvailable.apply(this, font.split('\\n'))) {\n                    clear(textHeights);\n                    // Make sure that loaded fonts are picked up by Safari\n                    measureContext = null;\n                    measureFont = undefined;\n                    checkedFonts.set(font, retries);\n                }\n                else {\n                    checkedFonts.set(font, checkedFonts.get(font) + 1, true);\n                    done = false;\n                }\n            }\n        }\n        if (done) {\n            clearInterval(interval);\n            interval = undefined;\n        }\n    }\n    return function (fontSpec) {\n        var font = getFontParameters(fontSpec);\n        if (!font) {\n            return;\n        }\n        var families = font.families;\n        for (var i = 0, ii = families.length; i < ii; ++i) {\n            var family = families[i];\n            var key = font.style + '\\n' + font.weight + '\\n' + family;\n            if (checkedFonts.get(key) === undefined) {\n                checkedFonts.set(key, retries, true);\n                if (!isAvailable(font.style, font.weight, family)) {\n                    checkedFonts.set(key, 0, true);\n                    if (interval === undefined) {\n                        interval = setInterval(check, 32);\n                    }\n                }\n            }\n        }\n    };\n})();\n/**\n * @param {string} font Font to use for measuring.\n * @return {import(\"../size.js\").Size} Measurement.\n */\nexport var measureTextHeight = (function () {\n    /**\n     * @type {HTMLDivElement}\n     */\n    var div;\n    return function (fontSpec) {\n        var height = textHeights[fontSpec];\n        if (height == undefined) {\n            if (WORKER_OFFSCREEN_CANVAS) {\n                var font = getFontParameters(fontSpec);\n                var metrics = measureText(fontSpec, 'g');\n                var lineHeight = isNaN(Number(font.lineHeight))\n                    ? 1.2\n                    : Number(font.lineHeight);\n                height =\n                    lineHeight *\n                        (metrics.actualBoundingBoxAscent + metrics.actualBoundingBoxDescent);\n            }\n            else {\n                if (!div) {\n                    div = document.createElement('div');\n                    div.innerHTML = 'M';\n                    div.style.margin = '0 !important';\n                    div.style.padding = '0 !important';\n                    div.style.position = 'absolute !important';\n                    div.style.left = '-99999px !important';\n                }\n                div.style.font = fontSpec;\n                document.body.appendChild(div);\n                height = div.offsetHeight;\n                document.body.removeChild(div);\n            }\n            textHeights[fontSpec] = height;\n        }\n        return height;\n    };\n})();\n/**\n * @param {string} font Font.\n * @param {string} text Text.\n * @return {TextMetrics} Text metrics.\n */\nfunction measureText(font, text) {\n    if (!measureContext) {\n        measureContext = createCanvasContext2D(1, 1);\n    }\n    if (font != measureFont) {\n        measureContext.font = font;\n        measureFont = measureContext.font;\n    }\n    return measureContext.measureText(text);\n}\n/**\n * @param {string} font Font.\n * @param {string} text Text.\n * @return {number} Width.\n */\nexport function measureTextWidth(font, text) {\n    return measureText(font, text).width;\n}\n/**\n * Measure text width using a cache.\n * @param {string} font The font.\n * @param {string} text The text to measure.\n * @param {Object<string, number>} cache A lookup of cached widths by text.\n * @returns {number} The text width.\n */\nexport function measureAndCacheTextWidth(font, text, cache) {\n    if (text in cache) {\n        return cache[text];\n    }\n    var width = measureTextWidth(font, text);\n    cache[text] = width;\n    return width;\n}\n/**\n * @param {string} font Font to use for measuring.\n * @param {Array<string>} lines Lines to measure.\n * @param {Array<number>} widths Array will be populated with the widths of\n * each line.\n * @return {number} Width of the whole text.\n */\nexport function measureTextWidths(font, lines, widths) {\n    var numLines = lines.length;\n    var width = 0;\n    for (var i = 0; i < numLines; ++i) {\n        var currentWidth = measureTextWidth(font, lines[i]);\n        width = Math.max(width, currentWidth);\n        widths.push(currentWidth);\n    }\n    return width;\n}\n/**\n * @param {CanvasRenderingContext2D} context Context.\n * @param {number} rotation Rotation.\n * @param {number} offsetX X offset.\n * @param {number} offsetY Y offset.\n */\nexport function rotateAtOffset(context, rotation, offsetX, offsetY) {\n    if (rotation !== 0) {\n        context.translate(offsetX, offsetY);\n        context.rotate(rotation);\n        context.translate(-offsetX, -offsetY);\n    }\n}\n/**\n * @param {CanvasRenderingContext2D} context Context.\n * @param {import(\"../transform.js\").Transform|null} transform Transform.\n * @param {number} opacity Opacity.\n * @param {Label|HTMLCanvasElement|HTMLImageElement|HTMLVideoElement} labelOrImage Label.\n * @param {number} originX Origin X.\n * @param {number} originY Origin Y.\n * @param {number} w Width.\n * @param {number} h Height.\n * @param {number} x X.\n * @param {number} y Y.\n * @param {import(\"../size.js\").Size} scale Scale.\n */\nexport function drawImageOrLabel(context, transform, opacity, labelOrImage, originX, originY, w, h, x, y, scale) {\n    context.save();\n    if (opacity !== 1) {\n        context.globalAlpha *= opacity;\n    }\n    if (transform) {\n        context.setTransform.apply(context, transform);\n    }\n    if ( /** @type {*} */(labelOrImage).contextInstructions) {\n        // label\n        context.translate(x, y);\n        context.scale(scale[0], scale[1]);\n        executeLabelInstructions(/** @type {Label} */ (labelOrImage), context);\n    }\n    else if (scale[0] < 0 || scale[1] < 0) {\n        // flipped image\n        context.translate(x, y);\n        context.scale(scale[0], scale[1]);\n        context.drawImage(\n        /** @type {HTMLCanvasElement|HTMLImageElement|HTMLVideoElement} */ (labelOrImage), originX, originY, w, h, 0, 0, w, h);\n    }\n    else {\n        // if image not flipped translate and scale can be avoided\n        context.drawImage(\n        /** @type {HTMLCanvasElement|HTMLImageElement|HTMLVideoElement} */ (labelOrImage), originX, originY, w, h, x, y, w * scale[0], h * scale[1]);\n    }\n    context.restore();\n}\n/**\n * @param {Label} label Label.\n * @param {CanvasRenderingContext2D} context Context.\n */\nfunction executeLabelInstructions(label, context) {\n    var contextInstructions = label.contextInstructions;\n    for (var i = 0, ii = contextInstructions.length; i < ii; i += 2) {\n        if (Array.isArray(contextInstructions[i + 1])) {\n            context[contextInstructions[i]].apply(context, contextInstructions[i + 1]);\n        }\n        else {\n            context[contextInstructions[i]] = contextInstructions[i + 1];\n        }\n    }\n}\n/**\n * @type {HTMLCanvasElement}\n * @private\n */\nvar createTransformStringCanvas = null;\n/**\n * @param {import(\"../transform.js\").Transform} transform Transform.\n * @return {string} CSS transform.\n */\nexport function createTransformString(transform) {\n    if (WORKER_OFFSCREEN_CANVAS) {\n        return toString(transform);\n    }\n    else {\n        if (!createTransformStringCanvas) {\n            createTransformStringCanvas = createCanvasContext2D(1, 1).canvas;\n        }\n        createTransformStringCanvas.style.transform = toString(transform);\n        return createTransformStringCanvas.style.transform;\n    }\n}\n//# sourceMappingURL=canvas.js.map","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n/**\n * @module ol/renderer/Composite\n */\nimport MapRenderer from './Map.js';\nimport ObjectEventType from '../ObjectEventType.js';\nimport RenderEvent from '../render/Event.js';\nimport RenderEventType from '../render/EventType.js';\nimport SourceState from '../source/State.js';\nimport { CLASS_UNSELECTABLE } from '../css.js';\nimport { checkedFonts } from '../render/canvas.js';\nimport { inView } from '../layer/Layer.js';\nimport { listen, unlistenByKey } from '../events.js';\nimport { replaceChildren } from '../dom.js';\n/**\n * @classdesc\n * Canvas map renderer.\n * @api\n */\nvar CompositeMapRenderer = /** @class */ (function (_super) {\n    __extends(CompositeMapRenderer, _super);\n    /**\n     * @param {import(\"../PluggableMap.js\").default} map Map.\n     */\n    function CompositeMapRenderer(map) {\n        var _this = _super.call(this, map) || this;\n        /**\n         * @type {import(\"../events.js\").EventsKey}\n         */\n        _this.fontChangeListenerKey_ = listen(checkedFonts, ObjectEventType.PROPERTYCHANGE, map.redrawText.bind(map));\n        /**\n         * @private\n         * @type {HTMLDivElement}\n         */\n        _this.element_ = document.createElement('div');\n        var style = _this.element_.style;\n        style.position = 'absolute';\n        style.width = '100%';\n        style.height = '100%';\n        style.zIndex = '0';\n        _this.element_.className = CLASS_UNSELECTABLE + ' ol-layers';\n        var container = map.getViewport();\n        container.insertBefore(_this.element_, container.firstChild || null);\n        /**\n         * @private\n         * @type {Array<HTMLElement>}\n         */\n        _this.children_ = [];\n        /**\n         * @private\n         * @type {boolean}\n         */\n        _this.renderedVisible_ = true;\n        return _this;\n    }\n    /**\n     * @param {import(\"../render/EventType.js\").default} type Event type.\n     * @param {import(\"../PluggableMap.js\").FrameState} frameState Frame state.\n     */\n    CompositeMapRenderer.prototype.dispatchRenderEvent = function (type, frameState) {\n        var map = this.getMap();\n        if (map.hasListener(type)) {\n            var event_1 = new RenderEvent(type, undefined, frameState);\n            map.dispatchEvent(event_1);\n        }\n    };\n    CompositeMapRenderer.prototype.disposeInternal = function () {\n        unlistenByKey(this.fontChangeListenerKey_);\n        this.element_.parentNode.removeChild(this.element_);\n        _super.prototype.disposeInternal.call(this);\n    };\n    /**\n     * Render.\n     * @param {?import(\"../PluggableMap.js\").FrameState} frameState Frame state.\n     */\n    CompositeMapRenderer.prototype.renderFrame = function (frameState) {\n        if (!frameState) {\n            if (this.renderedVisible_) {\n                this.element_.style.display = 'none';\n                this.renderedVisible_ = false;\n            }\n            return;\n        }\n        this.calculateMatrices2D(frameState);\n        this.dispatchRenderEvent(RenderEventType.PRECOMPOSE, frameState);\n        var layerStatesArray = frameState.layerStatesArray.sort(function (a, b) {\n            return a.zIndex - b.zIndex;\n        });\n        var viewState = frameState.viewState;\n        this.children_.length = 0;\n        /**\n         * @type {Array<import(\"../layer/BaseVector.js\").default>}\n         */\n        var declutterLayers = [];\n        var previousElement = null;\n        for (var i = 0, ii = layerStatesArray.length; i < ii; ++i) {\n            var layerState = layerStatesArray[i];\n            frameState.layerIndex = i;\n            if (!inView(layerState, viewState) ||\n                (layerState.sourceState != SourceState.READY &&\n                    layerState.sourceState != SourceState.UNDEFINED)) {\n                continue;\n            }\n            var layer = layerState.layer;\n            var element = layer.render(frameState, previousElement);\n            if (!element) {\n                continue;\n            }\n            if (element !== previousElement) {\n                this.children_.push(element);\n                previousElement = element;\n            }\n            if ('getDeclutter' in layer) {\n                declutterLayers.push(layer);\n            }\n        }\n        for (var i = declutterLayers.length - 1; i >= 0; --i) {\n            declutterLayers[i].renderDeclutter(frameState);\n        }\n        replaceChildren(this.element_, this.children_);\n        this.dispatchRenderEvent(RenderEventType.POSTCOMPOSE, frameState);\n        if (!this.renderedVisible_) {\n            this.element_.style.display = '';\n            this.renderedVisible_ = true;\n        }\n        this.scheduleExpireIconCache(frameState);\n    };\n    /**\n     * @param {import(\"../pixel.js\").Pixel} pixel Pixel.\n     * @param {import(\"../PluggableMap.js\").FrameState} frameState FrameState.\n     * @param {number} hitTolerance Hit tolerance in pixels.\n     * @param {function(import(\"../layer/Layer.js\").default, (Uint8ClampedArray|Uint8Array)): T} callback Layer\n     *     callback.\n     * @param {function(import(\"../layer/Layer.js\").default): boolean} layerFilter Layer filter\n     *     function, only layers which are visible and for which this function\n     *     returns `true` will be tested for features.  By default, all visible\n     *     layers will be tested.\n     * @return {T|undefined} Callback result.\n     * @template T\n     */\n    CompositeMapRenderer.prototype.forEachLayerAtPixel = function (pixel, frameState, hitTolerance, callback, layerFilter) {\n        var viewState = frameState.viewState;\n        var layerStates = frameState.layerStatesArray;\n        var numLayers = layerStates.length;\n        for (var i = numLayers - 1; i >= 0; --i) {\n            var layerState = layerStates[i];\n            var layer = layerState.layer;\n            if (layer.hasRenderer() &&\n                inView(layerState, viewState) &&\n                layerFilter(layer)) {\n                var layerRenderer = layer.getRenderer();\n                var data = layerRenderer.getDataAtPixel(pixel, frameState, hitTolerance);\n                if (data) {\n                    var result = callback(layer, data);\n                    if (result) {\n                        return result;\n                    }\n                }\n            }\n        }\n        return undefined;\n    };\n    return CompositeMapRenderer;\n}(MapRenderer));\nexport default CompositeMapRenderer;\n//# sourceMappingURL=Composite.js.map","/**\n * @module ol/CollectionEventType\n */\n/**\n * @enum {string}\n */\nexport default {\n    /**\n     * Triggered when an item is added to the collection.\n     * @event module:ol/Collection.CollectionEvent#add\n     * @api\n     */\n    ADD: 'add',\n    /**\n     * Triggered when an item is removed from the collection.\n     * @event module:ol/Collection.CollectionEvent#remove\n     * @api\n     */\n    REMOVE: 'remove',\n};\n//# sourceMappingURL=CollectionEventType.js.map","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n/**\n * @module ol/Collection\n */\nimport AssertionError from './AssertionError.js';\nimport BaseObject from './Object.js';\nimport CollectionEventType from './CollectionEventType.js';\nimport Event from './events/Event.js';\n/**\n * @enum {string}\n * @private\n */\nvar Property = {\n    LENGTH: 'length',\n};\n/**\n * @classdesc\n * Events emitted by {@link module:ol/Collection~Collection} instances are instances of this\n * type.\n */\nvar CollectionEvent = /** @class */ (function (_super) {\n    __extends(CollectionEvent, _super);\n    /**\n     * @param {import(\"./CollectionEventType.js\").default} type Type.\n     * @param {*=} opt_element Element.\n     * @param {number=} opt_index The index of the added or removed element.\n     */\n    function CollectionEvent(type, opt_element, opt_index) {\n        var _this = _super.call(this, type) || this;\n        /**\n         * The element that is added to or removed from the collection.\n         * @type {*}\n         * @api\n         */\n        _this.element = opt_element;\n        /**\n         * The index of the added or removed element.\n         * @type {number}\n         * @api\n         */\n        _this.index = opt_index;\n        return _this;\n    }\n    return CollectionEvent;\n}(Event));\nexport { CollectionEvent };\n/**\n * @typedef {Object} Options\n * @property {boolean} [unique=false] Disallow the same item from being added to\n * the collection twice.\n */\n/**\n * @classdesc\n * An expanded version of standard JS Array, adding convenience methods for\n * manipulation. Add and remove changes to the Collection trigger a Collection\n * event. Note that this does not cover changes to the objects _within_ the\n * Collection; they trigger events on the appropriate object, not on the\n * Collection as a whole.\n *\n * @fires CollectionEvent\n *\n * @template T\n * @api\n */\nvar Collection = /** @class */ (function (_super) {\n    __extends(Collection, _super);\n    /**\n     * @param {Array<T>=} opt_array Array.\n     * @param {Options=} opt_options Collection options.\n     */\n    function Collection(opt_array, opt_options) {\n        var _this = _super.call(this) || this;\n        var options = opt_options || {};\n        /**\n         * @private\n         * @type {boolean}\n         */\n        _this.unique_ = !!options.unique;\n        /**\n         * @private\n         * @type {!Array<T>}\n         */\n        _this.array_ = opt_array ? opt_array : [];\n        if (_this.unique_) {\n            for (var i = 0, ii = _this.array_.length; i < ii; ++i) {\n                _this.assertUnique_(_this.array_[i], i);\n            }\n        }\n        _this.updateLength_();\n        return _this;\n    }\n    /**\n     * Remove all elements from the collection.\n     * @api\n     */\n    Collection.prototype.clear = function () {\n        while (this.getLength() > 0) {\n            this.pop();\n        }\n    };\n    /**\n     * Add elements to the collection.  This pushes each item in the provided array\n     * to the end of the collection.\n     * @param {!Array<T>} arr Array.\n     * @return {Collection<T>} This collection.\n     * @api\n     */\n    Collection.prototype.extend = function (arr) {\n        for (var i = 0, ii = arr.length; i < ii; ++i) {\n            this.push(arr[i]);\n        }\n        return this;\n    };\n    /**\n     * Iterate over each element, calling the provided callback.\n     * @param {function(T, number, Array<T>): *} f The function to call\n     *     for every element. This function takes 3 arguments (the element, the\n     *     index and the array). The return value is ignored.\n     * @api\n     */\n    Collection.prototype.forEach = function (f) {\n        var array = this.array_;\n        for (var i = 0, ii = array.length; i < ii; ++i) {\n            f(array[i], i, array);\n        }\n    };\n    /**\n     * Get a reference to the underlying Array object. Warning: if the array\n     * is mutated, no events will be dispatched by the collection, and the\n     * collection's \"length\" property won't be in sync with the actual length\n     * of the array.\n     * @return {!Array<T>} Array.\n     * @api\n     */\n    Collection.prototype.getArray = function () {\n        return this.array_;\n    };\n    /**\n     * Get the element at the provided index.\n     * @param {number} index Index.\n     * @return {T} Element.\n     * @api\n     */\n    Collection.prototype.item = function (index) {\n        return this.array_[index];\n    };\n    /**\n     * Get the length of this collection.\n     * @return {number} The length of the array.\n     * @observable\n     * @api\n     */\n    Collection.prototype.getLength = function () {\n        return this.get(Property.LENGTH);\n    };\n    /**\n     * Insert an element at the provided index.\n     * @param {number} index Index.\n     * @param {T} elem Element.\n     * @api\n     */\n    Collection.prototype.insertAt = function (index, elem) {\n        if (this.unique_) {\n            this.assertUnique_(elem);\n        }\n        this.array_.splice(index, 0, elem);\n        this.updateLength_();\n        this.dispatchEvent(new CollectionEvent(CollectionEventType.ADD, elem, index));\n    };\n    /**\n     * Remove the last element of the collection and return it.\n     * Return `undefined` if the collection is empty.\n     * @return {T|undefined} Element.\n     * @api\n     */\n    Collection.prototype.pop = function () {\n        return this.removeAt(this.getLength() - 1);\n    };\n    /**\n     * Insert the provided element at the end of the collection.\n     * @param {T} elem Element.\n     * @return {number} New length of the collection.\n     * @api\n     */\n    Collection.prototype.push = function (elem) {\n        if (this.unique_) {\n            this.assertUnique_(elem);\n        }\n        var n = this.getLength();\n        this.insertAt(n, elem);\n        return this.getLength();\n    };\n    /**\n     * Remove the first occurrence of an element from the collection.\n     * @param {T} elem Element.\n     * @return {T|undefined} The removed element or undefined if none found.\n     * @api\n     */\n    Collection.prototype.remove = function (elem) {\n        var arr = this.array_;\n        for (var i = 0, ii = arr.length; i < ii; ++i) {\n            if (arr[i] === elem) {\n                return this.removeAt(i);\n            }\n        }\n        return undefined;\n    };\n    /**\n     * Remove the element at the provided index and return it.\n     * Return `undefined` if the collection does not contain this index.\n     * @param {number} index Index.\n     * @return {T|undefined} Value.\n     * @api\n     */\n    Collection.prototype.removeAt = function (index) {\n        var prev = this.array_[index];\n        this.array_.splice(index, 1);\n        this.updateLength_();\n        this.dispatchEvent(new CollectionEvent(CollectionEventType.REMOVE, prev, index));\n        return prev;\n    };\n    /**\n     * Set the element at the provided index.\n     * @param {number} index Index.\n     * @param {T} elem Element.\n     * @api\n     */\n    Collection.prototype.setAt = function (index, elem) {\n        var n = this.getLength();\n        if (index < n) {\n            if (this.unique_) {\n                this.assertUnique_(elem, index);\n            }\n            var prev = this.array_[index];\n            this.array_[index] = elem;\n            this.dispatchEvent(new CollectionEvent(CollectionEventType.REMOVE, prev, index));\n            this.dispatchEvent(new CollectionEvent(CollectionEventType.ADD, elem, index));\n        }\n        else {\n            for (var j = n; j < index; ++j) {\n                this.insertAt(j, undefined);\n            }\n            this.insertAt(index, elem);\n        }\n    };\n    /**\n     * @private\n     */\n    Collection.prototype.updateLength_ = function () {\n        this.set(Property.LENGTH, this.array_.length);\n    };\n    /**\n     * @private\n     * @param {T} elem Element.\n     * @param {number=} opt_except Optional index to ignore.\n     */\n    Collection.prototype.assertUnique_ = function (elem, opt_except) {\n        for (var i = 0, ii = this.array_.length; i < ii; ++i) {\n            if (this.array_[i] === elem && i !== opt_except) {\n                throw new AssertionError(58);\n            }\n        }\n    };\n    return Collection;\n}(BaseObject));\nexport default Collection;\n//# sourceMappingURL=Collection.js.map","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n/**\n * @module ol/layer/Group\n */\nimport BaseLayer from './Base.js';\nimport Collection from '../Collection.js';\nimport CollectionEventType from '../CollectionEventType.js';\nimport EventType from '../events/EventType.js';\nimport ObjectEventType from '../ObjectEventType.js';\nimport SourceState from '../source/State.js';\nimport { assert } from '../asserts.js';\nimport { assign, clear } from '../obj.js';\nimport { getChangeEventType } from '../Object.js';\nimport { getIntersection } from '../extent.js';\nimport { getUid } from '../util.js';\nimport { listen, unlistenByKey } from '../events.js';\n/**\n * @typedef {Object} Options\n * @property {number} [opacity=1] Opacity (0, 1).\n * @property {boolean} [visible=true] Visibility.\n * @property {import(\"../extent.js\").Extent} [extent] The bounding extent for layer rendering.  The layer will not be\n * rendered outside of this extent.\n * @property {number} [zIndex] The z-index for layer rendering.  At rendering time, the layers\n * will be ordered, first by Z-index and then by position. When `undefined`, a `zIndex` of 0 is assumed\n * for layers that are added to the map's `layers` collection, or `Infinity` when the layer's `setMap()`\n * method was used.\n * @property {number} [minResolution] The minimum resolution (inclusive) at which this layer will be\n * visible.\n * @property {number} [maxResolution] The maximum resolution (exclusive) below which this layer will\n * be visible.\n * @property {number} [minZoom] The minimum view zoom level (exclusive) above which this layer will be\n * visible.\n * @property {number} [maxZoom] The maximum view zoom level (inclusive) at which this layer will\n * be visible.\n * @property {number} [minZoom] The minimum view zoom level (exclusive) above which this layer will be\n * visible.\n * @property {number} [maxZoom] The maximum view zoom level (inclusive) at which this layer will\n * be visible.\n * @property {Array<import(\"./Base.js\").default>|import(\"../Collection.js\").default<import(\"./Base.js\").default>} [layers] Child layers.\n */\n/**\n * @enum {string}\n * @private\n */\nvar Property = {\n    LAYERS: 'layers',\n};\n/**\n * @classdesc\n * A {@link module:ol/Collection~Collection} of layers that are handled together.\n *\n * A generic `change` event is triggered when the group/Collection changes.\n *\n * @api\n */\nvar LayerGroup = /** @class */ (function (_super) {\n    __extends(LayerGroup, _super);\n    /**\n     * @param {Options=} opt_options Layer options.\n     */\n    function LayerGroup(opt_options) {\n        var _this = this;\n        var options = opt_options || {};\n        var baseOptions = /** @type {Options} */ (assign({}, options));\n        delete baseOptions.layers;\n        var layers = options.layers;\n        _this = _super.call(this, baseOptions) || this;\n        /**\n         * @private\n         * @type {Array<import(\"../events.js\").EventsKey>}\n         */\n        _this.layersListenerKeys_ = [];\n        /**\n         * @private\n         * @type {Object<string, Array<import(\"../events.js\").EventsKey>>}\n         */\n        _this.listenerKeys_ = {};\n        _this.addEventListener(getChangeEventType(Property.LAYERS), _this.handleLayersChanged_);\n        if (layers) {\n            if (Array.isArray(layers)) {\n                layers = new Collection(layers.slice(), { unique: true });\n            }\n            else {\n                assert(typeof ( /** @type {?} */(layers).getArray) === 'function', 43); // Expected `layers` to be an array or a `Collection`\n            }\n        }\n        else {\n            layers = new Collection(undefined, { unique: true });\n        }\n        _this.setLayers(layers);\n        return _this;\n    }\n    /**\n     * @private\n     */\n    LayerGroup.prototype.handleLayerChange_ = function () {\n        this.changed();\n    };\n    /**\n     * @private\n     */\n    LayerGroup.prototype.handleLayersChanged_ = function () {\n        this.layersListenerKeys_.forEach(unlistenByKey);\n        this.layersListenerKeys_.length = 0;\n        var layers = this.getLayers();\n        this.layersListenerKeys_.push(listen(layers, CollectionEventType.ADD, this.handleLayersAdd_, this), listen(layers, CollectionEventType.REMOVE, this.handleLayersRemove_, this));\n        for (var id in this.listenerKeys_) {\n            this.listenerKeys_[id].forEach(unlistenByKey);\n        }\n        clear(this.listenerKeys_);\n        var layersArray = layers.getArray();\n        for (var i = 0, ii = layersArray.length; i < ii; i++) {\n            var layer = layersArray[i];\n            this.listenerKeys_[getUid(layer)] = [\n                listen(layer, ObjectEventType.PROPERTYCHANGE, this.handleLayerChange_, this),\n                listen(layer, EventType.CHANGE, this.handleLayerChange_, this),\n            ];\n        }\n        this.changed();\n    };\n    /**\n     * @param {import(\"../Collection.js\").CollectionEvent} collectionEvent CollectionEvent.\n     * @private\n     */\n    LayerGroup.prototype.handleLayersAdd_ = function (collectionEvent) {\n        var layer = /** @type {import(\"./Base.js\").default} */ (collectionEvent.element);\n        this.listenerKeys_[getUid(layer)] = [\n            listen(layer, ObjectEventType.PROPERTYCHANGE, this.handleLayerChange_, this),\n            listen(layer, EventType.CHANGE, this.handleLayerChange_, this),\n        ];\n        this.changed();\n    };\n    /**\n     * @param {import(\"../Collection.js\").CollectionEvent} collectionEvent CollectionEvent.\n     * @private\n     */\n    LayerGroup.prototype.handleLayersRemove_ = function (collectionEvent) {\n        var layer = /** @type {import(\"./Base.js\").default} */ (collectionEvent.element);\n        var key = getUid(layer);\n        this.listenerKeys_[key].forEach(unlistenByKey);\n        delete this.listenerKeys_[key];\n        this.changed();\n    };\n    /**\n     * Returns the {@link module:ol/Collection collection} of {@link module:ol/layer/Layer~Layer layers}\n     * in this group.\n     * @return {!import(\"../Collection.js\").default<import(\"./Base.js\").default>} Collection of\n     *   {@link module:ol/layer/Base layers} that are part of this group.\n     * @observable\n     * @api\n     */\n    LayerGroup.prototype.getLayers = function () {\n        return /** @type {!import(\"../Collection.js\").default<import(\"./Base.js\").default>} */ (this.get(Property.LAYERS));\n    };\n    /**\n     * Set the {@link module:ol/Collection collection} of {@link module:ol/layer/Layer~Layer layers}\n     * in this group.\n     * @param {!import(\"../Collection.js\").default<import(\"./Base.js\").default>} layers Collection of\n     *   {@link module:ol/layer/Base layers} that are part of this group.\n     * @observable\n     * @api\n     */\n    LayerGroup.prototype.setLayers = function (layers) {\n        this.set(Property.LAYERS, layers);\n    };\n    /**\n     * @param {Array<import(\"./Layer.js\").default>=} opt_array Array of layers (to be modified in place).\n     * @return {Array<import(\"./Layer.js\").default>} Array of layers.\n     */\n    LayerGroup.prototype.getLayersArray = function (opt_array) {\n        var array = opt_array !== undefined ? opt_array : [];\n        this.getLayers().forEach(function (layer) {\n            layer.getLayersArray(array);\n        });\n        return array;\n    };\n    /**\n     * @param {Array<import(\"./Layer.js\").State>=} opt_states Optional list of layer states (to be modified in place).\n     * @return {Array<import(\"./Layer.js\").State>} List of layer states.\n     */\n    LayerGroup.prototype.getLayerStatesArray = function (opt_states) {\n        var states = opt_states !== undefined ? opt_states : [];\n        var pos = states.length;\n        this.getLayers().forEach(function (layer) {\n            layer.getLayerStatesArray(states);\n        });\n        var ownLayerState = this.getLayerState();\n        for (var i = pos, ii = states.length; i < ii; i++) {\n            var layerState = states[i];\n            layerState.opacity *= ownLayerState.opacity;\n            layerState.visible = layerState.visible && ownLayerState.visible;\n            layerState.maxResolution = Math.min(layerState.maxResolution, ownLayerState.maxResolution);\n            layerState.minResolution = Math.max(layerState.minResolution, ownLayerState.minResolution);\n            layerState.minZoom = Math.max(layerState.minZoom, ownLayerState.minZoom);\n            layerState.maxZoom = Math.min(layerState.maxZoom, ownLayerState.maxZoom);\n            if (ownLayerState.extent !== undefined) {\n                if (layerState.extent !== undefined) {\n                    layerState.extent = getIntersection(layerState.extent, ownLayerState.extent);\n                }\n                else {\n                    layerState.extent = ownLayerState.extent;\n                }\n            }\n        }\n        return states;\n    };\n    /**\n     * @return {import(\"../source/State.js\").default} Source state.\n     */\n    LayerGroup.prototype.getSourceState = function () {\n        return SourceState.READY;\n    };\n    return LayerGroup;\n}(BaseLayer));\nexport default LayerGroup;\n//# sourceMappingURL=Group.js.map","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n/**\n * @module ol/MapEvent\n */\nimport Event from './events/Event.js';\n/**\n * @classdesc\n * Events emitted as map events are instances of this type.\n * See {@link module:ol/PluggableMap~PluggableMap} for which events trigger a map event.\n */\nvar MapEvent = /** @class */ (function (_super) {\n    __extends(MapEvent, _super);\n    /**\n     * @param {string} type Event type.\n     * @param {import(\"./PluggableMap.js\").default} map Map.\n     * @param {?import(\"./PluggableMap.js\").FrameState=} opt_frameState Frame state.\n     */\n    function MapEvent(type, map, opt_frameState) {\n        var _this = _super.call(this, type) || this;\n        /**\n         * The map where the event occurred.\n         * @type {import(\"./PluggableMap.js\").default}\n         * @api\n         */\n        _this.map = map;\n        /**\n         * The frame state at the time of the event.\n         * @type {?import(\"./PluggableMap.js\").FrameState}\n         * @api\n         */\n        _this.frameState = opt_frameState !== undefined ? opt_frameState : null;\n        return _this;\n    }\n    return MapEvent;\n}(Event));\nexport default MapEvent;\n//# sourceMappingURL=MapEvent.js.map","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n/**\n * @module ol/MapBrowserEvent\n */\nimport MapEvent from './MapEvent.js';\n/**\n * @classdesc\n * Events emitted as map browser events are instances of this type.\n * See {@link module:ol/PluggableMap~PluggableMap} for which events trigger a map browser event.\n * @template {UIEvent} EVENT\n */\nvar MapBrowserEvent = /** @class */ (function (_super) {\n    __extends(MapBrowserEvent, _super);\n    /**\n     * @param {string} type Event type.\n     * @param {import(\"./PluggableMap.js\").default} map Map.\n     * @param {EVENT} originalEvent Original event.\n     * @param {boolean=} opt_dragging Is the map currently being dragged?\n     * @param {?import(\"./PluggableMap.js\").FrameState=} opt_frameState Frame state.\n     */\n    function MapBrowserEvent(type, map, originalEvent, opt_dragging, opt_frameState) {\n        var _this = _super.call(this, type, map, opt_frameState) || this;\n        /**\n         * The original browser event.\n         * @const\n         * @type {EVENT}\n         * @api\n         */\n        _this.originalEvent = originalEvent;\n        /**\n         * The map pixel relative to the viewport corresponding to the original browser event.\n         * @type {?import(\"./pixel.js\").Pixel}\n         */\n        _this.pixel_ = null;\n        /**\n         * The coordinate in the user projection corresponding to the original browser event.\n         * @type {?import(\"./coordinate.js\").Coordinate}\n         */\n        _this.coordinate_ = null;\n        /**\n         * Indicates if the map is currently being dragged. Only set for\n         * `POINTERDRAG` and `POINTERMOVE` events. Default is `false`.\n         *\n         * @type {boolean}\n         * @api\n         */\n        _this.dragging = opt_dragging !== undefined ? opt_dragging : false;\n        return _this;\n    }\n    Object.defineProperty(MapBrowserEvent.prototype, \"pixel\", {\n        /**\n         * The map pixel relative to the viewport corresponding to the original event.\n         * @type {import(\"./pixel.js\").Pixel}\n         * @api\n         */\n        get: function () {\n            if (!this.pixel_) {\n                this.pixel_ = this.map.getEventPixel(this.originalEvent);\n            }\n            return this.pixel_;\n        },\n        set: function (pixel) {\n            this.pixel_ = pixel;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(MapBrowserEvent.prototype, \"coordinate\", {\n        /**\n         * The coordinate corresponding to the original browser event.  This will be in the user\n         * projection if one is set.  Otherwise it will be in the view projection.\n         * @type {import(\"./coordinate.js\").Coordinate}\n         * @api\n         */\n        get: function () {\n            if (!this.coordinate_) {\n                this.coordinate_ = this.map.getCoordinateFromPixel(this.pixel);\n            }\n            return this.coordinate_;\n        },\n        set: function (coordinate) {\n            this.coordinate_ = coordinate;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    /**\n     * Prevents the default browser action.\n     * See https://developer.mozilla.org/en-US/docs/Web/API/event.preventDefault.\n     * @api\n     */\n    MapBrowserEvent.prototype.preventDefault = function () {\n        _super.prototype.preventDefault.call(this);\n        this.originalEvent.preventDefault();\n    };\n    /**\n     * Prevents further propagation of the current event.\n     * See https://developer.mozilla.org/en-US/docs/Web/API/event.stopPropagation.\n     * @api\n     */\n    MapBrowserEvent.prototype.stopPropagation = function () {\n        _super.prototype.stopPropagation.call(this);\n        this.originalEvent.stopPropagation();\n    };\n    return MapBrowserEvent;\n}(MapEvent));\nexport default MapBrowserEvent;\n//# sourceMappingURL=MapBrowserEvent.js.map","/**\n * @module ol/MapBrowserEventType\n */\nimport EventType from './events/EventType.js';\n/**\n * Constants for event names.\n * @enum {string}\n */\nexport default {\n    /**\n     * A true single click with no dragging and no double click. Note that this\n     * event is delayed by 250 ms to ensure that it is not a double click.\n     * @event module:ol/MapBrowserEvent~MapBrowserEvent#singleclick\n     * @api\n     */\n    SINGLECLICK: 'singleclick',\n    /**\n     * A click with no dragging. A double click will fire two of this.\n     * @event module:ol/MapBrowserEvent~MapBrowserEvent#click\n     * @api\n     */\n    CLICK: EventType.CLICK,\n    /**\n     * A true double click, with no dragging.\n     * @event module:ol/MapBrowserEvent~MapBrowserEvent#dblclick\n     * @api\n     */\n    DBLCLICK: EventType.DBLCLICK,\n    /**\n     * Triggered when a pointer is dragged.\n     * @event module:ol/MapBrowserEvent~MapBrowserEvent#pointerdrag\n     * @api\n     */\n    POINTERDRAG: 'pointerdrag',\n    /**\n     * Triggered when a pointer is moved. Note that on touch devices this is\n     * triggered when the map is panned, so is not the same as mousemove.\n     * @event module:ol/MapBrowserEvent~MapBrowserEvent#pointermove\n     * @api\n     */\n    POINTERMOVE: 'pointermove',\n    POINTERDOWN: 'pointerdown',\n    POINTERUP: 'pointerup',\n    POINTEROVER: 'pointerover',\n    POINTEROUT: 'pointerout',\n    POINTERENTER: 'pointerenter',\n    POINTERLEAVE: 'pointerleave',\n    POINTERCANCEL: 'pointercancel',\n};\n//# sourceMappingURL=MapBrowserEventType.js.map","/**\n * @module ol/pointer/EventType\n */\n/**\n * Constants for event names.\n * @enum {string}\n */\nexport default {\n    POINTERMOVE: 'pointermove',\n    POINTERDOWN: 'pointerdown',\n    POINTERUP: 'pointerup',\n    POINTEROVER: 'pointerover',\n    POINTEROUT: 'pointerout',\n    POINTERENTER: 'pointerenter',\n    POINTERLEAVE: 'pointerleave',\n    POINTERCANCEL: 'pointercancel',\n};\n//# sourceMappingURL=EventType.js.map","/**\n * @module ol/MapBrowserEventHandler\n */\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport EventTarget from './events/Target.js';\nimport EventType from './events/EventType.js';\nimport MapBrowserEvent from './MapBrowserEvent.js';\nimport MapBrowserEventType from './MapBrowserEventType.js';\nimport PointerEventType from './pointer/EventType.js';\nimport { DEVICE_PIXEL_RATIO, PASSIVE_EVENT_LISTENERS } from './has.js';\nimport { listen, unlistenByKey } from './events.js';\nvar MapBrowserEventHandler = /** @class */ (function (_super) {\n    __extends(MapBrowserEventHandler, _super);\n    /**\n     * @param {import(\"./PluggableMap.js\").default} map The map with the viewport to listen to events on.\n     * @param {number=} moveTolerance The minimal distance the pointer must travel to trigger a move.\n     */\n    function MapBrowserEventHandler(map, moveTolerance) {\n        var _this = _super.call(this, map) || this;\n        /**\n         * This is the element that we will listen to the real events on.\n         * @type {import(\"./PluggableMap.js\").default}\n         * @private\n         */\n        _this.map_ = map;\n        /**\n         * @type {any}\n         * @private\n         */\n        _this.clickTimeoutId_;\n        /**\n         * Emulate dblclick and singleclick. Will be true when only one pointer is active.\n         * @type {boolean}\n         */\n        _this.emulateClicks_ = false;\n        /**\n         * @type {boolean}\n         * @private\n         */\n        _this.dragging_ = false;\n        /**\n         * @type {!Array<import(\"./events.js\").EventsKey>}\n         * @private\n         */\n        _this.dragListenerKeys_ = [];\n        /**\n         * @type {number}\n         * @private\n         */\n        _this.moveTolerance_ = moveTolerance\n            ? moveTolerance * DEVICE_PIXEL_RATIO\n            : DEVICE_PIXEL_RATIO;\n        /**\n         * The most recent \"down\" type event (or null if none have occurred).\n         * Set on pointerdown.\n         * @type {PointerEvent}\n         * @private\n         */\n        _this.down_ = null;\n        var element = _this.map_.getViewport();\n        /**\n         * @type {number}\n         * @private\n         */\n        _this.activePointers_ = 0;\n        /**\n         * @type {!Object<number, boolean>}\n         * @private\n         */\n        _this.trackedTouches_ = {};\n        _this.element_ = element;\n        /**\n         * @type {?import(\"./events.js\").EventsKey}\n         * @private\n         */\n        _this.pointerdownListenerKey_ = listen(element, PointerEventType.POINTERDOWN, _this.handlePointerDown_, _this);\n        /**\n         * @type {PointerEvent}\n         * @private\n         */\n        _this.originalPointerMoveEvent_;\n        /**\n         * @type {?import(\"./events.js\").EventsKey}\n         * @private\n         */\n        _this.relayedListenerKey_ = listen(element, PointerEventType.POINTERMOVE, _this.relayEvent_, _this);\n        /**\n         * @private\n         */\n        _this.boundHandleTouchMove_ = _this.handleTouchMove_.bind(_this);\n        _this.element_.addEventListener(EventType.TOUCHMOVE, _this.boundHandleTouchMove_, PASSIVE_EVENT_LISTENERS ? { passive: false } : false);\n        return _this;\n    }\n    /**\n     * @param {PointerEvent} pointerEvent Pointer\n     * event.\n     * @private\n     */\n    MapBrowserEventHandler.prototype.emulateClick_ = function (pointerEvent) {\n        var newEvent = new MapBrowserEvent(MapBrowserEventType.CLICK, this.map_, pointerEvent);\n        this.dispatchEvent(newEvent);\n        if (this.clickTimeoutId_ !== undefined) {\n            // double-click\n            clearTimeout(this.clickTimeoutId_);\n            this.clickTimeoutId_ = undefined;\n            newEvent = new MapBrowserEvent(MapBrowserEventType.DBLCLICK, this.map_, pointerEvent);\n            this.dispatchEvent(newEvent);\n        }\n        else {\n            // click\n            this.clickTimeoutId_ = setTimeout(\n            /** @this {MapBrowserEventHandler} */\n            function () {\n                this.clickTimeoutId_ = undefined;\n                var newEvent = new MapBrowserEvent(MapBrowserEventType.SINGLECLICK, this.map_, pointerEvent);\n                this.dispatchEvent(newEvent);\n            }.bind(this), 250);\n        }\n    };\n    /**\n     * Keeps track on how many pointers are currently active.\n     *\n     * @param {PointerEvent} pointerEvent Pointer\n     * event.\n     * @private\n     */\n    MapBrowserEventHandler.prototype.updateActivePointers_ = function (pointerEvent) {\n        var event = pointerEvent;\n        if (event.type == MapBrowserEventType.POINTERUP ||\n            event.type == MapBrowserEventType.POINTERCANCEL) {\n            delete this.trackedTouches_[event.pointerId];\n        }\n        else if (event.type == MapBrowserEventType.POINTERDOWN) {\n            this.trackedTouches_[event.pointerId] = true;\n        }\n        this.activePointers_ = Object.keys(this.trackedTouches_).length;\n    };\n    /**\n     * @param {PointerEvent} pointerEvent Pointer\n     * event.\n     * @private\n     */\n    MapBrowserEventHandler.prototype.handlePointerUp_ = function (pointerEvent) {\n        this.updateActivePointers_(pointerEvent);\n        var newEvent = new MapBrowserEvent(MapBrowserEventType.POINTERUP, this.map_, pointerEvent);\n        this.dispatchEvent(newEvent);\n        // We emulate click events on left mouse button click, touch contact, and pen\n        // contact. isMouseActionButton returns true in these cases (evt.button is set\n        // to 0).\n        // See http://www.w3.org/TR/pointerevents/#button-states\n        // We only fire click, singleclick, and doubleclick if nobody has called\n        // event.stopPropagation() or event.preventDefault().\n        if (this.emulateClicks_ &&\n            !newEvent.propagationStopped &&\n            !this.dragging_ &&\n            this.isMouseActionButton_(pointerEvent)) {\n            this.emulateClick_(this.down_);\n        }\n        if (this.activePointers_ === 0) {\n            this.dragListenerKeys_.forEach(unlistenByKey);\n            this.dragListenerKeys_.length = 0;\n            this.dragging_ = false;\n            this.down_ = null;\n        }\n    };\n    /**\n     * @param {PointerEvent} pointerEvent Pointer\n     * event.\n     * @return {boolean} If the left mouse button was pressed.\n     * @private\n     */\n    MapBrowserEventHandler.prototype.isMouseActionButton_ = function (pointerEvent) {\n        return pointerEvent.button === 0;\n    };\n    /**\n     * @param {PointerEvent} pointerEvent Pointer\n     * event.\n     * @private\n     */\n    MapBrowserEventHandler.prototype.handlePointerDown_ = function (pointerEvent) {\n        this.emulateClicks_ = this.activePointers_ === 0;\n        this.updateActivePointers_(pointerEvent);\n        var newEvent = new MapBrowserEvent(MapBrowserEventType.POINTERDOWN, this.map_, pointerEvent);\n        this.dispatchEvent(newEvent);\n        this.down_ = pointerEvent;\n        if (this.dragListenerKeys_.length === 0) {\n            var doc = this.map_.getOwnerDocument();\n            this.dragListenerKeys_.push(listen(doc, MapBrowserEventType.POINTERMOVE, this.handlePointerMove_, this), listen(doc, MapBrowserEventType.POINTERUP, this.handlePointerUp_, this), \n            /* Note that the listener for `pointercancel is set up on\n             * `pointerEventHandler_` and not `documentPointerEventHandler_` like\n             * the `pointerup` and `pointermove` listeners.\n             *\n             * The reason for this is the following: `TouchSource.vacuumTouches_()`\n             * issues `pointercancel` events, when there was no `touchend` for a\n             * `touchstart`. Now, let's say a first `touchstart` is registered on\n             * `pointerEventHandler_`. The `documentPointerEventHandler_` is set up.\n             * But `documentPointerEventHandler_` doesn't know about the first\n             * `touchstart`. If there is no `touchend` for the `touchstart`, we can\n             * only receive a `touchcancel` from `pointerEventHandler_`, because it is\n             * only registered there.\n             */\n            listen(this.element_, MapBrowserEventType.POINTERCANCEL, this.handlePointerUp_, this));\n            if (this.element_.getRootNode && this.element_.getRootNode() !== doc) {\n                this.dragListenerKeys_.push(listen(this.element_.getRootNode(), MapBrowserEventType.POINTERUP, this.handlePointerUp_, this));\n            }\n        }\n    };\n    /**\n     * @param {PointerEvent} pointerEvent Pointer\n     * event.\n     * @private\n     */\n    MapBrowserEventHandler.prototype.handlePointerMove_ = function (pointerEvent) {\n        // Between pointerdown and pointerup, pointermove events are triggered.\n        // To avoid a 'false' touchmove event to be dispatched, we test if the pointer\n        // moved a significant distance.\n        if (this.isMoving_(pointerEvent)) {\n            this.dragging_ = true;\n            var newEvent = new MapBrowserEvent(MapBrowserEventType.POINTERDRAG, this.map_, pointerEvent, this.dragging_);\n            this.dispatchEvent(newEvent);\n        }\n    };\n    /**\n     * Wrap and relay a pointer event.  Note that this requires that the type\n     * string for the MapBrowserEvent matches the PointerEvent type.\n     * @param {PointerEvent} pointerEvent Pointer\n     * event.\n     * @private\n     */\n    MapBrowserEventHandler.prototype.relayEvent_ = function (pointerEvent) {\n        this.originalPointerMoveEvent_ = pointerEvent;\n        var dragging = !!(this.down_ && this.isMoving_(pointerEvent));\n        this.dispatchEvent(new MapBrowserEvent(pointerEvent.type, this.map_, pointerEvent, dragging));\n    };\n    /**\n     * Flexible handling of a `touch-action: none` css equivalent: because calling\n     * `preventDefault()` on a `pointermove` event does not stop native page scrolling\n     * and zooming, we also listen for `touchmove` and call `preventDefault()` on it\n     * when an interaction (currently `DragPan` handles the event.\n     * @param {TouchEvent} event Event.\n     * @private\n     */\n    MapBrowserEventHandler.prototype.handleTouchMove_ = function (event) {\n        // Due to https://github.com/mpizenberg/elm-pep/issues/2, `this.originalPointerMoveEvent_`\n        // may not be initialized yet when we get here on a platform without native pointer events.\n        if (!this.originalPointerMoveEvent_ ||\n            this.originalPointerMoveEvent_.defaultPrevented) {\n            event.preventDefault();\n        }\n    };\n    /**\n     * @param {PointerEvent} pointerEvent Pointer\n     * event.\n     * @return {boolean} Is moving.\n     * @private\n     */\n    MapBrowserEventHandler.prototype.isMoving_ = function (pointerEvent) {\n        return (this.dragging_ ||\n            Math.abs(pointerEvent.clientX - this.down_.clientX) >\n                this.moveTolerance_ ||\n            Math.abs(pointerEvent.clientY - this.down_.clientY) > this.moveTolerance_);\n    };\n    /**\n     * Clean up.\n     */\n    MapBrowserEventHandler.prototype.disposeInternal = function () {\n        if (this.relayedListenerKey_) {\n            unlistenByKey(this.relayedListenerKey_);\n            this.relayedListenerKey_ = null;\n        }\n        this.element_.removeEventListener(EventType.TOUCHMOVE, this.boundHandleTouchMove_);\n        if (this.pointerdownListenerKey_) {\n            unlistenByKey(this.pointerdownListenerKey_);\n            this.pointerdownListenerKey_ = null;\n        }\n        this.dragListenerKeys_.forEach(unlistenByKey);\n        this.dragListenerKeys_.length = 0;\n        this.element_ = null;\n        _super.prototype.disposeInternal.call(this);\n    };\n    return MapBrowserEventHandler;\n}(EventTarget));\nexport default MapBrowserEventHandler;\n//# sourceMappingURL=MapBrowserEventHandler.js.map","/**\n * @module ol/MapEventType\n */\n/**\n * @enum {string}\n */\nexport default {\n    /**\n     * Triggered after a map frame is rendered.\n     * @event module:ol/MapEvent~MapEvent#postrender\n     * @api\n     */\n    POSTRENDER: 'postrender',\n    /**\n     * Triggered when the map starts moving.\n     * @event module:ol/MapEvent~MapEvent#movestart\n     * @api\n     */\n    MOVESTART: 'movestart',\n    /**\n     * Triggered after the map is moved.\n     * @event module:ol/MapEvent~MapEvent#moveend\n     * @api\n     */\n    MOVEEND: 'moveend',\n};\n//# sourceMappingURL=MapEventType.js.map","/**\n * @module ol/MapProperty\n */\n/**\n * @enum {string}\n */\nexport default {\n    LAYERGROUP: 'layergroup',\n    SIZE: 'size',\n    TARGET: 'target',\n    VIEW: 'view',\n};\n//# sourceMappingURL=MapProperty.js.map","/**\n * @module ol/structs/PriorityQueue\n */\nimport { assert } from '../asserts.js';\nimport { clear } from '../obj.js';\n/**\n * @type {number}\n */\nexport var DROP = Infinity;\n/**\n * @classdesc\n * Priority queue.\n *\n * The implementation is inspired from the Closure Library's Heap class and\n * Python's heapq module.\n *\n * See http://closure-library.googlecode.com/svn/docs/closure_goog_structs_heap.js.source.html\n * and http://hg.python.org/cpython/file/2.7/Lib/heapq.py.\n *\n * @template T\n */\nvar PriorityQueue = /** @class */ (function () {\n    /**\n     * @param {function(T): number} priorityFunction Priority function.\n     * @param {function(T): string} keyFunction Key function.\n     */\n    function PriorityQueue(priorityFunction, keyFunction) {\n        /**\n         * @type {function(T): number}\n         * @private\n         */\n        this.priorityFunction_ = priorityFunction;\n        /**\n         * @type {function(T): string}\n         * @private\n         */\n        this.keyFunction_ = keyFunction;\n        /**\n         * @type {Array<T>}\n         * @private\n         */\n        this.elements_ = [];\n        /**\n         * @type {Array<number>}\n         * @private\n         */\n        this.priorities_ = [];\n        /**\n         * @type {!Object<string, boolean>}\n         * @private\n         */\n        this.queuedElements_ = {};\n    }\n    /**\n     * FIXME empty description for jsdoc\n     */\n    PriorityQueue.prototype.clear = function () {\n        this.elements_.length = 0;\n        this.priorities_.length = 0;\n        clear(this.queuedElements_);\n    };\n    /**\n     * Remove and return the highest-priority element. O(log N).\n     * @return {T} Element.\n     */\n    PriorityQueue.prototype.dequeue = function () {\n        var elements = this.elements_;\n        var priorities = this.priorities_;\n        var element = elements[0];\n        if (elements.length == 1) {\n            elements.length = 0;\n            priorities.length = 0;\n        }\n        else {\n            elements[0] = elements.pop();\n            priorities[0] = priorities.pop();\n            this.siftUp_(0);\n        }\n        var elementKey = this.keyFunction_(element);\n        delete this.queuedElements_[elementKey];\n        return element;\n    };\n    /**\n     * Enqueue an element. O(log N).\n     * @param {T} element Element.\n     * @return {boolean} The element was added to the queue.\n     */\n    PriorityQueue.prototype.enqueue = function (element) {\n        assert(!(this.keyFunction_(element) in this.queuedElements_), 31); // Tried to enqueue an `element` that was already added to the queue\n        var priority = this.priorityFunction_(element);\n        if (priority != DROP) {\n            this.elements_.push(element);\n            this.priorities_.push(priority);\n            this.queuedElements_[this.keyFunction_(element)] = true;\n            this.siftDown_(0, this.elements_.length - 1);\n            return true;\n        }\n        return false;\n    };\n    /**\n     * @return {number} Count.\n     */\n    PriorityQueue.prototype.getCount = function () {\n        return this.elements_.length;\n    };\n    /**\n     * Gets the index of the left child of the node at the given index.\n     * @param {number} index The index of the node to get the left child for.\n     * @return {number} The index of the left child.\n     * @private\n     */\n    PriorityQueue.prototype.getLeftChildIndex_ = function (index) {\n        return index * 2 + 1;\n    };\n    /**\n     * Gets the index of the right child of the node at the given index.\n     * @param {number} index The index of the node to get the right child for.\n     * @return {number} The index of the right child.\n     * @private\n     */\n    PriorityQueue.prototype.getRightChildIndex_ = function (index) {\n        return index * 2 + 2;\n    };\n    /**\n     * Gets the index of the parent of the node at the given index.\n     * @param {number} index The index of the node to get the parent for.\n     * @return {number} The index of the parent.\n     * @private\n     */\n    PriorityQueue.prototype.getParentIndex_ = function (index) {\n        return (index - 1) >> 1;\n    };\n    /**\n     * Make this a heap. O(N).\n     * @private\n     */\n    PriorityQueue.prototype.heapify_ = function () {\n        var i;\n        for (i = (this.elements_.length >> 1) - 1; i >= 0; i--) {\n            this.siftUp_(i);\n        }\n    };\n    /**\n     * @return {boolean} Is empty.\n     */\n    PriorityQueue.prototype.isEmpty = function () {\n        return this.elements_.length === 0;\n    };\n    /**\n     * @param {string} key Key.\n     * @return {boolean} Is key queued.\n     */\n    PriorityQueue.prototype.isKeyQueued = function (key) {\n        return key in this.queuedElements_;\n    };\n    /**\n     * @param {T} element Element.\n     * @return {boolean} Is queued.\n     */\n    PriorityQueue.prototype.isQueued = function (element) {\n        return this.isKeyQueued(this.keyFunction_(element));\n    };\n    /**\n     * @param {number} index The index of the node to move down.\n     * @private\n     */\n    PriorityQueue.prototype.siftUp_ = function (index) {\n        var elements = this.elements_;\n        var priorities = this.priorities_;\n        var count = elements.length;\n        var element = elements[index];\n        var priority = priorities[index];\n        var startIndex = index;\n        while (index < count >> 1) {\n            var lIndex = this.getLeftChildIndex_(index);\n            var rIndex = this.getRightChildIndex_(index);\n            var smallerChildIndex = rIndex < count && priorities[rIndex] < priorities[lIndex]\n                ? rIndex\n                : lIndex;\n            elements[index] = elements[smallerChildIndex];\n            priorities[index] = priorities[smallerChildIndex];\n            index = smallerChildIndex;\n        }\n        elements[index] = element;\n        priorities[index] = priority;\n        this.siftDown_(startIndex, index);\n    };\n    /**\n     * @param {number} startIndex The index of the root.\n     * @param {number} index The index of the node to move up.\n     * @private\n     */\n    PriorityQueue.prototype.siftDown_ = function (startIndex, index) {\n        var elements = this.elements_;\n        var priorities = this.priorities_;\n        var element = elements[index];\n        var priority = priorities[index];\n        while (index > startIndex) {\n            var parentIndex = this.getParentIndex_(index);\n            if (priorities[parentIndex] > priority) {\n                elements[index] = elements[parentIndex];\n                priorities[index] = priorities[parentIndex];\n                index = parentIndex;\n            }\n            else {\n                break;\n            }\n        }\n        elements[index] = element;\n        priorities[index] = priority;\n    };\n    /**\n     * FIXME empty description for jsdoc\n     */\n    PriorityQueue.prototype.reprioritize = function () {\n        var priorityFunction = this.priorityFunction_;\n        var elements = this.elements_;\n        var priorities = this.priorities_;\n        var index = 0;\n        var n = elements.length;\n        var element, i, priority;\n        for (i = 0; i < n; ++i) {\n            element = elements[i];\n            priority = priorityFunction(element);\n            if (priority == DROP) {\n                delete this.queuedElements_[this.keyFunction_(element)];\n            }\n            else {\n                priorities[index] = priority;\n                elements[index++] = element;\n            }\n        }\n        elements.length = index;\n        priorities.length = index;\n        this.heapify_();\n    };\n    return PriorityQueue;\n}());\nexport default PriorityQueue;\n//# sourceMappingURL=PriorityQueue.js.map","/**\n * @module ol/TileState\n */\n/**\n * @enum {number}\n */\nexport default {\n    IDLE: 0,\n    LOADING: 1,\n    LOADED: 2,\n    /**\n     * Indicates that tile loading failed\n     * @type {number}\n     */\n    ERROR: 3,\n    EMPTY: 4,\n};\n//# sourceMappingURL=TileState.js.map","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n/**\n * @module ol/TileQueue\n */\nimport EventType from './events/EventType.js';\nimport PriorityQueue, { DROP } from './structs/PriorityQueue.js';\nimport TileState from './TileState.js';\n/**\n * @typedef {function(import(\"./Tile.js\").default, string, import(\"./coordinate.js\").Coordinate, number): number} PriorityFunction\n */\nvar TileQueue = /** @class */ (function (_super) {\n    __extends(TileQueue, _super);\n    /**\n     * @param {PriorityFunction} tilePriorityFunction Tile priority function.\n     * @param {function(): ?} tileChangeCallback Function called on each tile change event.\n     */\n    function TileQueue(tilePriorityFunction, tileChangeCallback) {\n        var _this = _super.call(this, \n        /**\n         * @param {Array} element Element.\n         * @return {number} Priority.\n         */\n        function (element) {\n            return tilePriorityFunction.apply(null, element);\n        }, \n        /**\n         * @param {Array} element Element.\n         * @return {string} Key.\n         */\n        function (element) {\n            return /** @type {import(\"./Tile.js\").default} */ (element[0]).getKey();\n        }) || this;\n        /** @private */\n        _this.boundHandleTileChange_ = _this.handleTileChange.bind(_this);\n        /**\n         * @private\n         * @type {function(): ?}\n         */\n        _this.tileChangeCallback_ = tileChangeCallback;\n        /**\n         * @private\n         * @type {number}\n         */\n        _this.tilesLoading_ = 0;\n        /**\n         * @private\n         * @type {!Object<string,boolean>}\n         */\n        _this.tilesLoadingKeys_ = {};\n        return _this;\n    }\n    /**\n     * @param {Array} element Element.\n     * @return {boolean} The element was added to the queue.\n     */\n    TileQueue.prototype.enqueue = function (element) {\n        var added = _super.prototype.enqueue.call(this, element);\n        if (added) {\n            var tile = element[0];\n            tile.addEventListener(EventType.CHANGE, this.boundHandleTileChange_);\n        }\n        return added;\n    };\n    /**\n     * @return {number} Number of tiles loading.\n     */\n    TileQueue.prototype.getTilesLoading = function () {\n        return this.tilesLoading_;\n    };\n    /**\n     * @param {import(\"./events/Event.js\").default} event Event.\n     * @protected\n     */\n    TileQueue.prototype.handleTileChange = function (event) {\n        var tile = /** @type {import(\"./Tile.js\").default} */ (event.target);\n        var state = tile.getState();\n        if ((tile.hifi && state === TileState.LOADED) ||\n            state === TileState.ERROR ||\n            state === TileState.EMPTY) {\n            tile.removeEventListener(EventType.CHANGE, this.boundHandleTileChange_);\n            var tileKey = tile.getKey();\n            if (tileKey in this.tilesLoadingKeys_) {\n                delete this.tilesLoadingKeys_[tileKey];\n                --this.tilesLoading_;\n            }\n            this.tileChangeCallback_();\n        }\n    };\n    /**\n     * @param {number} maxTotalLoading Maximum number tiles to load simultaneously.\n     * @param {number} maxNewLoads Maximum number of new tiles to load.\n     */\n    TileQueue.prototype.loadMoreTiles = function (maxTotalLoading, maxNewLoads) {\n        var newLoads = 0;\n        var state, tile, tileKey;\n        while (this.tilesLoading_ < maxTotalLoading &&\n            newLoads < maxNewLoads &&\n            this.getCount() > 0) {\n            tile = /** @type {import(\"./Tile.js\").default} */ (this.dequeue()[0]);\n            tileKey = tile.getKey();\n            state = tile.getState();\n            if (state === TileState.IDLE && !(tileKey in this.tilesLoadingKeys_)) {\n                this.tilesLoadingKeys_[tileKey] = true;\n                ++this.tilesLoading_;\n                ++newLoads;\n                tile.load();\n            }\n        }\n    };\n    return TileQueue;\n}(PriorityQueue));\nexport default TileQueue;\n/**\n * @param {import('./PluggableMap.js').FrameState} frameState Frame state.\n * @param {import(\"./Tile.js\").default} tile Tile.\n * @param {string} tileSourceKey Tile source key.\n * @param {import(\"./coordinate.js\").Coordinate} tileCenter Tile center.\n * @param {number} tileResolution Tile resolution.\n * @return {number} Tile priority.\n */\nexport function getTilePriority(frameState, tile, tileSourceKey, tileCenter, tileResolution) {\n    // Filter out tiles at higher zoom levels than the current zoom level, or that\n    // are outside the visible extent.\n    if (!frameState || !(tileSourceKey in frameState.wantedTiles)) {\n        return DROP;\n    }\n    if (!frameState.wantedTiles[tileSourceKey][tile.getKey()]) {\n        return DROP;\n    }\n    // Prioritize the highest zoom level tiles closest to the focus.\n    // Tiles at higher zoom levels are prioritized using Math.log(tileResolution).\n    // Within a zoom level, tiles are prioritized by the distance in pixels between\n    // the center of the tile and the center of the viewport.  The factor of 65536\n    // means that the prioritization should behave as desired for tiles up to\n    // 65536 * Math.log(2) = 45426 pixels from the focus.\n    var center = frameState.viewState.center;\n    var deltaX = tileCenter[0] - center[0];\n    var deltaY = tileCenter[1] - center[1];\n    return (65536 * Math.log(tileResolution) +\n        Math.sqrt(deltaX * deltaX + deltaY * deltaY) / tileResolution);\n}\n//# sourceMappingURL=TileQueue.js.map","/**\n * @module ol/ViewHint\n */\n/**\n * @enum {number}\n */\nexport default {\n    ANIMATING: 0,\n    INTERACTING: 1,\n};\n//# sourceMappingURL=ViewHint.js.map","/**\n * @module ol/ViewProperty\n */\n/**\n * @enum {string}\n */\nexport default {\n    CENTER: 'center',\n    RESOLUTION: 'resolution',\n    ROTATION: 'rotation',\n};\n//# sourceMappingURL=ViewProperty.js.map","/**\n * @module ol/tilegrid/common\n */\n/**\n * Default maximum zoom for default tile grids.\n * @type {number}\n */\nexport var DEFAULT_MAX_ZOOM = 42;\n/**\n * Default tile size.\n * @type {number}\n */\nexport var DEFAULT_TILE_SIZE = 256;\n//# sourceMappingURL=common.js.map","/**\n * @module ol/centerconstraint\n */\nimport { clamp } from './math.js';\n/**\n * @typedef {function((import(\"./coordinate.js\").Coordinate|undefined), number, import(\"./size.js\").Size, boolean=, Array<number>=): (import(\"./coordinate.js\").Coordinate|undefined)} Type\n */\n/**\n * @param {import(\"./extent.js\").Extent} extent Extent.\n * @param {boolean} onlyCenter If true, the constraint will only apply to the view center.\n * @param {boolean} smooth If true, the view will be able to go slightly out of the given extent\n * (only during interaction and animation).\n * @return {Type} The constraint.\n */\nexport function createExtent(extent, onlyCenter, smooth) {\n    return (\n    /**\n     * @param {import(\"./coordinate.js\").Coordinate|undefined} center Center.\n     * @param {number} resolution Resolution.\n     * @param {import(\"./size.js\").Size} size Viewport size; unused if `onlyCenter` was specified.\n     * @param {boolean=} opt_isMoving True if an interaction or animation is in progress.\n     * @param {Array<number>=} opt_centerShift Shift between map center and viewport center.\n     * @return {import(\"./coordinate.js\").Coordinate|undefined} Center.\n     */\n    function (center, resolution, size, opt_isMoving, opt_centerShift) {\n        if (center) {\n            var viewWidth = onlyCenter ? 0 : size[0] * resolution;\n            var viewHeight = onlyCenter ? 0 : size[1] * resolution;\n            var shiftX = opt_centerShift ? opt_centerShift[0] : 0;\n            var shiftY = opt_centerShift ? opt_centerShift[1] : 0;\n            var minX = extent[0] + viewWidth / 2 + shiftX;\n            var maxX = extent[2] - viewWidth / 2 + shiftX;\n            var minY = extent[1] + viewHeight / 2 + shiftY;\n            var maxY = extent[3] - viewHeight / 2 + shiftY;\n            // note: when zooming out of bounds, min and max values for x and y may\n            // end up inverted (min > max); this has to be accounted for\n            if (minX > maxX) {\n                minX = (maxX + minX) / 2;\n                maxX = minX;\n            }\n            if (minY > maxY) {\n                minY = (maxY + minY) / 2;\n                maxY = minY;\n            }\n            var x = clamp(center[0], minX, maxX);\n            var y = clamp(center[1], minY, maxY);\n            var ratio = 30 * resolution;\n            // during an interaction, allow some overscroll\n            if (opt_isMoving && smooth) {\n                x +=\n                    -ratio * Math.log(1 + Math.max(0, minX - center[0]) / ratio) +\n                        ratio * Math.log(1 + Math.max(0, center[0] - maxX) / ratio);\n                y +=\n                    -ratio * Math.log(1 + Math.max(0, minY - center[1]) / ratio) +\n                        ratio * Math.log(1 + Math.max(0, center[1] - maxY) / ratio);\n            }\n            return [x, y];\n        }\n        else {\n            return undefined;\n        }\n    });\n}\n/**\n * @param {import(\"./coordinate.js\").Coordinate=} center Center.\n * @return {import(\"./coordinate.js\").Coordinate|undefined} Center.\n */\nexport function none(center) {\n    return center;\n}\n//# sourceMappingURL=centerconstraint.js.map","/**\n * @module ol/resolutionconstraint\n */\nimport { clamp } from './math.js';\nimport { getHeight, getWidth } from './extent.js';\nimport { linearFindNearest } from './array.js';\n/**\n * @typedef {function((number|undefined), number, import(\"./size.js\").Size, boolean=): (number|undefined)} Type\n */\n/**\n * Returns a modified resolution taking into account the viewport size and maximum\n * allowed extent.\n * @param {number} resolution Resolution\n * @param {import(\"./extent.js\").Extent} maxExtent Maximum allowed extent.\n * @param {import(\"./size.js\").Size} viewportSize Viewport size.\n * @param {boolean} showFullExtent Whether to show the full extent.\n * @return {number} Capped resolution.\n */\nfunction getViewportClampedResolution(resolution, maxExtent, viewportSize, showFullExtent) {\n    var xResolution = getWidth(maxExtent) / viewportSize[0];\n    var yResolution = getHeight(maxExtent) / viewportSize[1];\n    if (showFullExtent) {\n        return Math.min(resolution, Math.max(xResolution, yResolution));\n    }\n    return Math.min(resolution, Math.min(xResolution, yResolution));\n}\n/**\n * Returns a modified resolution to be between maxResolution and minResolution while\n * still allowing the value to be slightly out of bounds.\n * Note: the computation is based on the logarithm function (ln):\n *  - at 1, ln(x) is 0\n *  - above 1, ln(x) keeps increasing but at a much slower pace than x\n * The final result is clamped to prevent getting too far away from bounds.\n * @param {number} resolution Resolution.\n * @param {number} maxResolution Max resolution.\n * @param {number} minResolution Min resolution.\n * @return {number} Smoothed resolution.\n */\nfunction getSmoothClampedResolution(resolution, maxResolution, minResolution) {\n    var result = Math.min(resolution, maxResolution);\n    var ratio = 50;\n    result *=\n        Math.log(1 + ratio * Math.max(0, resolution / maxResolution - 1)) / ratio +\n            1;\n    if (minResolution) {\n        result = Math.max(result, minResolution);\n        result /=\n            Math.log(1 + ratio * Math.max(0, minResolution / resolution - 1)) /\n                ratio +\n                1;\n    }\n    return clamp(result, minResolution / 2, maxResolution * 2);\n}\n/**\n * @param {Array<number>} resolutions Resolutions.\n * @param {boolean=} opt_smooth If true, the view will be able to slightly exceed resolution limits. Default: true.\n * @param {import(\"./extent.js\").Extent=} opt_maxExtent Maximum allowed extent.\n * @param {boolean=} opt_showFullExtent If true, allows us to show the full extent. Default: false.\n * @return {Type} Zoom function.\n */\nexport function createSnapToResolutions(resolutions, opt_smooth, opt_maxExtent, opt_showFullExtent) {\n    return (\n    /**\n     * @param {number|undefined} resolution Resolution.\n     * @param {number} direction Direction.\n     * @param {import(\"./size.js\").Size} size Viewport size.\n     * @param {boolean=} opt_isMoving True if an interaction or animation is in progress.\n     * @return {number|undefined} Resolution.\n     */\n    function (resolution, direction, size, opt_isMoving) {\n        if (resolution !== undefined) {\n            var maxResolution = resolutions[0];\n            var minResolution = resolutions[resolutions.length - 1];\n            var cappedMaxRes = opt_maxExtent\n                ? getViewportClampedResolution(maxResolution, opt_maxExtent, size, opt_showFullExtent)\n                : maxResolution;\n            // during interacting or animating, allow intermediary values\n            if (opt_isMoving) {\n                var smooth = opt_smooth !== undefined ? opt_smooth : true;\n                if (!smooth) {\n                    return clamp(resolution, minResolution, cappedMaxRes);\n                }\n                return getSmoothClampedResolution(resolution, cappedMaxRes, minResolution);\n            }\n            var capped = Math.min(cappedMaxRes, resolution);\n            var z = Math.floor(linearFindNearest(resolutions, capped, direction));\n            if (resolutions[z] > cappedMaxRes && z < resolutions.length - 1) {\n                return resolutions[z + 1];\n            }\n            return resolutions[z];\n        }\n        else {\n            return undefined;\n        }\n    });\n}\n/**\n * @param {number} power Power.\n * @param {number} maxResolution Maximum resolution.\n * @param {number=} opt_minResolution Minimum resolution.\n * @param {boolean=} opt_smooth If true, the view will be able to slightly exceed resolution limits. Default: true.\n * @param {import(\"./extent.js\").Extent=} opt_maxExtent Maximum allowed extent.\n * @param {boolean=} opt_showFullExtent If true, allows us to show the full extent. Default: false.\n * @return {Type} Zoom function.\n */\nexport function createSnapToPower(power, maxResolution, opt_minResolution, opt_smooth, opt_maxExtent, opt_showFullExtent) {\n    return (\n    /**\n     * @param {number|undefined} resolution Resolution.\n     * @param {number} direction Direction.\n     * @param {import(\"./size.js\").Size} size Viewport size.\n     * @param {boolean=} opt_isMoving True if an interaction or animation is in progress.\n     * @return {number|undefined} Resolution.\n     */\n    function (resolution, direction, size, opt_isMoving) {\n        if (resolution !== undefined) {\n            var cappedMaxRes = opt_maxExtent\n                ? getViewportClampedResolution(maxResolution, opt_maxExtent, size, opt_showFullExtent)\n                : maxResolution;\n            var minResolution = opt_minResolution !== undefined ? opt_minResolution : 0;\n            // during interacting or animating, allow intermediary values\n            if (opt_isMoving) {\n                var smooth = opt_smooth !== undefined ? opt_smooth : true;\n                if (!smooth) {\n                    return clamp(resolution, minResolution, cappedMaxRes);\n                }\n                return getSmoothClampedResolution(resolution, cappedMaxRes, minResolution);\n            }\n            var tolerance = 1e-9;\n            var minZoomLevel = Math.ceil(Math.log(maxResolution / cappedMaxRes) / Math.log(power) - tolerance);\n            var offset = -direction * (0.5 - tolerance) + 0.5;\n            var capped = Math.min(cappedMaxRes, resolution);\n            var cappedZoomLevel = Math.floor(Math.log(maxResolution / capped) / Math.log(power) + offset);\n            var zoomLevel = Math.max(minZoomLevel, cappedZoomLevel);\n            var newResolution = maxResolution / Math.pow(power, zoomLevel);\n            return clamp(newResolution, minResolution, cappedMaxRes);\n        }\n        else {\n            return undefined;\n        }\n    });\n}\n/**\n * @param {number} maxResolution Max resolution.\n * @param {number} minResolution Min resolution.\n * @param {boolean=} opt_smooth If true, the view will be able to slightly exceed resolution limits. Default: true.\n * @param {import(\"./extent.js\").Extent=} opt_maxExtent Maximum allowed extent.\n * @param {boolean=} opt_showFullExtent If true, allows us to show the full extent. Default: false.\n * @return {Type} Zoom function.\n */\nexport function createMinMaxResolution(maxResolution, minResolution, opt_smooth, opt_maxExtent, opt_showFullExtent) {\n    return (\n    /**\n     * @param {number|undefined} resolution Resolution.\n     * @param {number} direction Direction.\n     * @param {import(\"./size.js\").Size} size Viewport size.\n     * @param {boolean=} opt_isMoving True if an interaction or animation is in progress.\n     * @return {number|undefined} Resolution.\n     */\n    function (resolution, direction, size, opt_isMoving) {\n        if (resolution !== undefined) {\n            var cappedMaxRes = opt_maxExtent\n                ? getViewportClampedResolution(maxResolution, opt_maxExtent, size, opt_showFullExtent)\n                : maxResolution;\n            var smooth = opt_smooth !== undefined ? opt_smooth : true;\n            if (!smooth || !opt_isMoving) {\n                return clamp(resolution, minResolution, cappedMaxRes);\n            }\n            return getSmoothClampedResolution(resolution, cappedMaxRes, minResolution);\n        }\n        else {\n            return undefined;\n        }\n    });\n}\n//# sourceMappingURL=resolutionconstraint.js.map","/**\n * @module ol/rotationconstraint\n */\nimport { toRadians } from './math.js';\n/**\n * @typedef {function((number|undefined), boolean=): (number|undefined)} Type\n */\n/**\n * @param {number|undefined} rotation Rotation.\n * @return {number|undefined} Rotation.\n */\nexport function disable(rotation) {\n    if (rotation !== undefined) {\n        return 0;\n    }\n    else {\n        return undefined;\n    }\n}\n/**\n * @param {number|undefined} rotation Rotation.\n * @return {number|undefined} Rotation.\n */\nexport function none(rotation) {\n    if (rotation !== undefined) {\n        return rotation;\n    }\n    else {\n        return undefined;\n    }\n}\n/**\n * @param {number} n N.\n * @return {Type} Rotation constraint.\n */\nexport function createSnapToN(n) {\n    var theta = (2 * Math.PI) / n;\n    return (\n    /**\n     * @param {number|undefined} rotation Rotation.\n     * @param {boolean=} opt_isMoving True if an interaction or animation is in progress.\n     * @return {number|undefined} Rotation.\n     */\n    function (rotation, opt_isMoving) {\n        if (opt_isMoving) {\n            return rotation;\n        }\n        if (rotation !== undefined) {\n            rotation = Math.floor(rotation / theta + 0.5) * theta;\n            return rotation;\n        }\n        else {\n            return undefined;\n        }\n    });\n}\n/**\n * @param {number=} opt_tolerance Tolerance.\n * @return {Type} Rotation constraint.\n */\nexport function createSnapToZero(opt_tolerance) {\n    var tolerance = opt_tolerance || toRadians(5);\n    return (\n    /**\n     * @param {number|undefined} rotation Rotation.\n     * @param {boolean=} opt_isMoving True if an interaction or animation is in progress.\n     * @return {number|undefined} Rotation.\n     */\n    function (rotation, opt_isMoving) {\n        if (opt_isMoving) {\n            return rotation;\n        }\n        if (rotation !== undefined) {\n            if (Math.abs(rotation) <= tolerance) {\n                return 0;\n            }\n            else {\n                return rotation;\n            }\n        }\n        else {\n            return undefined;\n        }\n    });\n}\n//# sourceMappingURL=rotationconstraint.js.map","/**\n * @module ol/easing\n */\n/**\n * Start slow and speed up.\n * @param {number} t Input between 0 and 1.\n * @return {number} Output between 0 and 1.\n * @api\n */\nexport function easeIn(t) {\n    return Math.pow(t, 3);\n}\n/**\n * Start fast and slow down.\n * @param {number} t Input between 0 and 1.\n * @return {number} Output between 0 and 1.\n * @api\n */\nexport function easeOut(t) {\n    return 1 - easeIn(1 - t);\n}\n/**\n * Start slow, speed up, and then slow down again.\n * @param {number} t Input between 0 and 1.\n * @return {number} Output between 0 and 1.\n * @api\n */\nexport function inAndOut(t) {\n    return 3 * t * t - 2 * t * t * t;\n}\n/**\n * Maintain a constant speed over time.\n * @param {number} t Input between 0 and 1.\n * @return {number} Output between 0 and 1.\n * @api\n */\nexport function linear(t) {\n    return t;\n}\n/**\n * Start slow, speed up, and at the very end slow down again.  This has the\n * same general behavior as {@link module:ol/easing~inAndOut}, but the final\n * slowdown is delayed.\n * @param {number} t Input between 0 and 1.\n * @return {number} Output between 0 and 1.\n * @api\n */\nexport function upAndDown(t) {\n    if (t < 0.5) {\n        return inAndOut(2 * t);\n    }\n    else {\n        return 1 - inAndOut(2 * (t - 0.5));\n    }\n}\n//# sourceMappingURL=easing.js.map","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n/**\n * @module ol/View\n */\nimport BaseObject from './Object.js';\nimport GeometryType from './geom/GeometryType.js';\nimport Units from './proj/Units.js';\nimport ViewHint from './ViewHint.js';\nimport ViewProperty from './ViewProperty.js';\nimport { DEFAULT_TILE_SIZE } from './tilegrid/common.js';\nimport { METERS_PER_UNIT, createProjection, fromUserCoordinate, fromUserExtent, getUserProjection, toUserCoordinate, toUserExtent, } from './proj.js';\nimport { VOID } from './functions.js';\nimport { add as addCoordinate, equals as coordinatesEqual, rotate as rotateCoordinate, } from './coordinate.js';\nimport { assert } from './asserts.js';\nimport { assign } from './obj.js';\nimport { none as centerNone, createExtent } from './centerconstraint.js';\nimport { clamp, modulo } from './math.js';\nimport { createMinMaxResolution } from './resolutionconstraint.js';\nimport { createSnapToN, createSnapToZero, disable, none as rotationNone, } from './rotationconstraint.js';\nimport { createSnapToPower, createSnapToResolutions, } from './resolutionconstraint.js';\nimport { easeOut } from './easing.js';\nimport { equals } from './coordinate.js';\nimport { getCenter, getForViewAndSize, getHeight, getWidth, isEmpty, } from './extent.js';\nimport { inAndOut } from './easing.js';\nimport { linearFindNearest } from './array.js';\nimport { fromExtent as polygonFromExtent } from './geom/Polygon.js';\n/**\n * An animation configuration\n *\n * @typedef {Object} Animation\n * @property {import(\"./coordinate.js\").Coordinate} [sourceCenter]\n * @property {import(\"./coordinate.js\").Coordinate} [targetCenter]\n * @property {number} [sourceResolution]\n * @property {number} [targetResolution]\n * @property {number} [sourceRotation]\n * @property {number} [targetRotation]\n * @property {import(\"./coordinate.js\").Coordinate} [anchor]\n * @property {number} start\n * @property {number} duration\n * @property {boolean} complete\n * @property {function(number):number} easing\n * @property {function(boolean):void} callback\n */\n/**\n * @typedef {Object} Constraints\n * @property {import(\"./centerconstraint.js\").Type} center\n * @property {import(\"./resolutionconstraint.js\").Type} resolution\n * @property {import(\"./rotationconstraint.js\").Type} rotation\n */\n/**\n * @typedef {Object} FitOptions\n * @property {import(\"./size.js\").Size} [size] The size in pixels of the box to fit\n * the extent into. Default is the current size of the first map in the DOM that\n * uses this view, or `[100, 100]` if no such map is found.\n * @property {!Array<number>} [padding=[0, 0, 0, 0]] Padding (in pixels) to be\n * cleared inside the view. Values in the array are top, right, bottom and left\n * padding.\n * @property {boolean} [nearest=false] If the view `constrainResolution` option is `true`,\n * get the nearest extent instead of the closest that actually fits the view.\n * @property {number} [minResolution=0] Minimum resolution that we zoom to.\n * @property {number} [maxZoom] Maximum zoom level that we zoom to. If\n * `minResolution` is given, this property is ignored.\n * @property {number} [duration] The duration of the animation in milliseconds.\n * By default, there is no animation to the target extent.\n * @property {function(number):number} [easing] The easing function used during\n * the animation (defaults to {@link module:ol/easing~inAndOut}).\n * The function will be called for each frame with a number representing a\n * fraction of the animation's duration.  The function should return a number\n * between 0 and 1 representing the progress toward the destination state.\n * @property {function(boolean):void} [callback] Function called when the view is in\n * its final position. The callback will be called with `true` if the animation\n * series completed on its own or `false` if it was cancelled.\n */\n/**\n * @typedef {Object} ViewOptions\n * @property {import(\"./coordinate.js\").Coordinate} [center] The initial center for\n * the view. If a user projection is not set, the coordinate system for the center is\n * specified with the `projection` option. Layer sources will not be fetched if this\n * is not set, but the center can be set later with {@link #setCenter}.\n * @property {boolean|number} [constrainRotation=true] Rotation constraint.\n * `false` means no constraint. `true` means no constraint, but snap to zero\n * near zero. A number constrains the rotation to that number of values. For\n * example, `4` will constrain the rotation to 0, 90, 180, and 270 degrees.\n * @property {boolean} [enableRotation=true] Enable rotation.\n * If `false`, a rotation constraint that always sets the rotation to zero is\n * used. The `constrainRotation` option has no effect if `enableRotation` is\n * `false`.\n * @property {import(\"./extent.js\").Extent} [extent] The extent that constrains the\n * view, in other words, nothing outside of this extent can be visible on the map.\n * @property {boolean} [constrainOnlyCenter=false] If true, the extent\n * constraint will only apply to the view center and not the whole extent.\n * @property {boolean} [smoothExtentConstraint=true] If true, the extent\n * constraint will be applied smoothly, i.e. allow the view to go slightly outside\n * of the given `extent`.\n * @property {number} [maxResolution] The maximum resolution used to determine\n * the resolution constraint. It is used together with `minResolution` (or\n * `maxZoom`) and `zoomFactor`. If unspecified it is calculated in such a way\n * that the projection's validity extent fits in a 256x256 px tile. If the\n * projection is Spherical Mercator (the default) then `maxResolution` defaults\n * to `40075016.68557849 / 256 = 156543.03392804097`.\n * @property {number} [minResolution] The minimum resolution used to determine\n * the resolution constraint.  It is used together with `maxResolution` (or\n * `minZoom`) and `zoomFactor`.  If unspecified it is calculated assuming 29\n * zoom levels (with a factor of 2). If the projection is Spherical Mercator\n * (the default) then `minResolution` defaults to\n * `40075016.68557849 / 256 / Math.pow(2, 28) = 0.0005831682455839253`.\n * @property {number} [maxZoom=28] The maximum zoom level used to determine the\n * resolution constraint. It is used together with `minZoom` (or\n * `maxResolution`) and `zoomFactor`.  Note that if `minResolution` is also\n * provided, it is given precedence over `maxZoom`.\n * @property {number} [minZoom=0] The minimum zoom level used to determine the\n * resolution constraint. It is used together with `maxZoom` (or\n * `minResolution`) and `zoomFactor`.  Note that if `maxResolution` is also\n * provided, it is given precedence over `minZoom`.\n * @property {boolean} [multiWorld=false] If `false` the view is constrained so\n * only one world is visible, and you cannot pan off the edge.  If `true` the map\n * may show multiple worlds at low zoom levels.  Only used if the `projection` is\n * global.  Note that if `extent` is also provided it is given precedence.\n * @property {boolean} [constrainResolution=false] If true, the view will always\n * animate to the closest zoom level after an interaction; false means\n * intermediary zoom levels are allowed.\n * @property {boolean} [smoothResolutionConstraint=true] If true, the resolution\n * min/max values will be applied smoothly, i. e. allow the view to exceed slightly\n * the given resolution or zoom bounds.\n * @property {boolean} [showFullExtent=false] Allow the view to be zoomed out to\n * show the full configured extent. By default, when a view is configured with an\n * extent, users will not be able to zoom out so the viewport exceeds the extent in\n * either dimension. This means the full extent may not be visible if the viewport\n * is taller or wider than the aspect ratio of the configured extent. If\n * showFullExtent is true, the user will be able to zoom out so that the viewport\n * exceeds the height or width of the configured extent, but not both, allowing the\n * full extent to be shown.\n * @property {import(\"./proj.js\").ProjectionLike} [projection='EPSG:3857'] The\n * projection. The default is Spherical Mercator.\n * @property {number} [resolution] The initial resolution for the view. The\n * units are `projection` units per pixel (e.g. meters per pixel). An\n * alternative to setting this is to set `zoom`. Layer sources will not be\n * fetched if neither this nor `zoom` are defined, but they can be set later\n * with {@link #setZoom} or {@link #setResolution}.\n * @property {Array<number>} [resolutions] Resolutions to determine the\n * resolution constraint. If set the `maxResolution`, `minResolution`,\n * `minZoom`, `maxZoom`, and `zoomFactor` options are ignored.\n * @property {number} [rotation=0] The initial rotation for the view in radians\n * (positive rotation clockwise, 0 means North).\n * @property {number} [zoom] Only used if `resolution` is not defined. Zoom\n * level used to calculate the initial resolution for the view.\n * @property {number} [zoomFactor=2] The zoom factor used to compute the\n * corresponding resolution.\n * @property {!Array<number>} [padding=[0, 0, 0, 0]] Padding (in css pixels).\n * If the map viewport is partially covered with other content (overlays) along\n * its edges, this setting allows to shift the center of the viewport away from\n * that content. The order of the values is top, right, bottom, left.\n */\n/**\n * @typedef {Object} AnimationOptions\n * @property {import(\"./coordinate.js\").Coordinate} [center] The center of the view at the end of\n * the animation.\n * @property {number} [zoom] The zoom level of the view at the end of the\n * animation. This takes precedence over `resolution`.\n * @property {number} [resolution] The resolution of the view at the end\n * of the animation.  If `zoom` is also provided, this option will be ignored.\n * @property {number} [rotation] The rotation of the view at the end of\n * the animation.\n * @property {import(\"./coordinate.js\").Coordinate} [anchor] Optional anchor to remain fixed\n * during a rotation or resolution animation.\n * @property {number} [duration=1000] The duration of the animation in milliseconds.\n * @property {function(number):number} [easing] The easing function used\n * during the animation (defaults to {@link module:ol/easing~inAndOut}).\n * The function will be called for each frame with a number representing a\n * fraction of the animation's duration.  The function should return a number\n * between 0 and 1 representing the progress toward the destination state.\n */\n/**\n * @typedef {Object} State\n * @property {import(\"./coordinate.js\").Coordinate} center\n * @property {import(\"./proj/Projection.js\").default} projection\n * @property {number} resolution\n * @property {number} rotation\n * @property {number} zoom\n */\n/**\n * Default min zoom level for the map view.\n * @type {number}\n */\nvar DEFAULT_MIN_ZOOM = 0;\n/**\n * @classdesc\n * A View object represents a simple 2D view of the map.\n *\n * This is the object to act upon to change the center, resolution,\n * and rotation of the map.\n *\n * A View has a `projection`. The projection determines the\n * coordinate system of the center, and its units determine the units of the\n * resolution (projection units per pixel). The default projection is\n * Spherical Mercator (EPSG:3857).\n *\n * ### The view states\n *\n * A View is determined by three states: `center`, `resolution`,\n * and `rotation`. Each state has a corresponding getter and setter, e.g.\n * `getCenter` and `setCenter` for the `center` state.\n *\n * The `zoom` state is actually not saved on the view: all computations\n * internally use the `resolution` state. Still, the `setZoom` and `getZoom`\n * methods are available, as well as `getResolutionForZoom` and\n * `getZoomForResolution` to switch from one system to the other.\n *\n * ### The constraints\n *\n * `setCenter`, `setResolution` and `setRotation` can be used to change the\n * states of the view, but any constraint defined in the constructor will\n * be applied along the way.\n *\n * A View object can have a *resolution constraint*, a *rotation constraint*\n * and a *center constraint*.\n *\n * The *resolution constraint* typically restricts min/max values and\n * snaps to specific resolutions. It is determined by the following\n * options: `resolutions`, `maxResolution`, `maxZoom` and `zoomFactor`.\n * If `resolutions` is set, the other three options are ignored. See\n * documentation for each option for more information. By default, the view\n * only has a min/max restriction and allow intermediary zoom levels when\n * pinch-zooming for example.\n *\n * The *rotation constraint* snaps to specific angles. It is determined\n * by the following options: `enableRotation` and `constrainRotation`.\n * By default rotation is allowed and its value is snapped to zero when approaching the\n * horizontal.\n *\n * The *center constraint* is determined by the `extent` option. By\n * default the view center is not constrained at all.\n *\n * ### Changing the view state\n *\n * It is important to note that `setZoom`, `setResolution`, `setCenter` and\n * `setRotation` are subject to the above mentioned constraints. As such, it\n * may sometimes not be possible to know in advance the resulting state of the\n * View. For example, calling `setResolution(10)` does not guarantee that\n * `getResolution()` will return `10`.\n *\n * A consequence of this is that, when applying a delta on the view state, one\n * should use `adjustCenter`, `adjustRotation`, `adjustZoom` and `adjustResolution`\n * rather than the corresponding setters. This will let view do its internal\n * computations. Besides, the `adjust*` methods also take an `opt_anchor`\n * argument which allows specifying an origin for the transformation.\n *\n * ### Interacting with the view\n *\n * View constraints are usually only applied when the view is *at rest*, meaning that\n * no interaction or animation is ongoing. As such, if the user puts the view in a\n * state that is not equivalent to a constrained one (e.g. rotating the view when\n * the snap angle is 0), an animation will be triggered at the interaction end to\n * put back the view to a stable state;\n *\n * @api\n */\nvar View = /** @class */ (function (_super) {\n    __extends(View, _super);\n    /**\n     * @param {ViewOptions=} opt_options View options.\n     */\n    function View(opt_options) {\n        var _this = _super.call(this) || this;\n        var options = assign({}, opt_options);\n        /**\n         * @private\n         * @type {Array<number>}\n         */\n        _this.hints_ = [0, 0];\n        /**\n         * @private\n         * @type {Array<Array<Animation>>}\n         */\n        _this.animations_ = [];\n        /**\n         * @private\n         * @type {number|undefined}\n         */\n        _this.updateAnimationKey_;\n        /**\n         * @private\n         * @const\n         * @type {import(\"./proj/Projection.js\").default}\n         */\n        _this.projection_ = createProjection(options.projection, 'EPSG:3857');\n        /**\n         * @private\n         * @type {import(\"./size.js\").Size}\n         */\n        _this.viewportSize_ = [100, 100];\n        /**\n         * @private\n         * @type {import(\"./coordinate.js\").Coordinate|undefined}\n         */\n        _this.targetCenter_ = null;\n        /**\n         * @private\n         * @type {number|undefined}\n         */\n        _this.targetResolution_;\n        /**\n         * @private\n         * @type {number|undefined}\n         */\n        _this.targetRotation_;\n        /**\n         * @private\n         * @type {import(\"./coordinate.js\").Coordinate|undefined}\n         */\n        _this.cancelAnchor_ = undefined;\n        if (options.center) {\n            options.center = fromUserCoordinate(options.center, _this.projection_);\n        }\n        if (options.extent) {\n            options.extent = fromUserExtent(options.extent, _this.projection_);\n        }\n        _this.applyOptions_(options);\n        return _this;\n    }\n    /**\n     * Set up the view with the given options.\n     * @param {ViewOptions} options View options.\n     */\n    View.prototype.applyOptions_ = function (options) {\n        /**\n         * @type {Object<string, *>}\n         */\n        var properties = {};\n        var resolutionConstraintInfo = createResolutionConstraint(options);\n        /**\n         * @private\n         * @type {number}\n         */\n        this.maxResolution_ = resolutionConstraintInfo.maxResolution;\n        /**\n         * @private\n         * @type {number}\n         */\n        this.minResolution_ = resolutionConstraintInfo.minResolution;\n        /**\n         * @private\n         * @type {number}\n         */\n        this.zoomFactor_ = resolutionConstraintInfo.zoomFactor;\n        /**\n         * @private\n         * @type {Array<number>|undefined}\n         */\n        this.resolutions_ = options.resolutions;\n        /**\n         * Padding (in css pixels).\n         * If the map viewport is partially covered with other content (overlays) along\n         * its edges, this setting allows to shift the center of the viewport away from that\n         * content. The order of the values in the array is top, right, bottom, left.\n         * The default is no padding, which is equivalent to `[0, 0, 0, 0]`.\n         * @type {Array<number>|undefined}\n         * @api\n         */\n        this.padding = options.padding;\n        /**\n         * @private\n         * @type {number}\n         */\n        this.minZoom_ = resolutionConstraintInfo.minZoom;\n        var centerConstraint = createCenterConstraint(options);\n        var resolutionConstraint = resolutionConstraintInfo.constraint;\n        var rotationConstraint = createRotationConstraint(options);\n        /**\n         * @private\n         * @type {Constraints}\n         */\n        this.constraints_ = {\n            center: centerConstraint,\n            resolution: resolutionConstraint,\n            rotation: rotationConstraint,\n        };\n        this.setRotation(options.rotation !== undefined ? options.rotation : 0);\n        this.setCenterInternal(options.center !== undefined ? options.center : null);\n        if (options.resolution !== undefined) {\n            this.setResolution(options.resolution);\n        }\n        else if (options.zoom !== undefined) {\n            this.setZoom(options.zoom);\n        }\n        this.setProperties(properties);\n        /**\n         * @private\n         * @type {ViewOptions}\n         */\n        this.options_ = options;\n    };\n    /**\n     * Get an updated version of the view options used to construct the view.  The\n     * current resolution (or zoom), center, and rotation are applied to any stored\n     * options.  The provided options can be used to apply new min/max zoom or\n     * resolution limits.\n     * @param {ViewOptions} newOptions New options to be applied.\n     * @return {ViewOptions} New options updated with the current view state.\n     */\n    View.prototype.getUpdatedOptions_ = function (newOptions) {\n        var options = assign({}, this.options_);\n        // preserve resolution (or zoom)\n        if (options.resolution !== undefined) {\n            options.resolution = this.getResolution();\n        }\n        else {\n            options.zoom = this.getZoom();\n        }\n        // preserve center\n        options.center = this.getCenterInternal();\n        // preserve rotation\n        options.rotation = this.getRotation();\n        return assign({}, options, newOptions);\n    };\n    /**\n     * Animate the view.  The view's center, zoom (or resolution), and rotation\n     * can be animated for smooth transitions between view states.  For example,\n     * to animate the view to a new zoom level:\n     *\n     *     view.animate({zoom: view.getZoom() + 1});\n     *\n     * By default, the animation lasts one second and uses in-and-out easing.  You\n     * can customize this behavior by including `duration` (in milliseconds) and\n     * `easing` options (see {@link module:ol/easing}).\n     *\n     * To chain together multiple animations, call the method with multiple\n     * animation objects.  For example, to first zoom and then pan:\n     *\n     *     view.animate({zoom: 10}, {center: [0, 0]});\n     *\n     * If you provide a function as the last argument to the animate method, it\n     * will get called at the end of an animation series.  The callback will be\n     * called with `true` if the animation series completed on its own or `false`\n     * if it was cancelled.\n     *\n     * Animations are cancelled by user interactions (e.g. dragging the map) or by\n     * calling `view.setCenter()`, `view.setResolution()`, or `view.setRotation()`\n     * (or another method that calls one of these).\n     *\n     * @param {...(AnimationOptions|function(boolean): void)} var_args Animation\n     *     options.  Multiple animations can be run in series by passing multiple\n     *     options objects.  To run multiple animations in parallel, call the method\n     *     multiple times.  An optional callback can be provided as a final\n     *     argument.  The callback will be called with a boolean indicating whether\n     *     the animation completed without being cancelled.\n     * @api\n     */\n    View.prototype.animate = function (var_args) {\n        if (this.isDef() && !this.getAnimating()) {\n            this.resolveConstraints(0);\n        }\n        var args = new Array(arguments.length);\n        for (var i = 0; i < args.length; ++i) {\n            var options = arguments[i];\n            if (options.center) {\n                options = assign({}, options);\n                options.center = fromUserCoordinate(options.center, this.getProjection());\n            }\n            if (options.anchor) {\n                options = assign({}, options);\n                options.anchor = fromUserCoordinate(options.anchor, this.getProjection());\n            }\n            args[i] = options;\n        }\n        this.animateInternal.apply(this, args);\n    };\n    /**\n     * @param {...(AnimationOptions|function(boolean): void)} var_args Animation options.\n     */\n    View.prototype.animateInternal = function (var_args) {\n        var animationCount = arguments.length;\n        var callback;\n        if (animationCount > 1 &&\n            typeof arguments[animationCount - 1] === 'function') {\n            callback = arguments[animationCount - 1];\n            --animationCount;\n        }\n        if (!this.isDef()) {\n            // if view properties are not yet set, shortcut to the final state\n            var state = arguments[animationCount - 1];\n            if (state.center) {\n                this.setCenterInternal(state.center);\n            }\n            if (state.zoom !== undefined) {\n                this.setZoom(state.zoom);\n            }\n            if (state.rotation !== undefined) {\n                this.setRotation(state.rotation);\n            }\n            if (callback) {\n                animationCallback(callback, true);\n            }\n            return;\n        }\n        var start = Date.now();\n        var center = this.targetCenter_.slice();\n        var resolution = this.targetResolution_;\n        var rotation = this.targetRotation_;\n        var series = [];\n        for (var i = 0; i < animationCount; ++i) {\n            var options = /** @type {AnimationOptions} */ (arguments[i]);\n            var animation = {\n                start: start,\n                complete: false,\n                anchor: options.anchor,\n                duration: options.duration !== undefined ? options.duration : 1000,\n                easing: options.easing || inAndOut,\n                callback: callback,\n            };\n            if (options.center) {\n                animation.sourceCenter = center;\n                animation.targetCenter = options.center.slice();\n                center = animation.targetCenter;\n            }\n            if (options.zoom !== undefined) {\n                animation.sourceResolution = resolution;\n                animation.targetResolution = this.getResolutionForZoom(options.zoom);\n                resolution = animation.targetResolution;\n            }\n            else if (options.resolution) {\n                animation.sourceResolution = resolution;\n                animation.targetResolution = options.resolution;\n                resolution = animation.targetResolution;\n            }\n            if (options.rotation !== undefined) {\n                animation.sourceRotation = rotation;\n                var delta = modulo(options.rotation - rotation + Math.PI, 2 * Math.PI) - Math.PI;\n                animation.targetRotation = rotation + delta;\n                rotation = animation.targetRotation;\n            }\n            // check if animation is a no-op\n            if (isNoopAnimation(animation)) {\n                animation.complete = true;\n                // we still push it onto the series for callback handling\n            }\n            else {\n                start += animation.duration;\n            }\n            series.push(animation);\n        }\n        this.animations_.push(series);\n        this.setHint(ViewHint.ANIMATING, 1);\n        this.updateAnimations_();\n    };\n    /**\n     * Determine if the view is being animated.\n     * @return {boolean} The view is being animated.\n     * @api\n     */\n    View.prototype.getAnimating = function () {\n        return this.hints_[ViewHint.ANIMATING] > 0;\n    };\n    /**\n     * Determine if the user is interacting with the view, such as panning or zooming.\n     * @return {boolean} The view is being interacted with.\n     * @api\n     */\n    View.prototype.getInteracting = function () {\n        return this.hints_[ViewHint.INTERACTING] > 0;\n    };\n    /**\n     * Cancel any ongoing animations.\n     * @api\n     */\n    View.prototype.cancelAnimations = function () {\n        this.setHint(ViewHint.ANIMATING, -this.hints_[ViewHint.ANIMATING]);\n        var anchor;\n        for (var i = 0, ii = this.animations_.length; i < ii; ++i) {\n            var series = this.animations_[i];\n            if (series[0].callback) {\n                animationCallback(series[0].callback, false);\n            }\n            if (!anchor) {\n                for (var j = 0, jj = series.length; j < jj; ++j) {\n                    var animation = series[j];\n                    if (!animation.complete) {\n                        anchor = animation.anchor;\n                        break;\n                    }\n                }\n            }\n        }\n        this.animations_.length = 0;\n        this.cancelAnchor_ = anchor;\n    };\n    /**\n     * Update all animations.\n     */\n    View.prototype.updateAnimations_ = function () {\n        if (this.updateAnimationKey_ !== undefined) {\n            cancelAnimationFrame(this.updateAnimationKey_);\n            this.updateAnimationKey_ = undefined;\n        }\n        if (!this.getAnimating()) {\n            return;\n        }\n        var now = Date.now();\n        var more = false;\n        for (var i = this.animations_.length - 1; i >= 0; --i) {\n            var series = this.animations_[i];\n            var seriesComplete = true;\n            for (var j = 0, jj = series.length; j < jj; ++j) {\n                var animation = series[j];\n                if (animation.complete) {\n                    continue;\n                }\n                var elapsed = now - animation.start;\n                var fraction = animation.duration > 0 ? elapsed / animation.duration : 1;\n                if (fraction >= 1) {\n                    animation.complete = true;\n                    fraction = 1;\n                }\n                else {\n                    seriesComplete = false;\n                }\n                var progress = animation.easing(fraction);\n                if (animation.sourceCenter) {\n                    var x0 = animation.sourceCenter[0];\n                    var y0 = animation.sourceCenter[1];\n                    var x1 = animation.targetCenter[0];\n                    var y1 = animation.targetCenter[1];\n                    var x = x0 + progress * (x1 - x0);\n                    var y = y0 + progress * (y1 - y0);\n                    this.targetCenter_ = [x, y];\n                }\n                if (animation.sourceResolution && animation.targetResolution) {\n                    var resolution = progress === 1\n                        ? animation.targetResolution\n                        : animation.sourceResolution +\n                            progress *\n                                (animation.targetResolution - animation.sourceResolution);\n                    if (animation.anchor) {\n                        var size = this.getViewportSize_(this.getRotation());\n                        var constrainedResolution = this.constraints_.resolution(resolution, 0, size, true);\n                        this.targetCenter_ = this.calculateCenterZoom(constrainedResolution, animation.anchor);\n                    }\n                    this.targetResolution_ = resolution;\n                    this.applyTargetState_(true);\n                }\n                if (animation.sourceRotation !== undefined &&\n                    animation.targetRotation !== undefined) {\n                    var rotation = progress === 1\n                        ? modulo(animation.targetRotation + Math.PI, 2 * Math.PI) -\n                            Math.PI\n                        : animation.sourceRotation +\n                            progress *\n                                (animation.targetRotation - animation.sourceRotation);\n                    if (animation.anchor) {\n                        var constrainedRotation = this.constraints_.rotation(rotation, true);\n                        this.targetCenter_ = this.calculateCenterRotate(constrainedRotation, animation.anchor);\n                    }\n                    this.targetRotation_ = rotation;\n                }\n                this.applyTargetState_(true);\n                more = true;\n                if (!animation.complete) {\n                    break;\n                }\n            }\n            if (seriesComplete) {\n                this.animations_[i] = null;\n                this.setHint(ViewHint.ANIMATING, -1);\n                var callback = series[0].callback;\n                if (callback) {\n                    animationCallback(callback, true);\n                }\n            }\n        }\n        // prune completed series\n        this.animations_ = this.animations_.filter(Boolean);\n        if (more && this.updateAnimationKey_ === undefined) {\n            this.updateAnimationKey_ = requestAnimationFrame(this.updateAnimations_.bind(this));\n        }\n    };\n    /**\n     * @param {number} rotation Target rotation.\n     * @param {import(\"./coordinate.js\").Coordinate} anchor Rotation anchor.\n     * @return {import(\"./coordinate.js\").Coordinate|undefined} Center for rotation and anchor.\n     */\n    View.prototype.calculateCenterRotate = function (rotation, anchor) {\n        var center;\n        var currentCenter = this.getCenterInternal();\n        if (currentCenter !== undefined) {\n            center = [currentCenter[0] - anchor[0], currentCenter[1] - anchor[1]];\n            rotateCoordinate(center, rotation - this.getRotation());\n            addCoordinate(center, anchor);\n        }\n        return center;\n    };\n    /**\n     * @param {number} resolution Target resolution.\n     * @param {import(\"./coordinate.js\").Coordinate} anchor Zoom anchor.\n     * @return {import(\"./coordinate.js\").Coordinate|undefined} Center for resolution and anchor.\n     */\n    View.prototype.calculateCenterZoom = function (resolution, anchor) {\n        var center;\n        var currentCenter = this.getCenterInternal();\n        var currentResolution = this.getResolution();\n        if (currentCenter !== undefined && currentResolution !== undefined) {\n            var x = anchor[0] -\n                (resolution * (anchor[0] - currentCenter[0])) / currentResolution;\n            var y = anchor[1] -\n                (resolution * (anchor[1] - currentCenter[1])) / currentResolution;\n            center = [x, y];\n        }\n        return center;\n    };\n    /**\n     * Returns the current viewport size.\n     * @private\n     * @param {number=} opt_rotation Take into account the rotation of the viewport when giving the size\n     * @return {import(\"./size.js\").Size} Viewport size or `[100, 100]` when no viewport is found.\n     */\n    View.prototype.getViewportSize_ = function (opt_rotation) {\n        var size = this.viewportSize_;\n        if (opt_rotation) {\n            var w = size[0];\n            var h = size[1];\n            return [\n                Math.abs(w * Math.cos(opt_rotation)) +\n                    Math.abs(h * Math.sin(opt_rotation)),\n                Math.abs(w * Math.sin(opt_rotation)) +\n                    Math.abs(h * Math.cos(opt_rotation)),\n            ];\n        }\n        else {\n            return size;\n        }\n    };\n    /**\n     * Stores the viewport size on the view. The viewport size is not read every time from the DOM\n     * to avoid performance hit and layout reflow.\n     * This should be done on map size change.\n     * Note: the constraints are not resolved during an animation to avoid stopping it\n     * @param {import(\"./size.js\").Size=} opt_size Viewport size; if undefined, [100, 100] is assumed\n     */\n    View.prototype.setViewportSize = function (opt_size) {\n        this.viewportSize_ = Array.isArray(opt_size)\n            ? opt_size.slice()\n            : [100, 100];\n        if (!this.getAnimating()) {\n            this.resolveConstraints(0);\n        }\n    };\n    /**\n     * Get the view center.\n     * @return {import(\"./coordinate.js\").Coordinate|undefined} The center of the view.\n     * @observable\n     * @api\n     */\n    View.prototype.getCenter = function () {\n        var center = this.getCenterInternal();\n        if (!center) {\n            return center;\n        }\n        return toUserCoordinate(center, this.getProjection());\n    };\n    /**\n     * Get the view center without transforming to user projection.\n     * @return {import(\"./coordinate.js\").Coordinate|undefined} The center of the view.\n     */\n    View.prototype.getCenterInternal = function () {\n        return /** @type {import(\"./coordinate.js\").Coordinate|undefined} */ (this.get(ViewProperty.CENTER));\n    };\n    /**\n     * @return {Constraints} Constraints.\n     */\n    View.prototype.getConstraints = function () {\n        return this.constraints_;\n    };\n    /**\n     * @return {boolean} Resolution constraint is set\n     */\n    View.prototype.getConstrainResolution = function () {\n        return this.options_.constrainResolution;\n    };\n    /**\n     * @param {Array<number>=} opt_hints Destination array.\n     * @return {Array<number>} Hint.\n     */\n    View.prototype.getHints = function (opt_hints) {\n        if (opt_hints !== undefined) {\n            opt_hints[0] = this.hints_[0];\n            opt_hints[1] = this.hints_[1];\n            return opt_hints;\n        }\n        else {\n            return this.hints_.slice();\n        }\n    };\n    /**\n     * Calculate the extent for the current view state and the passed size.\n     * The size is the pixel dimensions of the box into which the calculated extent\n     * should fit. In most cases you want to get the extent of the entire map,\n     * that is `map.getSize()`.\n     * @param {import(\"./size.js\").Size=} opt_size Box pixel size. If not provided, the size\n     * of the map that uses this view will be used.\n     * @return {import(\"./extent.js\").Extent} Extent.\n     * @api\n     */\n    View.prototype.calculateExtent = function (opt_size) {\n        var extent = this.calculateExtentInternal(opt_size);\n        return toUserExtent(extent, this.getProjection());\n    };\n    /**\n     * @param {import(\"./size.js\").Size=} opt_size Box pixel size. If not provided,\n     * the map's last known viewport size will be used.\n     * @return {import(\"./extent.js\").Extent} Extent.\n     */\n    View.prototype.calculateExtentInternal = function (opt_size) {\n        var size = opt_size || this.getViewportSize_();\n        var center = /** @type {!import(\"./coordinate.js\").Coordinate} */ (this.getCenterInternal());\n        assert(center, 1); // The view center is not defined\n        var resolution = /** @type {!number} */ (this.getResolution());\n        assert(resolution !== undefined, 2); // The view resolution is not defined\n        var rotation = /** @type {!number} */ (this.getRotation());\n        assert(rotation !== undefined, 3); // The view rotation is not defined\n        return getForViewAndSize(center, resolution, rotation, size);\n    };\n    /**\n     * Get the maximum resolution of the view.\n     * @return {number} The maximum resolution of the view.\n     * @api\n     */\n    View.prototype.getMaxResolution = function () {\n        return this.maxResolution_;\n    };\n    /**\n     * Get the minimum resolution of the view.\n     * @return {number} The minimum resolution of the view.\n     * @api\n     */\n    View.prototype.getMinResolution = function () {\n        return this.minResolution_;\n    };\n    /**\n     * Get the maximum zoom level for the view.\n     * @return {number} The maximum zoom level.\n     * @api\n     */\n    View.prototype.getMaxZoom = function () {\n        return /** @type {number} */ (this.getZoomForResolution(this.minResolution_));\n    };\n    /**\n     * Set a new maximum zoom level for the view.\n     * @param {number} zoom The maximum zoom level.\n     * @api\n     */\n    View.prototype.setMaxZoom = function (zoom) {\n        this.applyOptions_(this.getUpdatedOptions_({ maxZoom: zoom }));\n    };\n    /**\n     * Get the minimum zoom level for the view.\n     * @return {number} The minimum zoom level.\n     * @api\n     */\n    View.prototype.getMinZoom = function () {\n        return /** @type {number} */ (this.getZoomForResolution(this.maxResolution_));\n    };\n    /**\n     * Set a new minimum zoom level for the view.\n     * @param {number} zoom The minimum zoom level.\n     * @api\n     */\n    View.prototype.setMinZoom = function (zoom) {\n        this.applyOptions_(this.getUpdatedOptions_({ minZoom: zoom }));\n    };\n    /**\n     * Set whether the view shoud allow intermediary zoom levels.\n     * @param {boolean} enabled Whether the resolution is constrained.\n     * @api\n     */\n    View.prototype.setConstrainResolution = function (enabled) {\n        this.applyOptions_(this.getUpdatedOptions_({ constrainResolution: enabled }));\n    };\n    /**\n     * Get the view projection.\n     * @return {import(\"./proj/Projection.js\").default} The projection of the view.\n     * @api\n     */\n    View.prototype.getProjection = function () {\n        return this.projection_;\n    };\n    /**\n     * Get the view resolution.\n     * @return {number|undefined} The resolution of the view.\n     * @observable\n     * @api\n     */\n    View.prototype.getResolution = function () {\n        return /** @type {number|undefined} */ (this.get(ViewProperty.RESOLUTION));\n    };\n    /**\n     * Get the resolutions for the view. This returns the array of resolutions\n     * passed to the constructor of the View, or undefined if none were given.\n     * @return {Array<number>|undefined} The resolutions of the view.\n     * @api\n     */\n    View.prototype.getResolutions = function () {\n        return this.resolutions_;\n    };\n    /**\n     * Get the resolution for a provided extent (in map units) and size (in pixels).\n     * @param {import(\"./extent.js\").Extent} extent Extent.\n     * @param {import(\"./size.js\").Size=} opt_size Box pixel size.\n     * @return {number} The resolution at which the provided extent will render at\n     *     the given size.\n     * @api\n     */\n    View.prototype.getResolutionForExtent = function (extent, opt_size) {\n        return this.getResolutionForExtentInternal(fromUserExtent(extent, this.getProjection()), opt_size);\n    };\n    /**\n     * Get the resolution for a provided extent (in map units) and size (in pixels).\n     * @param {import(\"./extent.js\").Extent} extent Extent.\n     * @param {import(\"./size.js\").Size=} opt_size Box pixel size.\n     * @return {number} The resolution at which the provided extent will render at\n     *     the given size.\n     */\n    View.prototype.getResolutionForExtentInternal = function (extent, opt_size) {\n        var size = opt_size || this.getViewportSize_();\n        var xResolution = getWidth(extent) / size[0];\n        var yResolution = getHeight(extent) / size[1];\n        return Math.max(xResolution, yResolution);\n    };\n    /**\n     * Return a function that returns a value between 0 and 1 for a\n     * resolution. Exponential scaling is assumed.\n     * @param {number=} opt_power Power.\n     * @return {function(number): number} Resolution for value function.\n     */\n    View.prototype.getResolutionForValueFunction = function (opt_power) {\n        var power = opt_power || 2;\n        var maxResolution = this.getConstrainedResolution(this.maxResolution_);\n        var minResolution = this.minResolution_;\n        var max = Math.log(maxResolution / minResolution) / Math.log(power);\n        return (\n        /**\n         * @param {number} value Value.\n         * @return {number} Resolution.\n         */\n        function (value) {\n            var resolution = maxResolution / Math.pow(power, value * max);\n            return resolution;\n        });\n    };\n    /**\n     * Get the view rotation.\n     * @return {number} The rotation of the view in radians.\n     * @observable\n     * @api\n     */\n    View.prototype.getRotation = function () {\n        return /** @type {number} */ (this.get(ViewProperty.ROTATION));\n    };\n    /**\n     * Return a function that returns a resolution for a value between\n     * 0 and 1. Exponential scaling is assumed.\n     * @param {number=} opt_power Power.\n     * @return {function(number): number} Value for resolution function.\n     */\n    View.prototype.getValueForResolutionFunction = function (opt_power) {\n        var logPower = Math.log(opt_power || 2);\n        var maxResolution = this.getConstrainedResolution(this.maxResolution_);\n        var minResolution = this.minResolution_;\n        var max = Math.log(maxResolution / minResolution) / logPower;\n        return (\n        /**\n         * @param {number} resolution Resolution.\n         * @return {number} Value.\n         */\n        function (resolution) {\n            var value = Math.log(maxResolution / resolution) / logPower / max;\n            return value;\n        });\n    };\n    /**\n     * Returns the size of the viewport minus padding.\n     * @private\n     * @param {number=} opt_rotation Take into account the rotation of the viewport when giving the size\n     * @return {import(\"./size.js\").Size} Viewport size reduced by the padding.\n     */\n    View.prototype.getViewportSizeMinusPadding_ = function (opt_rotation) {\n        var size = this.getViewportSize_(opt_rotation);\n        var padding = this.padding;\n        if (padding) {\n            size = [\n                size[0] - padding[1] - padding[3],\n                size[1] - padding[0] - padding[2],\n            ];\n        }\n        return size;\n    };\n    /**\n     * @return {State} View state.\n     */\n    View.prototype.getState = function () {\n        var projection = this.getProjection();\n        var resolution = /** @type {number} */ (this.getResolution());\n        var rotation = this.getRotation();\n        var center = /** @type {import(\"./coordinate.js\").Coordinate} */ (this.getCenterInternal());\n        var padding = this.padding;\n        if (padding) {\n            var reducedSize = this.getViewportSizeMinusPadding_();\n            center = calculateCenterOn(center, this.getViewportSize_(), [reducedSize[0] / 2 + padding[3], reducedSize[1] / 2 + padding[0]], resolution, rotation);\n        }\n        return {\n            center: center.slice(0),\n            projection: projection !== undefined ? projection : null,\n            resolution: resolution,\n            rotation: rotation,\n            zoom: this.getZoom(),\n        };\n    };\n    /**\n     * Get the current zoom level. This method may return non-integer zoom levels\n     * if the view does not constrain the resolution, or if an interaction or\n     * animation is underway.\n     * @return {number|undefined} Zoom.\n     * @api\n     */\n    View.prototype.getZoom = function () {\n        var zoom;\n        var resolution = this.getResolution();\n        if (resolution !== undefined) {\n            zoom = this.getZoomForResolution(resolution);\n        }\n        return zoom;\n    };\n    /**\n     * Get the zoom level for a resolution.\n     * @param {number} resolution The resolution.\n     * @return {number|undefined} The zoom level for the provided resolution.\n     * @api\n     */\n    View.prototype.getZoomForResolution = function (resolution) {\n        var offset = this.minZoom_ || 0;\n        var max, zoomFactor;\n        if (this.resolutions_) {\n            var nearest = linearFindNearest(this.resolutions_, resolution, 1);\n            offset = nearest;\n            max = this.resolutions_[nearest];\n            if (nearest == this.resolutions_.length - 1) {\n                zoomFactor = 2;\n            }\n            else {\n                zoomFactor = max / this.resolutions_[nearest + 1];\n            }\n        }\n        else {\n            max = this.maxResolution_;\n            zoomFactor = this.zoomFactor_;\n        }\n        return offset + Math.log(max / resolution) / Math.log(zoomFactor);\n    };\n    /**\n     * Get the resolution for a zoom level.\n     * @param {number} zoom Zoom level.\n     * @return {number} The view resolution for the provided zoom level.\n     * @api\n     */\n    View.prototype.getResolutionForZoom = function (zoom) {\n        if (this.resolutions_) {\n            if (this.resolutions_.length <= 1) {\n                return 0;\n            }\n            var baseLevel = clamp(Math.floor(zoom), 0, this.resolutions_.length - 2);\n            var zoomFactor = this.resolutions_[baseLevel] / this.resolutions_[baseLevel + 1];\n            return (this.resolutions_[baseLevel] /\n                Math.pow(zoomFactor, clamp(zoom - baseLevel, 0, 1)));\n        }\n        else {\n            return (this.maxResolution_ / Math.pow(this.zoomFactor_, zoom - this.minZoom_));\n        }\n    };\n    /**\n     * Fit the given geometry or extent based on the given map size and border.\n     * The size is pixel dimensions of the box to fit the extent into.\n     * In most cases you will want to use the map size, that is `map.getSize()`.\n     * Takes care of the map angle.\n     * @param {import(\"./geom/SimpleGeometry.js\").default|import(\"./extent.js\").Extent} geometryOrExtent The geometry or\n     *     extent to fit the view to.\n     * @param {FitOptions=} opt_options Options.\n     * @api\n     */\n    View.prototype.fit = function (geometryOrExtent, opt_options) {\n        /** @type {import(\"./geom/SimpleGeometry.js\").default} */\n        var geometry;\n        assert(Array.isArray(geometryOrExtent) ||\n            typeof ( /** @type {?} */(geometryOrExtent).getSimplifiedGeometry) ===\n                'function', 24); // Invalid extent or geometry provided as `geometry`\n        if (Array.isArray(geometryOrExtent)) {\n            assert(!isEmpty(geometryOrExtent), 25); // Cannot fit empty extent provided as `geometry`\n            var extent = fromUserExtent(geometryOrExtent, this.getProjection());\n            geometry = polygonFromExtent(extent);\n        }\n        else if (geometryOrExtent.getType() === GeometryType.CIRCLE) {\n            var extent = fromUserExtent(geometryOrExtent.getExtent(), this.getProjection());\n            geometry = polygonFromExtent(extent);\n            geometry.rotate(this.getRotation(), getCenter(extent));\n        }\n        else {\n            var userProjection = getUserProjection();\n            if (userProjection) {\n                geometry = /** @type {import(\"./geom/SimpleGeometry.js\").default} */ (geometryOrExtent\n                    .clone()\n                    .transform(userProjection, this.getProjection()));\n            }\n            else {\n                geometry = geometryOrExtent;\n            }\n        }\n        this.fitInternal(geometry, opt_options);\n    };\n    /**\n     * @param {import(\"./geom/SimpleGeometry.js\").default} geometry The geometry.\n     * @param {FitOptions=} opt_options Options.\n     */\n    View.prototype.fitInternal = function (geometry, opt_options) {\n        var options = opt_options || {};\n        var size = options.size;\n        if (!size) {\n            size = this.getViewportSizeMinusPadding_();\n        }\n        var padding = options.padding !== undefined ? options.padding : [0, 0, 0, 0];\n        var nearest = options.nearest !== undefined ? options.nearest : false;\n        var minResolution;\n        if (options.minResolution !== undefined) {\n            minResolution = options.minResolution;\n        }\n        else if (options.maxZoom !== undefined) {\n            minResolution = this.getResolutionForZoom(options.maxZoom);\n        }\n        else {\n            minResolution = 0;\n        }\n        var coords = geometry.getFlatCoordinates();\n        // calculate rotated extent\n        var rotation = this.getRotation();\n        var cosAngle = Math.cos(-rotation);\n        var sinAngle = Math.sin(-rotation);\n        var minRotX = +Infinity;\n        var minRotY = +Infinity;\n        var maxRotX = -Infinity;\n        var maxRotY = -Infinity;\n        var stride = geometry.getStride();\n        for (var i = 0, ii = coords.length; i < ii; i += stride) {\n            var rotX = coords[i] * cosAngle - coords[i + 1] * sinAngle;\n            var rotY = coords[i] * sinAngle + coords[i + 1] * cosAngle;\n            minRotX = Math.min(minRotX, rotX);\n            minRotY = Math.min(minRotY, rotY);\n            maxRotX = Math.max(maxRotX, rotX);\n            maxRotY = Math.max(maxRotY, rotY);\n        }\n        // calculate resolution\n        var resolution = this.getResolutionForExtentInternal([minRotX, minRotY, maxRotX, maxRotY], [size[0] - padding[1] - padding[3], size[1] - padding[0] - padding[2]]);\n        resolution = isNaN(resolution)\n            ? minResolution\n            : Math.max(resolution, minResolution);\n        resolution = this.getConstrainedResolution(resolution, nearest ? 0 : 1);\n        // calculate center\n        sinAngle = -sinAngle; // go back to original rotation\n        var centerRotX = (minRotX + maxRotX) / 2;\n        var centerRotY = (minRotY + maxRotY) / 2;\n        centerRotX += ((padding[1] - padding[3]) / 2) * resolution;\n        centerRotY += ((padding[0] - padding[2]) / 2) * resolution;\n        var centerX = centerRotX * cosAngle - centerRotY * sinAngle;\n        var centerY = centerRotY * cosAngle + centerRotX * sinAngle;\n        var center = this.getConstrainedCenter([centerX, centerY], resolution);\n        var callback = options.callback ? options.callback : VOID;\n        if (options.duration !== undefined) {\n            this.animateInternal({\n                resolution: resolution,\n                center: center,\n                duration: options.duration,\n                easing: options.easing,\n            }, callback);\n        }\n        else {\n            this.targetResolution_ = resolution;\n            this.targetCenter_ = center;\n            this.applyTargetState_(false, true);\n            animationCallback(callback, true);\n        }\n    };\n    /**\n     * Center on coordinate and view position.\n     * @param {import(\"./coordinate.js\").Coordinate} coordinate Coordinate.\n     * @param {import(\"./size.js\").Size} size Box pixel size.\n     * @param {import(\"./pixel.js\").Pixel} position Position on the view to center on.\n     * @api\n     */\n    View.prototype.centerOn = function (coordinate, size, position) {\n        this.centerOnInternal(fromUserCoordinate(coordinate, this.getProjection()), size, position);\n    };\n    /**\n     * @param {import(\"./coordinate.js\").Coordinate} coordinate Coordinate.\n     * @param {import(\"./size.js\").Size} size Box pixel size.\n     * @param {import(\"./pixel.js\").Pixel} position Position on the view to center on.\n     */\n    View.prototype.centerOnInternal = function (coordinate, size, position) {\n        this.setCenterInternal(calculateCenterOn(coordinate, size, position, this.getResolution(), this.getRotation()));\n    };\n    /**\n     * Calculates the shift between map and viewport center.\n     * @param {import(\"./coordinate.js\").Coordinate} center Center.\n     * @param {number} resolution Resolution.\n     * @param {number} rotation Rotation.\n     * @param {import(\"./size.js\").Size} size Size.\n     * @return {Array<number>|undefined} Center shift.\n     */\n    View.prototype.calculateCenterShift = function (center, resolution, rotation, size) {\n        var centerShift;\n        var padding = this.padding;\n        if (padding && center) {\n            var reducedSize = this.getViewportSizeMinusPadding_(-rotation);\n            var shiftedCenter = calculateCenterOn(center, size, [reducedSize[0] / 2 + padding[3], reducedSize[1] / 2 + padding[0]], resolution, rotation);\n            centerShift = [\n                center[0] - shiftedCenter[0],\n                center[1] - shiftedCenter[1],\n            ];\n        }\n        return centerShift;\n    };\n    /**\n     * @return {boolean} Is defined.\n     */\n    View.prototype.isDef = function () {\n        return !!this.getCenterInternal() && this.getResolution() !== undefined;\n    };\n    /**\n     * Adds relative coordinates to the center of the view. Any extent constraint will apply.\n     * @param {import(\"./coordinate.js\").Coordinate} deltaCoordinates Relative value to add.\n     * @api\n     */\n    View.prototype.adjustCenter = function (deltaCoordinates) {\n        var center = toUserCoordinate(this.targetCenter_, this.getProjection());\n        this.setCenter([\n            center[0] + deltaCoordinates[0],\n            center[1] + deltaCoordinates[1],\n        ]);\n    };\n    /**\n     * Adds relative coordinates to the center of the view. Any extent constraint will apply.\n     * @param {import(\"./coordinate.js\").Coordinate} deltaCoordinates Relative value to add.\n     */\n    View.prototype.adjustCenterInternal = function (deltaCoordinates) {\n        var center = this.targetCenter_;\n        this.setCenterInternal([\n            center[0] + deltaCoordinates[0],\n            center[1] + deltaCoordinates[1],\n        ]);\n    };\n    /**\n     * Multiply the view resolution by a ratio, optionally using an anchor. Any resolution\n     * constraint will apply.\n     * @param {number} ratio The ratio to apply on the view resolution.\n     * @param {import(\"./coordinate.js\").Coordinate=} opt_anchor The origin of the transformation.\n     * @api\n     */\n    View.prototype.adjustResolution = function (ratio, opt_anchor) {\n        var anchor = opt_anchor && fromUserCoordinate(opt_anchor, this.getProjection());\n        this.adjustResolutionInternal(ratio, anchor);\n    };\n    /**\n     * Multiply the view resolution by a ratio, optionally using an anchor. Any resolution\n     * constraint will apply.\n     * @param {number} ratio The ratio to apply on the view resolution.\n     * @param {import(\"./coordinate.js\").Coordinate=} opt_anchor The origin of the transformation.\n     */\n    View.prototype.adjustResolutionInternal = function (ratio, opt_anchor) {\n        var isMoving = this.getAnimating() || this.getInteracting();\n        var size = this.getViewportSize_(this.getRotation());\n        var newResolution = this.constraints_.resolution(this.targetResolution_ * ratio, 0, size, isMoving);\n        if (opt_anchor) {\n            this.targetCenter_ = this.calculateCenterZoom(newResolution, opt_anchor);\n        }\n        this.targetResolution_ *= ratio;\n        this.applyTargetState_();\n    };\n    /**\n     * Adds a value to the view zoom level, optionally using an anchor. Any resolution\n     * constraint will apply.\n     * @param {number} delta Relative value to add to the zoom level.\n     * @param {import(\"./coordinate.js\").Coordinate=} opt_anchor The origin of the transformation.\n     * @api\n     */\n    View.prototype.adjustZoom = function (delta, opt_anchor) {\n        this.adjustResolution(Math.pow(this.zoomFactor_, -delta), opt_anchor);\n    };\n    /**\n     * Adds a value to the view rotation, optionally using an anchor. Any rotation\n     * constraint will apply.\n     * @param {number} delta Relative value to add to the zoom rotation, in radians.\n     * @param {import(\"./coordinate.js\").Coordinate=} opt_anchor The rotation center.\n     * @api\n     */\n    View.prototype.adjustRotation = function (delta, opt_anchor) {\n        if (opt_anchor) {\n            opt_anchor = fromUserCoordinate(opt_anchor, this.getProjection());\n        }\n        this.adjustRotationInternal(delta, opt_anchor);\n    };\n    /**\n     * @param {number} delta Relative value to add to the zoom rotation, in radians.\n     * @param {import(\"./coordinate.js\").Coordinate=} opt_anchor The rotation center.\n     */\n    View.prototype.adjustRotationInternal = function (delta, opt_anchor) {\n        var isMoving = this.getAnimating() || this.getInteracting();\n        var newRotation = this.constraints_.rotation(this.targetRotation_ + delta, isMoving);\n        if (opt_anchor) {\n            this.targetCenter_ = this.calculateCenterRotate(newRotation, opt_anchor);\n        }\n        this.targetRotation_ += delta;\n        this.applyTargetState_();\n    };\n    /**\n     * Set the center of the current view. Any extent constraint will apply.\n     * @param {import(\"./coordinate.js\").Coordinate|undefined} center The center of the view.\n     * @observable\n     * @api\n     */\n    View.prototype.setCenter = function (center) {\n        this.setCenterInternal(fromUserCoordinate(center, this.getProjection()));\n    };\n    /**\n     * Set the center using the view projection (not the user projection).\n     * @param {import(\"./coordinate.js\").Coordinate|undefined} center The center of the view.\n     */\n    View.prototype.setCenterInternal = function (center) {\n        this.targetCenter_ = center;\n        this.applyTargetState_();\n    };\n    /**\n     * @param {import(\"./ViewHint.js\").default} hint Hint.\n     * @param {number} delta Delta.\n     * @return {number} New value.\n     */\n    View.prototype.setHint = function (hint, delta) {\n        this.hints_[hint] += delta;\n        this.changed();\n        return this.hints_[hint];\n    };\n    /**\n     * Set the resolution for this view. Any resolution constraint will apply.\n     * @param {number|undefined} resolution The resolution of the view.\n     * @observable\n     * @api\n     */\n    View.prototype.setResolution = function (resolution) {\n        this.targetResolution_ = resolution;\n        this.applyTargetState_();\n    };\n    /**\n     * Set the rotation for this view. Any rotation constraint will apply.\n     * @param {number} rotation The rotation of the view in radians.\n     * @observable\n     * @api\n     */\n    View.prototype.setRotation = function (rotation) {\n        this.targetRotation_ = rotation;\n        this.applyTargetState_();\n    };\n    /**\n     * Zoom to a specific zoom level. Any resolution constrain will apply.\n     * @param {number} zoom Zoom level.\n     * @api\n     */\n    View.prototype.setZoom = function (zoom) {\n        this.setResolution(this.getResolutionForZoom(zoom));\n    };\n    /**\n     * Recompute rotation/resolution/center based on target values.\n     * Note: we have to compute rotation first, then resolution and center considering that\n     * parameters can influence one another in case a view extent constraint is present.\n     * @param {boolean=} opt_doNotCancelAnims Do not cancel animations.\n     * @param {boolean=} opt_forceMoving Apply constraints as if the view is moving.\n     * @private\n     */\n    View.prototype.applyTargetState_ = function (opt_doNotCancelAnims, opt_forceMoving) {\n        var isMoving = this.getAnimating() || this.getInteracting() || opt_forceMoving;\n        // compute rotation\n        var newRotation = this.constraints_.rotation(this.targetRotation_, isMoving);\n        var size = this.getViewportSize_(newRotation);\n        var newResolution = this.constraints_.resolution(this.targetResolution_, 0, size, isMoving);\n        var newCenter = this.constraints_.center(this.targetCenter_, newResolution, size, isMoving, this.calculateCenterShift(this.targetCenter_, newResolution, newRotation, size));\n        if (this.get(ViewProperty.ROTATION) !== newRotation) {\n            this.set(ViewProperty.ROTATION, newRotation);\n        }\n        if (this.get(ViewProperty.RESOLUTION) !== newResolution) {\n            this.set(ViewProperty.RESOLUTION, newResolution);\n        }\n        if (!this.get(ViewProperty.CENTER) ||\n            !equals(this.get(ViewProperty.CENTER), newCenter)) {\n            this.set(ViewProperty.CENTER, newCenter);\n        }\n        if (this.getAnimating() && !opt_doNotCancelAnims) {\n            this.cancelAnimations();\n        }\n        this.cancelAnchor_ = undefined;\n    };\n    /**\n     * If any constraints need to be applied, an animation will be triggered.\n     * This is typically done on interaction end.\n     * Note: calling this with a duration of 0 will apply the constrained values straight away,\n     * without animation.\n     * @param {number=} opt_duration The animation duration in ms.\n     * @param {number=} opt_resolutionDirection Which direction to zoom.\n     * @param {import(\"./coordinate.js\").Coordinate=} opt_anchor The origin of the transformation.\n     */\n    View.prototype.resolveConstraints = function (opt_duration, opt_resolutionDirection, opt_anchor) {\n        var duration = opt_duration !== undefined ? opt_duration : 200;\n        var direction = opt_resolutionDirection || 0;\n        var newRotation = this.constraints_.rotation(this.targetRotation_);\n        var size = this.getViewportSize_(newRotation);\n        var newResolution = this.constraints_.resolution(this.targetResolution_, direction, size);\n        var newCenter = this.constraints_.center(this.targetCenter_, newResolution, size, false, this.calculateCenterShift(this.targetCenter_, newResolution, newRotation, size));\n        if (duration === 0 && !this.cancelAnchor_) {\n            this.targetResolution_ = newResolution;\n            this.targetRotation_ = newRotation;\n            this.targetCenter_ = newCenter;\n            this.applyTargetState_();\n            return;\n        }\n        var anchor = opt_anchor || (duration === 0 ? this.cancelAnchor_ : undefined);\n        this.cancelAnchor_ = undefined;\n        if (this.getResolution() !== newResolution ||\n            this.getRotation() !== newRotation ||\n            !this.getCenterInternal() ||\n            !equals(this.getCenterInternal(), newCenter)) {\n            if (this.getAnimating()) {\n                this.cancelAnimations();\n            }\n            this.animateInternal({\n                rotation: newRotation,\n                center: newCenter,\n                resolution: newResolution,\n                duration: duration,\n                easing: easeOut,\n                anchor: anchor,\n            });\n        }\n    };\n    /**\n     * Notify the View that an interaction has started.\n     * The view state will be resolved to a stable one if needed\n     * (depending on its constraints).\n     * @api\n     */\n    View.prototype.beginInteraction = function () {\n        this.resolveConstraints(0);\n        this.setHint(ViewHint.INTERACTING, 1);\n    };\n    /**\n     * Notify the View that an interaction has ended. The view state will be resolved\n     * to a stable one if needed (depending on its constraints).\n     * @param {number=} opt_duration Animation duration in ms.\n     * @param {number=} opt_resolutionDirection Which direction to zoom.\n     * @param {import(\"./coordinate.js\").Coordinate=} opt_anchor The origin of the transformation.\n     * @api\n     */\n    View.prototype.endInteraction = function (opt_duration, opt_resolutionDirection, opt_anchor) {\n        var anchor = opt_anchor && fromUserCoordinate(opt_anchor, this.getProjection());\n        this.endInteractionInternal(opt_duration, opt_resolutionDirection, anchor);\n    };\n    /**\n     * Notify the View that an interaction has ended. The view state will be resolved\n     * to a stable one if needed (depending on its constraints).\n     * @param {number=} opt_duration Animation duration in ms.\n     * @param {number=} opt_resolutionDirection Which direction to zoom.\n     * @param {import(\"./coordinate.js\").Coordinate=} opt_anchor The origin of the transformation.\n     */\n    View.prototype.endInteractionInternal = function (opt_duration, opt_resolutionDirection, opt_anchor) {\n        this.setHint(ViewHint.INTERACTING, -1);\n        this.resolveConstraints(opt_duration, opt_resolutionDirection, opt_anchor);\n    };\n    /**\n     * Get a valid position for the view center according to the current constraints.\n     * @param {import(\"./coordinate.js\").Coordinate|undefined} targetCenter Target center position.\n     * @param {number=} opt_targetResolution Target resolution. If not supplied, the current one will be used.\n     * This is useful to guess a valid center position at a different zoom level.\n     * @return {import(\"./coordinate.js\").Coordinate|undefined} Valid center position.\n     */\n    View.prototype.getConstrainedCenter = function (targetCenter, opt_targetResolution) {\n        var size = this.getViewportSize_(this.getRotation());\n        return this.constraints_.center(targetCenter, opt_targetResolution || this.getResolution(), size);\n    };\n    /**\n     * Get a valid zoom level according to the current view constraints.\n     * @param {number|undefined} targetZoom Target zoom.\n     * @param {number=} [opt_direction=0] Indicate which resolution should be used\n     * by a renderer if the view resolution does not match any resolution of the tile source.\n     * If 0, the nearest resolution will be used. If 1, the nearest lower resolution\n     * will be used. If -1, the nearest higher resolution will be used.\n     * @return {number|undefined} Valid zoom level.\n     */\n    View.prototype.getConstrainedZoom = function (targetZoom, opt_direction) {\n        var targetRes = this.getResolutionForZoom(targetZoom);\n        return this.getZoomForResolution(this.getConstrainedResolution(targetRes, opt_direction));\n    };\n    /**\n     * Get a valid resolution according to the current view constraints.\n     * @param {number|undefined} targetResolution Target resolution.\n     * @param {number=} [opt_direction=0] Indicate which resolution should be used\n     * by a renderer if the view resolution does not match any resolution of the tile source.\n     * If 0, the nearest resolution will be used. If 1, the nearest lower resolution\n     * will be used. If -1, the nearest higher resolution will be used.\n     * @return {number|undefined} Valid resolution.\n     */\n    View.prototype.getConstrainedResolution = function (targetResolution, opt_direction) {\n        var direction = opt_direction || 0;\n        var size = this.getViewportSize_(this.getRotation());\n        return this.constraints_.resolution(targetResolution, direction, size);\n    };\n    return View;\n}(BaseObject));\n/**\n * @param {Function} callback Callback.\n * @param {*} returnValue Return value.\n */\nfunction animationCallback(callback, returnValue) {\n    setTimeout(function () {\n        callback(returnValue);\n    }, 0);\n}\n/**\n * @param {ViewOptions} options View options.\n * @return {import(\"./centerconstraint.js\").Type} The constraint.\n */\nexport function createCenterConstraint(options) {\n    if (options.extent !== undefined) {\n        var smooth = options.smoothExtentConstraint !== undefined\n            ? options.smoothExtentConstraint\n            : true;\n        return createExtent(options.extent, options.constrainOnlyCenter, smooth);\n    }\n    var projection = createProjection(options.projection, 'EPSG:3857');\n    if (options.multiWorld !== true && projection.isGlobal()) {\n        var extent = projection.getExtent().slice();\n        extent[0] = -Infinity;\n        extent[2] = Infinity;\n        return createExtent(extent, false, false);\n    }\n    return centerNone;\n}\n/**\n * @param {ViewOptions} options View options.\n * @return {{constraint: import(\"./resolutionconstraint.js\").Type, maxResolution: number,\n *     minResolution: number, minZoom: number, zoomFactor: number}} The constraint.\n */\nexport function createResolutionConstraint(options) {\n    var resolutionConstraint;\n    var maxResolution;\n    var minResolution;\n    // TODO: move these to be ol constants\n    // see https://github.com/openlayers/openlayers/issues/2076\n    var defaultMaxZoom = 28;\n    var defaultZoomFactor = 2;\n    var minZoom = options.minZoom !== undefined ? options.minZoom : DEFAULT_MIN_ZOOM;\n    var maxZoom = options.maxZoom !== undefined ? options.maxZoom : defaultMaxZoom;\n    var zoomFactor = options.zoomFactor !== undefined ? options.zoomFactor : defaultZoomFactor;\n    var multiWorld = options.multiWorld !== undefined ? options.multiWorld : false;\n    var smooth = options.smoothResolutionConstraint !== undefined\n        ? options.smoothResolutionConstraint\n        : true;\n    var showFullExtent = options.showFullExtent !== undefined ? options.showFullExtent : false;\n    var projection = createProjection(options.projection, 'EPSG:3857');\n    var projExtent = projection.getExtent();\n    var constrainOnlyCenter = options.constrainOnlyCenter;\n    var extent = options.extent;\n    if (!multiWorld && !extent && projection.isGlobal()) {\n        constrainOnlyCenter = false;\n        extent = projExtent;\n    }\n    if (options.resolutions !== undefined) {\n        var resolutions = options.resolutions;\n        maxResolution = resolutions[minZoom];\n        minResolution =\n            resolutions[maxZoom] !== undefined\n                ? resolutions[maxZoom]\n                : resolutions[resolutions.length - 1];\n        if (options.constrainResolution) {\n            resolutionConstraint = createSnapToResolutions(resolutions, smooth, !constrainOnlyCenter && extent, showFullExtent);\n        }\n        else {\n            resolutionConstraint = createMinMaxResolution(maxResolution, minResolution, smooth, !constrainOnlyCenter && extent, showFullExtent);\n        }\n    }\n    else {\n        // calculate the default min and max resolution\n        var size = !projExtent\n            ? // use an extent that can fit the whole world if need be\n                (360 * METERS_PER_UNIT[Units.DEGREES]) / projection.getMetersPerUnit()\n            : Math.max(getWidth(projExtent), getHeight(projExtent));\n        var defaultMaxResolution = size / DEFAULT_TILE_SIZE / Math.pow(defaultZoomFactor, DEFAULT_MIN_ZOOM);\n        var defaultMinResolution = defaultMaxResolution /\n            Math.pow(defaultZoomFactor, defaultMaxZoom - DEFAULT_MIN_ZOOM);\n        // user provided maxResolution takes precedence\n        maxResolution = options.maxResolution;\n        if (maxResolution !== undefined) {\n            minZoom = 0;\n        }\n        else {\n            maxResolution = defaultMaxResolution / Math.pow(zoomFactor, minZoom);\n        }\n        // user provided minResolution takes precedence\n        minResolution = options.minResolution;\n        if (minResolution === undefined) {\n            if (options.maxZoom !== undefined) {\n                if (options.maxResolution !== undefined) {\n                    minResolution = maxResolution / Math.pow(zoomFactor, maxZoom);\n                }\n                else {\n                    minResolution = defaultMaxResolution / Math.pow(zoomFactor, maxZoom);\n                }\n            }\n            else {\n                minResolution = defaultMinResolution;\n            }\n        }\n        // given discrete zoom levels, minResolution may be different than provided\n        maxZoom =\n            minZoom +\n                Math.floor(Math.log(maxResolution / minResolution) / Math.log(zoomFactor));\n        minResolution = maxResolution / Math.pow(zoomFactor, maxZoom - minZoom);\n        if (options.constrainResolution) {\n            resolutionConstraint = createSnapToPower(zoomFactor, maxResolution, minResolution, smooth, !constrainOnlyCenter && extent, showFullExtent);\n        }\n        else {\n            resolutionConstraint = createMinMaxResolution(maxResolution, minResolution, smooth, !constrainOnlyCenter && extent, showFullExtent);\n        }\n    }\n    return {\n        constraint: resolutionConstraint,\n        maxResolution: maxResolution,\n        minResolution: minResolution,\n        minZoom: minZoom,\n        zoomFactor: zoomFactor,\n    };\n}\n/**\n * @param {ViewOptions} options View options.\n * @return {import(\"./rotationconstraint.js\").Type} Rotation constraint.\n */\nexport function createRotationConstraint(options) {\n    var enableRotation = options.enableRotation !== undefined ? options.enableRotation : true;\n    if (enableRotation) {\n        var constrainRotation = options.constrainRotation;\n        if (constrainRotation === undefined || constrainRotation === true) {\n            return createSnapToZero();\n        }\n        else if (constrainRotation === false) {\n            return rotationNone;\n        }\n        else if (typeof constrainRotation === 'number') {\n            return createSnapToN(constrainRotation);\n        }\n        else {\n            return rotationNone;\n        }\n    }\n    else {\n        return disable;\n    }\n}\n/**\n * Determine if an animation involves no view change.\n * @param {Animation} animation The animation.\n * @return {boolean} The animation involves no view change.\n */\nexport function isNoopAnimation(animation) {\n    if (animation.sourceCenter && animation.targetCenter) {\n        if (!coordinatesEqual(animation.sourceCenter, animation.targetCenter)) {\n            return false;\n        }\n    }\n    if (animation.sourceResolution !== animation.targetResolution) {\n        return false;\n    }\n    if (animation.sourceRotation !== animation.targetRotation) {\n        return false;\n    }\n    return true;\n}\n/**\n * @param {import(\"./coordinate.js\").Coordinate} coordinate Coordinate.\n * @param {import(\"./size.js\").Size} size Box pixel size.\n * @param {import(\"./pixel.js\").Pixel} position Position on the view to center on.\n * @param {number} resolution Resolution.\n * @param {number} rotation Rotation.\n * @return {import(\"./coordinate.js\").Coordinate} Shifted center.\n */\nfunction calculateCenterOn(coordinate, size, position, resolution, rotation) {\n    // calculate rotated position\n    var cosAngle = Math.cos(-rotation);\n    var sinAngle = Math.sin(-rotation);\n    var rotX = coordinate[0] * cosAngle - coordinate[1] * sinAngle;\n    var rotY = coordinate[1] * cosAngle + coordinate[0] * sinAngle;\n    rotX += (size[0] / 2 - position[0]) * resolution;\n    rotY += (position[1] - size[1] / 2) * resolution;\n    // go back to original angle\n    sinAngle = -sinAngle; // go back to original rotation\n    var centerX = rotX * cosAngle - rotY * sinAngle;\n    var centerY = rotY * cosAngle + rotX * sinAngle;\n    return [centerX, centerY];\n}\nexport default View;\n//# sourceMappingURL=View.js.map","/**\n * @module ol/size\n */\n/**\n * An array of numbers representing a size: `[width, height]`.\n * @typedef {Array<number>} Size\n * @api\n */\n/**\n * Returns a buffered size.\n * @param {Size} size Size.\n * @param {number} num The amount by which to buffer.\n * @param {Size=} opt_size Optional reusable size array.\n * @return {Size} The buffered size.\n */\nexport function buffer(size, num, opt_size) {\n    if (opt_size === undefined) {\n        opt_size = [0, 0];\n    }\n    opt_size[0] = size[0] + 2 * num;\n    opt_size[1] = size[1] + 2 * num;\n    return opt_size;\n}\n/**\n * Determines if a size has a positive area.\n * @param {Size} size The size to test.\n * @return {boolean} The size has a positive area.\n */\nexport function hasArea(size) {\n    return size[0] > 0 && size[1] > 0;\n}\n/**\n * Returns a size scaled by a ratio. The result will be an array of integers.\n * @param {Size} size Size.\n * @param {number} ratio Ratio.\n * @param {Size=} opt_size Optional reusable size array.\n * @return {Size} The scaled size.\n */\nexport function scale(size, ratio, opt_size) {\n    if (opt_size === undefined) {\n        opt_size = [0, 0];\n    }\n    opt_size[0] = (size[0] * ratio + 0.5) | 0;\n    opt_size[1] = (size[1] * ratio + 0.5) | 0;\n    return opt_size;\n}\n/**\n * Returns an `Size` array for the passed in number (meaning: square) or\n * `Size` array.\n * (meaning: non-square),\n * @param {number|Size} size Width and height.\n * @param {Size=} opt_size Optional reusable size array.\n * @return {Size} Size.\n * @api\n */\nexport function toSize(size, opt_size) {\n    if (Array.isArray(size)) {\n        return size;\n    }\n    else {\n        if (opt_size === undefined) {\n            opt_size = [size, size];\n        }\n        else {\n            opt_size[0] = size;\n            opt_size[1] = size;\n        }\n        return opt_size;\n    }\n}\n//# sourceMappingURL=size.js.map","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n/**\n * @module ol/PluggableMap\n */\nimport BaseObject, { getChangeEventType } from './Object.js';\nimport Collection from './Collection.js';\nimport CollectionEventType from './CollectionEventType.js';\nimport EventType from './events/EventType.js';\nimport LayerGroup from './layer/Group.js';\nimport MapBrowserEvent from './MapBrowserEvent.js';\nimport MapBrowserEventHandler from './MapBrowserEventHandler.js';\nimport MapBrowserEventType from './MapBrowserEventType.js';\nimport MapEvent from './MapEvent.js';\nimport MapEventType from './MapEventType.js';\nimport MapProperty from './MapProperty.js';\nimport ObjectEventType from './ObjectEventType.js';\nimport PointerEventType from './pointer/EventType.js';\nimport RenderEventType from './render/EventType.js';\nimport TileQueue, { getTilePriority } from './TileQueue.js';\nimport View from './View.js';\nimport ViewHint from './ViewHint.js';\nimport { DEVICE_PIXEL_RATIO, IMAGE_DECODE, PASSIVE_EVENT_LISTENERS, } from './has.js';\nimport { TRUE } from './functions.js';\nimport { apply as applyTransform, create as createTransform, } from './transform.js';\nimport { assert } from './asserts.js';\nimport { clone, createOrUpdateEmpty, equals, getForViewAndSize, isEmpty, } from './extent.js';\nimport { fromUserCoordinate, toUserCoordinate } from './proj.js';\nimport { hasArea } from './size.js';\nimport { listen, unlistenByKey } from './events.js';\nimport { removeNode } from './dom.js';\n/**\n * State of the current frame. Only `pixelRatio`, `time` and `viewState` should\n * be used in applications.\n * @typedef {Object} FrameState\n * @property {number} pixelRatio The pixel ratio of the frame.\n * @property {number} time The time when rendering of the frame was requested.\n * @property {import(\"./View.js\").State} viewState The state of the current view.\n * @property {boolean} animate\n * @property {import(\"./transform.js\").Transform} coordinateToPixelTransform\n * @property {import(\"rbush\").default} declutterTree\n * @property {null|import(\"./extent.js\").Extent} extent\n * @property {number} index\n * @property {Array<import(\"./layer/Layer.js\").State>} layerStatesArray\n * @property {number} layerIndex\n * @property {import(\"./transform.js\").Transform} pixelToCoordinateTransform\n * @property {Array<PostRenderFunction>} postRenderFunctions\n * @property {import(\"./size.js\").Size} size\n * @property {TileQueue} tileQueue\n * @property {!Object<string, Object<string, boolean>>} usedTiles\n * @property {Array<number>} viewHints\n * @property {!Object<string, Object<string, boolean>>} wantedTiles\n */\n/**\n * @typedef {function(PluggableMap, ?FrameState): any} PostRenderFunction\n */\n/**\n * @typedef {Object} AtPixelOptions\n * @property {undefined|function(import(\"./layer/Layer.js\").default): boolean} [layerFilter] Layer filter\n * function. The filter function will receive one argument, the\n * {@link module:ol/layer/Layer layer-candidate} and it should return a boolean value.\n * Only layers which are visible and for which this function returns `true`\n * will be tested for features. By default, all visible layers will be tested.\n * @property {number} [hitTolerance=0] Hit-detection tolerance in css pixels. Pixels\n * inside the radius around the given position will be checked for features.\n * @property {boolean} [checkWrapped=true] Check-Wrapped Will check for for wrapped geometries inside the range of\n *   +/- 1 world width. Works only if a projection is used that can be wrapped.\n */\n/**\n * @typedef {Object} MapOptionsInternal\n * @property {Collection<import(\"./control/Control.js\").default>} [controls]\n * @property {Collection<import(\"./interaction/Interaction.js\").default>} [interactions]\n * @property {HTMLElement|Document} keyboardEventTarget\n * @property {Collection<import(\"./Overlay.js\").default>} overlays\n * @property {Object<string, *>} values\n */\n/**\n * Object literal with config options for the map.\n * @typedef {Object} MapOptions\n * @property {Collection<import(\"./control/Control.js\").default>|Array<import(\"./control/Control.js\").default>} [controls]\n * Controls initially added to the map. If not specified,\n * {@link module:ol/control~defaults} is used.\n * @property {number} [pixelRatio=window.devicePixelRatio] The ratio between\n * physical pixels and device-independent pixels (dips) on the device.\n * @property {Collection<import(\"./interaction/Interaction.js\").default>|Array<import(\"./interaction/Interaction.js\").default>} [interactions]\n * Interactions that are initially added to the map. If not specified,\n * {@link module:ol/interaction~defaults} is used.\n * @property {HTMLElement|Document|string} [keyboardEventTarget] The element to\n * listen to keyboard events on. This determines when the `KeyboardPan` and\n * `KeyboardZoom` interactions trigger. For example, if this option is set to\n * `document` the keyboard interactions will always trigger. If this option is\n * not specified, the element the library listens to keyboard events on is the\n * map target (i.e. the user-provided div for the map). If this is not\n * `document`, the target element needs to be focused for key events to be\n * emitted, requiring that the target element has a `tabindex` attribute.\n * @property {Array<import(\"./layer/Base.js\").default>|Collection<import(\"./layer/Base.js\").default>|LayerGroup} [layers]\n * Layers. If this is not defined, a map with no layers will be rendered. Note\n * that layers are rendered in the order supplied, so if you want, for example,\n * a vector layer to appear on top of a tile layer, it must come after the tile\n * layer.\n * @property {number} [maxTilesLoading=16] Maximum number tiles to load\n * simultaneously.\n * @property {number} [moveTolerance=1] The minimum distance in pixels the\n * cursor must move to be detected as a map move event instead of a click.\n * Increasing this value can make it easier to click on the map.\n * @property {Collection<import(\"./Overlay.js\").default>|Array<import(\"./Overlay.js\").default>} [overlays]\n * Overlays initially added to the map. By default, no overlays are added.\n * @property {HTMLElement|string} [target] The container for the map, either the\n * element itself or the `id` of the element. If not specified at construction\n * time, {@link module:ol/Map~Map#setTarget} must be called for the map to be\n * rendered. If passed by element, the container can be in a secondary document.\n * @property {View} [view] The map's view.  No layer sources will be\n * fetched unless this is specified at construction time or through\n * {@link module:ol/Map~Map#setView}.\n */\n/**\n * @fires import(\"./MapBrowserEvent.js\").MapBrowserEvent\n * @fires import(\"./MapEvent.js\").MapEvent\n * @fires import(\"./render/Event.js\").default#precompose\n * @fires import(\"./render/Event.js\").default#postcompose\n * @fires import(\"./render/Event.js\").default#rendercomplete\n * @api\n */\nvar PluggableMap = /** @class */ (function (_super) {\n    __extends(PluggableMap, _super);\n    /**\n     * @param {MapOptions} options Map options.\n     */\n    function PluggableMap(options) {\n        var _this = _super.call(this) || this;\n        var optionsInternal = createOptionsInternal(options);\n        /** @private */\n        _this.boundHandleBrowserEvent_ = _this.handleBrowserEvent.bind(_this);\n        /**\n         * @type {number}\n         * @private\n         */\n        _this.maxTilesLoading_ =\n            options.maxTilesLoading !== undefined ? options.maxTilesLoading : 16;\n        /**\n         * @private\n         * @type {number}\n         */\n        _this.pixelRatio_ =\n            options.pixelRatio !== undefined\n                ? options.pixelRatio\n                : DEVICE_PIXEL_RATIO;\n        /**\n         * @private\n         * @type {*}\n         */\n        _this.postRenderTimeoutHandle_;\n        /**\n         * @private\n         * @type {number|undefined}\n         */\n        _this.animationDelayKey_;\n        /**\n         * @private\n         */\n        _this.animationDelay_ = /** @this {PluggableMap} */ function () {\n            this.animationDelayKey_ = undefined;\n            this.renderFrame_(Date.now());\n        }.bind(_this);\n        /**\n         * @private\n         * @type {import(\"./transform.js\").Transform}\n         */\n        _this.coordinateToPixelTransform_ = createTransform();\n        /**\n         * @private\n         * @type {import(\"./transform.js\").Transform}\n         */\n        _this.pixelToCoordinateTransform_ = createTransform();\n        /**\n         * @private\n         * @type {number}\n         */\n        _this.frameIndex_ = 0;\n        /**\n         * @private\n         * @type {?FrameState}\n         */\n        _this.frameState_ = null;\n        /**\n         * The extent at the previous 'moveend' event.\n         * @private\n         * @type {import(\"./extent.js\").Extent}\n         */\n        _this.previousExtent_ = null;\n        /**\n         * @private\n         * @type {?import(\"./events.js\").EventsKey}\n         */\n        _this.viewPropertyListenerKey_ = null;\n        /**\n         * @private\n         * @type {?import(\"./events.js\").EventsKey}\n         */\n        _this.viewChangeListenerKey_ = null;\n        /**\n         * @private\n         * @type {?Array<import(\"./events.js\").EventsKey>}\n         */\n        _this.layerGroupPropertyListenerKeys_ = null;\n        /**\n         * @private\n         * @type {!HTMLElement}\n         */\n        _this.viewport_ = document.createElement('div');\n        _this.viewport_.className =\n            'ol-viewport' + ('ontouchstart' in window ? ' ol-touch' : '');\n        _this.viewport_.style.position = 'relative';\n        _this.viewport_.style.overflow = 'hidden';\n        _this.viewport_.style.width = '100%';\n        _this.viewport_.style.height = '100%';\n        /**\n         * @private\n         * @type {!HTMLElement}\n         */\n        _this.overlayContainer_ = document.createElement('div');\n        _this.overlayContainer_.style.position = 'absolute';\n        _this.overlayContainer_.style.zIndex = '0';\n        _this.overlayContainer_.style.width = '100%';\n        _this.overlayContainer_.style.height = '100%';\n        _this.overlayContainer_.style.pointerEvents = 'none';\n        _this.overlayContainer_.className = 'ol-overlaycontainer';\n        _this.viewport_.appendChild(_this.overlayContainer_);\n        /**\n         * @private\n         * @type {!HTMLElement}\n         */\n        _this.overlayContainerStopEvent_ = document.createElement('div');\n        _this.overlayContainerStopEvent_.style.position = 'absolute';\n        _this.overlayContainerStopEvent_.style.zIndex = '0';\n        _this.overlayContainerStopEvent_.style.width = '100%';\n        _this.overlayContainerStopEvent_.style.height = '100%';\n        _this.overlayContainerStopEvent_.style.pointerEvents = 'none';\n        _this.overlayContainerStopEvent_.className = 'ol-overlaycontainer-stopevent';\n        _this.viewport_.appendChild(_this.overlayContainerStopEvent_);\n        /**\n         * @private\n         * @type {MapBrowserEventHandler}\n         */\n        _this.mapBrowserEventHandler_ = null;\n        /**\n         * @private\n         * @type {number}\n         */\n        _this.moveTolerance_ = options.moveTolerance;\n        /**\n         * @private\n         * @type {HTMLElement|Document}\n         */\n        _this.keyboardEventTarget_ = optionsInternal.keyboardEventTarget;\n        /**\n         * @private\n         * @type {?Array<import(\"./events.js\").EventsKey>}\n         */\n        _this.keyHandlerKeys_ = null;\n        /**\n         * @type {Collection<import(\"./control/Control.js\").default>}\n         * @protected\n         */\n        _this.controls = optionsInternal.controls || new Collection();\n        /**\n         * @type {Collection<import(\"./interaction/Interaction.js\").default>}\n         * @protected\n         */\n        _this.interactions = optionsInternal.interactions || new Collection();\n        /**\n         * @type {Collection<import(\"./Overlay.js\").default>}\n         * @private\n         */\n        _this.overlays_ = optionsInternal.overlays;\n        /**\n         * A lookup of overlays by id.\n         * @private\n         * @type {Object<string, import(\"./Overlay.js\").default>}\n         */\n        _this.overlayIdIndex_ = {};\n        /**\n         * @type {import(\"./renderer/Map.js\").default}\n         * @private\n         */\n        _this.renderer_ = null;\n        /**\n         * @type {undefined|function(Event): void}\n         * @private\n         */\n        _this.handleResize_;\n        /**\n         * @private\n         * @type {!Array<PostRenderFunction>}\n         */\n        _this.postRenderFunctions_ = [];\n        /**\n         * @private\n         * @type {TileQueue}\n         */\n        _this.tileQueue_ = new TileQueue(_this.getTilePriority.bind(_this), _this.handleTileChange_.bind(_this));\n        _this.addEventListener(getChangeEventType(MapProperty.LAYERGROUP), _this.handleLayerGroupChanged_);\n        _this.addEventListener(getChangeEventType(MapProperty.VIEW), _this.handleViewChanged_);\n        _this.addEventListener(getChangeEventType(MapProperty.SIZE), _this.handleSizeChanged_);\n        _this.addEventListener(getChangeEventType(MapProperty.TARGET), _this.handleTargetChanged_);\n        // setProperties will trigger the rendering of the map if the map\n        // is \"defined\" already.\n        _this.setProperties(optionsInternal.values);\n        _this.controls.forEach(\n        /**\n         * @param {import(\"./control/Control.js\").default} control Control.\n         * @this {PluggableMap}\n         */\n        function (control) {\n            control.setMap(this);\n        }.bind(_this));\n        _this.controls.addEventListener(CollectionEventType.ADD, \n        /**\n         * @param {import(\"./Collection.js\").CollectionEvent} event CollectionEvent.\n         */\n        function (event) {\n            event.element.setMap(this);\n        }.bind(_this));\n        _this.controls.addEventListener(CollectionEventType.REMOVE, \n        /**\n         * @param {import(\"./Collection.js\").CollectionEvent} event CollectionEvent.\n         */\n        function (event) {\n            event.element.setMap(null);\n        }.bind(_this));\n        _this.interactions.forEach(\n        /**\n         * @param {import(\"./interaction/Interaction.js\").default} interaction Interaction.\n         * @this {PluggableMap}\n         */\n        function (interaction) {\n            interaction.setMap(this);\n        }.bind(_this));\n        _this.interactions.addEventListener(CollectionEventType.ADD, \n        /**\n         * @param {import(\"./Collection.js\").CollectionEvent} event CollectionEvent.\n         */\n        function (event) {\n            event.element.setMap(this);\n        }.bind(_this));\n        _this.interactions.addEventListener(CollectionEventType.REMOVE, \n        /**\n         * @param {import(\"./Collection.js\").CollectionEvent} event CollectionEvent.\n         */\n        function (event) {\n            event.element.setMap(null);\n        }.bind(_this));\n        _this.overlays_.forEach(_this.addOverlayInternal_.bind(_this));\n        _this.overlays_.addEventListener(CollectionEventType.ADD, \n        /**\n         * @param {import(\"./Collection.js\").CollectionEvent} event CollectionEvent.\n         */\n        function (event) {\n            this.addOverlayInternal_(\n            /** @type {import(\"./Overlay.js\").default} */ (event.element));\n        }.bind(_this));\n        _this.overlays_.addEventListener(CollectionEventType.REMOVE, \n        /**\n         * @param {import(\"./Collection.js\").CollectionEvent} event CollectionEvent.\n         */\n        function (event) {\n            var overlay = /** @type {import(\"./Overlay.js\").default} */ (event.element);\n            var id = overlay.getId();\n            if (id !== undefined) {\n                delete this.overlayIdIndex_[id.toString()];\n            }\n            event.element.setMap(null);\n        }.bind(_this));\n        return _this;\n    }\n    /**\n     * @abstract\n     * @return {import(\"./renderer/Map.js\").default} The map renderer\n     */\n    PluggableMap.prototype.createRenderer = function () {\n        throw new Error('Use a map type that has a createRenderer method');\n    };\n    /**\n     * Add the given control to the map.\n     * @param {import(\"./control/Control.js\").default} control Control.\n     * @api\n     */\n    PluggableMap.prototype.addControl = function (control) {\n        this.getControls().push(control);\n    };\n    /**\n     * Add the given interaction to the map. If you want to add an interaction\n     * at another point of the collection use `getInteraction()` and the methods\n     * available on {@link module:ol/Collection~Collection}. This can be used to\n     * stop the event propagation from the handleEvent function. The interactions\n     * get to handle the events in the reverse order of this collection.\n     * @param {import(\"./interaction/Interaction.js\").default} interaction Interaction to add.\n     * @api\n     */\n    PluggableMap.prototype.addInteraction = function (interaction) {\n        this.getInteractions().push(interaction);\n    };\n    /**\n     * Adds the given layer to the top of this map. If you want to add a layer\n     * elsewhere in the stack, use `getLayers()` and the methods available on\n     * {@link module:ol/Collection~Collection}.\n     * @param {import(\"./layer/Base.js\").default} layer Layer.\n     * @api\n     */\n    PluggableMap.prototype.addLayer = function (layer) {\n        var layers = this.getLayerGroup().getLayers();\n        layers.push(layer);\n    };\n    /**\n     * Add the given overlay to the map.\n     * @param {import(\"./Overlay.js\").default} overlay Overlay.\n     * @api\n     */\n    PluggableMap.prototype.addOverlay = function (overlay) {\n        this.getOverlays().push(overlay);\n    };\n    /**\n     * This deals with map's overlay collection changes.\n     * @param {import(\"./Overlay.js\").default} overlay Overlay.\n     * @private\n     */\n    PluggableMap.prototype.addOverlayInternal_ = function (overlay) {\n        var id = overlay.getId();\n        if (id !== undefined) {\n            this.overlayIdIndex_[id.toString()] = overlay;\n        }\n        overlay.setMap(this);\n    };\n    /**\n     *\n     * Clean up.\n     */\n    PluggableMap.prototype.disposeInternal = function () {\n        this.setTarget(null);\n        _super.prototype.disposeInternal.call(this);\n    };\n    /**\n     * Detect features that intersect a pixel on the viewport, and execute a\n     * callback with each intersecting feature. Layers included in the detection can\n     * be configured through the `layerFilter` option in `opt_options`.\n     * @param {import(\"./pixel.js\").Pixel} pixel Pixel.\n     * @param {function(import(\"./Feature.js\").FeatureLike, import(\"./layer/Layer.js\").default, import(\"./geom/SimpleGeometry.js\").default): T} callback Feature callback. The callback will be\n     *     called with two arguments. The first argument is one\n     *     {@link module:ol/Feature feature} or\n     *     {@link module:ol/render/Feature render feature} at the pixel, the second is\n     *     the {@link module:ol/layer/Layer layer} of the feature and will be null for\n     *     unmanaged layers. To stop detection, callback functions can return a\n     *     truthy value.\n     * @param {AtPixelOptions=} opt_options Optional options.\n     * @return {T|undefined} Callback result, i.e. the return value of last\n     * callback execution, or the first truthy callback return value.\n     * @template S,T\n     * @api\n     */\n    PluggableMap.prototype.forEachFeatureAtPixel = function (pixel, callback, opt_options) {\n        if (!this.frameState_) {\n            return;\n        }\n        var coordinate = this.getCoordinateFromPixelInternal(pixel);\n        opt_options = opt_options !== undefined ? opt_options : {};\n        var hitTolerance = opt_options.hitTolerance !== undefined ? opt_options.hitTolerance : 0;\n        var layerFilter = opt_options.layerFilter !== undefined ? opt_options.layerFilter : TRUE;\n        var checkWrapped = opt_options.checkWrapped !== false;\n        return this.renderer_.forEachFeatureAtCoordinate(coordinate, this.frameState_, hitTolerance, checkWrapped, callback, null, layerFilter, null);\n    };\n    /**\n     * Get all features that intersect a pixel on the viewport.\n     * @param {import(\"./pixel.js\").Pixel} pixel Pixel.\n     * @param {AtPixelOptions=} opt_options Optional options.\n     * @return {Array<import(\"./Feature.js\").FeatureLike>} The detected features or\n     * an empty array if none were found.\n     * @api\n     */\n    PluggableMap.prototype.getFeaturesAtPixel = function (pixel, opt_options) {\n        var features = [];\n        this.forEachFeatureAtPixel(pixel, function (feature) {\n            features.push(feature);\n        }, opt_options);\n        return features;\n    };\n    /**\n     * Detect layers that have a color value at a pixel on the viewport, and\n     * execute a callback with each matching layer. Layers included in the\n     * detection can be configured through `opt_layerFilter`.\n     *\n     * Note: this may give false positives unless the map layers have had different `className`\n     * properties assigned to them.\n     *\n     * @param {import(\"./pixel.js\").Pixel} pixel Pixel.\n     * @param {function(this: S, import(\"./layer/Layer.js\").default, (Uint8ClampedArray|Uint8Array)): T} callback\n     *     Layer callback. This callback will receive two arguments: first is the\n     *     {@link module:ol/layer/Layer layer}, second argument is an array representing\n     *     [R, G, B, A] pixel values (0 - 255) and will be `null` for layer types\n     *     that do not currently support this argument. To stop detection, callback\n     *     functions can return a truthy value.\n     * @param {AtPixelOptions=} opt_options Configuration options.\n     * @return {T|undefined} Callback result, i.e. the return value of last\n     * callback execution, or the first truthy callback return value.\n     * @template S,T\n     * @api\n     */\n    PluggableMap.prototype.forEachLayerAtPixel = function (pixel, callback, opt_options) {\n        if (!this.frameState_) {\n            return;\n        }\n        var options = opt_options || {};\n        var hitTolerance = options.hitTolerance !== undefined ? options.hitTolerance : 0;\n        var layerFilter = options.layerFilter || TRUE;\n        return this.renderer_.forEachLayerAtPixel(pixel, this.frameState_, hitTolerance, callback, layerFilter);\n    };\n    /**\n     * Detect if features intersect a pixel on the viewport. Layers included in the\n     * detection can be configured through `opt_layerFilter`.\n     * @param {import(\"./pixel.js\").Pixel} pixel Pixel.\n     * @param {AtPixelOptions=} opt_options Optional options.\n     * @return {boolean} Is there a feature at the given pixel?\n     * @api\n     */\n    PluggableMap.prototype.hasFeatureAtPixel = function (pixel, opt_options) {\n        if (!this.frameState_) {\n            return false;\n        }\n        var coordinate = this.getCoordinateFromPixelInternal(pixel);\n        opt_options = opt_options !== undefined ? opt_options : {};\n        var layerFilter = opt_options.layerFilter !== undefined ? opt_options.layerFilter : TRUE;\n        var hitTolerance = opt_options.hitTolerance !== undefined ? opt_options.hitTolerance : 0;\n        var checkWrapped = opt_options.checkWrapped !== false;\n        return this.renderer_.hasFeatureAtCoordinate(coordinate, this.frameState_, hitTolerance, checkWrapped, layerFilter, null);\n    };\n    /**\n     * Returns the coordinate in user projection for a browser event.\n     * @param {MouseEvent} event Event.\n     * @return {import(\"./coordinate.js\").Coordinate} Coordinate.\n     * @api\n     */\n    PluggableMap.prototype.getEventCoordinate = function (event) {\n        return this.getCoordinateFromPixel(this.getEventPixel(event));\n    };\n    /**\n     * Returns the coordinate in view projection for a browser event.\n     * @param {MouseEvent} event Event.\n     * @return {import(\"./coordinate.js\").Coordinate} Coordinate.\n     */\n    PluggableMap.prototype.getEventCoordinateInternal = function (event) {\n        return this.getCoordinateFromPixelInternal(this.getEventPixel(event));\n    };\n    /**\n     * Returns the map pixel position for a browser event relative to the viewport.\n     * @param {UIEvent} event Event.\n     * @return {import(\"./pixel.js\").Pixel} Pixel.\n     * @api\n     */\n    PluggableMap.prototype.getEventPixel = function (event) {\n        var viewportPosition = this.viewport_.getBoundingClientRect();\n        var eventPosition = \n        //FIXME Are we really calling this with a TouchEvent anywhere?\n        'changedTouches' in event\n            ? /** @type {TouchEvent} */ (event).changedTouches[0]\n            : /** @type {MouseEvent} */ (event);\n        return [\n            eventPosition.clientX - viewportPosition.left,\n            eventPosition.clientY - viewportPosition.top,\n        ];\n    };\n    /**\n     * Get the target in which this map is rendered.\n     * Note that this returns what is entered as an option or in setTarget:\n     * if that was an element, it returns an element; if a string, it returns that.\n     * @return {HTMLElement|string|undefined} The Element or id of the Element that the\n     *     map is rendered in.\n     * @observable\n     * @api\n     */\n    PluggableMap.prototype.getTarget = function () {\n        return /** @type {HTMLElement|string|undefined} */ (this.get(MapProperty.TARGET));\n    };\n    /**\n     * Get the DOM element into which this map is rendered. In contrast to\n     * `getTarget` this method always return an `Element`, or `null` if the\n     * map has no target.\n     * @return {HTMLElement} The element that the map is rendered in.\n     * @api\n     */\n    PluggableMap.prototype.getTargetElement = function () {\n        var target = this.getTarget();\n        if (target !== undefined) {\n            return typeof target === 'string'\n                ? document.getElementById(target)\n                : target;\n        }\n        else {\n            return null;\n        }\n    };\n    /**\n     * Get the coordinate for a given pixel.  This returns a coordinate in the\n     * user projection.\n     * @param {import(\"./pixel.js\").Pixel} pixel Pixel position in the map viewport.\n     * @return {import(\"./coordinate.js\").Coordinate} The coordinate for the pixel position.\n     * @api\n     */\n    PluggableMap.prototype.getCoordinateFromPixel = function (pixel) {\n        return toUserCoordinate(this.getCoordinateFromPixelInternal(pixel), this.getView().getProjection());\n    };\n    /**\n     * Get the coordinate for a given pixel.  This returns a coordinate in the\n     * map view projection.\n     * @param {import(\"./pixel.js\").Pixel} pixel Pixel position in the map viewport.\n     * @return {import(\"./coordinate.js\").Coordinate} The coordinate for the pixel position.\n     */\n    PluggableMap.prototype.getCoordinateFromPixelInternal = function (pixel) {\n        var frameState = this.frameState_;\n        if (!frameState) {\n            return null;\n        }\n        else {\n            return applyTransform(frameState.pixelToCoordinateTransform, pixel.slice());\n        }\n    };\n    /**\n     * Get the map controls. Modifying this collection changes the controls\n     * associated with the map.\n     * @return {Collection<import(\"./control/Control.js\").default>} Controls.\n     * @api\n     */\n    PluggableMap.prototype.getControls = function () {\n        return this.controls;\n    };\n    /**\n     * Get the map overlays. Modifying this collection changes the overlays\n     * associated with the map.\n     * @return {Collection<import(\"./Overlay.js\").default>} Overlays.\n     * @api\n     */\n    PluggableMap.prototype.getOverlays = function () {\n        return this.overlays_;\n    };\n    /**\n     * Get an overlay by its identifier (the value returned by overlay.getId()).\n     * Note that the index treats string and numeric identifiers as the same. So\n     * `map.getOverlayById(2)` will return an overlay with id `'2'` or `2`.\n     * @param {string|number} id Overlay identifier.\n     * @return {import(\"./Overlay.js\").default} Overlay.\n     * @api\n     */\n    PluggableMap.prototype.getOverlayById = function (id) {\n        var overlay = this.overlayIdIndex_[id.toString()];\n        return overlay !== undefined ? overlay : null;\n    };\n    /**\n     * Get the map interactions. Modifying this collection changes the interactions\n     * associated with the map.\n     *\n     * Interactions are used for e.g. pan, zoom and rotate.\n     * @return {Collection<import(\"./interaction/Interaction.js\").default>} Interactions.\n     * @api\n     */\n    PluggableMap.prototype.getInteractions = function () {\n        return this.interactions;\n    };\n    /**\n     * Get the layergroup associated with this map.\n     * @return {LayerGroup} A layer group containing the layers in this map.\n     * @observable\n     * @api\n     */\n    PluggableMap.prototype.getLayerGroup = function () {\n        return /** @type {LayerGroup} */ (this.get(MapProperty.LAYERGROUP));\n    };\n    /**\n     * Get the collection of layers associated with this map.\n     * @return {!Collection<import(\"./layer/Base.js\").default>} Layers.\n     * @api\n     */\n    PluggableMap.prototype.getLayers = function () {\n        var layers = this.getLayerGroup().getLayers();\n        return layers;\n    };\n    /**\n     * @return {boolean} Layers have sources that are still loading.\n     */\n    PluggableMap.prototype.getLoading = function () {\n        var layerStatesArray = this.getLayerGroup().getLayerStatesArray();\n        for (var i = 0, ii = layerStatesArray.length; i < ii; ++i) {\n            var layer = layerStatesArray[i].layer;\n            var source = /** @type {import(\"./layer/Layer.js\").default} */ (layer).getSource();\n            if (source && source.loading) {\n                return true;\n            }\n        }\n        return false;\n    };\n    /**\n     * Get the pixel for a coordinate.  This takes a coordinate in the user\n     * projection and returns the corresponding pixel.\n     * @param {import(\"./coordinate.js\").Coordinate} coordinate A map coordinate.\n     * @return {import(\"./pixel.js\").Pixel} A pixel position in the map viewport.\n     * @api\n     */\n    PluggableMap.prototype.getPixelFromCoordinate = function (coordinate) {\n        var viewCoordinate = fromUserCoordinate(coordinate, this.getView().getProjection());\n        return this.getPixelFromCoordinateInternal(viewCoordinate);\n    };\n    /**\n     * Get the pixel for a coordinate.  This takes a coordinate in the map view\n     * projection and returns the corresponding pixel.\n     * @param {import(\"./coordinate.js\").Coordinate} coordinate A map coordinate.\n     * @return {import(\"./pixel.js\").Pixel} A pixel position in the map viewport.\n     */\n    PluggableMap.prototype.getPixelFromCoordinateInternal = function (coordinate) {\n        var frameState = this.frameState_;\n        if (!frameState) {\n            return null;\n        }\n        else {\n            return applyTransform(frameState.coordinateToPixelTransform, coordinate.slice(0, 2));\n        }\n    };\n    /**\n     * Get the map renderer.\n     * @return {import(\"./renderer/Map.js\").default} Renderer\n     */\n    PluggableMap.prototype.getRenderer = function () {\n        return this.renderer_;\n    };\n    /**\n     * Get the size of this map.\n     * @return {import(\"./size.js\").Size|undefined} The size in pixels of the map in the DOM.\n     * @observable\n     * @api\n     */\n    PluggableMap.prototype.getSize = function () {\n        return /** @type {import(\"./size.js\").Size|undefined} */ (this.get(MapProperty.SIZE));\n    };\n    /**\n     * Get the view associated with this map. A view manages properties such as\n     * center and resolution.\n     * @return {View} The view that controls this map.\n     * @observable\n     * @api\n     */\n    PluggableMap.prototype.getView = function () {\n        return /** @type {View} */ (this.get(MapProperty.VIEW));\n    };\n    /**\n     * Get the element that serves as the map viewport.\n     * @return {HTMLElement} Viewport.\n     * @api\n     */\n    PluggableMap.prototype.getViewport = function () {\n        return this.viewport_;\n    };\n    /**\n     * Get the element that serves as the container for overlays.  Elements added to\n     * this container will let mousedown and touchstart events through to the map,\n     * so clicks and gestures on an overlay will trigger {@link module:ol/MapBrowserEvent~MapBrowserEvent}\n     * events.\n     * @return {!HTMLElement} The map's overlay container.\n     */\n    PluggableMap.prototype.getOverlayContainer = function () {\n        return this.overlayContainer_;\n    };\n    /**\n     * Get the element that serves as a container for overlays that don't allow\n     * event propagation. Elements added to this container won't let mousedown and\n     * touchstart events through to the map, so clicks and gestures on an overlay\n     * don't trigger any {@link module:ol/MapBrowserEvent~MapBrowserEvent}.\n     * @return {!HTMLElement} The map's overlay container that stops events.\n     */\n    PluggableMap.prototype.getOverlayContainerStopEvent = function () {\n        return this.overlayContainerStopEvent_;\n    };\n    /**\n     * @return {!Document} The document where the map is displayed.\n     */\n    PluggableMap.prototype.getOwnerDocument = function () {\n        return this.getTargetElement()\n            ? this.getTargetElement().ownerDocument\n            : document;\n    };\n    /**\n     * @param {import(\"./Tile.js\").default} tile Tile.\n     * @param {string} tileSourceKey Tile source key.\n     * @param {import(\"./coordinate.js\").Coordinate} tileCenter Tile center.\n     * @param {number} tileResolution Tile resolution.\n     * @return {number} Tile priority.\n     */\n    PluggableMap.prototype.getTilePriority = function (tile, tileSourceKey, tileCenter, tileResolution) {\n        return getTilePriority(this.frameState_, tile, tileSourceKey, tileCenter, tileResolution);\n    };\n    /**\n     * @param {UIEvent} browserEvent Browser event.\n     * @param {string=} opt_type Type.\n     */\n    PluggableMap.prototype.handleBrowserEvent = function (browserEvent, opt_type) {\n        var type = opt_type || browserEvent.type;\n        var mapBrowserEvent = new MapBrowserEvent(type, this, browserEvent);\n        this.handleMapBrowserEvent(mapBrowserEvent);\n    };\n    /**\n     * @param {MapBrowserEvent} mapBrowserEvent The event to handle.\n     */\n    PluggableMap.prototype.handleMapBrowserEvent = function (mapBrowserEvent) {\n        if (!this.frameState_) {\n            // With no view defined, we cannot translate pixels into geographical\n            // coordinates so interactions cannot be used.\n            return;\n        }\n        var originalEvent = /** @type {PointerEvent} */ (mapBrowserEvent.originalEvent);\n        var eventType = originalEvent.type;\n        if (eventType === PointerEventType.POINTERDOWN ||\n            eventType === EventType.WHEEL ||\n            eventType === EventType.KEYDOWN) {\n            var doc = this.getOwnerDocument();\n            var rootNode = this.viewport_.getRootNode\n                ? this.viewport_.getRootNode()\n                : doc;\n            var target = 'host' in rootNode // ShadowRoot\n                ? /** @type {ShadowRoot} */ (rootNode).elementFromPoint(originalEvent.clientX, originalEvent.clientY)\n                : /** @type {Node} */ (originalEvent.target);\n            if (\n            // Abort if the target is a child of the container for elements whose events are not meant\n            // to be handled by map interactions.\n            this.overlayContainerStopEvent_.contains(target) ||\n                // Abort if the event target is a child of the container that is no longer in the page.\n                // It's possible for the target to no longer be in the page if it has been removed in an\n                // event listener, this might happen in a Control that recreates it's content based on\n                // user interaction either manually or via a render in something like https://reactjs.org/\n                !(rootNode === doc ? doc.documentElement : rootNode).contains(target)) {\n                return;\n            }\n        }\n        mapBrowserEvent.frameState = this.frameState_;\n        if (this.dispatchEvent(mapBrowserEvent) !== false) {\n            var interactionsArray = this.getInteractions().getArray().slice();\n            for (var i = interactionsArray.length - 1; i >= 0; i--) {\n                var interaction = interactionsArray[i];\n                if (interaction.getMap() !== this ||\n                    !interaction.getActive() ||\n                    !this.getTargetElement()) {\n                    continue;\n                }\n                var cont = interaction.handleEvent(mapBrowserEvent);\n                if (!cont || mapBrowserEvent.propagationStopped) {\n                    break;\n                }\n            }\n        }\n    };\n    /**\n     * @protected\n     */\n    PluggableMap.prototype.handlePostRender = function () {\n        var frameState = this.frameState_;\n        // Manage the tile queue\n        // Image loads are expensive and a limited resource, so try to use them\n        // efficiently:\n        // * When the view is static we allow a large number of parallel tile loads\n        //   to complete the frame as quickly as possible.\n        // * When animating or interacting, image loads can cause janks, so we reduce\n        //   the maximum number of loads per frame and limit the number of parallel\n        //   tile loads to remain reactive to view changes and to reduce the chance of\n        //   loading tiles that will quickly disappear from view.\n        var tileQueue = this.tileQueue_;\n        if (!tileQueue.isEmpty()) {\n            var maxTotalLoading = this.maxTilesLoading_;\n            var maxNewLoads = maxTotalLoading;\n            if (frameState) {\n                var hints = frameState.viewHints;\n                if (hints[ViewHint.ANIMATING] || hints[ViewHint.INTERACTING]) {\n                    var lowOnFrameBudget = !IMAGE_DECODE && Date.now() - frameState.time > 8;\n                    maxTotalLoading = lowOnFrameBudget ? 0 : 8;\n                    maxNewLoads = lowOnFrameBudget ? 0 : 2;\n                }\n            }\n            if (tileQueue.getTilesLoading() < maxTotalLoading) {\n                tileQueue.reprioritize(); // FIXME only call if view has changed\n                tileQueue.loadMoreTiles(maxTotalLoading, maxNewLoads);\n            }\n        }\n        if (frameState &&\n            this.hasListener(RenderEventType.RENDERCOMPLETE) &&\n            !frameState.animate &&\n            !this.tileQueue_.getTilesLoading() &&\n            !this.getLoading()) {\n            this.renderer_.dispatchRenderEvent(RenderEventType.RENDERCOMPLETE, frameState);\n        }\n        var postRenderFunctions = this.postRenderFunctions_;\n        for (var i = 0, ii = postRenderFunctions.length; i < ii; ++i) {\n            postRenderFunctions[i](this, frameState);\n        }\n        postRenderFunctions.length = 0;\n    };\n    /**\n     * @private\n     */\n    PluggableMap.prototype.handleSizeChanged_ = function () {\n        if (this.getView() && !this.getView().getAnimating()) {\n            this.getView().resolveConstraints(0);\n        }\n        this.render();\n    };\n    /**\n     * @private\n     */\n    PluggableMap.prototype.handleTargetChanged_ = function () {\n        // target may be undefined, null, a string or an Element.\n        // If it's a string we convert it to an Element before proceeding.\n        // If it's not now an Element we remove the viewport from the DOM.\n        // If it's an Element we append the viewport element to it.\n        var targetElement;\n        if (this.getTarget()) {\n            targetElement = this.getTargetElement();\n        }\n        if (this.mapBrowserEventHandler_) {\n            for (var i = 0, ii = this.keyHandlerKeys_.length; i < ii; ++i) {\n                unlistenByKey(this.keyHandlerKeys_[i]);\n            }\n            this.keyHandlerKeys_ = null;\n            this.viewport_.removeEventListener(EventType.CONTEXTMENU, this.boundHandleBrowserEvent_);\n            this.viewport_.removeEventListener(EventType.WHEEL, this.boundHandleBrowserEvent_);\n            if (this.handleResize_ !== undefined) {\n                removeEventListener(EventType.RESIZE, this.handleResize_, false);\n                this.handleResize_ = undefined;\n            }\n            this.mapBrowserEventHandler_.dispose();\n            this.mapBrowserEventHandler_ = null;\n            removeNode(this.viewport_);\n        }\n        if (!targetElement) {\n            if (this.renderer_) {\n                clearTimeout(this.postRenderTimeoutHandle_);\n                this.postRenderTimeoutHandle_ = undefined;\n                this.postRenderFunctions_.length = 0;\n                this.renderer_.dispose();\n                this.renderer_ = null;\n            }\n            if (this.animationDelayKey_) {\n                cancelAnimationFrame(this.animationDelayKey_);\n                this.animationDelayKey_ = undefined;\n            }\n        }\n        else {\n            targetElement.appendChild(this.viewport_);\n            if (!this.renderer_) {\n                this.renderer_ = this.createRenderer();\n            }\n            this.mapBrowserEventHandler_ = new MapBrowserEventHandler(this, this.moveTolerance_);\n            for (var key in MapBrowserEventType) {\n                this.mapBrowserEventHandler_.addEventListener(MapBrowserEventType[key], this.handleMapBrowserEvent.bind(this));\n            }\n            this.viewport_.addEventListener(EventType.CONTEXTMENU, this.boundHandleBrowserEvent_, false);\n            this.viewport_.addEventListener(EventType.WHEEL, this.boundHandleBrowserEvent_, PASSIVE_EVENT_LISTENERS ? { passive: false } : false);\n            var keyboardEventTarget = !this.keyboardEventTarget_\n                ? targetElement\n                : this.keyboardEventTarget_;\n            this.keyHandlerKeys_ = [\n                listen(keyboardEventTarget, EventType.KEYDOWN, this.handleBrowserEvent, this),\n                listen(keyboardEventTarget, EventType.KEYPRESS, this.handleBrowserEvent, this),\n            ];\n            if (!this.handleResize_) {\n                this.handleResize_ = this.updateSize.bind(this);\n                window.addEventListener(EventType.RESIZE, this.handleResize_, false);\n            }\n        }\n        this.updateSize();\n        // updateSize calls setSize, so no need to call this.render\n        // ourselves here.\n    };\n    /**\n     * @private\n     */\n    PluggableMap.prototype.handleTileChange_ = function () {\n        this.render();\n    };\n    /**\n     * @private\n     */\n    PluggableMap.prototype.handleViewPropertyChanged_ = function () {\n        this.render();\n    };\n    /**\n     * @private\n     */\n    PluggableMap.prototype.handleViewChanged_ = function () {\n        if (this.viewPropertyListenerKey_) {\n            unlistenByKey(this.viewPropertyListenerKey_);\n            this.viewPropertyListenerKey_ = null;\n        }\n        if (this.viewChangeListenerKey_) {\n            unlistenByKey(this.viewChangeListenerKey_);\n            this.viewChangeListenerKey_ = null;\n        }\n        var view = this.getView();\n        if (view) {\n            this.updateViewportSize_();\n            this.viewPropertyListenerKey_ = listen(view, ObjectEventType.PROPERTYCHANGE, this.handleViewPropertyChanged_, this);\n            this.viewChangeListenerKey_ = listen(view, EventType.CHANGE, this.handleViewPropertyChanged_, this);\n            view.resolveConstraints(0);\n        }\n        this.render();\n    };\n    /**\n     * @private\n     */\n    PluggableMap.prototype.handleLayerGroupChanged_ = function () {\n        if (this.layerGroupPropertyListenerKeys_) {\n            this.layerGroupPropertyListenerKeys_.forEach(unlistenByKey);\n            this.layerGroupPropertyListenerKeys_ = null;\n        }\n        var layerGroup = this.getLayerGroup();\n        if (layerGroup) {\n            this.layerGroupPropertyListenerKeys_ = [\n                listen(layerGroup, ObjectEventType.PROPERTYCHANGE, this.render, this),\n                listen(layerGroup, EventType.CHANGE, this.render, this),\n            ];\n        }\n        this.render();\n    };\n    /**\n     * @return {boolean} Is rendered.\n     */\n    PluggableMap.prototype.isRendered = function () {\n        return !!this.frameState_;\n    };\n    /**\n     * Requests an immediate render in a synchronous manner.\n     * @api\n     */\n    PluggableMap.prototype.renderSync = function () {\n        if (this.animationDelayKey_) {\n            cancelAnimationFrame(this.animationDelayKey_);\n        }\n        this.animationDelay_();\n    };\n    /**\n     * Redraws all text after new fonts have loaded\n     */\n    PluggableMap.prototype.redrawText = function () {\n        var layerStates = this.getLayerGroup().getLayerStatesArray();\n        for (var i = 0, ii = layerStates.length; i < ii; ++i) {\n            var layer = layerStates[i].layer;\n            if (layer.hasRenderer()) {\n                layer.getRenderer().handleFontsChanged();\n            }\n        }\n    };\n    /**\n     * Request a map rendering (at the next animation frame).\n     * @api\n     */\n    PluggableMap.prototype.render = function () {\n        if (this.renderer_ && this.animationDelayKey_ === undefined) {\n            this.animationDelayKey_ = requestAnimationFrame(this.animationDelay_);\n        }\n    };\n    /**\n     * Remove the given control from the map.\n     * @param {import(\"./control/Control.js\").default} control Control.\n     * @return {import(\"./control/Control.js\").default|undefined} The removed control (or undefined\n     *     if the control was not found).\n     * @api\n     */\n    PluggableMap.prototype.removeControl = function (control) {\n        return this.getControls().remove(control);\n    };\n    /**\n     * Remove the given interaction from the map.\n     * @param {import(\"./interaction/Interaction.js\").default} interaction Interaction to remove.\n     * @return {import(\"./interaction/Interaction.js\").default|undefined} The removed interaction (or\n     *     undefined if the interaction was not found).\n     * @api\n     */\n    PluggableMap.prototype.removeInteraction = function (interaction) {\n        return this.getInteractions().remove(interaction);\n    };\n    /**\n     * Removes the given layer from the map.\n     * @param {import(\"./layer/Base.js\").default} layer Layer.\n     * @return {import(\"./layer/Base.js\").default|undefined} The removed layer (or undefined if the\n     *     layer was not found).\n     * @api\n     */\n    PluggableMap.prototype.removeLayer = function (layer) {\n        var layers = this.getLayerGroup().getLayers();\n        return layers.remove(layer);\n    };\n    /**\n     * Remove the given overlay from the map.\n     * @param {import(\"./Overlay.js\").default} overlay Overlay.\n     * @return {import(\"./Overlay.js\").default|undefined} The removed overlay (or undefined\n     *     if the overlay was not found).\n     * @api\n     */\n    PluggableMap.prototype.removeOverlay = function (overlay) {\n        return this.getOverlays().remove(overlay);\n    };\n    /**\n     * @param {number} time Time.\n     * @private\n     */\n    PluggableMap.prototype.renderFrame_ = function (time) {\n        var _this = this;\n        var size = this.getSize();\n        var view = this.getView();\n        var previousFrameState = this.frameState_;\n        /** @type {?FrameState} */\n        var frameState = null;\n        if (size !== undefined && hasArea(size) && view && view.isDef()) {\n            var viewHints = view.getHints(this.frameState_ ? this.frameState_.viewHints : undefined);\n            var viewState = view.getState();\n            frameState = {\n                animate: false,\n                coordinateToPixelTransform: this.coordinateToPixelTransform_,\n                declutterTree: null,\n                extent: getForViewAndSize(viewState.center, viewState.resolution, viewState.rotation, size),\n                index: this.frameIndex_++,\n                layerIndex: 0,\n                layerStatesArray: this.getLayerGroup().getLayerStatesArray(),\n                pixelRatio: this.pixelRatio_,\n                pixelToCoordinateTransform: this.pixelToCoordinateTransform_,\n                postRenderFunctions: [],\n                size: size,\n                tileQueue: this.tileQueue_,\n                time: time,\n                usedTiles: {},\n                viewState: viewState,\n                viewHints: viewHints,\n                wantedTiles: {},\n            };\n        }\n        this.frameState_ = frameState;\n        this.renderer_.renderFrame(frameState);\n        if (frameState) {\n            if (frameState.animate) {\n                this.render();\n            }\n            Array.prototype.push.apply(this.postRenderFunctions_, frameState.postRenderFunctions);\n            if (previousFrameState) {\n                var moveStart = !this.previousExtent_ ||\n                    (!isEmpty(this.previousExtent_) &&\n                        !equals(frameState.extent, this.previousExtent_));\n                if (moveStart) {\n                    this.dispatchEvent(new MapEvent(MapEventType.MOVESTART, this, previousFrameState));\n                    this.previousExtent_ = createOrUpdateEmpty(this.previousExtent_);\n                }\n            }\n            var idle = this.previousExtent_ &&\n                !frameState.viewHints[ViewHint.ANIMATING] &&\n                !frameState.viewHints[ViewHint.INTERACTING] &&\n                !equals(frameState.extent, this.previousExtent_);\n            if (idle) {\n                this.dispatchEvent(new MapEvent(MapEventType.MOVEEND, this, frameState));\n                clone(frameState.extent, this.previousExtent_);\n            }\n        }\n        this.dispatchEvent(new MapEvent(MapEventType.POSTRENDER, this, frameState));\n        if (!this.postRenderTimeoutHandle_) {\n            this.postRenderTimeoutHandle_ = setTimeout(function () {\n                _this.postRenderTimeoutHandle_ = undefined;\n                _this.handlePostRender();\n            }, 0);\n        }\n    };\n    /**\n     * Sets the layergroup of this map.\n     * @param {LayerGroup} layerGroup A layer group containing the layers in this map.\n     * @observable\n     * @api\n     */\n    PluggableMap.prototype.setLayerGroup = function (layerGroup) {\n        this.set(MapProperty.LAYERGROUP, layerGroup);\n    };\n    /**\n     * Set the size of this map.\n     * @param {import(\"./size.js\").Size|undefined} size The size in pixels of the map in the DOM.\n     * @observable\n     * @api\n     */\n    PluggableMap.prototype.setSize = function (size) {\n        this.set(MapProperty.SIZE, size);\n    };\n    /**\n     * Set the target element to render this map into.\n     * @param {HTMLElement|string|undefined} target The Element or id of the Element\n     *     that the map is rendered in.\n     * @observable\n     * @api\n     */\n    PluggableMap.prototype.setTarget = function (target) {\n        this.set(MapProperty.TARGET, target);\n    };\n    /**\n     * Set the view for this map.\n     * @param {View} view The view that controls this map.\n     * @observable\n     * @api\n     */\n    PluggableMap.prototype.setView = function (view) {\n        this.set(MapProperty.VIEW, view);\n    };\n    /**\n     * Force a recalculation of the map viewport size.  This should be called when\n     * third-party code changes the size of the map viewport.\n     * @api\n     */\n    PluggableMap.prototype.updateSize = function () {\n        var targetElement = this.getTargetElement();\n        if (!targetElement) {\n            this.setSize(undefined);\n        }\n        else {\n            var computedStyle = getComputedStyle(targetElement);\n            this.setSize([\n                targetElement.offsetWidth -\n                    parseFloat(computedStyle['borderLeftWidth']) -\n                    parseFloat(computedStyle['paddingLeft']) -\n                    parseFloat(computedStyle['paddingRight']) -\n                    parseFloat(computedStyle['borderRightWidth']),\n                targetElement.offsetHeight -\n                    parseFloat(computedStyle['borderTopWidth']) -\n                    parseFloat(computedStyle['paddingTop']) -\n                    parseFloat(computedStyle['paddingBottom']) -\n                    parseFloat(computedStyle['borderBottomWidth']),\n            ]);\n        }\n        this.updateViewportSize_();\n    };\n    /**\n     * Recomputes the viewport size and save it on the view object (if any)\n     * @private\n     */\n    PluggableMap.prototype.updateViewportSize_ = function () {\n        var view = this.getView();\n        if (view) {\n            var size = undefined;\n            var computedStyle = getComputedStyle(this.viewport_);\n            if (computedStyle.width && computedStyle.height) {\n                size = [\n                    parseInt(computedStyle.width, 10),\n                    parseInt(computedStyle.height, 10),\n                ];\n            }\n            view.setViewportSize(size);\n        }\n    };\n    return PluggableMap;\n}(BaseObject));\n/**\n * @param {MapOptions} options Map options.\n * @return {MapOptionsInternal} Internal map options.\n */\nfunction createOptionsInternal(options) {\n    /**\n     * @type {HTMLElement|Document}\n     */\n    var keyboardEventTarget = null;\n    if (options.keyboardEventTarget !== undefined) {\n        keyboardEventTarget =\n            typeof options.keyboardEventTarget === 'string'\n                ? document.getElementById(options.keyboardEventTarget)\n                : options.keyboardEventTarget;\n    }\n    /**\n     * @type {Object<string, *>}\n     */\n    var values = {};\n    var layerGroup = options.layers &&\n        typeof ( /** @type {?} */(options.layers).getLayers) === 'function'\n        ? /** @type {LayerGroup} */ (options.layers)\n        : new LayerGroup({ layers: /** @type {Collection} */ (options.layers) });\n    values[MapProperty.LAYERGROUP] = layerGroup;\n    values[MapProperty.TARGET] = options.target;\n    values[MapProperty.VIEW] =\n        options.view !== undefined ? options.view : new View();\n    var controls;\n    if (options.controls !== undefined) {\n        if (Array.isArray(options.controls)) {\n            controls = new Collection(options.controls.slice());\n        }\n        else {\n            assert(typeof ( /** @type {?} */(options.controls).getArray) === 'function', 47); // Expected `controls` to be an array or an `import(\"./Collection.js\").Collection`\n            controls = /** @type {Collection} */ (options.controls);\n        }\n    }\n    var interactions;\n    if (options.interactions !== undefined) {\n        if (Array.isArray(options.interactions)) {\n            interactions = new Collection(options.interactions.slice());\n        }\n        else {\n            assert(typeof ( /** @type {?} */(options.interactions).getArray) ===\n                'function', 48); // Expected `interactions` to be an array or an `import(\"./Collection.js\").Collection`\n            interactions = /** @type {Collection} */ (options.interactions);\n        }\n    }\n    var overlays;\n    if (options.overlays !== undefined) {\n        if (Array.isArray(options.overlays)) {\n            overlays = new Collection(options.overlays.slice());\n        }\n        else {\n            assert(typeof ( /** @type {?} */(options.overlays).getArray) === 'function', 49); // Expected `overlays` to be an array or an `import(\"./Collection.js\").Collection`\n            overlays = options.overlays;\n        }\n    }\n    else {\n        overlays = new Collection();\n    }\n    return {\n        controls: controls,\n        interactions: interactions,\n        keyboardEventTarget: keyboardEventTarget,\n        overlays: overlays,\n        values: values,\n    };\n}\nexport default PluggableMap;\n//# sourceMappingURL=PluggableMap.js.map","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n/**\n * @module ol/control/Control\n */\nimport BaseObject from '../Object.js';\nimport MapEventType from '../MapEventType.js';\nimport { VOID } from '../functions.js';\nimport { listen, unlistenByKey } from '../events.js';\nimport { removeNode } from '../dom.js';\n/**\n * @typedef {Object} Options\n * @property {HTMLElement} [element] The element is the control's\n * container element. This only needs to be specified if you're developing\n * a custom control.\n * @property {function(import(\"../MapEvent.js\").default):void} [render] Function called when\n * the control should be re-rendered. This is called in a `requestAnimationFrame`\n * callback.\n * @property {HTMLElement|string} [target] Specify a target if you want\n * the control to be rendered outside of the map's viewport.\n */\n/**\n * @classdesc\n * A control is a visible widget with a DOM element in a fixed position on the\n * screen. They can involve user input (buttons), or be informational only;\n * the position is determined using CSS. By default these are placed in the\n * container with CSS class name `ol-overlaycontainer-stopevent`, but can use\n * any outside DOM element.\n *\n * This is the base class for controls. You can use it for simple custom\n * controls by creating the element with listeners, creating an instance:\n * ```js\n * var myControl = new Control({element: myElement});\n * ```\n * and then adding this to the map.\n *\n * The main advantage of having this as a control rather than a simple separate\n * DOM element is that preventing propagation is handled for you. Controls\n * will also be objects in a {@link module:ol/Collection~Collection}, so you can use their methods.\n *\n * You can also extend this base for your own control class. See\n * examples/custom-controls for an example of how to do this.\n *\n * @api\n */\nvar Control = /** @class */ (function (_super) {\n    __extends(Control, _super);\n    /**\n     * @param {Options} options Control options.\n     */\n    function Control(options) {\n        var _this = _super.call(this) || this;\n        var element = options.element;\n        if (element && !options.target && !element.style.pointerEvents) {\n            element.style.pointerEvents = 'auto';\n        }\n        /**\n         * @protected\n         * @type {HTMLElement}\n         */\n        _this.element = element ? element : null;\n        /**\n         * @private\n         * @type {HTMLElement}\n         */\n        _this.target_ = null;\n        /**\n         * @private\n         * @type {import(\"../PluggableMap.js\").default}\n         */\n        _this.map_ = null;\n        /**\n         * @protected\n         * @type {!Array<import(\"../events.js\").EventsKey>}\n         */\n        _this.listenerKeys = [];\n        if (options.render) {\n            _this.render = options.render;\n        }\n        if (options.target) {\n            _this.setTarget(options.target);\n        }\n        return _this;\n    }\n    /**\n     * Clean up.\n     */\n    Control.prototype.disposeInternal = function () {\n        removeNode(this.element);\n        _super.prototype.disposeInternal.call(this);\n    };\n    /**\n     * Get the map associated with this control.\n     * @return {import(\"../PluggableMap.js\").default} Map.\n     * @api\n     */\n    Control.prototype.getMap = function () {\n        return this.map_;\n    };\n    /**\n     * Remove the control from its current map and attach it to the new map.\n     * Subclasses may set up event handlers to get notified about changes to\n     * the map here.\n     * @param {import(\"../PluggableMap.js\").default} map Map.\n     * @api\n     */\n    Control.prototype.setMap = function (map) {\n        if (this.map_) {\n            removeNode(this.element);\n        }\n        for (var i = 0, ii = this.listenerKeys.length; i < ii; ++i) {\n            unlistenByKey(this.listenerKeys[i]);\n        }\n        this.listenerKeys.length = 0;\n        this.map_ = map;\n        if (this.map_) {\n            var target = this.target_\n                ? this.target_\n                : map.getOverlayContainerStopEvent();\n            target.appendChild(this.element);\n            if (this.render !== VOID) {\n                this.listenerKeys.push(listen(map, MapEventType.POSTRENDER, this.render, this));\n            }\n            map.render();\n        }\n    };\n    /**\n     * Renders the control.\n     * @param {import(\"../MapEvent.js\").default} mapEvent Map event.\n     * @api\n     */\n    Control.prototype.render = function (mapEvent) { };\n    /**\n     * This function is used to set a target element for the control. It has no\n     * effect if it is called after the control has been added to the map (i.e.\n     * after `setMap` is called on the control). If no `target` is set in the\n     * options passed to the control constructor and if `setTarget` is not called\n     * then the control is added to the map's overlay container.\n     * @param {HTMLElement|string} target Target.\n     * @api\n     */\n    Control.prototype.setTarget = function (target) {\n        this.target_ =\n            typeof target === 'string' ? document.getElementById(target) : target;\n    };\n    return Control;\n}(BaseObject));\nexport default Control;\n//# sourceMappingURL=Control.js.map","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n/**\n * @module ol/control/Attribution\n */\nimport Control from './Control.js';\nimport EventType from '../events/EventType.js';\nimport { CLASS_COLLAPSED, CLASS_CONTROL, CLASS_UNSELECTABLE } from '../css.js';\nimport { equals } from '../array.js';\nimport { inView } from '../layer/Layer.js';\nimport { removeChildren, replaceNode } from '../dom.js';\n/**\n * @typedef {Object} Options\n * @property {string} [className='ol-attribution'] CSS class name.\n * @property {HTMLElement|string} [target] Specify a target if you\n * want the control to be rendered outside of the map's\n * viewport.\n * @property {boolean} [collapsible] Specify if attributions can\n * be collapsed. If not specified, sources control this behavior with their\n * `attributionsCollapsible` setting.\n * @property {boolean} [collapsed=true] Specify if attributions should\n * be collapsed at startup.\n * @property {string} [tipLabel='Attributions'] Text label to use for the button tip.\n * @property {string} [label='i'] Text label to use for the\n * collapsed attributions button.\n * Instead of text, also an element (e.g. a `span` element) can be used.\n * @property {string} [expandClassName=className + '-expand'] CSS class name for the\n * collapsed attributions button.\n * @property {string|HTMLElement} [collapseLabel=''] Text label to use\n * for the expanded attributions button.\n * Instead of text, also an element (e.g. a `span` element) can be used.\n * @property {string} [collapseClassName=className + '-collapse'] CSS class name for the\n * expanded attributions button.\n * @property {function(import(\"../MapEvent.js\").default):void} [render] Function called when\n * the control should be re-rendered. This is called in a `requestAnimationFrame`\n * callback.\n */\n/**\n * @classdesc\n * Control to show all the attributions associated with the layer sources\n * in the map. This control is one of the default controls included in maps.\n * By default it will show in the bottom right portion of the map, but this can\n * be changed by using a css selector for `.ol-attribution`.\n *\n * @api\n */\nvar Attribution = /** @class */ (function (_super) {\n    __extends(Attribution, _super);\n    /**\n     * @param {Options=} opt_options Attribution options.\n     */\n    function Attribution(opt_options) {\n        var _this = this;\n        var options = opt_options ? opt_options : {};\n        _this = _super.call(this, {\n            element: document.createElement('div'),\n            render: options.render,\n            target: options.target,\n        }) || this;\n        /**\n         * @private\n         * @type {HTMLElement}\n         */\n        _this.ulElement_ = document.createElement('ul');\n        /**\n         * @private\n         * @type {boolean}\n         */\n        _this.collapsed_ =\n            options.collapsed !== undefined ? options.collapsed : true;\n        /**\n         * @private\n         * @type {boolean}\n         */\n        _this.userCollapsed_ = _this.collapsed_;\n        /**\n         * @private\n         * @type {boolean}\n         */\n        _this.overrideCollapsible_ = options.collapsible !== undefined;\n        /**\n         * @private\n         * @type {boolean}\n         */\n        _this.collapsible_ =\n            options.collapsible !== undefined ? options.collapsible : true;\n        if (!_this.collapsible_) {\n            _this.collapsed_ = false;\n        }\n        var className = options.className !== undefined ? options.className : 'ol-attribution';\n        var tipLabel = options.tipLabel !== undefined ? options.tipLabel : 'Attributions';\n        var expandClassName = options.expandClassName !== undefined\n            ? options.expandClassName\n            : className + '-expand';\n        var collapseLabel = options.collapseLabel !== undefined ? options.collapseLabel : '\\u00BB';\n        var collapseClassName = options.collapseClassName !== undefined\n            ? options.collapseClassName\n            : className + '-collpase';\n        if (typeof collapseLabel === 'string') {\n            /**\n             * @private\n             * @type {HTMLElement}\n             */\n            _this.collapseLabel_ = document.createElement('span');\n            _this.collapseLabel_.textContent = collapseLabel;\n            _this.collapseLabel_.className = collapseClassName;\n        }\n        else {\n            _this.collapseLabel_ = collapseLabel;\n        }\n        var label = options.label !== undefined ? options.label : 'i';\n        if (typeof label === 'string') {\n            /**\n             * @private\n             * @type {HTMLElement}\n             */\n            _this.label_ = document.createElement('span');\n            _this.label_.textContent = label;\n            _this.label_.className = expandClassName;\n        }\n        else {\n            _this.label_ = label;\n        }\n        var activeLabel = _this.collapsible_ && !_this.collapsed_ ? _this.collapseLabel_ : _this.label_;\n        var button = document.createElement('button');\n        button.setAttribute('type', 'button');\n        button.title = tipLabel;\n        button.appendChild(activeLabel);\n        button.addEventListener(EventType.CLICK, _this.handleClick_.bind(_this), false);\n        var cssClasses = className +\n            ' ' +\n            CLASS_UNSELECTABLE +\n            ' ' +\n            CLASS_CONTROL +\n            (_this.collapsed_ && _this.collapsible_ ? ' ' + CLASS_COLLAPSED : '') +\n            (_this.collapsible_ ? '' : ' ol-uncollapsible');\n        var element = _this.element;\n        element.className = cssClasses;\n        element.appendChild(_this.ulElement_);\n        element.appendChild(button);\n        /**\n         * A list of currently rendered resolutions.\n         * @type {Array<string>}\n         * @private\n         */\n        _this.renderedAttributions_ = [];\n        /**\n         * @private\n         * @type {boolean}\n         */\n        _this.renderedVisible_ = true;\n        return _this;\n    }\n    /**\n     * Collect a list of visible attributions and set the collapsible state.\n     * @param {import(\"../PluggableMap.js\").FrameState} frameState Frame state.\n     * @return {Array<string>} Attributions.\n     * @private\n     */\n    Attribution.prototype.collectSourceAttributions_ = function (frameState) {\n        /**\n         * Used to determine if an attribution already exists.\n         * @type {!Object<string, boolean>}\n         */\n        var lookup = {};\n        /**\n         * A list of visible attributions.\n         * @type {Array<string>}\n         */\n        var visibleAttributions = [];\n        var collapsible = true;\n        var layerStatesArray = frameState.layerStatesArray;\n        for (var i = 0, ii = layerStatesArray.length; i < ii; ++i) {\n            var layerState = layerStatesArray[i];\n            if (!inView(layerState, frameState.viewState)) {\n                continue;\n            }\n            var source = /** @type {import(\"../layer/Layer.js\").default} */ (layerState.layer).getSource();\n            if (!source) {\n                continue;\n            }\n            var attributionGetter = source.getAttributions();\n            if (!attributionGetter) {\n                continue;\n            }\n            var attributions = attributionGetter(frameState);\n            if (!attributions) {\n                continue;\n            }\n            collapsible =\n                collapsible && source.getAttributionsCollapsible() !== false;\n            if (Array.isArray(attributions)) {\n                for (var j = 0, jj = attributions.length; j < jj; ++j) {\n                    if (!(attributions[j] in lookup)) {\n                        visibleAttributions.push(attributions[j]);\n                        lookup[attributions[j]] = true;\n                    }\n                }\n            }\n            else {\n                if (!(attributions in lookup)) {\n                    visibleAttributions.push(attributions);\n                    lookup[attributions] = true;\n                }\n            }\n        }\n        if (!this.overrideCollapsible_) {\n            this.setCollapsible(collapsible);\n        }\n        return visibleAttributions;\n    };\n    /**\n     * @private\n     * @param {?import(\"../PluggableMap.js\").FrameState} frameState Frame state.\n     */\n    Attribution.prototype.updateElement_ = function (frameState) {\n        if (!frameState) {\n            if (this.renderedVisible_) {\n                this.element.style.display = 'none';\n                this.renderedVisible_ = false;\n            }\n            return;\n        }\n        var attributions = this.collectSourceAttributions_(frameState);\n        var visible = attributions.length > 0;\n        if (this.renderedVisible_ != visible) {\n            this.element.style.display = visible ? '' : 'none';\n            this.renderedVisible_ = visible;\n        }\n        if (equals(attributions, this.renderedAttributions_)) {\n            return;\n        }\n        removeChildren(this.ulElement_);\n        // append the attributions\n        for (var i = 0, ii = attributions.length; i < ii; ++i) {\n            var element = document.createElement('li');\n            element.innerHTML = attributions[i];\n            this.ulElement_.appendChild(element);\n        }\n        this.renderedAttributions_ = attributions;\n    };\n    /**\n     * @param {MouseEvent} event The event to handle\n     * @private\n     */\n    Attribution.prototype.handleClick_ = function (event) {\n        event.preventDefault();\n        this.handleToggle_();\n        this.userCollapsed_ = this.collapsed_;\n    };\n    /**\n     * @private\n     */\n    Attribution.prototype.handleToggle_ = function () {\n        this.element.classList.toggle(CLASS_COLLAPSED);\n        if (this.collapsed_) {\n            replaceNode(this.collapseLabel_, this.label_);\n        }\n        else {\n            replaceNode(this.label_, this.collapseLabel_);\n        }\n        this.collapsed_ = !this.collapsed_;\n    };\n    /**\n     * Return `true` if the attribution is collapsible, `false` otherwise.\n     * @return {boolean} True if the widget is collapsible.\n     * @api\n     */\n    Attribution.prototype.getCollapsible = function () {\n        return this.collapsible_;\n    };\n    /**\n     * Set whether the attribution should be collapsible.\n     * @param {boolean} collapsible True if the widget is collapsible.\n     * @api\n     */\n    Attribution.prototype.setCollapsible = function (collapsible) {\n        if (this.collapsible_ === collapsible) {\n            return;\n        }\n        this.collapsible_ = collapsible;\n        this.element.classList.toggle('ol-uncollapsible');\n        if (this.userCollapsed_) {\n            this.handleToggle_();\n        }\n    };\n    /**\n     * Collapse or expand the attribution according to the passed parameter. Will\n     * not do anything if the attribution isn't collapsible or if the current\n     * collapsed state is already the one requested.\n     * @param {boolean} collapsed True if the widget is collapsed.\n     * @api\n     */\n    Attribution.prototype.setCollapsed = function (collapsed) {\n        this.userCollapsed_ = collapsed;\n        if (!this.collapsible_ || this.collapsed_ === collapsed) {\n            return;\n        }\n        this.handleToggle_();\n    };\n    /**\n     * Return `true` when the attribution is currently collapsed or `false`\n     * otherwise.\n     * @return {boolean} True if the widget is collapsed.\n     * @api\n     */\n    Attribution.prototype.getCollapsed = function () {\n        return this.collapsed_;\n    };\n    /**\n     * Update the attribution element.\n     * @param {import(\"../MapEvent.js\").default} mapEvent Map event.\n     * @override\n     */\n    Attribution.prototype.render = function (mapEvent) {\n        this.updateElement_(mapEvent.frameState);\n    };\n    return Attribution;\n}(Control));\nexport default Attribution;\n//# sourceMappingURL=Attribution.js.map","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n/**\n * @module ol/control/Rotate\n */\nimport Control from './Control.js';\nimport EventType from '../events/EventType.js';\nimport { CLASS_CONTROL, CLASS_HIDDEN, CLASS_UNSELECTABLE } from '../css.js';\nimport { easeOut } from '../easing.js';\n/**\n * @typedef {Object} Options\n * @property {string} [className='ol-rotate'] CSS class name.\n * @property {string|HTMLElement} [label=''] Text label to use for the rotate button.\n * Instead of text, also an element (e.g. a `span` element) can be used.\n * @property {string} [tipLabel='Reset rotation'] Text label to use for the rotate tip.\n * @property {string} [compassClassName='ol-compass'] CSS class name for the compass.\n * @property {number} [duration=250] Animation duration in milliseconds.\n * @property {boolean} [autoHide=true] Hide the control when rotation is 0.\n * @property {function(import(\"../MapEvent.js\").default):void} [render] Function called when the control should\n * be re-rendered. This is called in a `requestAnimationFrame` callback.\n * @property {function():void} [resetNorth] Function called when the control is clicked.\n * This will override the default `resetNorth`.\n * @property {HTMLElement|string} [target] Specify a target if you want the control to be\n * rendered outside of the map's viewport.\n */\n/**\n * @classdesc\n * A button control to reset rotation to 0.\n * To style this control use css selector `.ol-rotate`. A `.ol-hidden` css\n * selector is added to the button when the rotation is 0.\n *\n * @api\n */\nvar Rotate = /** @class */ (function (_super) {\n    __extends(Rotate, _super);\n    /**\n     * @param {Options=} opt_options Rotate options.\n     */\n    function Rotate(opt_options) {\n        var _this = this;\n        var options = opt_options ? opt_options : {};\n        _this = _super.call(this, {\n            element: document.createElement('div'),\n            render: options.render,\n            target: options.target,\n        }) || this;\n        var className = options.className !== undefined ? options.className : 'ol-rotate';\n        var label = options.label !== undefined ? options.label : '\\u21E7';\n        var compassClassName = options.compassClassName !== undefined\n            ? options.compassClassName\n            : 'ol-compass';\n        /**\n         * @type {HTMLElement}\n         * @private\n         */\n        _this.label_ = null;\n        if (typeof label === 'string') {\n            _this.label_ = document.createElement('span');\n            _this.label_.className = compassClassName;\n            _this.label_.textContent = label;\n        }\n        else {\n            _this.label_ = label;\n            _this.label_.classList.add(compassClassName);\n        }\n        var tipLabel = options.tipLabel ? options.tipLabel : 'Reset rotation';\n        var button = document.createElement('button');\n        button.className = className + '-reset';\n        button.setAttribute('type', 'button');\n        button.title = tipLabel;\n        button.appendChild(_this.label_);\n        button.addEventListener(EventType.CLICK, _this.handleClick_.bind(_this), false);\n        var cssClasses = className + ' ' + CLASS_UNSELECTABLE + ' ' + CLASS_CONTROL;\n        var element = _this.element;\n        element.className = cssClasses;\n        element.appendChild(button);\n        _this.callResetNorth_ = options.resetNorth ? options.resetNorth : undefined;\n        /**\n         * @type {number}\n         * @private\n         */\n        _this.duration_ = options.duration !== undefined ? options.duration : 250;\n        /**\n         * @type {boolean}\n         * @private\n         */\n        _this.autoHide_ = options.autoHide !== undefined ? options.autoHide : true;\n        /**\n         * @private\n         * @type {number|undefined}\n         */\n        _this.rotation_ = undefined;\n        if (_this.autoHide_) {\n            _this.element.classList.add(CLASS_HIDDEN);\n        }\n        return _this;\n    }\n    /**\n     * @param {MouseEvent} event The event to handle\n     * @private\n     */\n    Rotate.prototype.handleClick_ = function (event) {\n        event.preventDefault();\n        if (this.callResetNorth_ !== undefined) {\n            this.callResetNorth_();\n        }\n        else {\n            this.resetNorth_();\n        }\n    };\n    /**\n     * @private\n     */\n    Rotate.prototype.resetNorth_ = function () {\n        var map = this.getMap();\n        var view = map.getView();\n        if (!view) {\n            // the map does not have a view, so we can't act\n            // upon it\n            return;\n        }\n        var rotation = view.getRotation();\n        if (rotation !== undefined) {\n            if (this.duration_ > 0 && rotation % (2 * Math.PI) !== 0) {\n                view.animate({\n                    rotation: 0,\n                    duration: this.duration_,\n                    easing: easeOut,\n                });\n            }\n            else {\n                view.setRotation(0);\n            }\n        }\n    };\n    /**\n     * Update the rotate control element.\n     * @param {import(\"../MapEvent.js\").default} mapEvent Map event.\n     * @override\n     */\n    Rotate.prototype.render = function (mapEvent) {\n        var frameState = mapEvent.frameState;\n        if (!frameState) {\n            return;\n        }\n        var rotation = frameState.viewState.rotation;\n        if (rotation != this.rotation_) {\n            var transform = 'rotate(' + rotation + 'rad)';\n            if (this.autoHide_) {\n                var contains = this.element.classList.contains(CLASS_HIDDEN);\n                if (!contains && rotation === 0) {\n                    this.element.classList.add(CLASS_HIDDEN);\n                }\n                else if (contains && rotation !== 0) {\n                    this.element.classList.remove(CLASS_HIDDEN);\n                }\n            }\n            this.label_.style.transform = transform;\n        }\n        this.rotation_ = rotation;\n    };\n    return Rotate;\n}(Control));\nexport default Rotate;\n//# sourceMappingURL=Rotate.js.map","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n/**\n * @module ol/control/Zoom\n */\nimport Control from './Control.js';\nimport EventType from '../events/EventType.js';\nimport { CLASS_CONTROL, CLASS_UNSELECTABLE } from '../css.js';\nimport { easeOut } from '../easing.js';\n/**\n * @typedef {Object} Options\n * @property {number} [duration=250] Animation duration in milliseconds.\n * @property {string} [className='ol-zoom'] CSS class name.\n * @property {string} [zoomInClassName=className + '-in'] CSS class name for the zoom-in button.\n * @property {string} [zoomOutClassName=className + '-out'] CSS class name for the zoom-out button.\n * @property {string|HTMLElement} [zoomInLabel='+'] Text label to use for the zoom-in\n * button. Instead of text, also an element (e.g. a `span` element) can be used.\n * @property {string|HTMLElement} [zoomOutLabel='-'] Text label to use for the zoom-out button.\n * Instead of text, also an element (e.g. a `span` element) can be used.\n * @property {string} [zoomInTipLabel='Zoom in'] Text label to use for the button tip.\n * @property {string} [zoomOutTipLabel='Zoom out'] Text label to use for the button tip.\n * @property {number} [delta=1] The zoom delta applied on each click.\n * @property {HTMLElement|string} [target] Specify a target if you want the control to be\n * rendered outside of the map's viewport.\n */\n/**\n * @classdesc\n * A control with 2 buttons, one for zoom in and one for zoom out.\n * This control is one of the default controls of a map. To style this control\n * use css selectors `.ol-zoom-in` and `.ol-zoom-out`.\n *\n * @api\n */\nvar Zoom = /** @class */ (function (_super) {\n    __extends(Zoom, _super);\n    /**\n     * @param {Options=} opt_options Zoom options.\n     */\n    function Zoom(opt_options) {\n        var _this = this;\n        var options = opt_options ? opt_options : {};\n        _this = _super.call(this, {\n            element: document.createElement('div'),\n            target: options.target,\n        }) || this;\n        var className = options.className !== undefined ? options.className : 'ol-zoom';\n        var delta = options.delta !== undefined ? options.delta : 1;\n        var zoomInClassName = options.zoomInClassName !== undefined\n            ? options.zoomInClassName\n            : className + '-in';\n        var zoomOutClassName = options.zoomOutClassName !== undefined\n            ? options.zoomOutClassName\n            : className + '-out';\n        var zoomInLabel = options.zoomInLabel !== undefined ? options.zoomInLabel : '+';\n        var zoomOutLabel = options.zoomOutLabel !== undefined ? options.zoomOutLabel : '\\u2212';\n        var zoomInTipLabel = options.zoomInTipLabel !== undefined ? options.zoomInTipLabel : 'Zoom in';\n        var zoomOutTipLabel = options.zoomOutTipLabel !== undefined\n            ? options.zoomOutTipLabel\n            : 'Zoom out';\n        var inElement = document.createElement('button');\n        inElement.className = zoomInClassName;\n        inElement.setAttribute('type', 'button');\n        inElement.title = zoomInTipLabel;\n        inElement.appendChild(typeof zoomInLabel === 'string'\n            ? document.createTextNode(zoomInLabel)\n            : zoomInLabel);\n        inElement.addEventListener(EventType.CLICK, _this.handleClick_.bind(_this, delta), false);\n        var outElement = document.createElement('button');\n        outElement.className = zoomOutClassName;\n        outElement.setAttribute('type', 'button');\n        outElement.title = zoomOutTipLabel;\n        outElement.appendChild(typeof zoomOutLabel === 'string'\n            ? document.createTextNode(zoomOutLabel)\n            : zoomOutLabel);\n        outElement.addEventListener(EventType.CLICK, _this.handleClick_.bind(_this, -delta), false);\n        var cssClasses = className + ' ' + CLASS_UNSELECTABLE + ' ' + CLASS_CONTROL;\n        var element = _this.element;\n        element.className = cssClasses;\n        element.appendChild(inElement);\n        element.appendChild(outElement);\n        /**\n         * @type {number}\n         * @private\n         */\n        _this.duration_ = options.duration !== undefined ? options.duration : 250;\n        return _this;\n    }\n    /**\n     * @param {number} delta Zoom delta.\n     * @param {MouseEvent} event The event to handle\n     * @private\n     */\n    Zoom.prototype.handleClick_ = function (delta, event) {\n        event.preventDefault();\n        this.zoomByDelta_(delta);\n    };\n    /**\n     * @param {number} delta Zoom delta.\n     * @private\n     */\n    Zoom.prototype.zoomByDelta_ = function (delta) {\n        var map = this.getMap();\n        var view = map.getView();\n        if (!view) {\n            // the map does not have a view, so we can't act\n            // upon it\n            return;\n        }\n        var currentZoom = view.getZoom();\n        if (currentZoom !== undefined) {\n            var newZoom = view.getConstrainedZoom(currentZoom + delta);\n            if (this.duration_ > 0) {\n                if (view.getAnimating()) {\n                    view.cancelAnimations();\n                }\n                view.animate({\n                    zoom: newZoom,\n                    duration: this.duration_,\n                    easing: easeOut,\n                });\n            }\n            else {\n                view.setZoom(newZoom);\n            }\n        }\n    };\n    return Zoom;\n}(Control));\nexport default Zoom;\n//# sourceMappingURL=Zoom.js.map","/**\n * @module ol/interaction/Property\n */\n/**\n * @enum {string}\n */\nexport default {\n    ACTIVE: 'active',\n};\n//# sourceMappingURL=Property.js.map","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n/**\n * @module ol/interaction/Interaction\n */\nimport BaseObject from '../Object.js';\nimport InteractionProperty from './Property.js';\nimport { easeOut, linear } from '../easing.js';\n/**\n * Object literal with config options for interactions.\n * @typedef {Object} InteractionOptions\n * @property {function(import(\"../MapBrowserEvent.js\").default):boolean} handleEvent\n * Method called by the map to notify the interaction that a browser event was\n * dispatched to the map. If the function returns a falsy value, propagation of\n * the event to other interactions in the map's interactions chain will be\n * prevented (this includes functions with no explicit return). The interactions\n * are traversed in reverse order of the interactions collection of the map.\n */\n/**\n * @classdesc\n * Abstract base class; normally only used for creating subclasses and not\n * instantiated in apps.\n * User actions that change the state of the map. Some are similar to controls,\n * but are not associated with a DOM element.\n * For example, {@link module:ol/interaction/KeyboardZoom~KeyboardZoom} is\n * functionally the same as {@link module:ol/control/Zoom~Zoom}, but triggered\n * by a keyboard event not a button element event.\n * Although interactions do not have a DOM element, some of them do render\n * vectors and so are visible on the screen.\n * @api\n */\nvar Interaction = /** @class */ (function (_super) {\n    __extends(Interaction, _super);\n    /**\n     * @param {InteractionOptions=} opt_options Options.\n     */\n    function Interaction(opt_options) {\n        var _this = _super.call(this) || this;\n        if (opt_options && opt_options.handleEvent) {\n            _this.handleEvent = opt_options.handleEvent;\n        }\n        /**\n         * @private\n         * @type {import(\"../PluggableMap.js\").default}\n         */\n        _this.map_ = null;\n        _this.setActive(true);\n        return _this;\n    }\n    /**\n     * Return whether the interaction is currently active.\n     * @return {boolean} `true` if the interaction is active, `false` otherwise.\n     * @observable\n     * @api\n     */\n    Interaction.prototype.getActive = function () {\n        return /** @type {boolean} */ (this.get(InteractionProperty.ACTIVE));\n    };\n    /**\n     * Get the map associated with this interaction.\n     * @return {import(\"../PluggableMap.js\").default} Map.\n     * @api\n     */\n    Interaction.prototype.getMap = function () {\n        return this.map_;\n    };\n    /**\n     * Handles the {@link module:ol/MapBrowserEvent map browser event}.\n     * @param {import(\"../MapBrowserEvent.js\").default} mapBrowserEvent Map browser event.\n     * @return {boolean} `false` to stop event propagation.\n     * @api\n     */\n    Interaction.prototype.handleEvent = function (mapBrowserEvent) {\n        return true;\n    };\n    /**\n     * Activate or deactivate the interaction.\n     * @param {boolean} active Active.\n     * @observable\n     * @api\n     */\n    Interaction.prototype.setActive = function (active) {\n        this.set(InteractionProperty.ACTIVE, active);\n    };\n    /**\n     * Remove the interaction from its current map and attach it to the new map.\n     * Subclasses may set up event handlers to get notified about changes to\n     * the map here.\n     * @param {import(\"../PluggableMap.js\").default} map Map.\n     */\n    Interaction.prototype.setMap = function (map) {\n        this.map_ = map;\n    };\n    return Interaction;\n}(BaseObject));\n/**\n * @param {import(\"../View.js\").default} view View.\n * @param {import(\"../coordinate.js\").Coordinate} delta Delta.\n * @param {number=} opt_duration Duration.\n */\nexport function pan(view, delta, opt_duration) {\n    var currentCenter = view.getCenterInternal();\n    if (currentCenter) {\n        var center = [currentCenter[0] + delta[0], currentCenter[1] + delta[1]];\n        view.animateInternal({\n            duration: opt_duration !== undefined ? opt_duration : 250,\n            easing: linear,\n            center: view.getConstrainedCenter(center),\n        });\n    }\n}\n/**\n * @param {import(\"../View.js\").default} view View.\n * @param {number} delta Delta from previous zoom level.\n * @param {import(\"../coordinate.js\").Coordinate=} opt_anchor Anchor coordinate in the user projection.\n * @param {number=} opt_duration Duration.\n */\nexport function zoomByDelta(view, delta, opt_anchor, opt_duration) {\n    var currentZoom = view.getZoom();\n    if (currentZoom === undefined) {\n        return;\n    }\n    var newZoom = view.getConstrainedZoom(currentZoom + delta);\n    var newResolution = view.getResolutionForZoom(newZoom);\n    if (view.getAnimating()) {\n        view.cancelAnimations();\n    }\n    view.animate({\n        resolution: newResolution,\n        anchor: opt_anchor,\n        duration: opt_duration !== undefined ? opt_duration : 250,\n        easing: easeOut,\n    });\n}\nexport default Interaction;\n//# sourceMappingURL=Interaction.js.map","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n/**\n * @module ol/interaction/DoubleClickZoom\n */\nimport Interaction, { zoomByDelta } from './Interaction.js';\nimport MapBrowserEventType from '../MapBrowserEventType.js';\n/**\n * @typedef {Object} Options\n * @property {number} [duration=250] Animation duration in milliseconds.\n * @property {number} [delta=1] The zoom delta applied on each double click.\n */\n/**\n * @classdesc\n * Allows the user to zoom by double-clicking on the map.\n * @api\n */\nvar DoubleClickZoom = /** @class */ (function (_super) {\n    __extends(DoubleClickZoom, _super);\n    /**\n     * @param {Options=} opt_options Options.\n     */\n    function DoubleClickZoom(opt_options) {\n        var _this = _super.call(this) || this;\n        var options = opt_options ? opt_options : {};\n        /**\n         * @private\n         * @type {number}\n         */\n        _this.delta_ = options.delta ? options.delta : 1;\n        /**\n         * @private\n         * @type {number}\n         */\n        _this.duration_ = options.duration !== undefined ? options.duration : 250;\n        return _this;\n    }\n    /**\n     * Handles the {@link module:ol/MapBrowserEvent map browser event} (if it was a\n     * doubleclick) and eventually zooms the map.\n     * @param {import(\"../MapBrowserEvent.js\").default} mapBrowserEvent Map browser event.\n     * @return {boolean} `false` to stop event propagation.\n     */\n    DoubleClickZoom.prototype.handleEvent = function (mapBrowserEvent) {\n        var stopEvent = false;\n        if (mapBrowserEvent.type == MapBrowserEventType.DBLCLICK) {\n            var browserEvent = /** @type {MouseEvent} */ (mapBrowserEvent.originalEvent);\n            var map = mapBrowserEvent.map;\n            var anchor = mapBrowserEvent.coordinate;\n            var delta = browserEvent.shiftKey ? -this.delta_ : this.delta_;\n            var view = map.getView();\n            zoomByDelta(view, delta, anchor, this.duration_);\n            browserEvent.preventDefault();\n            stopEvent = true;\n        }\n        return !stopEvent;\n    };\n    return DoubleClickZoom;\n}(Interaction));\nexport default DoubleClickZoom;\n//# sourceMappingURL=DoubleClickZoom.js.map","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n/**\n * @module ol/interaction/Pointer\n */\nimport Interaction from './Interaction.js';\nimport MapBrowserEventType from '../MapBrowserEventType.js';\nimport { getValues } from '../obj.js';\n/**\n * @typedef {Object} Options\n * @property {function(import(\"../MapBrowserEvent.js\").default):boolean} [handleDownEvent]\n * Function handling \"down\" events. If the function returns `true` then a drag\n * sequence is started.\n * @property {function(import(\"../MapBrowserEvent.js\").default):void} [handleDragEvent]\n * Function handling \"drag\" events. This function is called on \"move\" events\n * during a drag sequence.\n * @property {function(import(\"../MapBrowserEvent.js\").default):boolean} [handleEvent]\n * Method called by the map to notify the interaction that a browser event was\n * dispatched to the map. The function may return `false` to prevent the\n * propagation of the event to other interactions in the map's interactions\n * chain.\n * @property {function(import(\"../MapBrowserEvent.js\").default):void} [handleMoveEvent]\n * Function handling \"move\" events. This function is called on \"move\" events.\n * This functions is also called during a drag sequence, so during a drag\n * sequence both the `handleDragEvent` function and this function are called.\n * If `handleDownEvent` is defined and it returns true this function will not\n * be called during a drag sequence.\n * @property {function(import(\"../MapBrowserEvent.js\").default):boolean} [handleUpEvent]\n *  Function handling \"up\" events. If the function returns `false` then the\n * current drag sequence is stopped.\n * @property {function(boolean):boolean} [stopDown]\n * Should the down event be propagated to other interactions, or should be\n * stopped?\n */\n/**\n * @classdesc\n * Base class that calls user-defined functions on `down`, `move` and `up`\n * events. This class also manages \"drag sequences\".\n *\n * When the `handleDownEvent` user function returns `true` a drag sequence is\n * started. During a drag sequence the `handleDragEvent` user function is\n * called on `move` events. The drag sequence ends when the `handleUpEvent`\n * user function is called and returns `false`.\n * @api\n */\nvar PointerInteraction = /** @class */ (function (_super) {\n    __extends(PointerInteraction, _super);\n    /**\n     * @param {Options=} opt_options Options.\n     */\n    function PointerInteraction(opt_options) {\n        var _this = this;\n        var options = opt_options ? opt_options : {};\n        _this = _super.call(this, \n        /** @type {import(\"./Interaction.js\").InteractionOptions} */ (options)) || this;\n        if (options.handleDownEvent) {\n            _this.handleDownEvent = options.handleDownEvent;\n        }\n        if (options.handleDragEvent) {\n            _this.handleDragEvent = options.handleDragEvent;\n        }\n        if (options.handleMoveEvent) {\n            _this.handleMoveEvent = options.handleMoveEvent;\n        }\n        if (options.handleUpEvent) {\n            _this.handleUpEvent = options.handleUpEvent;\n        }\n        if (options.stopDown) {\n            _this.stopDown = options.stopDown;\n        }\n        /**\n         * @type {boolean}\n         * @protected\n         */\n        _this.handlingDownUpSequence = false;\n        /**\n         * @type {!Object<string, PointerEvent>}\n         * @private\n         */\n        _this.trackedPointers_ = {};\n        /**\n         * @type {Array<PointerEvent>}\n         * @protected\n         */\n        _this.targetPointers = [];\n        return _this;\n    }\n    /**\n     * Returns the current number of pointers involved in the interaction,\n     * e.g. `2` when two fingers are used.\n     * @return {number} The number of pointers.\n     * @api\n     */\n    PointerInteraction.prototype.getPointerCount = function () {\n        return this.targetPointers.length;\n    };\n    /**\n     * Handle pointer down events.\n     * @param {import(\"../MapBrowserEvent.js\").default} mapBrowserEvent Event.\n     * @return {boolean} If the event was consumed.\n     * @protected\n     */\n    PointerInteraction.prototype.handleDownEvent = function (mapBrowserEvent) {\n        return false;\n    };\n    /**\n     * Handle pointer drag events.\n     * @param {import(\"../MapBrowserEvent.js\").default} mapBrowserEvent Event.\n     * @protected\n     */\n    PointerInteraction.prototype.handleDragEvent = function (mapBrowserEvent) { };\n    /**\n     * Handles the {@link module:ol/MapBrowserEvent map browser event} and may call into\n     * other functions, if event sequences like e.g. 'drag' or 'down-up' etc. are\n     * detected.\n     * @param {import(\"../MapBrowserEvent.js\").default} mapBrowserEvent Map browser event.\n     * @return {boolean} `false` to stop event propagation.\n     * @api\n     */\n    PointerInteraction.prototype.handleEvent = function (mapBrowserEvent) {\n        if (!mapBrowserEvent.originalEvent) {\n            return true;\n        }\n        var stopEvent = false;\n        this.updateTrackedPointers_(mapBrowserEvent);\n        if (this.handlingDownUpSequence) {\n            if (mapBrowserEvent.type == MapBrowserEventType.POINTERDRAG) {\n                this.handleDragEvent(mapBrowserEvent);\n                // prevent page scrolling during dragging\n                mapBrowserEvent.originalEvent.preventDefault();\n            }\n            else if (mapBrowserEvent.type == MapBrowserEventType.POINTERUP) {\n                var handledUp = this.handleUpEvent(mapBrowserEvent);\n                this.handlingDownUpSequence =\n                    handledUp && this.targetPointers.length > 0;\n            }\n        }\n        else {\n            if (mapBrowserEvent.type == MapBrowserEventType.POINTERDOWN) {\n                var handled = this.handleDownEvent(mapBrowserEvent);\n                this.handlingDownUpSequence = handled;\n                stopEvent = this.stopDown(handled);\n            }\n            else if (mapBrowserEvent.type == MapBrowserEventType.POINTERMOVE) {\n                this.handleMoveEvent(mapBrowserEvent);\n            }\n        }\n        return !stopEvent;\n    };\n    /**\n     * Handle pointer move events.\n     * @param {import(\"../MapBrowserEvent.js\").default} mapBrowserEvent Event.\n     * @protected\n     */\n    PointerInteraction.prototype.handleMoveEvent = function (mapBrowserEvent) { };\n    /**\n     * Handle pointer up events.\n     * @param {import(\"../MapBrowserEvent.js\").default} mapBrowserEvent Event.\n     * @return {boolean} If the event was consumed.\n     * @protected\n     */\n    PointerInteraction.prototype.handleUpEvent = function (mapBrowserEvent) {\n        return false;\n    };\n    /**\n     * This function is used to determine if \"down\" events should be propagated\n     * to other interactions or should be stopped.\n     * @param {boolean} handled Was the event handled by the interaction?\n     * @return {boolean} Should the `down` event be stopped?\n     */\n    PointerInteraction.prototype.stopDown = function (handled) {\n        return handled;\n    };\n    /**\n     * @param {import(\"../MapBrowserEvent.js\").default} mapBrowserEvent Event.\n     * @private\n     */\n    PointerInteraction.prototype.updateTrackedPointers_ = function (mapBrowserEvent) {\n        if (isPointerDraggingEvent(mapBrowserEvent)) {\n            var event_1 = mapBrowserEvent.originalEvent;\n            var id = event_1.pointerId.toString();\n            if (mapBrowserEvent.type == MapBrowserEventType.POINTERUP) {\n                delete this.trackedPointers_[id];\n            }\n            else if (mapBrowserEvent.type == MapBrowserEventType.POINTERDOWN) {\n                this.trackedPointers_[id] = event_1;\n            }\n            else if (id in this.trackedPointers_) {\n                // update only when there was a pointerdown event for this pointer\n                this.trackedPointers_[id] = event_1;\n            }\n            this.targetPointers = getValues(this.trackedPointers_);\n        }\n    };\n    return PointerInteraction;\n}(Interaction));\n/**\n * @param {Array<PointerEvent>} pointerEvents List of events.\n * @return {import(\"../pixel.js\").Pixel} Centroid pixel.\n */\nexport function centroid(pointerEvents) {\n    var length = pointerEvents.length;\n    var clientX = 0;\n    var clientY = 0;\n    for (var i = 0; i < length; i++) {\n        clientX += pointerEvents[i].clientX;\n        clientY += pointerEvents[i].clientY;\n    }\n    return [clientX / length, clientY / length];\n}\n/**\n * @param {import(\"../MapBrowserEvent.js\").default} mapBrowserEvent Event.\n * @return {boolean} Whether the event is a pointerdown, pointerdrag\n *     or pointerup event.\n */\nfunction isPointerDraggingEvent(mapBrowserEvent) {\n    var type = mapBrowserEvent.type;\n    return (type === MapBrowserEventType.POINTERDOWN ||\n        type === MapBrowserEventType.POINTERDRAG ||\n        type === MapBrowserEventType.POINTERUP);\n}\nexport default PointerInteraction;\n//# sourceMappingURL=Pointer.js.map","/**\n * @module ol/events/condition\n */\nimport MapBrowserEventType from '../MapBrowserEventType.js';\nimport { FALSE, TRUE } from '../functions.js';\nimport { MAC, WEBKIT } from '../has.js';\nimport { assert } from '../asserts.js';\n/**\n * A function that takes an {@link module:ol/MapBrowserEvent} and returns a\n * `{boolean}`. If the condition is met, true should be returned.\n *\n * @typedef {function(this: ?, import(\"../MapBrowserEvent.js\").default): boolean} Condition\n */\n/**\n * Creates a condition function that passes when all provided conditions pass.\n * @param {...Condition} var_args Conditions to check.\n * @return {Condition} Condition function.\n */\nexport function all(var_args) {\n    var conditions = arguments;\n    /**\n     * @param {import(\"../MapBrowserEvent.js\").default} event Event.\n     * @return {boolean} All conditions passed.\n     */\n    return function (event) {\n        var pass = true;\n        for (var i = 0, ii = conditions.length; i < ii; ++i) {\n            pass = pass && conditions[i](event);\n            if (!pass) {\n                break;\n            }\n        }\n        return pass;\n    };\n}\n/**\n * Return `true` if only the alt-key is pressed, `false` otherwise (e.g. when\n * additionally the shift-key is pressed).\n *\n * @param {import(\"../MapBrowserEvent.js\").default} mapBrowserEvent Map browser event.\n * @return {boolean} True if only the alt key is pressed.\n * @api\n */\nexport var altKeyOnly = function (mapBrowserEvent) {\n    var originalEvent = /** @type {KeyboardEvent|MouseEvent|TouchEvent} */ (mapBrowserEvent.originalEvent);\n    return (originalEvent.altKey &&\n        !(originalEvent.metaKey || originalEvent.ctrlKey) &&\n        !originalEvent.shiftKey);\n};\n/**\n * Return `true` if only the alt-key and shift-key is pressed, `false` otherwise\n * (e.g. when additionally the platform-modifier-key is pressed).\n *\n * @param {import(\"../MapBrowserEvent.js\").default} mapBrowserEvent Map browser event.\n * @return {boolean} True if only the alt and shift keys are pressed.\n * @api\n */\nexport var altShiftKeysOnly = function (mapBrowserEvent) {\n    var originalEvent = /** @type {KeyboardEvent|MouseEvent|TouchEvent} */ (mapBrowserEvent.originalEvent);\n    return (originalEvent.altKey &&\n        !(originalEvent.metaKey || originalEvent.ctrlKey) &&\n        originalEvent.shiftKey);\n};\n/**\n * Return `true` if the map has the focus. This condition requires a map target\n * element with a `tabindex` attribute, e.g. `<div id=\"map\" tabindex=\"1\">`.\n *\n * @param {import(\"../MapBrowserEvent.js\").default} event Map browser event.\n * @return {boolean} The map has the focus.\n * @api\n */\nexport var focus = function (event) {\n    return event.target.getTargetElement().contains(document.activeElement);\n};\n/**\n * Return `true` if the map has the focus or no 'tabindex' attribute set.\n *\n * @param {import(\"../MapBrowserEvent.js\").default} event Map browser event.\n * @return {boolean} The map container has the focus or no 'tabindex' attribute.\n */\nexport var focusWithTabindex = function (event) {\n    return event.map.getTargetElement().hasAttribute('tabindex')\n        ? focus(event)\n        : true;\n};\n/**\n * Return always true.\n *\n * @param {import(\"../MapBrowserEvent.js\").default} mapBrowserEvent Map browser event.\n * @return {boolean} True.\n * @api\n */\nexport var always = TRUE;\n/**\n * Return `true` if the event is a `click` event, `false` otherwise.\n *\n * @param {import(\"../MapBrowserEvent.js\").default} mapBrowserEvent Map browser event.\n * @return {boolean} True if the event is a map `click` event.\n * @api\n */\nexport var click = function (mapBrowserEvent) {\n    return mapBrowserEvent.type == MapBrowserEventType.CLICK;\n};\n/**\n * Return `true` if the event has an \"action\"-producing mouse button.\n *\n * By definition, this includes left-click on windows/linux, and left-click\n * without the ctrl key on Macs.\n *\n * @param {import(\"../MapBrowserEvent.js\").default} mapBrowserEvent Map browser event.\n * @return {boolean} The result.\n */\nexport var mouseActionButton = function (mapBrowserEvent) {\n    var originalEvent = /** @type {MouseEvent} */ (mapBrowserEvent.originalEvent);\n    return originalEvent.button == 0 && !(WEBKIT && MAC && originalEvent.ctrlKey);\n};\n/**\n * Return always false.\n *\n * @param {import(\"../MapBrowserEvent.js\").default} mapBrowserEvent Map browser event.\n * @return {boolean} False.\n * @api\n */\nexport var never = FALSE;\n/**\n * Return `true` if the browser event is a `pointermove` event, `false`\n * otherwise.\n *\n * @param {import(\"../MapBrowserEvent.js\").default} mapBrowserEvent Map browser event.\n * @return {boolean} True if the browser event is a `pointermove` event.\n * @api\n */\nexport var pointerMove = function (mapBrowserEvent) {\n    return mapBrowserEvent.type == 'pointermove';\n};\n/**\n * Return `true` if the event is a map `singleclick` event, `false` otherwise.\n *\n * @param {import(\"../MapBrowserEvent.js\").default} mapBrowserEvent Map browser event.\n * @return {boolean} True if the event is a map `singleclick` event.\n * @api\n */\nexport var singleClick = function (mapBrowserEvent) {\n    return mapBrowserEvent.type == MapBrowserEventType.SINGLECLICK;\n};\n/**\n * Return `true` if the event is a map `dblclick` event, `false` otherwise.\n *\n * @param {import(\"../MapBrowserEvent.js\").default} mapBrowserEvent Map browser event.\n * @return {boolean} True if the event is a map `dblclick` event.\n * @api\n */\nexport var doubleClick = function (mapBrowserEvent) {\n    return mapBrowserEvent.type == MapBrowserEventType.DBLCLICK;\n};\n/**\n * Return `true` if no modifier key (alt-, shift- or platform-modifier-key) is\n * pressed.\n *\n * @param {import(\"../MapBrowserEvent.js\").default} mapBrowserEvent Map browser event.\n * @return {boolean} True only if there no modifier keys are pressed.\n * @api\n */\nexport var noModifierKeys = function (mapBrowserEvent) {\n    var originalEvent = /** @type {KeyboardEvent|MouseEvent|TouchEvent} */ (mapBrowserEvent.originalEvent);\n    return (!originalEvent.altKey &&\n        !(originalEvent.metaKey || originalEvent.ctrlKey) &&\n        !originalEvent.shiftKey);\n};\n/**\n * Return `true` if only the platform-modifier-key (the meta-key on Mac,\n * ctrl-key otherwise) is pressed, `false` otherwise (e.g. when additionally\n * the shift-key is pressed).\n *\n * @param {import(\"../MapBrowserEvent.js\").default} mapBrowserEvent Map browser event.\n * @return {boolean} True if only the platform modifier key is pressed.\n * @api\n */\nexport var platformModifierKeyOnly = function (mapBrowserEvent) {\n    var originalEvent = /** @type {KeyboardEvent|MouseEvent|TouchEvent} */ (mapBrowserEvent.originalEvent);\n    return (!originalEvent.altKey &&\n        (MAC ? originalEvent.metaKey : originalEvent.ctrlKey) &&\n        !originalEvent.shiftKey);\n};\n/**\n * Return `true` if only the shift-key is pressed, `false` otherwise (e.g. when\n * additionally the alt-key is pressed).\n *\n * @param {import(\"../MapBrowserEvent.js\").default} mapBrowserEvent Map browser event.\n * @return {boolean} True if only the shift key is pressed.\n * @api\n */\nexport var shiftKeyOnly = function (mapBrowserEvent) {\n    var originalEvent = /** @type {KeyboardEvent|MouseEvent|TouchEvent} */ (mapBrowserEvent.originalEvent);\n    return (!originalEvent.altKey &&\n        !(originalEvent.metaKey || originalEvent.ctrlKey) &&\n        originalEvent.shiftKey);\n};\n/**\n * Return `true` if the target element is not editable, i.e. not a `<input>`-,\n * `<select>`- or `<textarea>`-element, `false` otherwise.\n *\n * @param {import(\"../MapBrowserEvent.js\").default} mapBrowserEvent Map browser event.\n * @return {boolean} True only if the target element is not editable.\n * @api\n */\nexport var targetNotEditable = function (mapBrowserEvent) {\n    var originalEvent = /** @type {KeyboardEvent|MouseEvent|TouchEvent} */ (mapBrowserEvent.originalEvent);\n    var tagName = /** @type {Element} */ (originalEvent.target).tagName;\n    return tagName !== 'INPUT' && tagName !== 'SELECT' && tagName !== 'TEXTAREA';\n};\n/**\n * Return `true` if the event originates from a mouse device.\n *\n * @param {import(\"../MapBrowserEvent.js\").default} mapBrowserEvent Map browser event.\n * @return {boolean} True if the event originates from a mouse device.\n * @api\n */\nexport var mouseOnly = function (mapBrowserEvent) {\n    var pointerEvent = /** @type {import(\"../MapBrowserEvent\").default} */ (mapBrowserEvent)\n        .originalEvent;\n    assert(pointerEvent !== undefined, 56); // mapBrowserEvent must originate from a pointer event\n    // see http://www.w3.org/TR/pointerevents/#widl-PointerEvent-pointerType\n    return pointerEvent.pointerType == 'mouse';\n};\n/**\n * Return `true` if the event originates from a touchable device.\n *\n * @param {import(\"../MapBrowserEvent.js\").default} mapBrowserEvent Map browser event.\n * @return {boolean} True if the event originates from a touchable device.\n * @api\n */\nexport var touchOnly = function (mapBrowserEvent) {\n    var pointerEvt = /** @type {import(\"../MapBrowserEvent\").default} */ (mapBrowserEvent)\n        .originalEvent;\n    assert(pointerEvt !== undefined, 56); // mapBrowserEvent must originate from a pointer event\n    // see http://www.w3.org/TR/pointerevents/#widl-PointerEvent-pointerType\n    return pointerEvt.pointerType === 'touch';\n};\n/**\n * Return `true` if the event originates from a digital pen.\n *\n * @param {import(\"../MapBrowserEvent.js\").default} mapBrowserEvent Map browser event.\n * @return {boolean} True if the event originates from a digital pen.\n * @api\n */\nexport var penOnly = function (mapBrowserEvent) {\n    var pointerEvt = /** @type {import(\"../MapBrowserEvent\").default} */ (mapBrowserEvent)\n        .originalEvent;\n    assert(pointerEvt !== undefined, 56); // mapBrowserEvent must originate from a pointer event\n    // see http://www.w3.org/TR/pointerevents/#widl-PointerEvent-pointerType\n    return pointerEvt.pointerType === 'pen';\n};\n/**\n * Return `true` if the event originates from a primary pointer in\n * contact with the surface or if the left mouse button is pressed.\n * See http://www.w3.org/TR/pointerevents/#button-states.\n *\n * @param {import(\"../MapBrowserEvent.js\").default} mapBrowserEvent Map browser event.\n * @return {boolean} True if the event originates from a primary pointer.\n * @api\n */\nexport var primaryAction = function (mapBrowserEvent) {\n    var pointerEvent = /** @type {import(\"../MapBrowserEvent\").default} */ (mapBrowserEvent)\n        .originalEvent;\n    assert(pointerEvent !== undefined, 56); // mapBrowserEvent must originate from a pointer event\n    return pointerEvent.isPrimary && pointerEvent.button === 0;\n};\n//# sourceMappingURL=condition.js.map","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n/**\n * @module ol/interaction/DragPan\n */\nimport PointerInteraction, { centroid as centroidFromPointers, } from './Pointer.js';\nimport { FALSE } from '../functions.js';\nimport { all, focusWithTabindex, noModifierKeys, primaryAction, } from '../events/condition.js';\nimport { easeOut } from '../easing.js';\nimport { rotate as rotateCoordinate, scale as scaleCoordinate, } from '../coordinate.js';\n/**\n * @typedef {Object} Options\n * @property {import(\"../events/condition.js\").Condition} [condition] A function that takes an {@link module:ol/MapBrowserEvent~MapBrowserEvent} and returns a boolean\n * to indicate whether that event should be handled.\n * Default is {@link module:ol/events/condition~noModifierKeys} and {@link module:ol/events/condition~primaryAction}.\n * @property {boolean} [onFocusOnly=false] When the map's target has a `tabindex` attribute set,\n * the interaction will only handle events when the map has the focus.\n * @property {import(\"../Kinetic.js\").default} [kinetic] Kinetic inertia to apply to the pan.\n */\n/**\n * @classdesc\n * Allows the user to pan the map by dragging the map.\n * @api\n */\nvar DragPan = /** @class */ (function (_super) {\n    __extends(DragPan, _super);\n    /**\n     * @param {Options=} opt_options Options.\n     */\n    function DragPan(opt_options) {\n        var _this = _super.call(this, {\n            stopDown: FALSE,\n        }) || this;\n        var options = opt_options ? opt_options : {};\n        /**\n         * @private\n         * @type {import(\"../Kinetic.js\").default|undefined}\n         */\n        _this.kinetic_ = options.kinetic;\n        /**\n         * @type {import(\"../pixel.js\").Pixel}\n         */\n        _this.lastCentroid = null;\n        /**\n         * @type {number}\n         */\n        _this.lastPointersCount_;\n        /**\n         * @type {boolean}\n         */\n        _this.panning_ = false;\n        var condition = options.condition\n            ? options.condition\n            : all(noModifierKeys, primaryAction);\n        /**\n         * @private\n         * @type {import(\"../events/condition.js\").Condition}\n         */\n        _this.condition_ = options.onFocusOnly\n            ? all(focusWithTabindex, condition)\n            : condition;\n        /**\n         * @private\n         * @type {boolean}\n         */\n        _this.noKinetic_ = false;\n        return _this;\n    }\n    /**\n     * Handle pointer drag events.\n     * @param {import(\"../MapBrowserEvent.js\").default} mapBrowserEvent Event.\n     */\n    DragPan.prototype.handleDragEvent = function (mapBrowserEvent) {\n        if (!this.panning_) {\n            this.panning_ = true;\n            this.getMap().getView().beginInteraction();\n        }\n        var targetPointers = this.targetPointers;\n        var centroid = centroidFromPointers(targetPointers);\n        if (targetPointers.length == this.lastPointersCount_) {\n            if (this.kinetic_) {\n                this.kinetic_.update(centroid[0], centroid[1]);\n            }\n            if (this.lastCentroid) {\n                var delta = [\n                    this.lastCentroid[0] - centroid[0],\n                    centroid[1] - this.lastCentroid[1],\n                ];\n                var map = mapBrowserEvent.map;\n                var view = map.getView();\n                scaleCoordinate(delta, view.getResolution());\n                rotateCoordinate(delta, view.getRotation());\n                view.adjustCenterInternal(delta);\n            }\n        }\n        else if (this.kinetic_) {\n            // reset so we don't overestimate the kinetic energy after\n            // after one finger down, tiny drag, second finger down\n            this.kinetic_.begin();\n        }\n        this.lastCentroid = centroid;\n        this.lastPointersCount_ = targetPointers.length;\n        mapBrowserEvent.originalEvent.preventDefault();\n    };\n    /**\n     * Handle pointer up events.\n     * @param {import(\"../MapBrowserEvent.js\").default} mapBrowserEvent Event.\n     * @return {boolean} If the event was consumed.\n     */\n    DragPan.prototype.handleUpEvent = function (mapBrowserEvent) {\n        var map = mapBrowserEvent.map;\n        var view = map.getView();\n        if (this.targetPointers.length === 0) {\n            if (!this.noKinetic_ && this.kinetic_ && this.kinetic_.end()) {\n                var distance = this.kinetic_.getDistance();\n                var angle = this.kinetic_.getAngle();\n                var center = view.getCenterInternal();\n                var centerpx = map.getPixelFromCoordinateInternal(center);\n                var dest = map.getCoordinateFromPixelInternal([\n                    centerpx[0] - distance * Math.cos(angle),\n                    centerpx[1] - distance * Math.sin(angle),\n                ]);\n                view.animateInternal({\n                    center: view.getConstrainedCenter(dest),\n                    duration: 500,\n                    easing: easeOut,\n                });\n            }\n            if (this.panning_) {\n                this.panning_ = false;\n                view.endInteraction();\n            }\n            return false;\n        }\n        else {\n            if (this.kinetic_) {\n                // reset so we don't overestimate the kinetic energy after\n                // after one finger up, tiny drag, second finger up\n                this.kinetic_.begin();\n            }\n            this.lastCentroid = null;\n            return true;\n        }\n    };\n    /**\n     * Handle pointer down events.\n     * @param {import(\"../MapBrowserEvent.js\").default} mapBrowserEvent Event.\n     * @return {boolean} If the event was consumed.\n     */\n    DragPan.prototype.handleDownEvent = function (mapBrowserEvent) {\n        if (this.targetPointers.length > 0 && this.condition_(mapBrowserEvent)) {\n            var map = mapBrowserEvent.map;\n            var view = map.getView();\n            this.lastCentroid = null;\n            // stop any current animation\n            if (view.getAnimating()) {\n                view.cancelAnimations();\n            }\n            if (this.kinetic_) {\n                this.kinetic_.begin();\n            }\n            // No kinetic as soon as more than one pointer on the screen is\n            // detected. This is to prevent nasty pans after pinch.\n            this.noKinetic_ = this.targetPointers.length > 1;\n            return true;\n        }\n        else {\n            return false;\n        }\n    };\n    return DragPan;\n}(PointerInteraction));\nexport default DragPan;\n//# sourceMappingURL=DragPan.js.map","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n/**\n * @module ol/interaction/DragRotate\n */\nimport PointerInteraction from './Pointer.js';\nimport { FALSE } from '../functions.js';\nimport { altShiftKeysOnly, mouseActionButton, mouseOnly, } from '../events/condition.js';\nimport { disable } from '../rotationconstraint.js';\n/**\n * @typedef {Object} Options\n * @property {import(\"../events/condition.js\").Condition} [condition] A function that takes an\n * {@link module:ol/MapBrowserEvent~MapBrowserEvent} and returns a boolean\n * to indicate whether that event should be handled.\n * Default is {@link module:ol/events/condition~altShiftKeysOnly}.\n * @property {number} [duration=250] Animation duration in milliseconds.\n */\n/**\n * @classdesc\n * Allows the user to rotate the map by clicking and dragging on the map,\n * normally combined with an {@link module:ol/events/condition} that limits\n * it to when the alt and shift keys are held down.\n *\n * This interaction is only supported for mouse devices.\n * @api\n */\nvar DragRotate = /** @class */ (function (_super) {\n    __extends(DragRotate, _super);\n    /**\n     * @param {Options=} opt_options Options.\n     */\n    function DragRotate(opt_options) {\n        var _this = this;\n        var options = opt_options ? opt_options : {};\n        _this = _super.call(this, {\n            stopDown: FALSE,\n        }) || this;\n        /**\n         * @private\n         * @type {import(\"../events/condition.js\").Condition}\n         */\n        _this.condition_ = options.condition ? options.condition : altShiftKeysOnly;\n        /**\n         * @private\n         * @type {number|undefined}\n         */\n        _this.lastAngle_ = undefined;\n        /**\n         * @private\n         * @type {number}\n         */\n        _this.duration_ = options.duration !== undefined ? options.duration : 250;\n        return _this;\n    }\n    /**\n     * Handle pointer drag events.\n     * @param {import(\"../MapBrowserEvent.js\").default} mapBrowserEvent Event.\n     */\n    DragRotate.prototype.handleDragEvent = function (mapBrowserEvent) {\n        if (!mouseOnly(mapBrowserEvent)) {\n            return;\n        }\n        var map = mapBrowserEvent.map;\n        var view = map.getView();\n        if (view.getConstraints().rotation === disable) {\n            return;\n        }\n        var size = map.getSize();\n        var offset = mapBrowserEvent.pixel;\n        var theta = Math.atan2(size[1] / 2 - offset[1], offset[0] - size[0] / 2);\n        if (this.lastAngle_ !== undefined) {\n            var delta = theta - this.lastAngle_;\n            view.adjustRotationInternal(-delta);\n        }\n        this.lastAngle_ = theta;\n    };\n    /**\n     * Handle pointer up events.\n     * @param {import(\"../MapBrowserEvent.js\").default} mapBrowserEvent Event.\n     * @return {boolean} If the event was consumed.\n     */\n    DragRotate.prototype.handleUpEvent = function (mapBrowserEvent) {\n        if (!mouseOnly(mapBrowserEvent)) {\n            return true;\n        }\n        var map = mapBrowserEvent.map;\n        var view = map.getView();\n        view.endInteraction(this.duration_);\n        return false;\n    };\n    /**\n     * Handle pointer down events.\n     * @param {import(\"../MapBrowserEvent.js\").default} mapBrowserEvent Event.\n     * @return {boolean} If the event was consumed.\n     */\n    DragRotate.prototype.handleDownEvent = function (mapBrowserEvent) {\n        if (!mouseOnly(mapBrowserEvent)) {\n            return false;\n        }\n        if (mouseActionButton(mapBrowserEvent) &&\n            this.condition_(mapBrowserEvent)) {\n            var map = mapBrowserEvent.map;\n            map.getView().beginInteraction();\n            this.lastAngle_ = undefined;\n            return true;\n        }\n        else {\n            return false;\n        }\n    };\n    return DragRotate;\n}(PointerInteraction));\nexport default DragRotate;\n//# sourceMappingURL=DragRotate.js.map","/**\n * @module ol/render/Box\n */\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport Disposable from '../Disposable.js';\nimport Polygon from '../geom/Polygon.js';\nvar RenderBox = /** @class */ (function (_super) {\n    __extends(RenderBox, _super);\n    /**\n     * @param {string} className CSS class name.\n     */\n    function RenderBox(className) {\n        var _this = _super.call(this) || this;\n        /**\n         * @type {import(\"../geom/Polygon.js\").default}\n         * @private\n         */\n        _this.geometry_ = null;\n        /**\n         * @type {HTMLDivElement}\n         * @private\n         */\n        _this.element_ = document.createElement('div');\n        _this.element_.style.position = 'absolute';\n        _this.element_.style.pointerEvents = 'auto';\n        _this.element_.className = 'ol-box ' + className;\n        /**\n         * @private\n         * @type {import(\"../PluggableMap.js\").default}\n         */\n        _this.map_ = null;\n        /**\n         * @private\n         * @type {import(\"../pixel.js\").Pixel}\n         */\n        _this.startPixel_ = null;\n        /**\n         * @private\n         * @type {import(\"../pixel.js\").Pixel}\n         */\n        _this.endPixel_ = null;\n        return _this;\n    }\n    /**\n     * Clean up.\n     */\n    RenderBox.prototype.disposeInternal = function () {\n        this.setMap(null);\n    };\n    /**\n     * @private\n     */\n    RenderBox.prototype.render_ = function () {\n        var startPixel = this.startPixel_;\n        var endPixel = this.endPixel_;\n        var px = 'px';\n        var style = this.element_.style;\n        style.left = Math.min(startPixel[0], endPixel[0]) + px;\n        style.top = Math.min(startPixel[1], endPixel[1]) + px;\n        style.width = Math.abs(endPixel[0] - startPixel[0]) + px;\n        style.height = Math.abs(endPixel[1] - startPixel[1]) + px;\n    };\n    /**\n     * @param {import(\"../PluggableMap.js\").default} map Map.\n     */\n    RenderBox.prototype.setMap = function (map) {\n        if (this.map_) {\n            this.map_.getOverlayContainer().removeChild(this.element_);\n            var style = this.element_.style;\n            style.left = 'inherit';\n            style.top = 'inherit';\n            style.width = 'inherit';\n            style.height = 'inherit';\n        }\n        this.map_ = map;\n        if (this.map_) {\n            this.map_.getOverlayContainer().appendChild(this.element_);\n        }\n    };\n    /**\n     * @param {import(\"../pixel.js\").Pixel} startPixel Start pixel.\n     * @param {import(\"../pixel.js\").Pixel} endPixel End pixel.\n     */\n    RenderBox.prototype.setPixels = function (startPixel, endPixel) {\n        this.startPixel_ = startPixel;\n        this.endPixel_ = endPixel;\n        this.createOrUpdateGeometry();\n        this.render_();\n    };\n    /**\n     * Creates or updates the cached geometry.\n     */\n    RenderBox.prototype.createOrUpdateGeometry = function () {\n        var startPixel = this.startPixel_;\n        var endPixel = this.endPixel_;\n        var pixels = [\n            startPixel,\n            [startPixel[0], endPixel[1]],\n            endPixel,\n            [endPixel[0], startPixel[1]],\n        ];\n        var coordinates = pixels.map(this.map_.getCoordinateFromPixelInternal, this.map_);\n        // close the polygon\n        coordinates[4] = coordinates[0].slice();\n        if (!this.geometry_) {\n            this.geometry_ = new Polygon([coordinates]);\n        }\n        else {\n            this.geometry_.setCoordinates([coordinates]);\n        }\n    };\n    /**\n     * @return {import(\"../geom/Polygon.js\").default} Geometry.\n     */\n    RenderBox.prototype.getGeometry = function () {\n        return this.geometry_;\n    };\n    return RenderBox;\n}(Disposable));\nexport default RenderBox;\n//# sourceMappingURL=Box.js.map","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n/**\n * @module ol/interaction/DragBox\n */\n// FIXME draw drag box\nimport Event from '../events/Event.js';\nimport PointerInteraction from './Pointer.js';\nimport RenderBox from '../render/Box.js';\nimport { mouseActionButton } from '../events/condition.js';\n/**\n * A function that takes a {@link module:ol/MapBrowserEvent} and two\n * {@link module:ol/pixel~Pixel}s and returns a `{boolean}`. If the condition is met,\n * true should be returned.\n * @typedef {function(this: ?, import(\"../MapBrowserEvent.js\").default, import(\"../pixel.js\").Pixel, import(\"../pixel.js\").Pixel):boolean} EndCondition\n */\n/**\n * @typedef {Object} Options\n * @property {string} [className='ol-dragbox'] CSS class name for styling the box.\n * @property {import(\"../events/condition.js\").Condition} [condition] A function that takes an {@link module:ol/MapBrowserEvent~MapBrowserEvent} and returns a boolean\n * to indicate whether that event should be handled.\n * Default is {@link ol/events/condition~mouseActionButton}.\n * @property {number} [minArea=64] The minimum area of the box in pixel, this value is used by the default\n * `boxEndCondition` function.\n * @property {EndCondition} [boxEndCondition] A function that takes a {@link module:ol/MapBrowserEvent~MapBrowserEvent} and two\n * {@link module:ol/pixel~Pixel}s to indicate whether a `boxend` event should be fired.\n * Default is `true` if the area of the box is bigger than the `minArea` option.\n * @property {function(this:DragBox, import(\"../MapBrowserEvent.js\").default):void} [onBoxEnd] Code to execute just\n * before `boxend` is fired.\n */\n/**\n * @enum {string}\n */\nvar DragBoxEventType = {\n    /**\n     * Triggered upon drag box start.\n     * @event DragBoxEvent#boxstart\n     * @api\n     */\n    BOXSTART: 'boxstart',\n    /**\n     * Triggered on drag when box is active.\n     * @event DragBoxEvent#boxdrag\n     * @api\n     */\n    BOXDRAG: 'boxdrag',\n    /**\n     * Triggered upon drag box end.\n     * @event DragBoxEvent#boxend\n     * @api\n     */\n    BOXEND: 'boxend',\n    /**\n     * Triggered upon drag box canceled.\n     * @event DragBoxEvent#boxcancel\n     * @api\n     */\n    BOXCANCEL: 'boxcancel',\n};\n/**\n * @classdesc\n * Events emitted by {@link module:ol/interaction/DragBox~DragBox} instances are instances of\n * this type.\n */\nvar DragBoxEvent = /** @class */ (function (_super) {\n    __extends(DragBoxEvent, _super);\n    /**\n     * @param {string} type The event type.\n     * @param {import(\"../coordinate.js\").Coordinate} coordinate The event coordinate.\n     * @param {import(\"../MapBrowserEvent.js\").default} mapBrowserEvent Originating event.\n     */\n    function DragBoxEvent(type, coordinate, mapBrowserEvent) {\n        var _this = _super.call(this, type) || this;\n        /**\n         * The coordinate of the drag event.\n         * @const\n         * @type {import(\"../coordinate.js\").Coordinate}\n         * @api\n         */\n        _this.coordinate = coordinate;\n        /**\n         * @const\n         * @type {import(\"../MapBrowserEvent.js\").default}\n         * @api\n         */\n        _this.mapBrowserEvent = mapBrowserEvent;\n        return _this;\n    }\n    return DragBoxEvent;\n}(Event));\nexport { DragBoxEvent };\n/**\n * @classdesc\n * Allows the user to draw a vector box by clicking and dragging on the map,\n * normally combined with an {@link module:ol/events/condition} that limits\n * it to when the shift or other key is held down. This is used, for example,\n * for zooming to a specific area of the map\n * (see {@link module:ol/interaction/DragZoom~DragZoom} and\n * {@link module:ol/interaction/DragRotateAndZoom}).\n *\n * @fires DragBoxEvent\n * @api\n */\nvar DragBox = /** @class */ (function (_super) {\n    __extends(DragBox, _super);\n    /**\n     * @param {Options=} opt_options Options.\n     */\n    function DragBox(opt_options) {\n        var _this = _super.call(this) || this;\n        var options = opt_options ? opt_options : {};\n        /**\n         * @type {import(\"../render/Box.js\").default}\n         * @private\n         */\n        _this.box_ = new RenderBox(options.className || 'ol-dragbox');\n        /**\n         * @type {number}\n         * @private\n         */\n        _this.minArea_ = options.minArea !== undefined ? options.minArea : 64;\n        if (options.onBoxEnd) {\n            _this.onBoxEnd = options.onBoxEnd;\n        }\n        /**\n         * @type {import(\"../pixel.js\").Pixel}\n         * @private\n         */\n        _this.startPixel_ = null;\n        /**\n         * @private\n         * @type {import(\"../events/condition.js\").Condition}\n         */\n        _this.condition_ = options.condition ? options.condition : mouseActionButton;\n        /**\n         * @private\n         * @type {EndCondition}\n         */\n        _this.boxEndCondition_ = options.boxEndCondition\n            ? options.boxEndCondition\n            : _this.defaultBoxEndCondition;\n        return _this;\n    }\n    /**\n     * The default condition for determining whether the boxend event\n     * should fire.\n     * @param {import(\"../MapBrowserEvent.js\").default} mapBrowserEvent The originating MapBrowserEvent\n     *     leading to the box end.\n     * @param {import(\"../pixel.js\").Pixel} startPixel The starting pixel of the box.\n     * @param {import(\"../pixel.js\").Pixel} endPixel The end pixel of the box.\n     * @return {boolean} Whether or not the boxend condition should be fired.\n     */\n    DragBox.prototype.defaultBoxEndCondition = function (mapBrowserEvent, startPixel, endPixel) {\n        var width = endPixel[0] - startPixel[0];\n        var height = endPixel[1] - startPixel[1];\n        return width * width + height * height >= this.minArea_;\n    };\n    /**\n     * Returns geometry of last drawn box.\n     * @return {import(\"../geom/Polygon.js\").default} Geometry.\n     * @api\n     */\n    DragBox.prototype.getGeometry = function () {\n        return this.box_.getGeometry();\n    };\n    /**\n     * Handle pointer drag events.\n     * @param {import(\"../MapBrowserEvent.js\").default} mapBrowserEvent Event.\n     */\n    DragBox.prototype.handleDragEvent = function (mapBrowserEvent) {\n        this.box_.setPixels(this.startPixel_, mapBrowserEvent.pixel);\n        this.dispatchEvent(new DragBoxEvent(DragBoxEventType.BOXDRAG, mapBrowserEvent.coordinate, mapBrowserEvent));\n    };\n    /**\n     * Handle pointer up events.\n     * @param {import(\"../MapBrowserEvent.js\").default} mapBrowserEvent Event.\n     * @return {boolean} If the event was consumed.\n     */\n    DragBox.prototype.handleUpEvent = function (mapBrowserEvent) {\n        this.box_.setMap(null);\n        var completeBox = this.boxEndCondition_(mapBrowserEvent, this.startPixel_, mapBrowserEvent.pixel);\n        if (completeBox) {\n            this.onBoxEnd(mapBrowserEvent);\n        }\n        this.dispatchEvent(new DragBoxEvent(completeBox ? DragBoxEventType.BOXEND : DragBoxEventType.BOXCANCEL, mapBrowserEvent.coordinate, mapBrowserEvent));\n        return false;\n    };\n    /**\n     * Handle pointer down events.\n     * @param {import(\"../MapBrowserEvent.js\").default} mapBrowserEvent Event.\n     * @return {boolean} If the event was consumed.\n     */\n    DragBox.prototype.handleDownEvent = function (mapBrowserEvent) {\n        if (this.condition_(mapBrowserEvent)) {\n            this.startPixel_ = mapBrowserEvent.pixel;\n            this.box_.setMap(mapBrowserEvent.map);\n            this.box_.setPixels(this.startPixel_, this.startPixel_);\n            this.dispatchEvent(new DragBoxEvent(DragBoxEventType.BOXSTART, mapBrowserEvent.coordinate, mapBrowserEvent));\n            return true;\n        }\n        else {\n            return false;\n        }\n    };\n    /**\n     * Function to execute just before `onboxend` is fired\n     * @param {import(\"../MapBrowserEvent.js\").default} event Event.\n     */\n    DragBox.prototype.onBoxEnd = function (event) { };\n    return DragBox;\n}(PointerInteraction));\nexport default DragBox;\n//# sourceMappingURL=DragBox.js.map","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n/**\n * @module ol/interaction/DragZoom\n */\nimport DragBox from './DragBox.js';\nimport { createOrUpdateFromCoordinates, getBottomLeft, getCenter, getTopRight, scaleFromCenter, } from '../extent.js';\nimport { easeOut } from '../easing.js';\nimport { shiftKeyOnly } from '../events/condition.js';\n/**\n * @typedef {Object} Options\n * @property {string} [className='ol-dragzoom'] CSS class name for styling the\n * box.\n * @property {import(\"../events/condition.js\").Condition} [condition] A function that\n * takes an {@link module:ol/MapBrowserEvent~MapBrowserEvent} and returns a\n * boolean to indicate whether that event should be handled.\n * Default is {@link module:ol/events/condition~shiftKeyOnly}.\n * @property {number} [duration=200] Animation duration in milliseconds.\n * @property {boolean} [out=false] Use interaction for zooming out.\n * @property {number} [minArea=64] The minimum area of the box in pixel, this value is used by the parent default\n * `boxEndCondition` function.\n */\n/**\n * @classdesc\n * Allows the user to zoom the map by clicking and dragging on the map,\n * normally combined with an {@link module:ol/events/condition} that limits\n * it to when a key, shift by default, is held down.\n *\n * To change the style of the box, use CSS and the `.ol-dragzoom` selector, or\n * your custom one configured with `className`.\n * @api\n */\nvar DragZoom = /** @class */ (function (_super) {\n    __extends(DragZoom, _super);\n    /**\n     * @param {Options=} opt_options Options.\n     */\n    function DragZoom(opt_options) {\n        var _this = this;\n        var options = opt_options ? opt_options : {};\n        var condition = options.condition ? options.condition : shiftKeyOnly;\n        _this = _super.call(this, {\n            condition: condition,\n            className: options.className || 'ol-dragzoom',\n            minArea: options.minArea,\n        }) || this;\n        /**\n         * @private\n         * @type {number}\n         */\n        _this.duration_ = options.duration !== undefined ? options.duration : 200;\n        /**\n         * @private\n         * @type {boolean}\n         */\n        _this.out_ = options.out !== undefined ? options.out : false;\n        return _this;\n    }\n    /**\n     * Function to execute just before `onboxend` is fired\n     * @param {import(\"../MapBrowserEvent.js\").default} event Event.\n     */\n    DragZoom.prototype.onBoxEnd = function (event) {\n        var map = this.getMap();\n        var view = /** @type {!import(\"../View.js\").default} */ (map.getView());\n        var size = /** @type {!import(\"../size.js\").Size} */ (map.getSize());\n        var extent = this.getGeometry().getExtent();\n        if (this.out_) {\n            var mapExtent = view.calculateExtentInternal(size);\n            var boxPixelExtent = createOrUpdateFromCoordinates([\n                map.getPixelFromCoordinateInternal(getBottomLeft(extent)),\n                map.getPixelFromCoordinateInternal(getTopRight(extent)),\n            ]);\n            var factor = view.getResolutionForExtentInternal(boxPixelExtent, size);\n            scaleFromCenter(mapExtent, 1 / factor);\n            extent = mapExtent;\n        }\n        var resolution = view.getConstrainedResolution(view.getResolutionForExtentInternal(extent, size));\n        var center = view.getConstrainedCenter(getCenter(extent), resolution);\n        view.animateInternal({\n            resolution: resolution,\n            center: center,\n            duration: this.duration_,\n            easing: easeOut,\n        });\n    };\n    return DragZoom;\n}(DragBox));\nexport default DragZoom;\n//# sourceMappingURL=DragZoom.js.map","/**\n * @module ol/events/KeyCode\n */\n/**\n * @enum {number}\n * @const\n */\nexport default {\n    LEFT: 37,\n    UP: 38,\n    RIGHT: 39,\n    DOWN: 40,\n};\n//# sourceMappingURL=KeyCode.js.map","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n/**\n * @module ol/interaction/KeyboardPan\n */\nimport EventType from '../events/EventType.js';\nimport Interaction, { pan } from './Interaction.js';\nimport KeyCode from '../events/KeyCode.js';\nimport { noModifierKeys, targetNotEditable } from '../events/condition.js';\nimport { rotate as rotateCoordinate } from '../coordinate.js';\n/**\n * @typedef {Object} Options\n * @property {import(\"../events/condition.js\").Condition} [condition] A function that\n * takes an {@link module:ol/MapBrowserEvent~MapBrowserEvent} and returns a\n * boolean to indicate whether that event should be handled. Default is\n * {@link module:ol/events/condition~noModifierKeys} and\n * {@link module:ol/events/condition~targetNotEditable}.\n * @property {number} [duration=100] Animation duration in milliseconds.\n * @property {number} [pixelDelta=128] The amount of pixels to pan on each key\n * press.\n */\n/**\n * @classdesc\n * Allows the user to pan the map using keyboard arrows.\n * Note that, although this interaction is by default included in maps,\n * the keys can only be used when browser focus is on the element to which\n * the keyboard events are attached. By default, this is the map div,\n * though you can change this with the `keyboardEventTarget` in\n * {@link module:ol/Map~Map}. `document` never loses focus but, for any other\n * element, focus will have to be on, and returned to, this element if the keys\n * are to function.\n * See also {@link module:ol/interaction/KeyboardZoom~KeyboardZoom}.\n * @api\n */\nvar KeyboardPan = /** @class */ (function (_super) {\n    __extends(KeyboardPan, _super);\n    /**\n     * @param {Options=} opt_options Options.\n     */\n    function KeyboardPan(opt_options) {\n        var _this = _super.call(this) || this;\n        var options = opt_options || {};\n        /**\n         * @private\n         * @param {import(\"../MapBrowserEvent.js\").default} mapBrowserEvent Browser event.\n         * @return {boolean} Combined condition result.\n         */\n        _this.defaultCondition_ = function (mapBrowserEvent) {\n            return (noModifierKeys(mapBrowserEvent) && targetNotEditable(mapBrowserEvent));\n        };\n        /**\n         * @private\n         * @type {import(\"../events/condition.js\").Condition}\n         */\n        _this.condition_ =\n            options.condition !== undefined\n                ? options.condition\n                : _this.defaultCondition_;\n        /**\n         * @private\n         * @type {number}\n         */\n        _this.duration_ = options.duration !== undefined ? options.duration : 100;\n        /**\n         * @private\n         * @type {number}\n         */\n        _this.pixelDelta_ =\n            options.pixelDelta !== undefined ? options.pixelDelta : 128;\n        return _this;\n    }\n    /**\n     * Handles the {@link module:ol/MapBrowserEvent map browser event} if it was a\n     * `KeyEvent`, and decides the direction to pan to (if an arrow key was\n     * pressed).\n     * @param {import(\"../MapBrowserEvent.js\").default} mapBrowserEvent Map browser event.\n     * @return {boolean} `false` to stop event propagation.\n     * @this {KeyboardPan}\n     */\n    KeyboardPan.prototype.handleEvent = function (mapBrowserEvent) {\n        var stopEvent = false;\n        if (mapBrowserEvent.type == EventType.KEYDOWN) {\n            var keyEvent = /** @type {KeyboardEvent} */ (mapBrowserEvent.originalEvent);\n            var keyCode = keyEvent.keyCode;\n            if (this.condition_(mapBrowserEvent) &&\n                (keyCode == KeyCode.DOWN ||\n                    keyCode == KeyCode.LEFT ||\n                    keyCode == KeyCode.RIGHT ||\n                    keyCode == KeyCode.UP)) {\n                var map = mapBrowserEvent.map;\n                var view = map.getView();\n                var mapUnitsDelta = view.getResolution() * this.pixelDelta_;\n                var deltaX = 0, deltaY = 0;\n                if (keyCode == KeyCode.DOWN) {\n                    deltaY = -mapUnitsDelta;\n                }\n                else if (keyCode == KeyCode.LEFT) {\n                    deltaX = -mapUnitsDelta;\n                }\n                else if (keyCode == KeyCode.RIGHT) {\n                    deltaX = mapUnitsDelta;\n                }\n                else {\n                    deltaY = mapUnitsDelta;\n                }\n                var delta = [deltaX, deltaY];\n                rotateCoordinate(delta, view.getRotation());\n                pan(view, delta, this.duration_);\n                keyEvent.preventDefault();\n                stopEvent = true;\n            }\n        }\n        return !stopEvent;\n    };\n    return KeyboardPan;\n}(Interaction));\nexport default KeyboardPan;\n//# sourceMappingURL=KeyboardPan.js.map","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n/**\n * @module ol/interaction/KeyboardZoom\n */\nimport EventType from '../events/EventType.js';\nimport Interaction, { zoomByDelta } from './Interaction.js';\nimport { targetNotEditable } from '../events/condition.js';\n/**\n * @typedef {Object} Options\n * @property {number} [duration=100] Animation duration in milliseconds.\n * @property {import(\"../events/condition.js\").Condition} [condition] A function that\n * takes an {@link module:ol/MapBrowserEvent~MapBrowserEvent} and returns a\n * boolean to indicate whether that event should be handled. Default is\n * {@link module:ol/events/condition~targetNotEditable}.\n * @property {number} [delta=1] The zoom level delta on each key press.\n */\n/**\n * @classdesc\n * Allows the user to zoom the map using keyboard + and -.\n * Note that, although this interaction is by default included in maps,\n * the keys can only be used when browser focus is on the element to which\n * the keyboard events are attached. By default, this is the map div,\n * though you can change this with the `keyboardEventTarget` in\n * {@link module:ol/Map~Map}. `document` never loses focus but, for any other\n * element, focus will have to be on, and returned to, this element if the keys\n * are to function.\n * See also {@link module:ol/interaction/KeyboardPan~KeyboardPan}.\n * @api\n */\nvar KeyboardZoom = /** @class */ (function (_super) {\n    __extends(KeyboardZoom, _super);\n    /**\n     * @param {Options=} opt_options Options.\n     */\n    function KeyboardZoom(opt_options) {\n        var _this = _super.call(this) || this;\n        var options = opt_options ? opt_options : {};\n        /**\n         * @private\n         * @type {import(\"../events/condition.js\").Condition}\n         */\n        _this.condition_ = options.condition ? options.condition : targetNotEditable;\n        /**\n         * @private\n         * @type {number}\n         */\n        _this.delta_ = options.delta ? options.delta : 1;\n        /**\n         * @private\n         * @type {number}\n         */\n        _this.duration_ = options.duration !== undefined ? options.duration : 100;\n        return _this;\n    }\n    /**\n     * Handles the {@link module:ol/MapBrowserEvent map browser event} if it was a\n     * `KeyEvent`, and decides whether to zoom in or out (depending on whether the\n     * key pressed was '+' or '-').\n     * @param {import(\"../MapBrowserEvent.js\").default} mapBrowserEvent Map browser event.\n     * @return {boolean} `false` to stop event propagation.\n     * @this {KeyboardZoom}\n     */\n    KeyboardZoom.prototype.handleEvent = function (mapBrowserEvent) {\n        var stopEvent = false;\n        if (mapBrowserEvent.type == EventType.KEYDOWN ||\n            mapBrowserEvent.type == EventType.KEYPRESS) {\n            var keyEvent = /** @type {KeyboardEvent} */ (mapBrowserEvent.originalEvent);\n            var charCode = keyEvent.charCode;\n            if (this.condition_(mapBrowserEvent) &&\n                (charCode == '+'.charCodeAt(0) || charCode == '-'.charCodeAt(0))) {\n                var map = mapBrowserEvent.map;\n                var delta = charCode == '+'.charCodeAt(0) ? this.delta_ : -this.delta_;\n                var view = map.getView();\n                zoomByDelta(view, delta, undefined, this.duration_);\n                keyEvent.preventDefault();\n                stopEvent = true;\n            }\n        }\n        return !stopEvent;\n    };\n    return KeyboardZoom;\n}(Interaction));\nexport default KeyboardZoom;\n//# sourceMappingURL=KeyboardZoom.js.map","/**\n * @module ol/Kinetic\n */\n/**\n * @classdesc\n * Implementation of inertial deceleration for map movement.\n *\n * @api\n */\nvar Kinetic = /** @class */ (function () {\n    /**\n     * @param {number} decay Rate of decay (must be negative).\n     * @param {number} minVelocity Minimum velocity (pixels/millisecond).\n     * @param {number} delay Delay to consider to calculate the kinetic\n     *     initial values (milliseconds).\n     */\n    function Kinetic(decay, minVelocity, delay) {\n        /**\n         * @private\n         * @type {number}\n         */\n        this.decay_ = decay;\n        /**\n         * @private\n         * @type {number}\n         */\n        this.minVelocity_ = minVelocity;\n        /**\n         * @private\n         * @type {number}\n         */\n        this.delay_ = delay;\n        /**\n         * @private\n         * @type {Array<number>}\n         */\n        this.points_ = [];\n        /**\n         * @private\n         * @type {number}\n         */\n        this.angle_ = 0;\n        /**\n         * @private\n         * @type {number}\n         */\n        this.initialVelocity_ = 0;\n    }\n    /**\n     * FIXME empty description for jsdoc\n     */\n    Kinetic.prototype.begin = function () {\n        this.points_.length = 0;\n        this.angle_ = 0;\n        this.initialVelocity_ = 0;\n    };\n    /**\n     * @param {number} x X.\n     * @param {number} y Y.\n     */\n    Kinetic.prototype.update = function (x, y) {\n        this.points_.push(x, y, Date.now());\n    };\n    /**\n     * @return {boolean} Whether we should do kinetic animation.\n     */\n    Kinetic.prototype.end = function () {\n        if (this.points_.length < 6) {\n            // at least 2 points are required (i.e. there must be at least 6 elements\n            // in the array)\n            return false;\n        }\n        var delay = Date.now() - this.delay_;\n        var lastIndex = this.points_.length - 3;\n        if (this.points_[lastIndex + 2] < delay) {\n            // the last tracked point is too old, which means that the user stopped\n            // panning before releasing the map\n            return false;\n        }\n        // get the first point which still falls into the delay time\n        var firstIndex = lastIndex - 3;\n        while (firstIndex > 0 && this.points_[firstIndex + 2] > delay) {\n            firstIndex -= 3;\n        }\n        var duration = this.points_[lastIndex + 2] - this.points_[firstIndex + 2];\n        // we don't want a duration of 0 (divide by zero)\n        // we also make sure the user panned for a duration of at least one frame\n        // (1/60s) to compute sane displacement values\n        if (duration < 1000 / 60) {\n            return false;\n        }\n        var dx = this.points_[lastIndex] - this.points_[firstIndex];\n        var dy = this.points_[lastIndex + 1] - this.points_[firstIndex + 1];\n        this.angle_ = Math.atan2(dy, dx);\n        this.initialVelocity_ = Math.sqrt(dx * dx + dy * dy) / duration;\n        return this.initialVelocity_ > this.minVelocity_;\n    };\n    /**\n     * @return {number} Total distance travelled (pixels).\n     */\n    Kinetic.prototype.getDistance = function () {\n        return (this.minVelocity_ - this.initialVelocity_) / this.decay_;\n    };\n    /**\n     * @return {number} Angle of the kinetic panning animation (radians).\n     */\n    Kinetic.prototype.getAngle = function () {\n        return this.angle_;\n    };\n    return Kinetic;\n}());\nexport default Kinetic;\n//# sourceMappingURL=Kinetic.js.map","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n/**\n * @module ol/interaction/MouseWheelZoom\n */\nimport EventType from '../events/EventType.js';\nimport Interaction, { zoomByDelta } from './Interaction.js';\nimport { DEVICE_PIXEL_RATIO, FIREFOX } from '../has.js';\nimport { all, always, focusWithTabindex } from '../events/condition.js';\nimport { clamp } from '../math.js';\n/**\n * @enum {string}\n */\nexport var Mode = {\n    TRACKPAD: 'trackpad',\n    WHEEL: 'wheel',\n};\n/**\n * @typedef {Object} Options\n * @property {import(\"../events/condition.js\").Condition} [condition] A function that\n * takes an {@link module:ol/MapBrowserEvent~MapBrowserEvent} and returns a\n * boolean to indicate whether that event should be handled. Default is\n * {@link module:ol/events/condition~always}.\n * @property {boolean} [onFocusOnly=false] When the map's target has a `tabindex` attribute set,\n * the interaction will only handle events when the map has the focus.\n * @property {number} [maxDelta=1] Maximum mouse wheel delta.\n * @property {number} [duration=250] Animation duration in milliseconds.\n * @property {number} [timeout=80] Mouse wheel timeout duration in milliseconds.\n * @property {boolean} [useAnchor=true] Enable zooming using the mouse's\n * location as the anchor. When set to `false`, zooming in and out will zoom to\n * the center of the screen instead of zooming on the mouse's location.\n * @property {boolean} [constrainResolution=false] If true, the mouse wheel zoom\n * event will always animate to the closest zoom level after an interaction;\n * false means intermediary zoom levels are allowed.\n */\n/**\n * @classdesc\n * Allows the user to zoom the map by scrolling the mouse wheel.\n * @api\n */\nvar MouseWheelZoom = /** @class */ (function (_super) {\n    __extends(MouseWheelZoom, _super);\n    /**\n     * @param {Options=} opt_options Options.\n     */\n    function MouseWheelZoom(opt_options) {\n        var _this = this;\n        var options = opt_options ? opt_options : {};\n        _this = _super.call(this, \n        /** @type {import(\"./Interaction.js\").InteractionOptions} */ (options)) || this;\n        /**\n         * @private\n         * @type {number}\n         */\n        _this.totalDelta_ = 0;\n        /**\n         * @private\n         * @type {number}\n         */\n        _this.lastDelta_ = 0;\n        /**\n         * @private\n         * @type {number}\n         */\n        _this.maxDelta_ = options.maxDelta !== undefined ? options.maxDelta : 1;\n        /**\n         * @private\n         * @type {number}\n         */\n        _this.duration_ = options.duration !== undefined ? options.duration : 250;\n        /**\n         * @private\n         * @type {number}\n         */\n        _this.timeout_ = options.timeout !== undefined ? options.timeout : 80;\n        /**\n         * @private\n         * @type {boolean}\n         */\n        _this.useAnchor_ =\n            options.useAnchor !== undefined ? options.useAnchor : true;\n        /**\n         * @private\n         * @type {boolean}\n         */\n        _this.constrainResolution_ =\n            options.constrainResolution !== undefined\n                ? options.constrainResolution\n                : false;\n        var condition = options.condition ? options.condition : always;\n        /**\n         * @private\n         * @type {import(\"../events/condition.js\").Condition}\n         */\n        _this.condition_ = options.onFocusOnly\n            ? all(focusWithTabindex, condition)\n            : condition;\n        /**\n         * @private\n         * @type {?import(\"../coordinate.js\").Coordinate}\n         */\n        _this.lastAnchor_ = null;\n        /**\n         * @private\n         * @type {number|undefined}\n         */\n        _this.startTime_ = undefined;\n        /**\n         * @private\n         * @type {?}\n         */\n        _this.timeoutId_;\n        /**\n         * @private\n         * @type {Mode|undefined}\n         */\n        _this.mode_ = undefined;\n        /**\n         * Trackpad events separated by this delay will be considered separate\n         * interactions.\n         * @type {number}\n         */\n        _this.trackpadEventGap_ = 400;\n        /**\n         * @type {?}\n         */\n        _this.trackpadTimeoutId_;\n        /**\n         * The number of delta values per zoom level\n         * @private\n         * @type {number}\n         */\n        _this.deltaPerZoom_ = 300;\n        return _this;\n    }\n    /**\n     * @private\n     */\n    MouseWheelZoom.prototype.endInteraction_ = function () {\n        this.trackpadTimeoutId_ = undefined;\n        var view = this.getMap().getView();\n        view.endInteraction(undefined, this.lastDelta_ ? (this.lastDelta_ > 0 ? 1 : -1) : 0, this.lastAnchor_);\n    };\n    /**\n     * Handles the {@link module:ol/MapBrowserEvent map browser event} (if it was a mousewheel-event) and eventually\n     * zooms the map.\n     * @param {import(\"../MapBrowserEvent.js\").default} mapBrowserEvent Map browser event.\n     * @return {boolean} `false` to stop event propagation.\n     */\n    MouseWheelZoom.prototype.handleEvent = function (mapBrowserEvent) {\n        if (!this.condition_(mapBrowserEvent)) {\n            return true;\n        }\n        var type = mapBrowserEvent.type;\n        if (type !== EventType.WHEEL) {\n            return true;\n        }\n        var map = mapBrowserEvent.map;\n        var wheelEvent = /** @type {WheelEvent} */ (mapBrowserEvent.originalEvent);\n        wheelEvent.preventDefault();\n        if (this.useAnchor_) {\n            this.lastAnchor_ = mapBrowserEvent.coordinate;\n        }\n        // Delta normalisation inspired by\n        // https://github.com/mapbox/mapbox-gl-js/blob/001c7b9/js/ui/handler/scroll_zoom.js\n        var delta;\n        if (mapBrowserEvent.type == EventType.WHEEL) {\n            delta = wheelEvent.deltaY;\n            if (FIREFOX && wheelEvent.deltaMode === WheelEvent.DOM_DELTA_PIXEL) {\n                delta /= DEVICE_PIXEL_RATIO;\n            }\n            if (wheelEvent.deltaMode === WheelEvent.DOM_DELTA_LINE) {\n                delta *= 40;\n            }\n        }\n        if (delta === 0) {\n            return false;\n        }\n        else {\n            this.lastDelta_ = delta;\n        }\n        var now = Date.now();\n        if (this.startTime_ === undefined) {\n            this.startTime_ = now;\n        }\n        if (!this.mode_ || now - this.startTime_ > this.trackpadEventGap_) {\n            this.mode_ = Math.abs(delta) < 4 ? Mode.TRACKPAD : Mode.WHEEL;\n        }\n        var view = map.getView();\n        if (this.mode_ === Mode.TRACKPAD &&\n            !(view.getConstrainResolution() || this.constrainResolution_)) {\n            if (this.trackpadTimeoutId_) {\n                clearTimeout(this.trackpadTimeoutId_);\n            }\n            else {\n                if (view.getAnimating()) {\n                    view.cancelAnimations();\n                }\n                view.beginInteraction();\n            }\n            this.trackpadTimeoutId_ = setTimeout(this.endInteraction_.bind(this), this.timeout_);\n            view.adjustZoom(-delta / this.deltaPerZoom_, this.lastAnchor_);\n            this.startTime_ = now;\n            return false;\n        }\n        this.totalDelta_ += delta;\n        var timeLeft = Math.max(this.timeout_ - (now - this.startTime_), 0);\n        clearTimeout(this.timeoutId_);\n        this.timeoutId_ = setTimeout(this.handleWheelZoom_.bind(this, map), timeLeft);\n        return false;\n    };\n    /**\n     * @private\n     * @param {import(\"../PluggableMap.js\").default} map Map.\n     */\n    MouseWheelZoom.prototype.handleWheelZoom_ = function (map) {\n        var view = map.getView();\n        if (view.getAnimating()) {\n            view.cancelAnimations();\n        }\n        var delta = -clamp(this.totalDelta_, -this.maxDelta_ * this.deltaPerZoom_, this.maxDelta_ * this.deltaPerZoom_) / this.deltaPerZoom_;\n        if (view.getConstrainResolution() || this.constrainResolution_) {\n            // view has a zoom constraint, zoom by 1\n            delta = delta ? (delta > 0 ? 1 : -1) : 0;\n        }\n        zoomByDelta(view, delta, this.lastAnchor_, this.duration_);\n        this.mode_ = undefined;\n        this.totalDelta_ = 0;\n        this.lastAnchor_ = null;\n        this.startTime_ = undefined;\n        this.timeoutId_ = undefined;\n    };\n    /**\n     * Enable or disable using the mouse's location as an anchor when zooming\n     * @param {boolean} useAnchor true to zoom to the mouse's location, false\n     * to zoom to the center of the map\n     * @api\n     */\n    MouseWheelZoom.prototype.setMouseAnchor = function (useAnchor) {\n        this.useAnchor_ = useAnchor;\n        if (!useAnchor) {\n            this.lastAnchor_ = null;\n        }\n    };\n    return MouseWheelZoom;\n}(Interaction));\nexport default MouseWheelZoom;\n//# sourceMappingURL=MouseWheelZoom.js.map","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n/**\n * @module ol/interaction/PinchRotate\n */\nimport PointerInteraction, { centroid as centroidFromPointers, } from './Pointer.js';\nimport { FALSE } from '../functions.js';\nimport { disable } from '../rotationconstraint.js';\n/**\n * @typedef {Object} Options\n * @property {number} [duration=250] The duration of the animation in\n * milliseconds.\n * @property {number} [threshold=0.3] Minimal angle in radians to start a rotation.\n */\n/**\n * @classdesc\n * Allows the user to rotate the map by twisting with two fingers\n * on a touch screen.\n * @api\n */\nvar PinchRotate = /** @class */ (function (_super) {\n    __extends(PinchRotate, _super);\n    /**\n     * @param {Options=} opt_options Options.\n     */\n    function PinchRotate(opt_options) {\n        var _this = this;\n        var options = opt_options ? opt_options : {};\n        var pointerOptions = /** @type {import(\"./Pointer.js\").Options} */ (options);\n        if (!pointerOptions.stopDown) {\n            pointerOptions.stopDown = FALSE;\n        }\n        _this = _super.call(this, pointerOptions) || this;\n        /**\n         * @private\n         * @type {import(\"../coordinate.js\").Coordinate}\n         */\n        _this.anchor_ = null;\n        /**\n         * @private\n         * @type {number|undefined}\n         */\n        _this.lastAngle_ = undefined;\n        /**\n         * @private\n         * @type {boolean}\n         */\n        _this.rotating_ = false;\n        /**\n         * @private\n         * @type {number}\n         */\n        _this.rotationDelta_ = 0.0;\n        /**\n         * @private\n         * @type {number}\n         */\n        _this.threshold_ = options.threshold !== undefined ? options.threshold : 0.3;\n        /**\n         * @private\n         * @type {number}\n         */\n        _this.duration_ = options.duration !== undefined ? options.duration : 250;\n        return _this;\n    }\n    /**\n     * Handle pointer drag events.\n     * @param {import(\"../MapBrowserEvent.js\").default} mapBrowserEvent Event.\n     */\n    PinchRotate.prototype.handleDragEvent = function (mapBrowserEvent) {\n        var rotationDelta = 0.0;\n        var touch0 = this.targetPointers[0];\n        var touch1 = this.targetPointers[1];\n        // angle between touches\n        var angle = Math.atan2(touch1.clientY - touch0.clientY, touch1.clientX - touch0.clientX);\n        if (this.lastAngle_ !== undefined) {\n            var delta = angle - this.lastAngle_;\n            this.rotationDelta_ += delta;\n            if (!this.rotating_ && Math.abs(this.rotationDelta_) > this.threshold_) {\n                this.rotating_ = true;\n            }\n            rotationDelta = delta;\n        }\n        this.lastAngle_ = angle;\n        var map = mapBrowserEvent.map;\n        var view = map.getView();\n        if (view.getConstraints().rotation === disable) {\n            return;\n        }\n        // rotate anchor point.\n        // FIXME: should be the intersection point between the lines:\n        //     touch0,touch1 and previousTouch0,previousTouch1\n        var viewportPosition = map.getViewport().getBoundingClientRect();\n        var centroid = centroidFromPointers(this.targetPointers);\n        centroid[0] -= viewportPosition.left;\n        centroid[1] -= viewportPosition.top;\n        this.anchor_ = map.getCoordinateFromPixelInternal(centroid);\n        // rotate\n        if (this.rotating_) {\n            map.render();\n            view.adjustRotationInternal(rotationDelta, this.anchor_);\n        }\n    };\n    /**\n     * Handle pointer up events.\n     * @param {import(\"../MapBrowserEvent.js\").default} mapBrowserEvent Event.\n     * @return {boolean} If the event was consumed.\n     */\n    PinchRotate.prototype.handleUpEvent = function (mapBrowserEvent) {\n        if (this.targetPointers.length < 2) {\n            var map = mapBrowserEvent.map;\n            var view = map.getView();\n            view.endInteraction(this.duration_);\n            return false;\n        }\n        else {\n            return true;\n        }\n    };\n    /**\n     * Handle pointer down events.\n     * @param {import(\"../MapBrowserEvent.js\").default} mapBrowserEvent Event.\n     * @return {boolean} If the event was consumed.\n     */\n    PinchRotate.prototype.handleDownEvent = function (mapBrowserEvent) {\n        if (this.targetPointers.length >= 2) {\n            var map = mapBrowserEvent.map;\n            this.anchor_ = null;\n            this.lastAngle_ = undefined;\n            this.rotating_ = false;\n            this.rotationDelta_ = 0.0;\n            if (!this.handlingDownUpSequence) {\n                map.getView().beginInteraction();\n            }\n            return true;\n        }\n        else {\n            return false;\n        }\n    };\n    return PinchRotate;\n}(PointerInteraction));\nexport default PinchRotate;\n//# sourceMappingURL=PinchRotate.js.map","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n/**\n * @module ol/interaction/PinchZoom\n */\nimport PointerInteraction, { centroid as centroidFromPointers, } from './Pointer.js';\nimport { FALSE } from '../functions.js';\n/**\n * @typedef {Object} Options\n * @property {number} [duration=400] Animation duration in milliseconds.\n */\n/**\n * @classdesc\n * Allows the user to zoom the map by pinching with two fingers\n * on a touch screen.\n * @api\n */\nvar PinchZoom = /** @class */ (function (_super) {\n    __extends(PinchZoom, _super);\n    /**\n     * @param {Options=} opt_options Options.\n     */\n    function PinchZoom(opt_options) {\n        var _this = this;\n        var options = opt_options ? opt_options : {};\n        var pointerOptions = /** @type {import(\"./Pointer.js\").Options} */ (options);\n        if (!pointerOptions.stopDown) {\n            pointerOptions.stopDown = FALSE;\n        }\n        _this = _super.call(this, pointerOptions) || this;\n        /**\n         * @private\n         * @type {import(\"../coordinate.js\").Coordinate}\n         */\n        _this.anchor_ = null;\n        /**\n         * @private\n         * @type {number}\n         */\n        _this.duration_ = options.duration !== undefined ? options.duration : 400;\n        /**\n         * @private\n         * @type {number|undefined}\n         */\n        _this.lastDistance_ = undefined;\n        /**\n         * @private\n         * @type {number}\n         */\n        _this.lastScaleDelta_ = 1;\n        return _this;\n    }\n    /**\n     * Handle pointer drag events.\n     * @param {import(\"../MapBrowserEvent.js\").default} mapBrowserEvent Event.\n     */\n    PinchZoom.prototype.handleDragEvent = function (mapBrowserEvent) {\n        var scaleDelta = 1.0;\n        var touch0 = this.targetPointers[0];\n        var touch1 = this.targetPointers[1];\n        var dx = touch0.clientX - touch1.clientX;\n        var dy = touch0.clientY - touch1.clientY;\n        // distance between touches\n        var distance = Math.sqrt(dx * dx + dy * dy);\n        if (this.lastDistance_ !== undefined) {\n            scaleDelta = this.lastDistance_ / distance;\n        }\n        this.lastDistance_ = distance;\n        var map = mapBrowserEvent.map;\n        var view = map.getView();\n        if (scaleDelta != 1.0) {\n            this.lastScaleDelta_ = scaleDelta;\n        }\n        // scale anchor point.\n        var viewportPosition = map.getViewport().getBoundingClientRect();\n        var centroid = centroidFromPointers(this.targetPointers);\n        centroid[0] -= viewportPosition.left;\n        centroid[1] -= viewportPosition.top;\n        this.anchor_ = map.getCoordinateFromPixelInternal(centroid);\n        // scale, bypass the resolution constraint\n        map.render();\n        view.adjustResolutionInternal(scaleDelta, this.anchor_);\n    };\n    /**\n     * Handle pointer up events.\n     * @param {import(\"../MapBrowserEvent.js\").default} mapBrowserEvent Event.\n     * @return {boolean} If the event was consumed.\n     */\n    PinchZoom.prototype.handleUpEvent = function (mapBrowserEvent) {\n        if (this.targetPointers.length < 2) {\n            var map = mapBrowserEvent.map;\n            var view = map.getView();\n            var direction = this.lastScaleDelta_ > 1 ? 1 : -1;\n            view.endInteraction(this.duration_, direction);\n            return false;\n        }\n        else {\n            return true;\n        }\n    };\n    /**\n     * Handle pointer down events.\n     * @param {import(\"../MapBrowserEvent.js\").default} mapBrowserEvent Event.\n     * @return {boolean} If the event was consumed.\n     */\n    PinchZoom.prototype.handleDownEvent = function (mapBrowserEvent) {\n        if (this.targetPointers.length >= 2) {\n            var map = mapBrowserEvent.map;\n            this.anchor_ = null;\n            this.lastDistance_ = undefined;\n            this.lastScaleDelta_ = 1;\n            if (!this.handlingDownUpSequence) {\n                map.getView().beginInteraction();\n            }\n            return true;\n        }\n        else {\n            return false;\n        }\n    };\n    return PinchZoom;\n}(PointerInteraction));\nexport default PinchZoom;\n//# sourceMappingURL=PinchZoom.js.map","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n/**\n * @module ol/Map\n */\nimport CompositeMapRenderer from './renderer/Composite.js';\nimport PluggableMap from './PluggableMap.js';\nimport { assign } from './obj.js';\nimport { defaults as defaultControls } from './control.js';\nimport { defaults as defaultInteractions } from './interaction.js';\n/**\n * @classdesc\n * The map is the core component of OpenLayers. For a map to render, a view,\n * one or more layers, and a target container are needed:\n *\n *     import Map from 'ol/Map';\n *     import View from 'ol/View';\n *     import TileLayer from 'ol/layer/Tile';\n *     import OSM from 'ol/source/OSM';\n *\n *     var map = new Map({\n *       view: new View({\n *         center: [0, 0],\n *         zoom: 1\n *       }),\n *       layers: [\n *         new TileLayer({\n *           source: new OSM()\n *         })\n *       ],\n *       target: 'map'\n *     });\n *\n * The above snippet creates a map using a {@link module:ol/layer/Tile} to\n * display {@link module:ol/source/OSM~OSM} OSM data and render it to a DOM\n * element with the id `map`.\n *\n * The constructor places a viewport container (with CSS class name\n * `ol-viewport`) in the target element (see `getViewport()`), and then two\n * further elements within the viewport: one with CSS class name\n * `ol-overlaycontainer-stopevent` for controls and some overlays, and one with\n * CSS class name `ol-overlaycontainer` for other overlays (see the `stopEvent`\n * option of {@link module:ol/Overlay~Overlay} for the difference). The map\n * itself is placed in a further element within the viewport.\n *\n * Layers are stored as a {@link module:ol/Collection~Collection} in\n * layerGroups. A top-level group is provided by the library. This is what is\n * accessed by `getLayerGroup` and `setLayerGroup`. Layers entered in the\n * options are added to this group, and `addLayer` and `removeLayer` change the\n * layer collection in the group. `getLayers` is a convenience function for\n * `getLayerGroup().getLayers()`. Note that {@link module:ol/layer/Group~Group}\n * is a subclass of {@link module:ol/layer/Base}, so layers entered in the\n * options or added with `addLayer` can be groups, which can contain further\n * groups, and so on.\n *\n * @api\n */\nvar Map = /** @class */ (function (_super) {\n    __extends(Map, _super);\n    /**\n     * @param {import(\"./PluggableMap.js\").MapOptions} options Map options.\n     */\n    function Map(options) {\n        var _this = this;\n        options = assign({}, options);\n        if (!options.controls) {\n            options.controls = defaultControls();\n        }\n        if (!options.interactions) {\n            options.interactions = defaultInteractions({\n                onFocusOnly: true,\n            });\n        }\n        _this = _super.call(this, options) || this;\n        return _this;\n    }\n    Map.prototype.createRenderer = function () {\n        return new CompositeMapRenderer(this);\n    };\n    return Map;\n}(PluggableMap));\nexport default Map;\n//# sourceMappingURL=Map.js.map","/**\n * @module ol/control\n */\nimport Attribution from './control/Attribution.js';\nimport Collection from './Collection.js';\nimport Rotate from './control/Rotate.js';\nimport Zoom from './control/Zoom.js';\nexport { default as Attribution } from './control/Attribution.js';\nexport { default as Control } from './control/Control.js';\nexport { default as FullScreen } from './control/FullScreen.js';\nexport { default as MousePosition } from './control/MousePosition.js';\nexport { default as OverviewMap } from './control/OverviewMap.js';\nexport { default as Rotate } from './control/Rotate.js';\nexport { default as ScaleLine } from './control/ScaleLine.js';\nexport { default as Zoom } from './control/Zoom.js';\nexport { default as ZoomSlider } from './control/ZoomSlider.js';\nexport { default as ZoomToExtent } from './control/ZoomToExtent.js';\n/**\n * @typedef {Object} DefaultsOptions\n * @property {boolean} [attribution=true] Include\n * {@link module:ol/control/Attribution~Attribution}.\n * @property {import(\"./control/Attribution.js\").Options} [attributionOptions]\n * Options for {@link module:ol/control/Attribution~Attribution}.\n * @property {boolean} [rotate=true] Include\n * {@link module:ol/control/Rotate~Rotate}.\n * @property {import(\"./control/Rotate.js\").Options} [rotateOptions] Options\n * for {@link module:ol/control/Rotate~Rotate}.\n * @property {boolean} [zoom] Include {@link module:ol/control/Zoom~Zoom}.\n * @property {import(\"./control/Zoom.js\").Options} [zoomOptions] Options for\n * {@link module:ol/control/Zoom~Zoom}.\n * @api\n */\n/**\n * Set of controls included in maps by default. Unless configured otherwise,\n * this returns a collection containing an instance of each of the following\n * controls:\n * * {@link module:ol/control/Zoom~Zoom}\n * * {@link module:ol/control/Rotate~Rotate}\n * * {@link module:ol/control/Attribution~Attribution}\n *\n * @param {DefaultsOptions=} opt_options\n * Defaults options.\n * @return {Collection<import(\"./control/Control.js\").default>}\n * Controls.\n * @api\n */\nexport function defaults(opt_options) {\n    var options = opt_options ? opt_options : {};\n    var controls = new Collection();\n    var zoomControl = options.zoom !== undefined ? options.zoom : true;\n    if (zoomControl) {\n        controls.push(new Zoom(options.zoomOptions));\n    }\n    var rotateControl = options.rotate !== undefined ? options.rotate : true;\n    if (rotateControl) {\n        controls.push(new Rotate(options.rotateOptions));\n    }\n    var attributionControl = options.attribution !== undefined ? options.attribution : true;\n    if (attributionControl) {\n        controls.push(new Attribution(options.attributionOptions));\n    }\n    return controls;\n}\n//# sourceMappingURL=control.js.map","/**\n * @module ol/interaction\n */\nimport Collection from './Collection.js';\nimport DoubleClickZoom from './interaction/DoubleClickZoom.js';\nimport DragPan from './interaction/DragPan.js';\nimport DragRotate from './interaction/DragRotate.js';\nimport DragZoom from './interaction/DragZoom.js';\nimport KeyboardPan from './interaction/KeyboardPan.js';\nimport KeyboardZoom from './interaction/KeyboardZoom.js';\nimport Kinetic from './Kinetic.js';\nimport MouseWheelZoom from './interaction/MouseWheelZoom.js';\nimport PinchRotate from './interaction/PinchRotate.js';\nimport PinchZoom from './interaction/PinchZoom.js';\nexport { default as DoubleClickZoom } from './interaction/DoubleClickZoom.js';\nexport { default as DragAndDrop } from './interaction/DragAndDrop.js';\nexport { default as DragBox } from './interaction/DragBox.js';\nexport { default as DragPan } from './interaction/DragPan.js';\nexport { default as DragRotate } from './interaction/DragRotate.js';\nexport { default as DragRotateAndZoom } from './interaction/DragRotateAndZoom.js';\nexport { default as DragZoom } from './interaction/DragZoom.js';\nexport { default as Draw } from './interaction/Draw.js';\nexport { default as Extent } from './interaction/Extent.js';\nexport { default as Interaction } from './interaction/Interaction.js';\nexport { default as KeyboardPan } from './interaction/KeyboardPan.js';\nexport { default as KeyboardZoom } from './interaction/KeyboardZoom.js';\nexport { default as Modify } from './interaction/Modify.js';\nexport { default as MouseWheelZoom } from './interaction/MouseWheelZoom.js';\nexport { default as PinchRotate } from './interaction/PinchRotate.js';\nexport { default as PinchZoom } from './interaction/PinchZoom.js';\nexport { default as Pointer } from './interaction/Pointer.js';\nexport { default as Select } from './interaction/Select.js';\nexport { default as Snap } from './interaction/Snap.js';\nexport { default as Translate } from './interaction/Translate.js';\n/**\n * @typedef {Object} DefaultsOptions\n * @property {boolean} [altShiftDragRotate=true] Whether Alt-Shift-drag rotate is\n * desired.\n * @property {boolean} [onFocusOnly=false] Interact only when the map has the\n * focus. This affects the `MouseWheelZoom` and `DragPan` interactions and is\n * useful when page scroll is desired for maps that do not have the browser's\n * focus.\n * @property {boolean} [doubleClickZoom=true] Whether double click zoom is\n * desired.\n * @property {boolean} [keyboard=true] Whether keyboard interaction is desired.\n * @property {boolean} [mouseWheelZoom=true] Whether mousewheel zoom is desired.\n * @property {boolean} [shiftDragZoom=true] Whether Shift-drag zoom is desired.\n * @property {boolean} [dragPan=true] Whether drag pan is desired.\n * @property {boolean} [pinchRotate=true] Whether pinch rotate is desired.\n * @property {boolean} [pinchZoom=true] Whether pinch zoom is desired.\n * @property {number} [zoomDelta] Zoom level delta when using keyboard or double click zoom.\n * @property {number} [zoomDuration] Duration of the zoom animation in\n * milliseconds.\n */\n/**\n * Set of interactions included in maps by default. Specific interactions can be\n * excluded by setting the appropriate option to false in the constructor\n * options, but the order of the interactions is fixed.  If you want to specify\n * a different order for interactions, you will need to create your own\n * {@link module:ol/interaction/Interaction} instances and insert\n * them into a {@link module:ol/Collection} in the order you want\n * before creating your {@link module:ol/Map~Map} instance. Changing the order can\n * be of interest if the event propagation needs to be stopped at a point.\n * The default set of interactions, in sequence, is:\n * * {@link module:ol/interaction/DragRotate~DragRotate}\n * * {@link module:ol/interaction/DoubleClickZoom~DoubleClickZoom}\n * * {@link module:ol/interaction/DragPan~DragPan}\n * * {@link module:ol/interaction/PinchRotate~PinchRotate}\n * * {@link module:ol/interaction/PinchZoom~PinchZoom}\n * * {@link module:ol/interaction/KeyboardPan~KeyboardPan}\n * * {@link module:ol/interaction/KeyboardZoom~KeyboardZoom}\n * * {@link module:ol/interaction/MouseWheelZoom~MouseWheelZoom}\n * * {@link module:ol/interaction/DragZoom~DragZoom}\n *\n * @param {DefaultsOptions=} opt_options Defaults options.\n * @return {import(\"./Collection.js\").default<import(\"./interaction/Interaction.js\").default>}\n * A collection of interactions to be used with the {@link module:ol/Map~Map}\n * constructor's `interactions` option.\n * @api\n */\nexport function defaults(opt_options) {\n    var options = opt_options ? opt_options : {};\n    var interactions = new Collection();\n    var kinetic = new Kinetic(-0.005, 0.05, 100);\n    var altShiftDragRotate = options.altShiftDragRotate !== undefined\n        ? options.altShiftDragRotate\n        : true;\n    if (altShiftDragRotate) {\n        interactions.push(new DragRotate());\n    }\n    var doubleClickZoom = options.doubleClickZoom !== undefined ? options.doubleClickZoom : true;\n    if (doubleClickZoom) {\n        interactions.push(new DoubleClickZoom({\n            delta: options.zoomDelta,\n            duration: options.zoomDuration,\n        }));\n    }\n    var dragPan = options.dragPan !== undefined ? options.dragPan : true;\n    if (dragPan) {\n        interactions.push(new DragPan({\n            onFocusOnly: options.onFocusOnly,\n            kinetic: kinetic,\n        }));\n    }\n    var pinchRotate = options.pinchRotate !== undefined ? options.pinchRotate : true;\n    if (pinchRotate) {\n        interactions.push(new PinchRotate());\n    }\n    var pinchZoom = options.pinchZoom !== undefined ? options.pinchZoom : true;\n    if (pinchZoom) {\n        interactions.push(new PinchZoom({\n            duration: options.zoomDuration,\n        }));\n    }\n    var keyboard = options.keyboard !== undefined ? options.keyboard : true;\n    if (keyboard) {\n        interactions.push(new KeyboardPan());\n        interactions.push(new KeyboardZoom({\n            delta: options.zoomDelta,\n            duration: options.zoomDuration,\n        }));\n    }\n    var mouseWheelZoom = options.mouseWheelZoom !== undefined ? options.mouseWheelZoom : true;\n    if (mouseWheelZoom) {\n        interactions.push(new MouseWheelZoom({\n            onFocusOnly: options.onFocusOnly,\n            duration: options.zoomDuration,\n        }));\n    }\n    var shiftDragZoom = options.shiftDragZoom !== undefined ? options.shiftDragZoom : true;\n    if (shiftDragZoom) {\n        interactions.push(new DragZoom({\n            duration: options.zoomDuration,\n        }));\n    }\n    return interactions;\n}\n//# sourceMappingURL=interaction.js.map","/**\n * @module ol/layer/TileProperty\n */\n/**\n * @enum {string}\n */\nexport default {\n    PRELOAD: 'preload',\n    USE_INTERIM_TILES_ON_ERROR: 'useInterimTilesOnError',\n};\n//# sourceMappingURL=TileProperty.js.map","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n/**\n * @module ol/layer/BaseTile\n */\nimport Layer from './Layer.js';\nimport TileProperty from './TileProperty.js';\nimport { assign } from '../obj.js';\n/**\n * @typedef {Object} Options\n * @property {string} [className='ol-layer'] A CSS class name to set to the layer element.\n * @property {number} [opacity=1] Opacity (0, 1).\n * @property {boolean} [visible=true] Visibility.\n * @property {import(\"../extent.js\").Extent} [extent] The bounding extent for layer rendering.  The layer will not be\n * rendered outside of this extent.\n * @property {number} [zIndex] The z-index for layer rendering.  At rendering time, the layers\n * will be ordered, first by Z-index and then by position. When `undefined`, a `zIndex` of 0 is assumed\n * for layers that are added to the map's `layers` collection, or `Infinity` when the layer's `setMap()`\n * method was used.\n * @property {number} [minResolution] The minimum resolution (inclusive) at which this layer will be\n * visible.\n * @property {number} [maxResolution] The maximum resolution (exclusive) below which this layer will\n * be visible.\n * @property {number} [minZoom] The minimum view zoom level (exclusive) above which this layer will be\n * visible.\n * @property {number} [maxZoom] The maximum view zoom level (inclusive) at which this layer will\n * be visible.\n * @property {number} [preload=0] Preload. Load low-resolution tiles up to `preload` levels. `0`\n * means no preloading.\n * @property {import(\"../source/Tile.js\").default} [source] Source for this layer.\n * @property {import(\"../PluggableMap.js\").default} [map] Sets the layer as overlay on a map. The map will not manage\n * this layer in its layers collection, and the layer will be rendered on top. This is useful for\n * temporary layers. The standard way to add a layer to a map and have it managed by the map is to\n * use {@link module:ol/Map#addLayer}.\n * @property {boolean} [useInterimTilesOnError=true] Use interim tiles on error.\n */\n/**\n * @classdesc\n * For layer sources that provide pre-rendered, tiled images in grids that are\n * organized by zoom levels for specific resolutions.\n * Note that any property set in the options is set as a {@link module:ol/Object~BaseObject}\n * property on the layer object; for example, setting `title: 'My Title'` in the\n * options means that `title` is observable, and has get/set accessors.\n *\n * @extends {Layer<import(\"../source/Tile.js\").default>}\n * @api\n */\nvar BaseTileLayer = /** @class */ (function (_super) {\n    __extends(BaseTileLayer, _super);\n    /**\n     * @param {Options=} opt_options Tile layer options.\n     */\n    function BaseTileLayer(opt_options) {\n        var _this = this;\n        var options = opt_options ? opt_options : {};\n        var baseOptions = assign({}, options);\n        delete baseOptions.preload;\n        delete baseOptions.useInterimTilesOnError;\n        _this = _super.call(this, baseOptions) || this;\n        _this.setPreload(options.preload !== undefined ? options.preload : 0);\n        _this.setUseInterimTilesOnError(options.useInterimTilesOnError !== undefined\n            ? options.useInterimTilesOnError\n            : true);\n        return _this;\n    }\n    /**\n     * Return the level as number to which we will preload tiles up to.\n     * @return {number} The level to preload tiles up to.\n     * @observable\n     * @api\n     */\n    BaseTileLayer.prototype.getPreload = function () {\n        return /** @type {number} */ (this.get(TileProperty.PRELOAD));\n    };\n    /**\n     * Set the level as number to which we will preload tiles up to.\n     * @param {number} preload The level to preload tiles up to.\n     * @observable\n     * @api\n     */\n    BaseTileLayer.prototype.setPreload = function (preload) {\n        this.set(TileProperty.PRELOAD, preload);\n    };\n    /**\n     * Whether we use interim tiles on error.\n     * @return {boolean} Use interim tiles on error.\n     * @observable\n     * @api\n     */\n    BaseTileLayer.prototype.getUseInterimTilesOnError = function () {\n        return /** @type {boolean} */ (this.get(TileProperty.USE_INTERIM_TILES_ON_ERROR));\n    };\n    /**\n     * Set whether we use interim tiles on error.\n     * @param {boolean} useInterimTilesOnError Use interim tiles on error.\n     * @observable\n     * @api\n     */\n    BaseTileLayer.prototype.setUseInterimTilesOnError = function (useInterimTilesOnError) {\n        this.set(TileProperty.USE_INTERIM_TILES_ON_ERROR, useInterimTilesOnError);\n    };\n    return BaseTileLayer;\n}(Layer));\nexport default BaseTileLayer;\n//# sourceMappingURL=BaseTile.js.map","/**\n * @module ol/ImageState\n */\n/**\n * @enum {number}\n */\nexport default {\n    IDLE: 0,\n    LOADING: 1,\n    LOADED: 2,\n    ERROR: 3,\n    EMPTY: 4,\n};\n//# sourceMappingURL=ImageState.js.map","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n/**\n * @module ol/renderer/Layer\n */\nimport EventType from '../events/EventType.js';\nimport ImageState from '../ImageState.js';\nimport Observable from '../Observable.js';\nimport SourceState from '../source/State.js';\nimport { abstract } from '../util.js';\n/**\n * @template {import(\"../layer/Layer.js\").default} LayerType\n */\nvar LayerRenderer = /** @class */ (function (_super) {\n    __extends(LayerRenderer, _super);\n    /**\n     * @param {LayerType} layer Layer.\n     */\n    function LayerRenderer(layer) {\n        var _this = _super.call(this) || this;\n        /** @private */\n        _this.boundHandleImageChange_ = _this.handleImageChange_.bind(_this);\n        /**\n         * @protected\n         * @type {LayerType}\n         */\n        _this.layer_ = layer;\n        /**\n         * @type {import(\"../render/canvas/ExecutorGroup\").default}\n         */\n        _this.declutterExecutorGroup = null;\n        return _this;\n    }\n    /**\n     * Asynchronous layer level hit detection.\n     * @param {import(\"../pixel.js\").Pixel} pixel Pixel.\n     * @return {Promise<Array<import(\"../Feature\").default>>} Promise that resolves with\n     * an array of features.\n     */\n    LayerRenderer.prototype.getFeatures = function (pixel) {\n        return abstract();\n    };\n    /**\n     * Determine whether render should be called.\n     * @abstract\n     * @param {import(\"../PluggableMap.js\").FrameState} frameState Frame state.\n     * @return {boolean} Layer is ready to be rendered.\n     */\n    LayerRenderer.prototype.prepareFrame = function (frameState) {\n        return abstract();\n    };\n    /**\n     * Render the layer.\n     * @abstract\n     * @param {import(\"../PluggableMap.js\").FrameState} frameState Frame state.\n     * @param {HTMLElement} target Target that may be used to render content to.\n     * @return {HTMLElement} The rendered element.\n     */\n    LayerRenderer.prototype.renderFrame = function (frameState, target) {\n        return abstract();\n    };\n    /**\n     * @param {Object<number, Object<string, import(\"../Tile.js\").default>>} tiles Lookup of loaded tiles by zoom level.\n     * @param {number} zoom Zoom level.\n     * @param {import(\"../Tile.js\").default} tile Tile.\n     * @return {boolean|void} If `false`, the tile will not be considered loaded.\n     */\n    LayerRenderer.prototype.loadedTileCallback = function (tiles, zoom, tile) {\n        if (!tiles[zoom]) {\n            tiles[zoom] = {};\n        }\n        tiles[zoom][tile.tileCoord.toString()] = tile;\n        return undefined;\n    };\n    /**\n     * Create a function that adds loaded tiles to the tile lookup.\n     * @param {import(\"../source/Tile.js\").default} source Tile source.\n     * @param {import(\"../proj/Projection.js\").default} projection Projection of the tiles.\n     * @param {Object<number, Object<string, import(\"../Tile.js\").default>>} tiles Lookup of loaded tiles by zoom level.\n     * @return {function(number, import(\"../TileRange.js\").default):boolean} A function that can be\n     *     called with a zoom level and a tile range to add loaded tiles to the lookup.\n     * @protected\n     */\n    LayerRenderer.prototype.createLoadedTileFinder = function (source, projection, tiles) {\n        return (\n        /**\n         * @param {number} zoom Zoom level.\n         * @param {import(\"../TileRange.js\").default} tileRange Tile range.\n         * @return {boolean} The tile range is fully loaded.\n         * @this {LayerRenderer}\n         */\n        function (zoom, tileRange) {\n            var callback = this.loadedTileCallback.bind(this, tiles, zoom);\n            return source.forEachLoadedTile(projection, zoom, tileRange, callback);\n        }.bind(this));\n    };\n    /**\n     * @abstract\n     * @param {import(\"../coordinate.js\").Coordinate} coordinate Coordinate.\n     * @param {import(\"../PluggableMap.js\").FrameState} frameState Frame state.\n     * @param {number} hitTolerance Hit tolerance in pixels.\n     * @param {import(\"./vector.js\").FeatureCallback<T>} callback Feature callback.\n     * @param {Array<import(\"./Map.js\").HitMatch<T>>} matches The hit detected matches with tolerance.\n     * @return {T|undefined} Callback result.\n     * @template T\n     */\n    LayerRenderer.prototype.forEachFeatureAtCoordinate = function (coordinate, frameState, hitTolerance, callback, matches) {\n        return undefined;\n    };\n    /**\n     * @abstract\n     * @param {import(\"../pixel.js\").Pixel} pixel Pixel.\n     * @param {import(\"../PluggableMap.js\").FrameState} frameState FrameState.\n     * @param {number} hitTolerance Hit tolerance in pixels.\n     * @return {Uint8ClampedArray|Uint8Array} The result.  If there is no data at the pixel\n     *    location, null will be returned.  If there is data, but pixel values cannot be\n     *    returned, and empty array will be returned.\n     */\n    LayerRenderer.prototype.getDataAtPixel = function (pixel, frameState, hitTolerance) {\n        return abstract();\n    };\n    /**\n     * @return {LayerType} Layer.\n     */\n    LayerRenderer.prototype.getLayer = function () {\n        return this.layer_;\n    };\n    /**\n     * Perform action necessary to get the layer rendered after new fonts have loaded\n     * @abstract\n     */\n    LayerRenderer.prototype.handleFontsChanged = function () { };\n    /**\n     * Handle changes in image state.\n     * @param {import(\"../events/Event.js\").default} event Image change event.\n     * @private\n     */\n    LayerRenderer.prototype.handleImageChange_ = function (event) {\n        var image = /** @type {import(\"../Image.js\").default} */ (event.target);\n        if (image.getState() === ImageState.LOADED) {\n            this.renderIfReadyAndVisible();\n        }\n    };\n    /**\n     * Load the image if not already loaded, and register the image change\n     * listener if needed.\n     * @param {import(\"../ImageBase.js\").default} image Image.\n     * @return {boolean} `true` if the image is already loaded, `false` otherwise.\n     * @protected\n     */\n    LayerRenderer.prototype.loadImage = function (image) {\n        var imageState = image.getState();\n        if (imageState != ImageState.LOADED && imageState != ImageState.ERROR) {\n            image.addEventListener(EventType.CHANGE, this.boundHandleImageChange_);\n        }\n        if (imageState == ImageState.IDLE) {\n            image.load();\n            imageState = image.getState();\n        }\n        return imageState == ImageState.LOADED;\n    };\n    /**\n     * @protected\n     */\n    LayerRenderer.prototype.renderIfReadyAndVisible = function () {\n        var layer = this.getLayer();\n        if (layer.getVisible() && layer.getSourceState() == SourceState.READY) {\n            layer.changed();\n        }\n    };\n    return LayerRenderer;\n}(Observable));\nexport default LayerRenderer;\n//# sourceMappingURL=Layer.js.map","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n/**\n * @module ol/renderer/canvas/Layer\n */\nimport LayerRenderer from '../Layer.js';\nimport RenderEvent from '../../render/Event.js';\nimport RenderEventType from '../../render/EventType.js';\nimport { apply as applyTransform, compose as composeTransform, create as createTransform, } from '../../transform.js';\nimport { containsCoordinate, getBottomLeft, getBottomRight, getTopLeft, getTopRight, } from '../../extent.js';\nimport { createCanvasContext2D } from '../../dom.js';\nimport { rotateAtOffset } from '../../render/canvas.js';\n/**\n * @abstract\n * @template {import(\"../../layer/Layer.js\").default} LayerType\n */\nvar CanvasLayerRenderer = /** @class */ (function (_super) {\n    __extends(CanvasLayerRenderer, _super);\n    /**\n     * @param {LayerType} layer Layer.\n     */\n    function CanvasLayerRenderer(layer) {\n        var _this = _super.call(this, layer) || this;\n        /**\n         * @protected\n         * @type {HTMLElement}\n         */\n        _this.container = null;\n        /**\n         * @protected\n         * @type {number}\n         */\n        _this.renderedResolution;\n        /**\n         * A temporary transform.  The values in this transform should only be used in a\n         * function that sets the values.\n         * @protected\n         * @type {import(\"../../transform.js\").Transform}\n         */\n        _this.tempTransform = createTransform();\n        /**\n         * The transform for rendered pixels to viewport CSS pixels.  This transform must\n         * be set when rendering a frame and may be used by other functions after rendering.\n         * @protected\n         * @type {import(\"../../transform.js\").Transform}\n         */\n        _this.pixelTransform = createTransform();\n        /**\n         * The transform for viewport CSS pixels to rendered pixels.  This transform must\n         * be set when rendering a frame and may be used by other functions after rendering.\n         * @protected\n         * @type {import(\"../../transform.js\").Transform}\n         */\n        _this.inversePixelTransform = createTransform();\n        /**\n         * @type {CanvasRenderingContext2D}\n         */\n        _this.context = null;\n        /**\n         * @type {boolean}\n         */\n        _this.containerReused = false;\n        return _this;\n    }\n    /**\n     * Get a rendering container from an existing target, if compatible.\n     * @param {HTMLElement} target Potential render target.\n     * @param {string} transform CSS Transform.\n     * @param {number} opacity Opacity.\n     */\n    CanvasLayerRenderer.prototype.useContainer = function (target, transform, opacity) {\n        var layerClassName = this.getLayer().getClassName();\n        var container, context;\n        if (target &&\n            target.style.opacity === '' &&\n            target.className === layerClassName) {\n            var canvas = target.firstElementChild;\n            if (canvas instanceof HTMLCanvasElement) {\n                context = canvas.getContext('2d');\n            }\n        }\n        if (context &&\n            (context.canvas.width === 0 ||\n                context.canvas.style.transform === transform)) {\n            // Container of the previous layer renderer can be used.\n            this.container = target;\n            this.context = context;\n            this.containerReused = true;\n        }\n        else if (this.containerReused) {\n            // Previously reused container cannot be used any more.\n            this.container = null;\n            this.context = null;\n            this.containerReused = false;\n        }\n        if (!this.container) {\n            container = document.createElement('div');\n            container.className = layerClassName;\n            var style = container.style;\n            style.position = 'absolute';\n            style.width = '100%';\n            style.height = '100%';\n            context = createCanvasContext2D();\n            var canvas = context.canvas;\n            container.appendChild(canvas);\n            style = canvas.style;\n            style.position = 'absolute';\n            style.left = '0';\n            style.transformOrigin = 'top left';\n            this.container = container;\n            this.context = context;\n        }\n    };\n    /**\n     * @param {CanvasRenderingContext2D} context Context.\n     * @param {import(\"../../PluggableMap.js\").FrameState} frameState Frame state.\n     * @param {import(\"../../extent.js\").Extent} extent Clip extent.\n     * @protected\n     */\n    CanvasLayerRenderer.prototype.clip = function (context, frameState, extent) {\n        var pixelRatio = frameState.pixelRatio;\n        var halfWidth = (frameState.size[0] * pixelRatio) / 2;\n        var halfHeight = (frameState.size[1] * pixelRatio) / 2;\n        var rotation = frameState.viewState.rotation;\n        var topLeft = getTopLeft(extent);\n        var topRight = getTopRight(extent);\n        var bottomRight = getBottomRight(extent);\n        var bottomLeft = getBottomLeft(extent);\n        applyTransform(frameState.coordinateToPixelTransform, topLeft);\n        applyTransform(frameState.coordinateToPixelTransform, topRight);\n        applyTransform(frameState.coordinateToPixelTransform, bottomRight);\n        applyTransform(frameState.coordinateToPixelTransform, bottomLeft);\n        context.save();\n        rotateAtOffset(context, -rotation, halfWidth, halfHeight);\n        context.beginPath();\n        context.moveTo(topLeft[0] * pixelRatio, topLeft[1] * pixelRatio);\n        context.lineTo(topRight[0] * pixelRatio, topRight[1] * pixelRatio);\n        context.lineTo(bottomRight[0] * pixelRatio, bottomRight[1] * pixelRatio);\n        context.lineTo(bottomLeft[0] * pixelRatio, bottomLeft[1] * pixelRatio);\n        context.clip();\n        rotateAtOffset(context, rotation, halfWidth, halfHeight);\n    };\n    /**\n     * @param {CanvasRenderingContext2D} context Context.\n     * @param {import(\"../../PluggableMap.js\").FrameState} frameState Frame state.\n     * @param {import(\"../../extent.js\").Extent} extent Clip extent.\n     * @protected\n     */\n    CanvasLayerRenderer.prototype.clipUnrotated = function (context, frameState, extent) {\n        var topLeft = getTopLeft(extent);\n        var topRight = getTopRight(extent);\n        var bottomRight = getBottomRight(extent);\n        var bottomLeft = getBottomLeft(extent);\n        applyTransform(frameState.coordinateToPixelTransform, topLeft);\n        applyTransform(frameState.coordinateToPixelTransform, topRight);\n        applyTransform(frameState.coordinateToPixelTransform, bottomRight);\n        applyTransform(frameState.coordinateToPixelTransform, bottomLeft);\n        var inverted = this.inversePixelTransform;\n        applyTransform(inverted, topLeft);\n        applyTransform(inverted, topRight);\n        applyTransform(inverted, bottomRight);\n        applyTransform(inverted, bottomLeft);\n        context.save();\n        context.beginPath();\n        context.moveTo(Math.round(topLeft[0]), Math.round(topLeft[1]));\n        context.lineTo(Math.round(topRight[0]), Math.round(topRight[1]));\n        context.lineTo(Math.round(bottomRight[0]), Math.round(bottomRight[1]));\n        context.lineTo(Math.round(bottomLeft[0]), Math.round(bottomLeft[1]));\n        context.clip();\n    };\n    /**\n     * @param {import(\"../../render/EventType.js\").default} type Event type.\n     * @param {CanvasRenderingContext2D} context Context.\n     * @param {import(\"../../PluggableMap.js\").FrameState} frameState Frame state.\n     * @private\n     */\n    CanvasLayerRenderer.prototype.dispatchRenderEvent_ = function (type, context, frameState) {\n        var layer = this.getLayer();\n        if (layer.hasListener(type)) {\n            var event_1 = new RenderEvent(type, this.inversePixelTransform, frameState, context);\n            layer.dispatchEvent(event_1);\n        }\n    };\n    /**\n     * @param {CanvasRenderingContext2D} context Context.\n     * @param {import(\"../../PluggableMap.js\").FrameState} frameState Frame state.\n     * @protected\n     */\n    CanvasLayerRenderer.prototype.preRender = function (context, frameState) {\n        this.dispatchRenderEvent_(RenderEventType.PRERENDER, context, frameState);\n    };\n    /**\n     * @param {CanvasRenderingContext2D} context Context.\n     * @param {import(\"../../PluggableMap.js\").FrameState} frameState Frame state.\n     * @protected\n     */\n    CanvasLayerRenderer.prototype.postRender = function (context, frameState) {\n        this.dispatchRenderEvent_(RenderEventType.POSTRENDER, context, frameState);\n    };\n    /**\n     * Creates a transform for rendering to an element that will be rotated after rendering.\n     * @param {import(\"../../coordinate.js\").Coordinate} center Center.\n     * @param {number} resolution Resolution.\n     * @param {number} rotation Rotation.\n     * @param {number} pixelRatio Pixel ratio.\n     * @param {number} width Width of the rendered element (in pixels).\n     * @param {number} height Height of the rendered element (in pixels).\n     * @param {number} offsetX Offset on the x-axis in view coordinates.\n     * @protected\n     * @return {!import(\"../../transform.js\").Transform} Transform.\n     */\n    CanvasLayerRenderer.prototype.getRenderTransform = function (center, resolution, rotation, pixelRatio, width, height, offsetX) {\n        var dx1 = width / 2;\n        var dy1 = height / 2;\n        var sx = pixelRatio / resolution;\n        var sy = -sx;\n        var dx2 = -center[0] + offsetX;\n        var dy2 = -center[1];\n        return composeTransform(this.tempTransform, dx1, dy1, sx, sy, -rotation, dx2, dy2);\n    };\n    /**\n     * @param {import(\"../../pixel.js\").Pixel} pixel Pixel.\n     * @param {import(\"../../PluggableMap.js\").FrameState} frameState FrameState.\n     * @param {number} hitTolerance Hit tolerance in pixels.\n     * @return {Uint8ClampedArray|Uint8Array} The result.  If there is no data at the pixel\n     *    location, null will be returned.  If there is data, but pixel values cannot be\n     *    returned, and empty array will be returned.\n     */\n    CanvasLayerRenderer.prototype.getDataAtPixel = function (pixel, frameState, hitTolerance) {\n        var renderPixel = applyTransform(this.inversePixelTransform, pixel.slice());\n        var context = this.context;\n        var layer = this.getLayer();\n        var layerExtent = layer.getExtent();\n        if (layerExtent) {\n            var renderCoordinate = applyTransform(frameState.pixelToCoordinateTransform, pixel.slice());\n            /** get only data inside of the layer extent */\n            if (!containsCoordinate(layerExtent, renderCoordinate)) {\n                return null;\n            }\n        }\n        var data;\n        try {\n            var x = Math.round(renderPixel[0]);\n            var y = Math.round(renderPixel[1]);\n            var newCanvas = document.createElement('canvas');\n            var newContext = newCanvas.getContext('2d');\n            newCanvas.width = 1;\n            newCanvas.height = 1;\n            newContext.clearRect(0, 0, 1, 1);\n            newContext.drawImage(context.canvas, x, y, 1, 1, 0, 0, 1, 1);\n            data = newContext.getImageData(0, 0, 1, 1).data;\n        }\n        catch (err) {\n            if (err.name === 'SecurityError') {\n                // tainted canvas, we assume there is data at the given pixel (although there might not be)\n                return new Uint8Array();\n            }\n            return data;\n        }\n        if (data[3] === 0) {\n            return null;\n        }\n        return data;\n    };\n    return CanvasLayerRenderer;\n}(LayerRenderer));\nexport default CanvasLayerRenderer;\n//# sourceMappingURL=Layer.js.map","/**\n * @module ol/TileRange\n */\n/**\n * A representation of a contiguous block of tiles.  A tile range is specified\n * by its min/max tile coordinates and is inclusive of coordinates.\n */\nvar TileRange = /** @class */ (function () {\n    /**\n     * @param {number} minX Minimum X.\n     * @param {number} maxX Maximum X.\n     * @param {number} minY Minimum Y.\n     * @param {number} maxY Maximum Y.\n     */\n    function TileRange(minX, maxX, minY, maxY) {\n        /**\n         * @type {number}\n         */\n        this.minX = minX;\n        /**\n         * @type {number}\n         */\n        this.maxX = maxX;\n        /**\n         * @type {number}\n         */\n        this.minY = minY;\n        /**\n         * @type {number}\n         */\n        this.maxY = maxY;\n    }\n    /**\n     * @param {import(\"./tilecoord.js\").TileCoord} tileCoord Tile coordinate.\n     * @return {boolean} Contains tile coordinate.\n     */\n    TileRange.prototype.contains = function (tileCoord) {\n        return this.containsXY(tileCoord[1], tileCoord[2]);\n    };\n    /**\n     * @param {TileRange} tileRange Tile range.\n     * @return {boolean} Contains.\n     */\n    TileRange.prototype.containsTileRange = function (tileRange) {\n        return (this.minX <= tileRange.minX &&\n            tileRange.maxX <= this.maxX &&\n            this.minY <= tileRange.minY &&\n            tileRange.maxY <= this.maxY);\n    };\n    /**\n     * @param {number} x Tile coordinate x.\n     * @param {number} y Tile coordinate y.\n     * @return {boolean} Contains coordinate.\n     */\n    TileRange.prototype.containsXY = function (x, y) {\n        return this.minX <= x && x <= this.maxX && this.minY <= y && y <= this.maxY;\n    };\n    /**\n     * @param {TileRange} tileRange Tile range.\n     * @return {boolean} Equals.\n     */\n    TileRange.prototype.equals = function (tileRange) {\n        return (this.minX == tileRange.minX &&\n            this.minY == tileRange.minY &&\n            this.maxX == tileRange.maxX &&\n            this.maxY == tileRange.maxY);\n    };\n    /**\n     * @param {TileRange} tileRange Tile range.\n     */\n    TileRange.prototype.extend = function (tileRange) {\n        if (tileRange.minX < this.minX) {\n            this.minX = tileRange.minX;\n        }\n        if (tileRange.maxX > this.maxX) {\n            this.maxX = tileRange.maxX;\n        }\n        if (tileRange.minY < this.minY) {\n            this.minY = tileRange.minY;\n        }\n        if (tileRange.maxY > this.maxY) {\n            this.maxY = tileRange.maxY;\n        }\n    };\n    /**\n     * @return {number} Height.\n     */\n    TileRange.prototype.getHeight = function () {\n        return this.maxY - this.minY + 1;\n    };\n    /**\n     * @return {import(\"./size.js\").Size} Size.\n     */\n    TileRange.prototype.getSize = function () {\n        return [this.getWidth(), this.getHeight()];\n    };\n    /**\n     * @return {number} Width.\n     */\n    TileRange.prototype.getWidth = function () {\n        return this.maxX - this.minX + 1;\n    };\n    /**\n     * @param {TileRange} tileRange Tile range.\n     * @return {boolean} Intersects.\n     */\n    TileRange.prototype.intersects = function (tileRange) {\n        return (this.minX <= tileRange.maxX &&\n            this.maxX >= tileRange.minX &&\n            this.minY <= tileRange.maxY &&\n            this.maxY >= tileRange.minY);\n    };\n    return TileRange;\n}());\n/**\n * @param {number} minX Minimum X.\n * @param {number} maxX Maximum X.\n * @param {number} minY Minimum Y.\n * @param {number} maxY Maximum Y.\n * @param {TileRange=} tileRange TileRange.\n * @return {TileRange} Tile range.\n */\nexport function createOrUpdate(minX, maxX, minY, maxY, tileRange) {\n    if (tileRange !== undefined) {\n        tileRange.minX = minX;\n        tileRange.maxX = maxX;\n        tileRange.minY = minY;\n        tileRange.maxY = maxY;\n        return tileRange;\n    }\n    else {\n        return new TileRange(minX, maxX, minY, maxY);\n    }\n}\nexport default TileRange;\n//# sourceMappingURL=TileRange.js.map","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n/**\n * @module ol/renderer/canvas/TileLayer\n */\nimport CanvasLayerRenderer from './Layer.js';\nimport TileRange from '../../TileRange.js';\nimport TileState from '../../TileState.js';\nimport { apply as applyTransform, compose as composeTransform, makeInverse, } from '../../transform.js';\nimport { assign } from '../../obj.js';\nimport { createEmpty, equals, getIntersection, getTopLeft, } from '../../extent.js';\nimport { createTransformString } from '../../render/canvas.js';\nimport { fromUserExtent } from '../../proj.js';\nimport { getUid } from '../../util.js';\nimport { numberSafeCompareFunction } from '../../array.js';\n/**\n * @classdesc\n * Canvas renderer for tile layers.\n * @api\n */\nvar CanvasTileLayerRenderer = /** @class */ (function (_super) {\n    __extends(CanvasTileLayerRenderer, _super);\n    /**\n     * @param {import(\"../../layer/Tile.js\").default|import(\"../../layer/VectorTile.js\").default} tileLayer Tile layer.\n     */\n    function CanvasTileLayerRenderer(tileLayer) {\n        var _this = _super.call(this, tileLayer) || this;\n        /**\n         * Rendered extent has changed since the previous `renderFrame()` call\n         * @type {boolean}\n         */\n        _this.extentChanged = true;\n        /**\n         * @private\n         * @type {?import(\"../../extent.js\").Extent}\n         */\n        _this.renderedExtent_ = null;\n        /**\n         * @protected\n         * @type {number}\n         */\n        _this.renderedPixelRatio;\n        /**\n         * @protected\n         * @type {import(\"../../proj/Projection.js\").default}\n         */\n        _this.renderedProjection = null;\n        /**\n         * @protected\n         * @type {number}\n         */\n        _this.renderedRevision;\n        /**\n         * @protected\n         * @type {!Array<import(\"../../Tile.js\").default>}\n         */\n        _this.renderedTiles = [];\n        /**\n         * @private\n         * @type {boolean}\n         */\n        _this.newTiles_ = false;\n        /**\n         * @protected\n         * @type {import(\"../../extent.js\").Extent}\n         */\n        _this.tmpExtent = createEmpty();\n        /**\n         * @private\n         * @type {import(\"../../TileRange.js\").default}\n         */\n        _this.tmpTileRange_ = new TileRange(0, 0, 0, 0);\n        return _this;\n    }\n    /**\n     * @protected\n     * @param {import(\"../../Tile.js\").default} tile Tile.\n     * @return {boolean} Tile is drawable.\n     */\n    CanvasTileLayerRenderer.prototype.isDrawableTile = function (tile) {\n        var tileLayer = this.getLayer();\n        var tileState = tile.getState();\n        var useInterimTilesOnError = tileLayer.getUseInterimTilesOnError();\n        return (tileState == TileState.LOADED ||\n            tileState == TileState.EMPTY ||\n            (tileState == TileState.ERROR && !useInterimTilesOnError));\n    };\n    /**\n     * @param {number} z Tile coordinate z.\n     * @param {number} x Tile coordinate x.\n     * @param {number} y Tile coordinate y.\n     * @param {import(\"../../PluggableMap.js\").FrameState} frameState Frame state.\n     * @return {!import(\"../../Tile.js\").default} Tile.\n     */\n    CanvasTileLayerRenderer.prototype.getTile = function (z, x, y, frameState) {\n        var pixelRatio = frameState.pixelRatio;\n        var projection = frameState.viewState.projection;\n        var tileLayer = this.getLayer();\n        var tileSource = tileLayer.getSource();\n        var tile = tileSource.getTile(z, x, y, pixelRatio, projection);\n        if (tile.getState() == TileState.ERROR) {\n            if (!tileLayer.getUseInterimTilesOnError()) {\n                // When useInterimTilesOnError is false, we consider the error tile as loaded.\n                tile.setState(TileState.LOADED);\n            }\n            else if (tileLayer.getPreload() > 0) {\n                // Preloaded tiles for lower resolutions might have finished loading.\n                this.newTiles_ = true;\n            }\n        }\n        if (!this.isDrawableTile(tile)) {\n            tile = tile.getInterimTile();\n        }\n        return tile;\n    };\n    /**\n     * @param {Object<number, Object<string, import(\"../../Tile.js\").default>>} tiles Lookup of loaded tiles by zoom level.\n     * @param {number} zoom Zoom level.\n     * @param {import(\"../../Tile.js\").default} tile Tile.\n     * @return {boolean|void} If `false`, the tile will not be considered loaded.\n     */\n    CanvasTileLayerRenderer.prototype.loadedTileCallback = function (tiles, zoom, tile) {\n        if (this.isDrawableTile(tile)) {\n            return _super.prototype.loadedTileCallback.call(this, tiles, zoom, tile);\n        }\n        return false;\n    };\n    /**\n     * Determine whether render should be called.\n     * @param {import(\"../../PluggableMap.js\").FrameState} frameState Frame state.\n     * @return {boolean} Layer is ready to be rendered.\n     */\n    CanvasTileLayerRenderer.prototype.prepareFrame = function (frameState) {\n        return !!this.getLayer().getSource();\n    };\n    /**\n     * Render the layer.\n     * @param {import(\"../../PluggableMap.js\").FrameState} frameState Frame state.\n     * @param {HTMLElement} target Target that may be used to render content to.\n     * @return {HTMLElement} The rendered element.\n     */\n    CanvasTileLayerRenderer.prototype.renderFrame = function (frameState, target) {\n        var layerState = frameState.layerStatesArray[frameState.layerIndex];\n        var viewState = frameState.viewState;\n        var projection = viewState.projection;\n        var viewResolution = viewState.resolution;\n        var viewCenter = viewState.center;\n        var rotation = viewState.rotation;\n        var pixelRatio = frameState.pixelRatio;\n        var tileLayer = this.getLayer();\n        var tileSource = tileLayer.getSource();\n        var sourceRevision = tileSource.getRevision();\n        var tileGrid = tileSource.getTileGridForProjection(projection);\n        var z = tileGrid.getZForResolution(viewResolution, tileSource.zDirection);\n        var tileResolution = tileGrid.getResolution(z);\n        var extent = frameState.extent;\n        var layerExtent = layerState.extent && fromUserExtent(layerState.extent, projection);\n        if (layerExtent) {\n            extent = getIntersection(extent, fromUserExtent(layerState.extent, projection));\n        }\n        var tilePixelRatio = tileSource.getTilePixelRatio(pixelRatio);\n        // desired dimensions of the canvas in pixels\n        var width = Math.round(frameState.size[0] * tilePixelRatio);\n        var height = Math.round(frameState.size[1] * tilePixelRatio);\n        if (rotation) {\n            var size = Math.round(Math.sqrt(width * width + height * height));\n            width = size;\n            height = size;\n        }\n        var dx = (tileResolution * width) / 2 / tilePixelRatio;\n        var dy = (tileResolution * height) / 2 / tilePixelRatio;\n        var canvasExtent = [\n            viewCenter[0] - dx,\n            viewCenter[1] - dy,\n            viewCenter[0] + dx,\n            viewCenter[1] + dy,\n        ];\n        var tileRange = tileGrid.getTileRangeForExtentAndZ(extent, z);\n        /**\n         * @type {Object<number, Object<string, import(\"../../Tile.js\").default>>}\n         */\n        var tilesToDrawByZ = {};\n        tilesToDrawByZ[z] = {};\n        var findLoadedTiles = this.createLoadedTileFinder(tileSource, projection, tilesToDrawByZ);\n        var tmpExtent = this.tmpExtent;\n        var tmpTileRange = this.tmpTileRange_;\n        this.newTiles_ = false;\n        for (var x = tileRange.minX; x <= tileRange.maxX; ++x) {\n            for (var y = tileRange.minY; y <= tileRange.maxY; ++y) {\n                var tile = this.getTile(z, x, y, frameState);\n                if (this.isDrawableTile(tile)) {\n                    var uid = getUid(this);\n                    if (tile.getState() == TileState.LOADED) {\n                        tilesToDrawByZ[z][tile.tileCoord.toString()] = tile;\n                        var inTransition = tile.inTransition(uid);\n                        if (!this.newTiles_ &&\n                            (inTransition || this.renderedTiles.indexOf(tile) === -1)) {\n                            this.newTiles_ = true;\n                        }\n                    }\n                    if (tile.getAlpha(uid, frameState.time) === 1) {\n                        // don't look for alt tiles if alpha is 1\n                        continue;\n                    }\n                }\n                var childTileRange = tileGrid.getTileCoordChildTileRange(tile.tileCoord, tmpTileRange, tmpExtent);\n                var covered = false;\n                if (childTileRange) {\n                    covered = findLoadedTiles(z + 1, childTileRange);\n                }\n                if (!covered) {\n                    tileGrid.forEachTileCoordParentTileRange(tile.tileCoord, findLoadedTiles, tmpTileRange, tmpExtent);\n                }\n            }\n        }\n        var canvasScale = tileResolution / viewResolution;\n        // set forward and inverse pixel transforms\n        composeTransform(this.pixelTransform, frameState.size[0] / 2, frameState.size[1] / 2, 1 / tilePixelRatio, 1 / tilePixelRatio, rotation, -width / 2, -height / 2);\n        var canvasTransform = createTransformString(this.pixelTransform);\n        this.useContainer(target, canvasTransform, layerState.opacity);\n        var context = this.context;\n        var canvas = context.canvas;\n        makeInverse(this.inversePixelTransform, this.pixelTransform);\n        // set scale transform for calculating tile positions on the canvas\n        composeTransform(this.tempTransform, width / 2, height / 2, canvasScale, canvasScale, 0, -width / 2, -height / 2);\n        if (canvas.width != width || canvas.height != height) {\n            canvas.width = width;\n            canvas.height = height;\n        }\n        else if (!this.containerReused) {\n            context.clearRect(0, 0, width, height);\n        }\n        if (layerExtent) {\n            this.clipUnrotated(context, frameState, layerExtent);\n        }\n        assign(context, tileSource.getContextOptions());\n        this.preRender(context, frameState);\n        this.renderedTiles.length = 0;\n        /** @type {Array<number>} */\n        var zs = Object.keys(tilesToDrawByZ).map(Number);\n        zs.sort(numberSafeCompareFunction);\n        var clips, clipZs, currentClip;\n        if (layerState.opacity === 1 &&\n            (!this.containerReused ||\n                tileSource.getOpaque(frameState.viewState.projection))) {\n            zs = zs.reverse();\n        }\n        else {\n            clips = [];\n            clipZs = [];\n        }\n        for (var i = zs.length - 1; i >= 0; --i) {\n            var currentZ = zs[i];\n            var currentTilePixelSize = tileSource.getTilePixelSize(currentZ, pixelRatio, projection);\n            var currentResolution = tileGrid.getResolution(currentZ);\n            var currentScale = currentResolution / tileResolution;\n            var dx_1 = currentTilePixelSize[0] * currentScale * canvasScale;\n            var dy_1 = currentTilePixelSize[1] * currentScale * canvasScale;\n            var originTileCoord = tileGrid.getTileCoordForCoordAndZ(getTopLeft(canvasExtent), currentZ);\n            var originTileExtent = tileGrid.getTileCoordExtent(originTileCoord);\n            var origin_1 = applyTransform(this.tempTransform, [\n                (tilePixelRatio * (originTileExtent[0] - canvasExtent[0])) /\n                    tileResolution,\n                (tilePixelRatio * (canvasExtent[3] - originTileExtent[3])) /\n                    tileResolution,\n            ]);\n            var tileGutter = tilePixelRatio * tileSource.getGutterForProjection(projection);\n            var tilesToDraw = tilesToDrawByZ[currentZ];\n            for (var tileCoordKey in tilesToDraw) {\n                var tile = /** @type {import(\"../../ImageTile.js\").default} */ (tilesToDraw[tileCoordKey]);\n                var tileCoord = tile.tileCoord;\n                // Calculate integer positions and sizes so that tiles align\n                var floatX = origin_1[0] - (originTileCoord[1] - tileCoord[1]) * dx_1;\n                var nextX = Math.round(floatX + dx_1);\n                var floatY = origin_1[1] - (originTileCoord[2] - tileCoord[2]) * dy_1;\n                var nextY = Math.round(floatY + dy_1);\n                var x = Math.round(floatX);\n                var y = Math.round(floatY);\n                var w = nextX - x;\n                var h = nextY - y;\n                var transition = z === currentZ;\n                var inTransition = transition && tile.getAlpha(getUid(this), frameState.time) !== 1;\n                if (!inTransition) {\n                    if (clips) {\n                        // Clip mask for regions in this tile that already filled by a higher z tile\n                        context.save();\n                        currentClip = [x, y, x + w, y, x + w, y + h, x, y + h];\n                        for (var i_1 = 0, ii = clips.length; i_1 < ii; ++i_1) {\n                            if (z !== currentZ && currentZ < clipZs[i_1]) {\n                                var clip = clips[i_1];\n                                context.beginPath();\n                                // counter-clockwise (outer ring) for current tile\n                                context.moveTo(currentClip[0], currentClip[1]);\n                                context.lineTo(currentClip[2], currentClip[3]);\n                                context.lineTo(currentClip[4], currentClip[5]);\n                                context.lineTo(currentClip[6], currentClip[7]);\n                                // clockwise (inner ring) for higher z tile\n                                context.moveTo(clip[6], clip[7]);\n                                context.lineTo(clip[4], clip[5]);\n                                context.lineTo(clip[2], clip[3]);\n                                context.lineTo(clip[0], clip[1]);\n                                context.clip();\n                            }\n                        }\n                        clips.push(currentClip);\n                        clipZs.push(currentZ);\n                    }\n                    else {\n                        context.clearRect(x, y, w, h);\n                    }\n                }\n                this.drawTileImage(tile, frameState, x, y, w, h, tileGutter, transition, layerState.opacity);\n                if (clips && !inTransition) {\n                    context.restore();\n                }\n                this.renderedTiles.push(tile);\n                this.updateUsedTiles(frameState.usedTiles, tileSource, tile);\n            }\n        }\n        this.renderedRevision = sourceRevision;\n        this.renderedResolution = tileResolution;\n        this.extentChanged =\n            !this.renderedExtent_ || !equals(this.renderedExtent_, canvasExtent);\n        this.renderedExtent_ = canvasExtent;\n        this.renderedPixelRatio = pixelRatio;\n        this.renderedProjection = projection;\n        this.manageTilePyramid(frameState, tileSource, tileGrid, pixelRatio, projection, extent, z, tileLayer.getPreload());\n        this.scheduleExpireCache(frameState, tileSource);\n        this.postRender(context, frameState);\n        if (layerState.extent) {\n            context.restore();\n        }\n        if (canvasTransform !== canvas.style.transform) {\n            canvas.style.transform = canvasTransform;\n        }\n        return this.container;\n    };\n    /**\n     * @param {import(\"../../ImageTile.js\").default} tile Tile.\n     * @param {import(\"../../PluggableMap.js\").FrameState} frameState Frame state.\n     * @param {number} x Left of the tile.\n     * @param {number} y Top of the tile.\n     * @param {number} w Width of the tile.\n     * @param {number} h Height of the tile.\n     * @param {number} gutter Tile gutter.\n     * @param {boolean} transition Apply an alpha transition.\n     * @param {number} opacity Opacity.\n     */\n    CanvasTileLayerRenderer.prototype.drawTileImage = function (tile, frameState, x, y, w, h, gutter, transition, opacity) {\n        var image = this.getTileImage(tile);\n        if (!image) {\n            return;\n        }\n        var uid = getUid(this);\n        var tileAlpha = transition ? tile.getAlpha(uid, frameState.time) : 1;\n        var alpha = opacity * tileAlpha;\n        var alphaChanged = alpha !== this.context.globalAlpha;\n        if (alphaChanged) {\n            this.context.save();\n            this.context.globalAlpha = alpha;\n        }\n        this.context.drawImage(image, gutter, gutter, image.width - 2 * gutter, image.height - 2 * gutter, x, y, w, h);\n        if (alphaChanged) {\n            this.context.restore();\n        }\n        if (tileAlpha !== 1) {\n            frameState.animate = true;\n        }\n        else if (transition) {\n            tile.endTransition(uid);\n        }\n    };\n    /**\n     * @return {HTMLCanvasElement} Image\n     */\n    CanvasTileLayerRenderer.prototype.getImage = function () {\n        var context = this.context;\n        return context ? context.canvas : null;\n    };\n    /**\n     * Get the image from a tile.\n     * @param {import(\"../../ImageTile.js\").default} tile Tile.\n     * @return {HTMLCanvasElement|HTMLImageElement|HTMLVideoElement} Image.\n     * @protected\n     */\n    CanvasTileLayerRenderer.prototype.getTileImage = function (tile) {\n        return tile.getImage();\n    };\n    /**\n     * @param {import(\"../../PluggableMap.js\").FrameState} frameState Frame state.\n     * @param {import(\"../../source/Tile.js\").default} tileSource Tile source.\n     * @protected\n     */\n    CanvasTileLayerRenderer.prototype.scheduleExpireCache = function (frameState, tileSource) {\n        if (tileSource.canExpireCache()) {\n            /**\n             * @param {import(\"../../source/Tile.js\").default} tileSource Tile source.\n             * @param {import(\"../../PluggableMap.js\").default} map Map.\n             * @param {import(\"../../PluggableMap.js\").FrameState} frameState Frame state.\n             */\n            var postRenderFunction = function (tileSource, map, frameState) {\n                var tileSourceKey = getUid(tileSource);\n                if (tileSourceKey in frameState.usedTiles) {\n                    tileSource.expireCache(frameState.viewState.projection, frameState.usedTiles[tileSourceKey]);\n                }\n            }.bind(null, tileSource);\n            frameState.postRenderFunctions.push(\n            /** @type {import(\"../../PluggableMap.js\").PostRenderFunction} */ (postRenderFunction));\n        }\n    };\n    /**\n     * @param {!Object<string, !Object<string, boolean>>} usedTiles Used tiles.\n     * @param {import(\"../../source/Tile.js\").default} tileSource Tile source.\n     * @param {import('../../Tile.js').default} tile Tile.\n     * @protected\n     */\n    CanvasTileLayerRenderer.prototype.updateUsedTiles = function (usedTiles, tileSource, tile) {\n        // FIXME should we use tilesToDrawByZ instead?\n        var tileSourceKey = getUid(tileSource);\n        if (!(tileSourceKey in usedTiles)) {\n            usedTiles[tileSourceKey] = {};\n        }\n        usedTiles[tileSourceKey][tile.getKey()] = true;\n    };\n    /**\n     * Manage tile pyramid.\n     * This function performs a number of functions related to the tiles at the\n     * current zoom and lower zoom levels:\n     * - registers idle tiles in frameState.wantedTiles so that they are not\n     *   discarded by the tile queue\n     * - enqueues missing tiles\n     * @param {import(\"../../PluggableMap.js\").FrameState} frameState Frame state.\n     * @param {import(\"../../source/Tile.js\").default} tileSource Tile source.\n     * @param {import(\"../../tilegrid/TileGrid.js\").default} tileGrid Tile grid.\n     * @param {number} pixelRatio Pixel ratio.\n     * @param {import(\"../../proj/Projection.js\").default} projection Projection.\n     * @param {import(\"../../extent.js\").Extent} extent Extent.\n     * @param {number} currentZ Current Z.\n     * @param {number} preload Load low resolution tiles up to 'preload' levels.\n     * @param {function(import(\"../../Tile.js\").default)=} opt_tileCallback Tile callback.\n     * @protected\n     */\n    CanvasTileLayerRenderer.prototype.manageTilePyramid = function (frameState, tileSource, tileGrid, pixelRatio, projection, extent, currentZ, preload, opt_tileCallback) {\n        var tileSourceKey = getUid(tileSource);\n        if (!(tileSourceKey in frameState.wantedTiles)) {\n            frameState.wantedTiles[tileSourceKey] = {};\n        }\n        var wantedTiles = frameState.wantedTiles[tileSourceKey];\n        var tileQueue = frameState.tileQueue;\n        var minZoom = tileGrid.getMinZoom();\n        var tileCount = 0;\n        var tile, tileRange, tileResolution, x, y, z;\n        for (z = minZoom; z <= currentZ; ++z) {\n            tileRange = tileGrid.getTileRangeForExtentAndZ(extent, z, tileRange);\n            tileResolution = tileGrid.getResolution(z);\n            for (x = tileRange.minX; x <= tileRange.maxX; ++x) {\n                for (y = tileRange.minY; y <= tileRange.maxY; ++y) {\n                    if (currentZ - z <= preload) {\n                        ++tileCount;\n                        tile = tileSource.getTile(z, x, y, pixelRatio, projection);\n                        if (tile.getState() == TileState.IDLE) {\n                            wantedTiles[tile.getKey()] = true;\n                            if (!tileQueue.isKeyQueued(tile.getKey())) {\n                                tileQueue.enqueue([\n                                    tile,\n                                    tileSourceKey,\n                                    tileGrid.getTileCoordCenter(tile.tileCoord),\n                                    tileResolution,\n                                ]);\n                            }\n                        }\n                        if (opt_tileCallback !== undefined) {\n                            opt_tileCallback(tile);\n                        }\n                    }\n                    else {\n                        tileSource.useTile(z, x, y, projection);\n                    }\n                }\n            }\n        }\n        tileSource.updateCacheSize(tileCount, projection);\n    };\n    return CanvasTileLayerRenderer;\n}(CanvasLayerRenderer));\n/**\n * @function\n * @return {import(\"../../layer/Tile.js\").default|import(\"../../layer/VectorTile.js\").default}\n */\nCanvasTileLayerRenderer.prototype.getLayer;\nexport default CanvasTileLayerRenderer;\n//# sourceMappingURL=TileLayer.js.map","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n/**\n * @module ol/layer/Tile\n */\nimport BaseTileLayer from './BaseTile.js';\nimport CanvasTileLayerRenderer from '../renderer/canvas/TileLayer.js';\n/**\n * @classdesc\n * For layer sources that provide pre-rendered, tiled images in grids that are\n * organized by zoom levels for specific resolutions.\n * Note that any property set in the options is set as a {@link module:ol/Object~BaseObject}\n * property on the layer object; for example, setting `title: 'My Title'` in the\n * options means that `title` is observable, and has get/set accessors.\n *\n * @api\n */\nvar TileLayer = /** @class */ (function (_super) {\n    __extends(TileLayer, _super);\n    /**\n     * @param {import(\"./BaseTile.js\").Options=} opt_options Tile layer options.\n     */\n    function TileLayer(opt_options) {\n        return _super.call(this, opt_options) || this;\n    }\n    /**\n     * Create a renderer for this layer.\n     * @return {import(\"../renderer/Layer.js\").default} A layer renderer.\n     * @protected\n     */\n    TileLayer.prototype.createRenderer = function () {\n        return new CanvasTileLayerRenderer(this);\n    };\n    return TileLayer;\n}(BaseTileLayer));\nexport default TileLayer;\n//# sourceMappingURL=Tile.js.map","!function(t,i){\"object\"==typeof exports&&\"undefined\"!=typeof module?module.exports=i():\"function\"==typeof define&&define.amd?define(i):(t=t||self).RBush=i()}(this,function(){\"use strict\";function t(t,r,e,a,h){!function t(n,r,e,a,h){for(;a>e;){if(a-e>600){var o=a-e+1,s=r-e+1,l=Math.log(o),f=.5*Math.exp(2*l/3),u=.5*Math.sqrt(l*f*(o-f)/o)*(s-o/2<0?-1:1),m=Math.max(e,Math.floor(r-s*f/o+u)),c=Math.min(a,Math.floor(r+(o-s)*f/o+u));t(n,r,m,c,h)}var p=n[r],d=e,x=a;for(i(n,e,r),h(n[a],p)>0&&i(n,e,a);d<x;){for(i(n,d,x),d++,x--;h(n[d],p)<0;)d++;for(;h(n[x],p)>0;)x--}0===h(n[e],p)?i(n,e,x):i(n,++x,a),x<=r&&(e=x+1),r<=x&&(a=x-1)}}(t,r,e||0,a||t.length-1,h||n)}function i(t,i,n){var r=t[i];t[i]=t[n],t[n]=r}function n(t,i){return t<i?-1:t>i?1:0}var r=function(t){void 0===t&&(t=9),this._maxEntries=Math.max(4,t),this._minEntries=Math.max(2,Math.ceil(.4*this._maxEntries)),this.clear()};function e(t,i,n){if(!n)return i.indexOf(t);for(var r=0;r<i.length;r++)if(n(t,i[r]))return r;return-1}function a(t,i){h(t,0,t.children.length,i,t)}function h(t,i,n,r,e){e||(e=p(null)),e.minX=1/0,e.minY=1/0,e.maxX=-1/0,e.maxY=-1/0;for(var a=i;a<n;a++){var h=t.children[a];o(e,t.leaf?r(h):h)}return e}function o(t,i){return t.minX=Math.min(t.minX,i.minX),t.minY=Math.min(t.minY,i.minY),t.maxX=Math.max(t.maxX,i.maxX),t.maxY=Math.max(t.maxY,i.maxY),t}function s(t,i){return t.minX-i.minX}function l(t,i){return t.minY-i.minY}function f(t){return(t.maxX-t.minX)*(t.maxY-t.minY)}function u(t){return t.maxX-t.minX+(t.maxY-t.minY)}function m(t,i){return t.minX<=i.minX&&t.minY<=i.minY&&i.maxX<=t.maxX&&i.maxY<=t.maxY}function c(t,i){return i.minX<=t.maxX&&i.minY<=t.maxY&&i.maxX>=t.minX&&i.maxY>=t.minY}function p(t){return{children:t,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function d(i,n,r,e,a){for(var h=[n,r];h.length;)if(!((r=h.pop())-(n=h.pop())<=e)){var o=n+Math.ceil((r-n)/e/2)*e;t(i,o,n,r,a),h.push(n,o,o,r)}}return r.prototype.all=function(){return this._all(this.data,[])},r.prototype.search=function(t){var i=this.data,n=[];if(!c(t,i))return n;for(var r=this.toBBox,e=[];i;){for(var a=0;a<i.children.length;a++){var h=i.children[a],o=i.leaf?r(h):h;c(t,o)&&(i.leaf?n.push(h):m(t,o)?this._all(h,n):e.push(h))}i=e.pop()}return n},r.prototype.collides=function(t){var i=this.data;if(!c(t,i))return!1;for(var n=[];i;){for(var r=0;r<i.children.length;r++){var e=i.children[r],a=i.leaf?this.toBBox(e):e;if(c(t,a)){if(i.leaf||m(t,a))return!0;n.push(e)}}i=n.pop()}return!1},r.prototype.load=function(t){if(!t||!t.length)return this;if(t.length<this._minEntries){for(var i=0;i<t.length;i++)this.insert(t[i]);return this}var n=this._build(t.slice(),0,t.length-1,0);if(this.data.children.length)if(this.data.height===n.height)this._splitRoot(this.data,n);else{if(this.data.height<n.height){var r=this.data;this.data=n,n=r}this._insert(n,this.data.height-n.height-1,!0)}else this.data=n;return this},r.prototype.insert=function(t){return t&&this._insert(t,this.data.height-1),this},r.prototype.clear=function(){return this.data=p([]),this},r.prototype.remove=function(t,i){if(!t)return this;for(var n,r,a,h=this.data,o=this.toBBox(t),s=[],l=[];h||s.length;){if(h||(h=s.pop(),r=s[s.length-1],n=l.pop(),a=!0),h.leaf){var f=e(t,h.children,i);if(-1!==f)return h.children.splice(f,1),s.push(h),this._condense(s),this}a||h.leaf||!m(h,o)?r?(n++,h=r.children[n],a=!1):h=null:(s.push(h),l.push(n),n=0,r=h,h=h.children[0])}return this},r.prototype.toBBox=function(t){return t},r.prototype.compareMinX=function(t,i){return t.minX-i.minX},r.prototype.compareMinY=function(t,i){return t.minY-i.minY},r.prototype.toJSON=function(){return this.data},r.prototype.fromJSON=function(t){return this.data=t,this},r.prototype._all=function(t,i){for(var n=[];t;)t.leaf?i.push.apply(i,t.children):n.push.apply(n,t.children),t=n.pop();return i},r.prototype._build=function(t,i,n,r){var e,h=n-i+1,o=this._maxEntries;if(h<=o)return a(e=p(t.slice(i,n+1)),this.toBBox),e;r||(r=Math.ceil(Math.log(h)/Math.log(o)),o=Math.ceil(h/Math.pow(o,r-1))),(e=p([])).leaf=!1,e.height=r;var s=Math.ceil(h/o),l=s*Math.ceil(Math.sqrt(o));d(t,i,n,l,this.compareMinX);for(var f=i;f<=n;f+=l){var u=Math.min(f+l-1,n);d(t,f,u,s,this.compareMinY);for(var m=f;m<=u;m+=s){var c=Math.min(m+s-1,u);e.children.push(this._build(t,m,c,r-1))}}return a(e,this.toBBox),e},r.prototype._chooseSubtree=function(t,i,n,r){for(;r.push(i),!i.leaf&&r.length-1!==n;){for(var e=1/0,a=1/0,h=void 0,o=0;o<i.children.length;o++){var s=i.children[o],l=f(s),u=(m=t,c=s,(Math.max(c.maxX,m.maxX)-Math.min(c.minX,m.minX))*(Math.max(c.maxY,m.maxY)-Math.min(c.minY,m.minY))-l);u<a?(a=u,e=l<e?l:e,h=s):u===a&&l<e&&(e=l,h=s)}i=h||i.children[0]}var m,c;return i},r.prototype._insert=function(t,i,n){var r=n?t:this.toBBox(t),e=[],a=this._chooseSubtree(r,this.data,i,e);for(a.children.push(t),o(a,r);i>=0&&e[i].children.length>this._maxEntries;)this._split(e,i),i--;this._adjustParentBBoxes(r,e,i)},r.prototype._split=function(t,i){var n=t[i],r=n.children.length,e=this._minEntries;this._chooseSplitAxis(n,e,r);var h=this._chooseSplitIndex(n,e,r),o=p(n.children.splice(h,n.children.length-h));o.height=n.height,o.leaf=n.leaf,a(n,this.toBBox),a(o,this.toBBox),i?t[i-1].children.push(o):this._splitRoot(n,o)},r.prototype._splitRoot=function(t,i){this.data=p([t,i]),this.data.height=t.height+1,this.data.leaf=!1,a(this.data,this.toBBox)},r.prototype._chooseSplitIndex=function(t,i,n){for(var r,e,a,o,s,l,u,m=1/0,c=1/0,p=i;p<=n-i;p++){var d=h(t,0,p,this.toBBox),x=h(t,p,n,this.toBBox),v=(e=d,a=x,o=void 0,s=void 0,l=void 0,u=void 0,o=Math.max(e.minX,a.minX),s=Math.max(e.minY,a.minY),l=Math.min(e.maxX,a.maxX),u=Math.min(e.maxY,a.maxY),Math.max(0,l-o)*Math.max(0,u-s)),M=f(d)+f(x);v<m?(m=v,r=p,c=M<c?M:c):v===m&&M<c&&(c=M,r=p)}return r||n-i},r.prototype._chooseSplitAxis=function(t,i,n){var r=t.leaf?this.compareMinX:s,e=t.leaf?this.compareMinY:l;this._allDistMargin(t,i,n,r)<this._allDistMargin(t,i,n,e)&&t.children.sort(r)},r.prototype._allDistMargin=function(t,i,n,r){t.children.sort(r);for(var e=this.toBBox,a=h(t,0,i,e),s=h(t,n-i,n,e),l=u(a)+u(s),f=i;f<n-i;f++){var m=t.children[f];o(a,t.leaf?e(m):m),l+=u(a)}for(var c=n-i-1;c>=i;c--){var p=t.children[c];o(s,t.leaf?e(p):p),l+=u(s)}return l},r.prototype._adjustParentBBoxes=function(t,i,n){for(var r=n;r>=0;r--)o(i[r],t)},r.prototype._condense=function(t){for(var i=t.length-1,n=void 0;i>=0;i--)0===t[i].children.length?i>0?(n=t[i-1].children).splice(n.indexOf(t[i]),1):this.clear():a(t[i],this.toBBox)},r});\n","/**\n * @module ol/style/Image\n */\nimport { abstract } from '../util.js';\nimport { toSize } from '../size.js';\n/**\n * @typedef {Object} Options\n * @property {number} opacity\n * @property {boolean} rotateWithView\n * @property {number} rotation\n * @property {number|import(\"../size.js\").Size} scale\n * @property {Array<number>} displacement\n */\n/**\n * @classdesc\n * A base class used for creating subclasses and not instantiated in\n * apps. Base class for {@link module:ol/style/Icon~Icon}, {@link module:ol/style/Circle~CircleStyle} and\n * {@link module:ol/style/RegularShape~RegularShape}.\n * @abstract\n * @api\n */\nvar ImageStyle = /** @class */ (function () {\n    /**\n     * @param {Options} options Options.\n     */\n    function ImageStyle(options) {\n        /**\n         * @private\n         * @type {number}\n         */\n        this.opacity_ = options.opacity;\n        /**\n         * @private\n         * @type {boolean}\n         */\n        this.rotateWithView_ = options.rotateWithView;\n        /**\n         * @private\n         * @type {number}\n         */\n        this.rotation_ = options.rotation;\n        /**\n         * @private\n         * @type {number|import(\"../size.js\").Size}\n         */\n        this.scale_ = options.scale;\n        /**\n         * @private\n         * @type {import(\"../size.js\").Size}\n         */\n        this.scaleArray_ = toSize(options.scale);\n        /**\n         * @private\n         * @type {Array<number>}\n         */\n        this.displacement_ = options.displacement;\n    }\n    /**\n     * Clones the style.\n     * @return {ImageStyle} The cloned style.\n     * @api\n     */\n    ImageStyle.prototype.clone = function () {\n        var scale = this.getScale();\n        return new ImageStyle({\n            opacity: this.getOpacity(),\n            scale: Array.isArray(scale) ? scale.slice() : scale,\n            rotation: this.getRotation(),\n            rotateWithView: this.getRotateWithView(),\n            displacement: this.getDisplacement().slice(),\n        });\n    };\n    /**\n     * Get the symbolizer opacity.\n     * @return {number} Opacity.\n     * @api\n     */\n    ImageStyle.prototype.getOpacity = function () {\n        return this.opacity_;\n    };\n    /**\n     * Determine whether the symbolizer rotates with the map.\n     * @return {boolean} Rotate with map.\n     * @api\n     */\n    ImageStyle.prototype.getRotateWithView = function () {\n        return this.rotateWithView_;\n    };\n    /**\n     * Get the symoblizer rotation.\n     * @return {number} Rotation.\n     * @api\n     */\n    ImageStyle.prototype.getRotation = function () {\n        return this.rotation_;\n    };\n    /**\n     * Get the symbolizer scale.\n     * @return {number|import(\"../size.js\").Size} Scale.\n     * @api\n     */\n    ImageStyle.prototype.getScale = function () {\n        return this.scale_;\n    };\n    /**\n     * Get the symbolizer scale array.\n     * @return {import(\"../size.js\").Size} Scale array.\n     */\n    ImageStyle.prototype.getScaleArray = function () {\n        return this.scaleArray_;\n    };\n    /**\n     * Get the displacement of the shape\n     * @return {Array<number>} Shape's center displacement\n     * @api\n     */\n    ImageStyle.prototype.getDisplacement = function () {\n        return this.displacement_;\n    };\n    /**\n     * Get the anchor point in pixels. The anchor determines the center point for the\n     * symbolizer.\n     * @abstract\n     * @return {Array<number>} Anchor.\n     */\n    ImageStyle.prototype.getAnchor = function () {\n        return abstract();\n    };\n    /**\n     * Get the image element for the symbolizer.\n     * @abstract\n     * @param {number} pixelRatio Pixel ratio.\n     * @return {HTMLCanvasElement|HTMLVideoElement|HTMLImageElement} Image element.\n     */\n    ImageStyle.prototype.getImage = function (pixelRatio) {\n        return abstract();\n    };\n    /**\n     * @abstract\n     * @return {HTMLCanvasElement|HTMLVideoElement|HTMLImageElement} Image element.\n     */\n    ImageStyle.prototype.getHitDetectionImage = function () {\n        return abstract();\n    };\n    /*\n     * Get the image pixel ratio.\n     * @param {number} pixelRatio Pixel ratio.\n     * */\n    ImageStyle.prototype.getPixelRatio = function (pixelRatio) {\n        return 1;\n    };\n    /**\n     * @abstract\n     * @return {import(\"../ImageState.js\").default} Image state.\n     */\n    ImageStyle.prototype.getImageState = function () {\n        return abstract();\n    };\n    /**\n     * @abstract\n     * @return {import(\"../size.js\").Size} Image size.\n     */\n    ImageStyle.prototype.getImageSize = function () {\n        return abstract();\n    };\n    /**\n     * @abstract\n     * @return {import(\"../size.js\").Size} Size of the hit-detection image.\n     */\n    ImageStyle.prototype.getHitDetectionImageSize = function () {\n        return abstract();\n    };\n    /**\n     * Get the origin of the symbolizer.\n     * @abstract\n     * @return {Array<number>} Origin.\n     */\n    ImageStyle.prototype.getOrigin = function () {\n        return abstract();\n    };\n    /**\n     * Get the size of the symbolizer (in pixels).\n     * @abstract\n     * @return {import(\"../size.js\").Size} Size.\n     */\n    ImageStyle.prototype.getSize = function () {\n        return abstract();\n    };\n    /**\n     * Set the opacity.\n     *\n     * @param {number} opacity Opacity.\n     * @api\n     */\n    ImageStyle.prototype.setOpacity = function (opacity) {\n        this.opacity_ = opacity;\n    };\n    /**\n     * Set whether to rotate the style with the view.\n     *\n     * @param {boolean} rotateWithView Rotate with map.\n     * @api\n     */\n    ImageStyle.prototype.setRotateWithView = function (rotateWithView) {\n        this.rotateWithView_ = rotateWithView;\n    };\n    /**\n     * Set the rotation.\n     *\n     * @param {number} rotation Rotation.\n     * @api\n     */\n    ImageStyle.prototype.setRotation = function (rotation) {\n        this.rotation_ = rotation;\n    };\n    /**\n     * Set the scale.\n     *\n     * @param {number|import(\"../size.js\").Size} scale Scale.\n     * @api\n     */\n    ImageStyle.prototype.setScale = function (scale) {\n        this.scale_ = scale;\n        this.scaleArray_ = toSize(scale);\n    };\n    /**\n     * @abstract\n     * @param {function(import(\"../events/Event.js\").default): void} listener Listener function.\n     */\n    ImageStyle.prototype.listenImageChange = function (listener) {\n        abstract();\n    };\n    /**\n     * Load not yet loaded URI.\n     * @abstract\n     */\n    ImageStyle.prototype.load = function () {\n        abstract();\n    };\n    /**\n     * @abstract\n     * @param {function(import(\"../events/Event.js\").default): void} listener Listener function.\n     */\n    ImageStyle.prototype.unlistenImageChange = function (listener) {\n        abstract();\n    };\n    return ImageStyle;\n}());\nexport default ImageStyle;\n//# sourceMappingURL=Image.js.map","/**\n * @module ol/colorlike\n */\nimport { toString } from './color.js';\n/**\n * A type accepted by CanvasRenderingContext2D.fillStyle\n * or CanvasRenderingContext2D.strokeStyle.\n * Represents a color, pattern, or gradient. The origin for patterns and\n * gradients as fill style is an increment of 512 css pixels from map coordinate\n * `[0, 0]`. For seamless repeat patterns, width and height of the pattern image\n * must be a factor of two (2, 4, 8, ..., 512).\n *\n * @typedef {string|CanvasPattern|CanvasGradient} ColorLike\n * @api\n */\n/**\n * @param {import(\"./color.js\").Color|ColorLike} color Color.\n * @return {ColorLike} The color as an {@link ol/colorlike~ColorLike}.\n * @api\n */\nexport function asColorLike(color) {\n    if (Array.isArray(color)) {\n        return toString(color);\n    }\n    else {\n        return color;\n    }\n}\n//# sourceMappingURL=colorlike.js.map","/**\n * @module ol/style/RegularShape\n */\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport ImageState from '../ImageState.js';\nimport ImageStyle from './Image.js';\nimport { asArray } from '../color.js';\nimport { asColorLike } from '../colorlike.js';\nimport { createCanvasContext2D } from '../dom.js';\nimport { defaultFillStyle, defaultLineCap, defaultLineJoin, defaultLineWidth, defaultMiterLimit, defaultStrokeStyle, } from '../render/canvas.js';\n/**\n * Specify radius for regular polygons, or radius1 and radius2 for stars.\n * @typedef {Object} Options\n * @property {import(\"./Fill.js\").default} [fill] Fill style.\n * @property {number} points Number of points for stars and regular polygons. In case of a polygon, the number of points\n * is the number of sides.\n * @property {number} [radius] Radius of a regular polygon.\n * @property {number} [radius1] Outer radius of a star.\n * @property {number} [radius2] Inner radius of a star.\n * @property {number} [angle=0] Shape's angle in radians. A value of 0 will have one of the shape's point facing up.\n * @property {Array<number>} [displacement=[0,0]] Displacement of the shape\n * @property {import(\"./Stroke.js\").default} [stroke] Stroke style.\n * @property {number} [rotation=0] Rotation in radians (positive rotation clockwise).\n * @property {boolean} [rotateWithView=false] Whether to rotate the shape with the view.\n * @property {number|import(\"../size.js\").Size} [scale=1] Scale. Unless two dimensional scaling is required a better\n * result may be obtained with appropriate settings for `radius`, `radius1` and `radius2`.\n */\n/**\n * @typedef {Object} RenderOptions\n * @property {import(\"../colorlike.js\").ColorLike} [strokeStyle]\n * @property {number} strokeWidth\n * @property {number} size\n * @property {CanvasLineCap} lineCap\n * @property {Array<number>} lineDash\n * @property {number} lineDashOffset\n * @property {CanvasLineJoin} lineJoin\n * @property {number} miterLimit\n */\n/**\n * @classdesc\n * Set regular shape style for vector features. The resulting shape will be\n * a regular polygon when `radius` is provided, or a star when `radius1` and\n * `radius2` are provided.\n * @api\n */\nvar RegularShape = /** @class */ (function (_super) {\n    __extends(RegularShape, _super);\n    /**\n     * @param {Options} options Options.\n     */\n    function RegularShape(options) {\n        var _this = this;\n        /**\n         * @type {boolean}\n         */\n        var rotateWithView = options.rotateWithView !== undefined ? options.rotateWithView : false;\n        _this = _super.call(this, {\n            opacity: 1,\n            rotateWithView: rotateWithView,\n            rotation: options.rotation !== undefined ? options.rotation : 0,\n            scale: options.scale !== undefined ? options.scale : 1,\n            displacement: options.displacement !== undefined ? options.displacement : [0, 0],\n        }) || this;\n        /**\n         * @private\n         * @type {Object<number, HTMLCanvasElement>}\n         */\n        _this.canvas_ = {};\n        /**\n         * @private\n         * @type {HTMLCanvasElement}\n         */\n        _this.hitDetectionCanvas_ = null;\n        /**\n         * @private\n         * @type {import(\"./Fill.js\").default}\n         */\n        _this.fill_ = options.fill !== undefined ? options.fill : null;\n        /**\n         * @private\n         * @type {Array<number>}\n         */\n        _this.origin_ = [0, 0];\n        /**\n         * @private\n         * @type {number}\n         */\n        _this.points_ = options.points;\n        /**\n         * @protected\n         * @type {number}\n         */\n        _this.radius_ =\n            options.radius !== undefined ? options.radius : options.radius1;\n        /**\n         * @private\n         * @type {number|undefined}\n         */\n        _this.radius2_ = options.radius2;\n        /**\n         * @private\n         * @type {number}\n         */\n        _this.angle_ = options.angle !== undefined ? options.angle : 0;\n        /**\n         * @private\n         * @type {import(\"./Stroke.js\").default}\n         */\n        _this.stroke_ = options.stroke !== undefined ? options.stroke : null;\n        /**\n         * @private\n         * @type {Array<number>}\n         */\n        _this.anchor_ = null;\n        /**\n         * @private\n         * @type {import(\"../size.js\").Size}\n         */\n        _this.size_ = null;\n        /**\n         * @private\n         * @type {import(\"../size.js\").Size}\n         */\n        _this.imageSize_ = null;\n        /**\n         * @private\n         * @type {import(\"../size.js\").Size}\n         */\n        _this.hitDetectionImageSize_ = null;\n        _this.render();\n        return _this;\n    }\n    /**\n     * Clones the style.\n     * @return {RegularShape} The cloned style.\n     * @api\n     */\n    RegularShape.prototype.clone = function () {\n        var scale = this.getScale();\n        var style = new RegularShape({\n            fill: this.getFill() ? this.getFill().clone() : undefined,\n            points: this.getPoints(),\n            radius: this.getRadius(),\n            radius2: this.getRadius2(),\n            angle: this.getAngle(),\n            stroke: this.getStroke() ? this.getStroke().clone() : undefined,\n            rotation: this.getRotation(),\n            rotateWithView: this.getRotateWithView(),\n            scale: Array.isArray(scale) ? scale.slice() : scale,\n            displacement: this.getDisplacement().slice(),\n        });\n        style.setOpacity(this.getOpacity());\n        return style;\n    };\n    /**\n     * Get the anchor point in pixels. The anchor determines the center point for the\n     * symbolizer.\n     * @return {Array<number>} Anchor.\n     * @api\n     */\n    RegularShape.prototype.getAnchor = function () {\n        return this.anchor_;\n    };\n    /**\n     * Get the angle used in generating the shape.\n     * @return {number} Shape's rotation in radians.\n     * @api\n     */\n    RegularShape.prototype.getAngle = function () {\n        return this.angle_;\n    };\n    /**\n     * Get the fill style for the shape.\n     * @return {import(\"./Fill.js\").default} Fill style.\n     * @api\n     */\n    RegularShape.prototype.getFill = function () {\n        return this.fill_;\n    };\n    /**\n     * @return {HTMLCanvasElement} Image element.\n     */\n    RegularShape.prototype.getHitDetectionImage = function () {\n        if (!this.hitDetectionCanvas_) {\n            var renderOptions = this.createRenderOptions();\n            this.createHitDetectionCanvas_(renderOptions);\n        }\n        return this.hitDetectionCanvas_;\n    };\n    /**\n     * Get the image icon.\n     * @param {number} pixelRatio Pixel ratio.\n     * @return {HTMLCanvasElement} Image or Canvas element.\n     * @api\n     */\n    RegularShape.prototype.getImage = function (pixelRatio) {\n        if (!this.canvas_[pixelRatio || 1]) {\n            var renderOptions = this.createRenderOptions();\n            var context = createCanvasContext2D(renderOptions.size * pixelRatio || 1, renderOptions.size * pixelRatio || 1);\n            this.draw_(renderOptions, context, 0, 0, pixelRatio || 1);\n            this.canvas_[pixelRatio || 1] = context.canvas;\n        }\n        return this.canvas_[pixelRatio || 1];\n    };\n    /*\n     * Get the image pixel ratio.\n     * @param {number} pixelRatio Pixel ratio.\n     * */\n    RegularShape.prototype.getPixelRatio = function (pixelRatio) {\n        return pixelRatio;\n    };\n    /**\n     * @return {import(\"../size.js\").Size} Image size.\n     */\n    RegularShape.prototype.getImageSize = function () {\n        return this.imageSize_;\n    };\n    /**\n     * @return {import(\"../size.js\").Size} Size of the hit-detection image.\n     */\n    RegularShape.prototype.getHitDetectionImageSize = function () {\n        return this.hitDetectionImageSize_;\n    };\n    /**\n     * @return {import(\"../ImageState.js\").default} Image state.\n     */\n    RegularShape.prototype.getImageState = function () {\n        return ImageState.LOADED;\n    };\n    /**\n     * Get the origin of the symbolizer.\n     * @return {Array<number>} Origin.\n     * @api\n     */\n    RegularShape.prototype.getOrigin = function () {\n        return this.origin_;\n    };\n    /**\n     * Get the number of points for generating the shape.\n     * @return {number} Number of points for stars and regular polygons.\n     * @api\n     */\n    RegularShape.prototype.getPoints = function () {\n        return this.points_;\n    };\n    /**\n     * Get the (primary) radius for the shape.\n     * @return {number} Radius.\n     * @api\n     */\n    RegularShape.prototype.getRadius = function () {\n        return this.radius_;\n    };\n    /**\n     * Get the secondary radius for the shape.\n     * @return {number|undefined} Radius2.\n     * @api\n     */\n    RegularShape.prototype.getRadius2 = function () {\n        return this.radius2_;\n    };\n    /**\n     * Get the size of the symbolizer (in pixels).\n     * @return {import(\"../size.js\").Size} Size.\n     * @api\n     */\n    RegularShape.prototype.getSize = function () {\n        return this.size_;\n    };\n    /**\n     * Get the stroke style for the shape.\n     * @return {import(\"./Stroke.js\").default} Stroke style.\n     * @api\n     */\n    RegularShape.prototype.getStroke = function () {\n        return this.stroke_;\n    };\n    /**\n     * @param {function(import(\"../events/Event.js\").default): void} listener Listener function.\n     */\n    RegularShape.prototype.listenImageChange = function (listener) { };\n    /**\n     * Load not yet loaded URI.\n     */\n    RegularShape.prototype.load = function () { };\n    /**\n     * @param {function(import(\"../events/Event.js\").default): void} listener Listener function.\n     */\n    RegularShape.prototype.unlistenImageChange = function (listener) { };\n    /**\n     * @returns {RenderOptions}  The render options\n     * @protected\n     */\n    RegularShape.prototype.createRenderOptions = function () {\n        var lineCap = defaultLineCap;\n        var lineJoin = defaultLineJoin;\n        var miterLimit = 0;\n        var lineDash = null;\n        var lineDashOffset = 0;\n        var strokeStyle;\n        var strokeWidth = 0;\n        if (this.stroke_) {\n            strokeStyle = this.stroke_.getColor();\n            if (strokeStyle === null) {\n                strokeStyle = defaultStrokeStyle;\n            }\n            strokeStyle = asColorLike(strokeStyle);\n            strokeWidth = this.stroke_.getWidth();\n            if (strokeWidth === undefined) {\n                strokeWidth = defaultLineWidth;\n            }\n            lineDash = this.stroke_.getLineDash();\n            lineDashOffset = this.stroke_.getLineDashOffset();\n            lineJoin = this.stroke_.getLineJoin();\n            if (lineJoin === undefined) {\n                lineJoin = defaultLineJoin;\n            }\n            lineCap = this.stroke_.getLineCap();\n            if (lineCap === undefined) {\n                lineCap = defaultLineCap;\n            }\n            miterLimit = this.stroke_.getMiterLimit();\n            if (miterLimit === undefined) {\n                miterLimit = defaultMiterLimit;\n            }\n        }\n        var size = 2 * (this.radius_ + strokeWidth) + 1;\n        return {\n            strokeStyle: strokeStyle,\n            strokeWidth: strokeWidth,\n            size: size,\n            lineCap: lineCap,\n            lineDash: lineDash,\n            lineDashOffset: lineDashOffset,\n            lineJoin: lineJoin,\n            miterLimit: miterLimit,\n        };\n    };\n    /**\n     * @protected\n     */\n    RegularShape.prototype.render = function () {\n        var renderOptions = this.createRenderOptions();\n        var context = createCanvasContext2D(renderOptions.size, renderOptions.size);\n        this.draw_(renderOptions, context, 0, 0, 1);\n        this.canvas_ = {};\n        this.canvas_[1] = context.canvas;\n        // canvas.width and height are rounded to the closest integer\n        var size = context.canvas.width;\n        var imageSize = size;\n        var displacement = this.getDisplacement();\n        this.hitDetectionImageSize_ = [renderOptions.size, renderOptions.size];\n        this.createHitDetectionCanvas_(renderOptions);\n        this.anchor_ = [size / 2 - displacement[0], size / 2 + displacement[1]];\n        this.size_ = [size, size];\n        this.imageSize_ = [imageSize, imageSize];\n    };\n    /**\n     * @private\n     * @param {RenderOptions} renderOptions Render options.\n     * @param {CanvasRenderingContext2D} context The rendering context.\n     * @param {number} x The origin for the symbol (x).\n     * @param {number} y The origin for the symbol (y).\n     * @param {number} pixelRatio The pixel ratio.\n     */\n    RegularShape.prototype.draw_ = function (renderOptions, context, x, y, pixelRatio) {\n        var i, angle0, radiusC;\n        // reset transform\n        context.setTransform(pixelRatio, 0, 0, pixelRatio, 0, 0);\n        // then move to (x, y)\n        context.translate(x, y);\n        context.beginPath();\n        var points = this.points_;\n        if (points === Infinity) {\n            context.arc(renderOptions.size / 2, renderOptions.size / 2, this.radius_, 0, 2 * Math.PI, true);\n        }\n        else {\n            var radius2 = this.radius2_ !== undefined ? this.radius2_ : this.radius_;\n            if (radius2 !== this.radius_) {\n                points = 2 * points;\n            }\n            for (i = 0; i <= points; i++) {\n                angle0 = (i * 2 * Math.PI) / points - Math.PI / 2 + this.angle_;\n                radiusC = i % 2 === 0 ? this.radius_ : radius2;\n                context.lineTo(renderOptions.size / 2 + radiusC * Math.cos(angle0), renderOptions.size / 2 + radiusC * Math.sin(angle0));\n            }\n        }\n        if (this.fill_) {\n            var color = this.fill_.getColor();\n            if (color === null) {\n                color = defaultFillStyle;\n            }\n            context.fillStyle = asColorLike(color);\n            context.fill();\n        }\n        if (this.stroke_) {\n            context.strokeStyle = renderOptions.strokeStyle;\n            context.lineWidth = renderOptions.strokeWidth;\n            if (context.setLineDash && renderOptions.lineDash) {\n                context.setLineDash(renderOptions.lineDash);\n                context.lineDashOffset = renderOptions.lineDashOffset;\n            }\n            context.lineCap = renderOptions.lineCap;\n            context.lineJoin = renderOptions.lineJoin;\n            context.miterLimit = renderOptions.miterLimit;\n            context.stroke();\n        }\n        context.closePath();\n    };\n    /**\n     * @private\n     * @param {RenderOptions} renderOptions Render options.\n     */\n    RegularShape.prototype.createHitDetectionCanvas_ = function (renderOptions) {\n        this.hitDetectionCanvas_ = this.getImage(1);\n        if (this.fill_) {\n            var color = this.fill_.getColor();\n            // determine if fill is transparent (or pattern or gradient)\n            var opacity = 0;\n            if (typeof color === 'string') {\n                color = asArray(color);\n            }\n            if (color === null) {\n                opacity = 1;\n            }\n            else if (Array.isArray(color)) {\n                opacity = color.length === 4 ? color[3] : 1;\n            }\n            if (opacity === 0) {\n                // if a transparent fill style is set, create an extra hit-detection image\n                // with a default fill style\n                var context = createCanvasContext2D(renderOptions.size, renderOptions.size);\n                this.hitDetectionCanvas_ = context.canvas;\n                this.drawHitDetectionCanvas_(renderOptions, context, 0, 0);\n            }\n        }\n    };\n    /**\n     * @private\n     * @param {RenderOptions} renderOptions Render options.\n     * @param {CanvasRenderingContext2D} context The context.\n     * @param {number} x The origin for the symbol (x).\n     * @param {number} y The origin for the symbol (y).\n     */\n    RegularShape.prototype.drawHitDetectionCanvas_ = function (renderOptions, context, x, y) {\n        // move to (x, y)\n        context.translate(x, y);\n        context.beginPath();\n        var points = this.points_;\n        if (points === Infinity) {\n            context.arc(renderOptions.size / 2, renderOptions.size / 2, this.radius_, 0, 2 * Math.PI, true);\n        }\n        else {\n            var radius2 = this.radius2_ !== undefined ? this.radius2_ : this.radius_;\n            if (radius2 !== this.radius_) {\n                points = 2 * points;\n            }\n            var i = void 0, radiusC = void 0, angle0 = void 0;\n            for (i = 0; i <= points; i++) {\n                angle0 = (i * 2 * Math.PI) / points - Math.PI / 2 + this.angle_;\n                radiusC = i % 2 === 0 ? this.radius_ : radius2;\n                context.lineTo(renderOptions.size / 2 + radiusC * Math.cos(angle0), renderOptions.size / 2 + radiusC * Math.sin(angle0));\n            }\n        }\n        context.fillStyle = defaultFillStyle;\n        context.fill();\n        if (this.stroke_) {\n            context.strokeStyle = renderOptions.strokeStyle;\n            context.lineWidth = renderOptions.strokeWidth;\n            if (renderOptions.lineDash) {\n                context.setLineDash(renderOptions.lineDash);\n                context.lineDashOffset = renderOptions.lineDashOffset;\n            }\n            context.stroke();\n        }\n        context.closePath();\n    };\n    return RegularShape;\n}(ImageStyle));\nexport default RegularShape;\n//# sourceMappingURL=RegularShape.js.map","/**\n * @module ol/style/Circle\n */\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport RegularShape from './RegularShape.js';\n/**\n * @typedef {Object} Options\n * @property {import(\"./Fill.js\").default} [fill] Fill style.\n * @property {number} radius Circle radius.\n * @property {import(\"./Stroke.js\").default} [stroke] Stroke style.\n * @property {Array<number>} [displacement=[0,0]] displacement\n * @property {number|import(\"../size.js\").Size} [scale=1] Scale. A two dimensional scale will produce an ellipse.\n * Unless two dimensional scaling is required a better result may be obtained with an appropriate setting for `radius`.\n * @property {number} [rotation=0] Rotation in radians\n * (positive rotation clockwise, meaningful only when used in conjunction with a two dimensional scale).\n * @property {boolean} [rotateWithView=false] Whether to rotate the shape with the view\n * (meaningful only when used in conjunction with a two dimensional scale).\n */\n/**\n * @classdesc\n * Set circle style for vector features.\n * @api\n */\nvar CircleStyle = /** @class */ (function (_super) {\n    __extends(CircleStyle, _super);\n    /**\n     * @param {Options=} opt_options Options.\n     */\n    function CircleStyle(opt_options) {\n        var _this = this;\n        var options = opt_options ? opt_options : {};\n        _this = _super.call(this, {\n            points: Infinity,\n            fill: options.fill,\n            radius: options.radius,\n            stroke: options.stroke,\n            scale: options.scale !== undefined ? options.scale : 1,\n            rotation: options.rotation !== undefined ? options.rotation : 0,\n            rotateWithView: options.rotateWithView !== undefined ? options.rotateWithView : false,\n            displacement: options.displacement !== undefined ? options.displacement : [0, 0],\n        }) || this;\n        return _this;\n    }\n    /**\n     * Clones the style.\n     * @return {CircleStyle} The cloned style.\n     * @api\n     */\n    CircleStyle.prototype.clone = function () {\n        var scale = this.getScale();\n        var style = new CircleStyle({\n            fill: this.getFill() ? this.getFill().clone() : undefined,\n            stroke: this.getStroke() ? this.getStroke().clone() : undefined,\n            radius: this.getRadius(),\n            scale: Array.isArray(scale) ? scale.slice() : scale,\n            rotation: this.getRotation(),\n            rotateWithView: this.getRotateWithView(),\n            displacement: this.getDisplacement().slice(),\n        });\n        style.setOpacity(this.getOpacity());\n        return style;\n    };\n    /**\n     * Set the circle radius.\n     *\n     * @param {number} radius Circle radius.\n     * @api\n     */\n    CircleStyle.prototype.setRadius = function (radius) {\n        this.radius_ = radius;\n        this.render();\n    };\n    return CircleStyle;\n}(RegularShape));\nexport default CircleStyle;\n//# sourceMappingURL=Circle.js.map","/**\n * @module ol/style/Fill\n */\n/**\n * @typedef {Object} Options\n * @property {import(\"../color.js\").Color|import(\"../colorlike.js\").ColorLike} [color=null] A color, gradient or pattern.\n * See {@link module:ol/color~Color} and {@link module:ol/colorlike~ColorLike} for possible formats.\n * Default null; if null, the Canvas/renderer default black will be used.\n */\n/**\n * @classdesc\n * Set fill style for vector features.\n * @api\n */\nvar Fill = /** @class */ (function () {\n    /**\n     * @param {Options=} opt_options Options.\n     */\n    function Fill(opt_options) {\n        var options = opt_options || {};\n        /**\n         * @private\n         * @type {import(\"../color.js\").Color|import(\"../colorlike.js\").ColorLike}\n         */\n        this.color_ = options.color !== undefined ? options.color : null;\n    }\n    /**\n     * Clones the style. The color is not cloned if it is an {@link module:ol/colorlike~ColorLike}.\n     * @return {Fill} The cloned style.\n     * @api\n     */\n    Fill.prototype.clone = function () {\n        var color = this.getColor();\n        return new Fill({\n            color: Array.isArray(color) ? color.slice() : color || undefined,\n        });\n    };\n    /**\n     * Get the fill color.\n     * @return {import(\"../color.js\").Color|import(\"../colorlike.js\").ColorLike} Color.\n     * @api\n     */\n    Fill.prototype.getColor = function () {\n        return this.color_;\n    };\n    /**\n     * Set the color.\n     *\n     * @param {import(\"../color.js\").Color|import(\"../colorlike.js\").ColorLike} color Color.\n     * @api\n     */\n    Fill.prototype.setColor = function (color) {\n        this.color_ = color;\n    };\n    return Fill;\n}());\nexport default Fill;\n//# sourceMappingURL=Fill.js.map","/**\n * @module ol/style/Stroke\n */\n/**\n * @typedef {Object} Options\n * @property {import(\"../color.js\").Color|import(\"../colorlike.js\").ColorLike} [color] A color, gradient or pattern.\n * See {@link module:ol/color~Color} and {@link module:ol/colorlike~ColorLike} for possible formats.\n * Default null; if null, the Canvas/renderer default black will be used.\n * @property {CanvasLineCap} [lineCap='round'] Line cap style: `butt`, `round`, or `square`.\n * @property {CanvasLineJoin} [lineJoin='round'] Line join style: `bevel`, `round`, or `miter`.\n * @property {Array<number>} [lineDash] Line dash pattern. Default is `null` (no dash).\n * Please note that Internet Explorer 10 and lower do not support the `setLineDash` method on\n * the `CanvasRenderingContext2D` and therefore this option will have no visual effect in these browsers.\n * @property {number} [lineDashOffset=0] Line dash offset.\n * @property {number} [miterLimit=10] Miter limit.\n * @property {number} [width] Width.\n */\n/**\n * @classdesc\n * Set stroke style for vector features.\n * Note that the defaults given are the Canvas defaults, which will be used if\n * option is not defined. The `get` functions return whatever was entered in\n * the options; they will not return the default.\n * @api\n */\nvar Stroke = /** @class */ (function () {\n    /**\n     * @param {Options=} opt_options Options.\n     */\n    function Stroke(opt_options) {\n        var options = opt_options || {};\n        /**\n         * @private\n         * @type {import(\"../color.js\").Color|import(\"../colorlike.js\").ColorLike}\n         */\n        this.color_ = options.color !== undefined ? options.color : null;\n        /**\n         * @private\n         * @type {CanvasLineCap|undefined}\n         */\n        this.lineCap_ = options.lineCap;\n        /**\n         * @private\n         * @type {Array<number>}\n         */\n        this.lineDash_ = options.lineDash !== undefined ? options.lineDash : null;\n        /**\n         * @private\n         * @type {number|undefined}\n         */\n        this.lineDashOffset_ = options.lineDashOffset;\n        /**\n         * @private\n         * @type {CanvasLineJoin|undefined}\n         */\n        this.lineJoin_ = options.lineJoin;\n        /**\n         * @private\n         * @type {number|undefined}\n         */\n        this.miterLimit_ = options.miterLimit;\n        /**\n         * @private\n         * @type {number|undefined}\n         */\n        this.width_ = options.width;\n    }\n    /**\n     * Clones the style.\n     * @return {Stroke} The cloned style.\n     * @api\n     */\n    Stroke.prototype.clone = function () {\n        var color = this.getColor();\n        return new Stroke({\n            color: Array.isArray(color) ? color.slice() : color || undefined,\n            lineCap: this.getLineCap(),\n            lineDash: this.getLineDash() ? this.getLineDash().slice() : undefined,\n            lineDashOffset: this.getLineDashOffset(),\n            lineJoin: this.getLineJoin(),\n            miterLimit: this.getMiterLimit(),\n            width: this.getWidth(),\n        });\n    };\n    /**\n     * Get the stroke color.\n     * @return {import(\"../color.js\").Color|import(\"../colorlike.js\").ColorLike} Color.\n     * @api\n     */\n    Stroke.prototype.getColor = function () {\n        return this.color_;\n    };\n    /**\n     * Get the line cap type for the stroke.\n     * @return {CanvasLineCap|undefined} Line cap.\n     * @api\n     */\n    Stroke.prototype.getLineCap = function () {\n        return this.lineCap_;\n    };\n    /**\n     * Get the line dash style for the stroke.\n     * @return {Array<number>} Line dash.\n     * @api\n     */\n    Stroke.prototype.getLineDash = function () {\n        return this.lineDash_;\n    };\n    /**\n     * Get the line dash offset for the stroke.\n     * @return {number|undefined} Line dash offset.\n     * @api\n     */\n    Stroke.prototype.getLineDashOffset = function () {\n        return this.lineDashOffset_;\n    };\n    /**\n     * Get the line join type for the stroke.\n     * @return {CanvasLineJoin|undefined} Line join.\n     * @api\n     */\n    Stroke.prototype.getLineJoin = function () {\n        return this.lineJoin_;\n    };\n    /**\n     * Get the miter limit for the stroke.\n     * @return {number|undefined} Miter limit.\n     * @api\n     */\n    Stroke.prototype.getMiterLimit = function () {\n        return this.miterLimit_;\n    };\n    /**\n     * Get the stroke width.\n     * @return {number|undefined} Width.\n     * @api\n     */\n    Stroke.prototype.getWidth = function () {\n        return this.width_;\n    };\n    /**\n     * Set the color.\n     *\n     * @param {import(\"../color.js\").Color|import(\"../colorlike.js\").ColorLike} color Color.\n     * @api\n     */\n    Stroke.prototype.setColor = function (color) {\n        this.color_ = color;\n    };\n    /**\n     * Set the line cap.\n     *\n     * @param {CanvasLineCap|undefined} lineCap Line cap.\n     * @api\n     */\n    Stroke.prototype.setLineCap = function (lineCap) {\n        this.lineCap_ = lineCap;\n    };\n    /**\n     * Set the line dash.\n     *\n     * Please note that Internet Explorer 10 and lower [do not support][mdn] the\n     * `setLineDash` method on the `CanvasRenderingContext2D` and therefore this\n     * property will have no visual effect in these browsers.\n     *\n     * [mdn]: https://developer.mozilla.org/en-US/docs/Web/API/CanvasRenderingContext2D/setLineDash#Browser_compatibility\n     *\n     * @param {Array<number>} lineDash Line dash.\n     * @api\n     */\n    Stroke.prototype.setLineDash = function (lineDash) {\n        this.lineDash_ = lineDash;\n    };\n    /**\n     * Set the line dash offset.\n     *\n     * @param {number|undefined} lineDashOffset Line dash offset.\n     * @api\n     */\n    Stroke.prototype.setLineDashOffset = function (lineDashOffset) {\n        this.lineDashOffset_ = lineDashOffset;\n    };\n    /**\n     * Set the line join.\n     *\n     * @param {CanvasLineJoin|undefined} lineJoin Line join.\n     * @api\n     */\n    Stroke.prototype.setLineJoin = function (lineJoin) {\n        this.lineJoin_ = lineJoin;\n    };\n    /**\n     * Set the miter limit.\n     *\n     * @param {number|undefined} miterLimit Miter limit.\n     * @api\n     */\n    Stroke.prototype.setMiterLimit = function (miterLimit) {\n        this.miterLimit_ = miterLimit;\n    };\n    /**\n     * Set the width.\n     *\n     * @param {number|undefined} width Width.\n     * @api\n     */\n    Stroke.prototype.setWidth = function (width) {\n        this.width_ = width;\n    };\n    return Stroke;\n}());\nexport default Stroke;\n//# sourceMappingURL=Stroke.js.map","/**\n * @module ol/style/Style\n */\nimport CircleStyle from './Circle.js';\nimport Fill from './Fill.js';\nimport GeometryType from '../geom/GeometryType.js';\nimport Stroke from './Stroke.js';\nimport { assert } from '../asserts.js';\n/**\n * A function that takes an {@link module:ol/Feature} and a `{number}`\n * representing the view's resolution. The function should return a\n * {@link module:ol/style/Style} or an array of them. This way e.g. a\n * vector layer can be styled. If the function returns `undefined`, the\n * feature will not be rendered.\n *\n * @typedef {function(import(\"../Feature.js\").FeatureLike, number):(Style|Array<Style>|void)} StyleFunction\n */\n/**\n * A {@link Style}, an array of {@link Style}, or a {@link StyleFunction}.\n * @typedef {Style|Array<Style>|StyleFunction} StyleLike\n */\n/**\n * A function that takes an {@link module:ol/Feature} as argument and returns an\n * {@link module:ol/geom/Geometry} that will be rendered and styled for the feature.\n *\n * @typedef {function(import(\"../Feature.js\").FeatureLike):\n *     (import(\"../geom/Geometry.js\").default|import(\"../render/Feature.js\").default|undefined)} GeometryFunction\n */\n/**\n * Custom renderer function. Takes two arguments:\n *\n * 1. The pixel coordinates of the geometry in GeoJSON notation.\n * 2. The {@link module:ol/render~State} of the layer renderer.\n *\n * @typedef {function((import(\"../coordinate.js\").Coordinate|Array<import(\"../coordinate.js\").Coordinate>|Array<Array<import(\"../coordinate.js\").Coordinate>>),import(\"../render.js\").State): void}\n * RenderFunction\n */\n/**\n * @typedef {Object} Options\n * @property {string|import(\"../geom/Geometry.js\").default|GeometryFunction} [geometry] Feature property or geometry\n * or function returning a geometry to render for this style.\n * @property {import(\"./Fill.js\").default} [fill] Fill style.\n * @property {import(\"./Image.js\").default} [image] Image style.\n * @property {RenderFunction} [renderer] Custom renderer. When configured, `fill`, `stroke` and `image` will be\n * ignored, and the provided function will be called with each render frame for each geometry.\n * @property {import(\"./Stroke.js\").default} [stroke] Stroke style.\n * @property {import(\"./Text.js\").default} [text] Text style.\n * @property {number} [zIndex] Z index.\n */\n/**\n * @classdesc\n * Container for vector feature rendering styles. Any changes made to the style\n * or its children through `set*()` methods will not take effect until the\n * feature or layer that uses the style is re-rendered.\n *\n * ## Feature styles\n *\n * If no style is defined, the following default style is used:\n * ```js\n *  import {Fill, Stroke, Circle, Style} from 'ol/style';\n *\n *  var fill = new Fill({\n *    color: 'rgba(255,255,255,0.4)'\n *  });\n *  var stroke = new Stroke({\n *    color: '#3399CC',\n *    width: 1.25\n *  });\n *  var styles = [\n *    new Style({\n *      image: new Circle({\n *        fill: fill,\n *        stroke: stroke,\n *        radius: 5\n *      }),\n *      fill: fill,\n *      stroke: stroke\n *    })\n *  ];\n * ```\n *\n * A separate editing style has the following defaults:\n * ```js\n *  import {Fill, Stroke, Circle, Style} from 'ol/style';\n *  import GeometryType from 'ol/geom/GeometryType';\n *\n *  var white = [255, 255, 255, 1];\n *  var blue = [0, 153, 255, 1];\n *  var width = 3;\n *  styles[GeometryType.POLYGON] = [\n *    new Style({\n *      fill: new Fill({\n *        color: [255, 255, 255, 0.5]\n *      })\n *    })\n *  ];\n *  styles[GeometryType.MULTI_POLYGON] =\n *      styles[GeometryType.POLYGON];\n *  styles[GeometryType.LINE_STRING] = [\n *    new Style({\n *      stroke: new Stroke({\n *        color: white,\n *        width: width + 2\n *      })\n *    }),\n *    new Style({\n *      stroke: new Stroke({\n *        color: blue,\n *        width: width\n *      })\n *    })\n *  ];\n *  styles[GeometryType.MULTI_LINE_STRING] =\n *      styles[GeometryType.LINE_STRING];\n *  styles[GeometryType.POINT] = [\n *    new Style({\n *      image: new Circle({\n *        radius: width * 2,\n *        fill: new Fill({\n *          color: blue\n *        }),\n *        stroke: new Stroke({\n *          color: white,\n *          width: width / 2\n *        })\n *      }),\n *      zIndex: Infinity\n *    })\n *  ];\n *  styles[GeometryType.MULTI_POINT] =\n *      styles[GeometryType.POINT];\n *  styles[GeometryType.GEOMETRY_COLLECTION] =\n *      styles[GeometryType.POLYGON].concat(\n *          styles[GeometryType.LINE_STRING],\n *          styles[GeometryType.POINT]\n *      );\n * ```\n *\n * @api\n */\nvar Style = /** @class */ (function () {\n    /**\n     * @param {Options=} opt_options Style options.\n     */\n    function Style(opt_options) {\n        var options = opt_options || {};\n        /**\n         * @private\n         * @type {string|import(\"../geom/Geometry.js\").default|GeometryFunction}\n         */\n        this.geometry_ = null;\n        /**\n         * @private\n         * @type {!GeometryFunction}\n         */\n        this.geometryFunction_ = defaultGeometryFunction;\n        if (options.geometry !== undefined) {\n            this.setGeometry(options.geometry);\n        }\n        /**\n         * @private\n         * @type {import(\"./Fill.js\").default}\n         */\n        this.fill_ = options.fill !== undefined ? options.fill : null;\n        /**\n         * @private\n         * @type {import(\"./Image.js\").default}\n         */\n        this.image_ = options.image !== undefined ? options.image : null;\n        /**\n         * @private\n         * @type {RenderFunction|null}\n         */\n        this.renderer_ = options.renderer !== undefined ? options.renderer : null;\n        /**\n         * @private\n         * @type {import(\"./Stroke.js\").default}\n         */\n        this.stroke_ = options.stroke !== undefined ? options.stroke : null;\n        /**\n         * @private\n         * @type {import(\"./Text.js\").default}\n         */\n        this.text_ = options.text !== undefined ? options.text : null;\n        /**\n         * @private\n         * @type {number|undefined}\n         */\n        this.zIndex_ = options.zIndex;\n    }\n    /**\n     * Clones the style.\n     * @return {Style} The cloned style.\n     * @api\n     */\n    Style.prototype.clone = function () {\n        var geometry = this.getGeometry();\n        if (geometry && typeof geometry === 'object') {\n            geometry = /** @type {import(\"../geom/Geometry.js\").default} */ (geometry).clone();\n        }\n        return new Style({\n            geometry: geometry,\n            fill: this.getFill() ? this.getFill().clone() : undefined,\n            image: this.getImage() ? this.getImage().clone() : undefined,\n            stroke: this.getStroke() ? this.getStroke().clone() : undefined,\n            text: this.getText() ? this.getText().clone() : undefined,\n            zIndex: this.getZIndex(),\n        });\n    };\n    /**\n     * Get the custom renderer function that was configured with\n     * {@link #setRenderer} or the `renderer` constructor option.\n     * @return {RenderFunction|null} Custom renderer function.\n     * @api\n     */\n    Style.prototype.getRenderer = function () {\n        return this.renderer_;\n    };\n    /**\n     * Sets a custom renderer function for this style. When set, `fill`, `stroke`\n     * and `image` options of the style will be ignored.\n     * @param {RenderFunction|null} renderer Custom renderer function.\n     * @api\n     */\n    Style.prototype.setRenderer = function (renderer) {\n        this.renderer_ = renderer;\n    };\n    /**\n     * Get the geometry to be rendered.\n     * @return {string|import(\"../geom/Geometry.js\").default|GeometryFunction}\n     * Feature property or geometry or function that returns the geometry that will\n     * be rendered with this style.\n     * @api\n     */\n    Style.prototype.getGeometry = function () {\n        return this.geometry_;\n    };\n    /**\n     * Get the function used to generate a geometry for rendering.\n     * @return {!GeometryFunction} Function that is called with a feature\n     * and returns the geometry to render instead of the feature's geometry.\n     * @api\n     */\n    Style.prototype.getGeometryFunction = function () {\n        return this.geometryFunction_;\n    };\n    /**\n     * Get the fill style.\n     * @return {import(\"./Fill.js\").default} Fill style.\n     * @api\n     */\n    Style.prototype.getFill = function () {\n        return this.fill_;\n    };\n    /**\n     * Set the fill style.\n     * @param {import(\"./Fill.js\").default} fill Fill style.\n     * @api\n     */\n    Style.prototype.setFill = function (fill) {\n        this.fill_ = fill;\n    };\n    /**\n     * Get the image style.\n     * @return {import(\"./Image.js\").default} Image style.\n     * @api\n     */\n    Style.prototype.getImage = function () {\n        return this.image_;\n    };\n    /**\n     * Set the image style.\n     * @param {import(\"./Image.js\").default} image Image style.\n     * @api\n     */\n    Style.prototype.setImage = function (image) {\n        this.image_ = image;\n    };\n    /**\n     * Get the stroke style.\n     * @return {import(\"./Stroke.js\").default} Stroke style.\n     * @api\n     */\n    Style.prototype.getStroke = function () {\n        return this.stroke_;\n    };\n    /**\n     * Set the stroke style.\n     * @param {import(\"./Stroke.js\").default} stroke Stroke style.\n     * @api\n     */\n    Style.prototype.setStroke = function (stroke) {\n        this.stroke_ = stroke;\n    };\n    /**\n     * Get the text style.\n     * @return {import(\"./Text.js\").default} Text style.\n     * @api\n     */\n    Style.prototype.getText = function () {\n        return this.text_;\n    };\n    /**\n     * Set the text style.\n     * @param {import(\"./Text.js\").default} text Text style.\n     * @api\n     */\n    Style.prototype.setText = function (text) {\n        this.text_ = text;\n    };\n    /**\n     * Get the z-index for the style.\n     * @return {number|undefined} ZIndex.\n     * @api\n     */\n    Style.prototype.getZIndex = function () {\n        return this.zIndex_;\n    };\n    /**\n     * Set a geometry that is rendered instead of the feature's geometry.\n     *\n     * @param {string|import(\"../geom/Geometry.js\").default|GeometryFunction} geometry\n     *     Feature property or geometry or function returning a geometry to render\n     *     for this style.\n     * @api\n     */\n    Style.prototype.setGeometry = function (geometry) {\n        if (typeof geometry === 'function') {\n            this.geometryFunction_ = geometry;\n        }\n        else if (typeof geometry === 'string') {\n            this.geometryFunction_ = function (feature) {\n                return /** @type {import(\"../geom/Geometry.js\").default} */ (feature.get(geometry));\n            };\n        }\n        else if (!geometry) {\n            this.geometryFunction_ = defaultGeometryFunction;\n        }\n        else if (geometry !== undefined) {\n            this.geometryFunction_ = function () {\n                return /** @type {import(\"../geom/Geometry.js\").default} */ (geometry);\n            };\n        }\n        this.geometry_ = geometry;\n    };\n    /**\n     * Set the z-index.\n     *\n     * @param {number|undefined} zIndex ZIndex.\n     * @api\n     */\n    Style.prototype.setZIndex = function (zIndex) {\n        this.zIndex_ = zIndex;\n    };\n    return Style;\n}());\n/**\n * Convert the provided object into a style function.  Functions passed through\n * unchanged.  Arrays of Style or single style objects wrapped in a\n * new style function.\n * @param {StyleFunction|Array<Style>|Style} obj\n *     A style function, a single style, or an array of styles.\n * @return {StyleFunction} A style function.\n */\nexport function toFunction(obj) {\n    var styleFunction;\n    if (typeof obj === 'function') {\n        styleFunction = obj;\n    }\n    else {\n        /**\n         * @type {Array<Style>}\n         */\n        var styles_1;\n        if (Array.isArray(obj)) {\n            styles_1 = obj;\n        }\n        else {\n            assert(typeof ( /** @type {?} */(obj).getZIndex) === 'function', 41); // Expected an `Style` or an array of `Style`\n            var style = /** @type {Style} */ (obj);\n            styles_1 = [style];\n        }\n        styleFunction = function () {\n            return styles_1;\n        };\n    }\n    return styleFunction;\n}\n/**\n * @type {Array<Style>}\n */\nvar defaultStyles = null;\n/**\n * @param {import(\"../Feature.js\").FeatureLike} feature Feature.\n * @param {number} resolution Resolution.\n * @return {Array<Style>} Style.\n */\nexport function createDefaultStyle(feature, resolution) {\n    // We don't use an immediately-invoked function\n    // and a closure so we don't get an error at script evaluation time in\n    // browsers that do not support Canvas. (import(\"./Circle.js\").CircleStyle does\n    // canvas.getContext('2d') at construction time, which will cause an.error\n    // in such browsers.)\n    if (!defaultStyles) {\n        var fill = new Fill({\n            color: 'rgba(255,255,255,0.4)',\n        });\n        var stroke = new Stroke({\n            color: '#3399CC',\n            width: 1.25,\n        });\n        defaultStyles = [\n            new Style({\n                image: new CircleStyle({\n                    fill: fill,\n                    stroke: stroke,\n                    radius: 5,\n                }),\n                fill: fill,\n                stroke: stroke,\n            }),\n        ];\n    }\n    return defaultStyles;\n}\n/**\n * Default styles for editing features.\n * @return {Object<import(\"../geom/GeometryType.js\").default, Array<Style>>} Styles\n */\nexport function createEditingStyle() {\n    /** @type {Object<import(\"../geom/GeometryType.js\").default, Array<Style>>} */\n    var styles = {};\n    var white = [255, 255, 255, 1];\n    var blue = [0, 153, 255, 1];\n    var width = 3;\n    styles[GeometryType.POLYGON] = [\n        new Style({\n            fill: new Fill({\n                color: [255, 255, 255, 0.5],\n            }),\n        }),\n    ];\n    styles[GeometryType.MULTI_POLYGON] = styles[GeometryType.POLYGON];\n    styles[GeometryType.LINE_STRING] = [\n        new Style({\n            stroke: new Stroke({\n                color: white,\n                width: width + 2,\n            }),\n        }),\n        new Style({\n            stroke: new Stroke({\n                color: blue,\n                width: width,\n            }),\n        }),\n    ];\n    styles[GeometryType.MULTI_LINE_STRING] = styles[GeometryType.LINE_STRING];\n    styles[GeometryType.CIRCLE] = styles[GeometryType.POLYGON].concat(styles[GeometryType.LINE_STRING]);\n    styles[GeometryType.POINT] = [\n        new Style({\n            image: new CircleStyle({\n                radius: width * 2,\n                fill: new Fill({\n                    color: blue,\n                }),\n                stroke: new Stroke({\n                    color: white,\n                    width: width / 2,\n                }),\n            }),\n            zIndex: Infinity,\n        }),\n    ];\n    styles[GeometryType.MULTI_POINT] = styles[GeometryType.POINT];\n    styles[GeometryType.GEOMETRY_COLLECTION] = styles[GeometryType.POLYGON].concat(styles[GeometryType.LINE_STRING], styles[GeometryType.POINT]);\n    return styles;\n}\n/**\n * Function that is called with a feature and returns its default geometry.\n * @param {import(\"../Feature.js\").FeatureLike} feature Feature to get the geometry for.\n * @return {import(\"../geom/Geometry.js\").default|import(\"../render/Feature.js\").default|undefined} Geometry to render.\n */\nfunction defaultGeometryFunction(feature) {\n    return feature.getGeometry();\n}\nexport default Style;\n//# sourceMappingURL=Style.js.map","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n/**\n * @module ol/layer/BaseVector\n */\nimport Layer from './Layer.js';\nimport RBush from 'rbush';\nimport { assign } from '../obj.js';\nimport { createDefaultStyle, toFunction as toStyleFunction, } from '../style/Style.js';\n/**\n * @typedef {Object} Options\n * @property {string} [className='ol-layer'] A CSS class name to set to the layer element.\n * @property {number} [opacity=1] Opacity (0, 1).\n * @property {boolean} [visible=true] Visibility.\n * @property {import(\"../extent.js\").Extent} [extent] The bounding extent for layer rendering.  The layer will not be\n * rendered outside of this extent.\n * @property {number} [zIndex] The z-index for layer rendering.  At rendering time, the layers\n * will be ordered, first by Z-index and then by position. When `undefined`, a `zIndex` of 0 is assumed\n * for layers that are added to the map's `layers` collection, or `Infinity` when the layer's `setMap()`\n * method was used.\n * @property {number} [minResolution] The minimum resolution (inclusive) at which this layer will be\n * visible.\n * @property {number} [maxResolution] The maximum resolution (exclusive) below which this layer will\n * be visible.\n * @property {number} [minZoom] The minimum view zoom level (exclusive) above which this layer will be\n * visible.\n * @property {number} [maxZoom] The maximum view zoom level (inclusive) at which this layer will\n * be visible.\n * @property {import(\"../render.js\").OrderFunction} [renderOrder] Render order. Function to be used when sorting\n * features before rendering. By default features are drawn in the order that they are created. Use\n * `null` to avoid the sort, but get an undefined draw order.\n * @property {number} [renderBuffer=100] The buffer in pixels around the viewport extent used by the\n * renderer when getting features from the vector source for the rendering or hit-detection.\n * Recommended value: the size of the largest symbol, line width or label.\n * @property {import(\"../source/Vector.js\").default} [source] Source.\n * @property {import(\"../PluggableMap.js\").default} [map] Sets the layer as overlay on a map. The map will not manage\n * this layer in its layers collection, and the layer will be rendered on top. This is useful for\n * temporary layers. The standard way to add a layer to a map and have it managed by the map is to\n * use {@link module:ol/Map#addLayer}.\n * @property {boolean} [declutter=false] Declutter images and text. Decluttering is applied to all\n * image and text styles of all Vector and VectorTile layers that have set this to `true`. The priority\n * is defined by the z-index of the layer, the `zIndex` of the style and the render order of features.\n * Higher z-index means higher priority. Within the same z-index, a feature rendered before another has\n * higher priority.\n * @property {import(\"../style/Style.js\").StyleLike|null} [style] Layer style. When set to `null`, only\n * features that have their own style will be rendered. See {@link module:ol/style} for default style\n * which will be used if this is not set.\n * @property {boolean} [updateWhileAnimating=false] When set to `true`, feature batches will\n * be recreated during animations. This means that no vectors will be shown clipped, but the\n * setting will have a performance impact for large amounts of vector data. When set to `false`,\n * batches will be recreated when no animation is active.\n * @property {boolean} [updateWhileInteracting=false] When set to `true`, feature batches will\n * be recreated during interactions. See also `updateWhileAnimating`.\n */\n/**\n * @enum {string}\n * @private\n */\nvar Property = {\n    RENDER_ORDER: 'renderOrder',\n};\n/**\n * @classdesc\n * Vector data that is rendered client-side.\n * Note that any property set in the options is set as a {@link module:ol/Object~BaseObject}\n * property on the layer object; for example, setting `title: 'My Title'` in the\n * options means that `title` is observable, and has get/set accessors.\n *\n * @template {import(\"../source/Vector.js\").default|import(\"../source/VectorTile.js\").default} VectorSourceType\n * @extends {Layer<VectorSourceType>}\n * @api\n */\nvar BaseVectorLayer = /** @class */ (function (_super) {\n    __extends(BaseVectorLayer, _super);\n    /**\n     * @param {Options=} opt_options Options.\n     */\n    function BaseVectorLayer(opt_options) {\n        var _this = this;\n        var options = opt_options ? opt_options : {};\n        var baseOptions = assign({}, options);\n        delete baseOptions.style;\n        delete baseOptions.renderBuffer;\n        delete baseOptions.updateWhileAnimating;\n        delete baseOptions.updateWhileInteracting;\n        _this = _super.call(this, baseOptions) || this;\n        /**\n         * @private\n         * @type {boolean}\n         */\n        _this.declutter_ =\n            options.declutter !== undefined ? options.declutter : false;\n        /**\n         * @type {number}\n         * @private\n         */\n        _this.renderBuffer_ =\n            options.renderBuffer !== undefined ? options.renderBuffer : 100;\n        /**\n         * User provided style.\n         * @type {import(\"../style/Style.js\").StyleLike}\n         * @private\n         */\n        _this.style_ = null;\n        /**\n         * Style function for use within the library.\n         * @type {import(\"../style/Style.js\").StyleFunction|undefined}\n         * @private\n         */\n        _this.styleFunction_ = undefined;\n        _this.setStyle(options.style);\n        /**\n         * @type {boolean}\n         * @private\n         */\n        _this.updateWhileAnimating_ =\n            options.updateWhileAnimating !== undefined\n                ? options.updateWhileAnimating\n                : false;\n        /**\n         * @type {boolean}\n         * @private\n         */\n        _this.updateWhileInteracting_ =\n            options.updateWhileInteracting !== undefined\n                ? options.updateWhileInteracting\n                : false;\n        return _this;\n    }\n    /**\n     * @return {boolean} Declutter.\n     */\n    BaseVectorLayer.prototype.getDeclutter = function () {\n        return this.declutter_;\n    };\n    /**\n     * Get the topmost feature that intersects the given pixel on the viewport. Returns a promise\n     * that resolves with an array of features. The array will either contain the topmost feature\n     * when a hit was detected, or it will be empty.\n     *\n     * The hit detection algorithm used for this method is optimized for performance, but is less\n     * accurate than the one used in {@link import(\"../PluggableMap.js\").default#getFeaturesAtPixel}: Text\n     * is not considered, and icons are only represented by their bounding box instead of the exact\n     * image.\n     *\n     * @param {import(\"../pixel.js\").Pixel} pixel Pixel.\n     * @return {Promise<Array<import(\"../Feature\").default>>} Promise that resolves with an array of features.\n     * @api\n     */\n    BaseVectorLayer.prototype.getFeatures = function (pixel) {\n        return _super.prototype.getFeatures.call(this, pixel);\n    };\n    /**\n     * @return {number|undefined} Render buffer.\n     */\n    BaseVectorLayer.prototype.getRenderBuffer = function () {\n        return this.renderBuffer_;\n    };\n    /**\n     * @return {function(import(\"../Feature.js\").default, import(\"../Feature.js\").default): number|null|undefined} Render\n     *     order.\n     */\n    BaseVectorLayer.prototype.getRenderOrder = function () {\n        return /** @type {import(\"../render.js\").OrderFunction|null|undefined} */ (this.get(Property.RENDER_ORDER));\n    };\n    /**\n     * Get the style for features.  This returns whatever was passed to the `style`\n     * option at construction or to the `setStyle` method.\n     * @return {import(\"../style/Style.js\").StyleLike|null|undefined} Layer style.\n     * @api\n     */\n    BaseVectorLayer.prototype.getStyle = function () {\n        return this.style_;\n    };\n    /**\n     * Get the style function.\n     * @return {import(\"../style/Style.js\").StyleFunction|undefined} Layer style function.\n     * @api\n     */\n    BaseVectorLayer.prototype.getStyleFunction = function () {\n        return this.styleFunction_;\n    };\n    /**\n     * @return {boolean} Whether the rendered layer should be updated while\n     *     animating.\n     */\n    BaseVectorLayer.prototype.getUpdateWhileAnimating = function () {\n        return this.updateWhileAnimating_;\n    };\n    /**\n     * @return {boolean} Whether the rendered layer should be updated while\n     *     interacting.\n     */\n    BaseVectorLayer.prototype.getUpdateWhileInteracting = function () {\n        return this.updateWhileInteracting_;\n    };\n    /**\n     * Render declutter items for this layer\n     * @param {import(\"../PluggableMap.js\").FrameState} frameState Frame state.\n     */\n    BaseVectorLayer.prototype.renderDeclutter = function (frameState) {\n        if (!frameState.declutterTree) {\n            frameState.declutterTree = new RBush(9);\n        }\n        /** @type {*} */ (this.getRenderer()).renderDeclutter(frameState);\n    };\n    /**\n     * @param {import(\"../render.js\").OrderFunction|null|undefined} renderOrder\n     *     Render order.\n     */\n    BaseVectorLayer.prototype.setRenderOrder = function (renderOrder) {\n        this.set(Property.RENDER_ORDER, renderOrder);\n    };\n    /**\n     * Set the style for features.  This can be a single style object, an array\n     * of styles, or a function that takes a feature and resolution and returns\n     * an array of styles. If set to `null`, the layer has no style (a `null` style),\n     * so only features that have their own styles will be rendered in the layer. Call\n     * `setStyle()` without arguments to reset to the default style. See\n     * {@link module:ol/style} for information on the default style.\n     * @param {(import(\"../style/Style.js\").StyleLike|null)=} opt_style Layer style.\n     * @api\n     */\n    BaseVectorLayer.prototype.setStyle = function (opt_style) {\n        this.style_ = opt_style !== undefined ? opt_style : createDefaultStyle;\n        this.styleFunction_ =\n            opt_style === null ? undefined : toStyleFunction(this.style_);\n        this.changed();\n    };\n    return BaseVectorLayer;\n}(Layer));\nexport default BaseVectorLayer;\n//# sourceMappingURL=BaseVector.js.map","/**\n * @module ol/render/canvas/Instruction\n */\n/**\n * @enum {number}\n */\nvar Instruction = {\n    BEGIN_GEOMETRY: 0,\n    BEGIN_PATH: 1,\n    CIRCLE: 2,\n    CLOSE_PATH: 3,\n    CUSTOM: 4,\n    DRAW_CHARS: 5,\n    DRAW_IMAGE: 6,\n    END_GEOMETRY: 7,\n    FILL: 8,\n    MOVE_TO_LINE_TO: 9,\n    SET_FILL_STYLE: 10,\n    SET_STROKE_STYLE: 11,\n    STROKE: 12,\n};\n/**\n * @type {Array<Instruction>}\n */\nexport var fillInstruction = [Instruction.FILL];\n/**\n * @type {Array<Instruction>}\n */\nexport var strokeInstruction = [Instruction.STROKE];\n/**\n * @type {Array<Instruction>}\n */\nexport var beginPathInstruction = [Instruction.BEGIN_PATH];\n/**\n * @type {Array<Instruction>}\n */\nexport var closePathInstruction = [Instruction.CLOSE_PATH];\nexport default Instruction;\n//# sourceMappingURL=Instruction.js.map","/**\n * @module ol/render/VectorContext\n */\n/**\n * @classdesc\n * Context for drawing geometries.  A vector context is available on render\n * events and does not need to be constructed directly.\n * @api\n */\nvar VectorContext = /** @class */ (function () {\n    function VectorContext() {\n    }\n    /**\n     * Render a geometry with a custom renderer.\n     *\n     * @param {import(\"../geom/SimpleGeometry.js\").default} geometry Geometry.\n     * @param {import(\"../Feature.js\").FeatureLike} feature Feature.\n     * @param {Function} renderer Renderer.\n     */\n    VectorContext.prototype.drawCustom = function (geometry, feature, renderer) { };\n    /**\n     * Render a geometry.\n     *\n     * @param {import(\"../geom/Geometry.js\").default} geometry The geometry to render.\n     */\n    VectorContext.prototype.drawGeometry = function (geometry) { };\n    /**\n     * Set the rendering style.\n     *\n     * @param {import(\"../style/Style.js\").default} style The rendering style.\n     */\n    VectorContext.prototype.setStyle = function (style) { };\n    /**\n     * @param {import(\"../geom/Circle.js\").default} circleGeometry Circle geometry.\n     * @param {import(\"../Feature.js\").default} feature Feature.\n     */\n    VectorContext.prototype.drawCircle = function (circleGeometry, feature) { };\n    /**\n     * @param {import(\"../Feature.js\").default} feature Feature.\n     * @param {import(\"../style/Style.js\").default} style Style.\n     */\n    VectorContext.prototype.drawFeature = function (feature, style) { };\n    /**\n     * @param {import(\"../geom/GeometryCollection.js\").default} geometryCollectionGeometry Geometry collection.\n     * @param {import(\"../Feature.js\").default} feature Feature.\n     */\n    VectorContext.prototype.drawGeometryCollection = function (geometryCollectionGeometry, feature) { };\n    /**\n     * @param {import(\"../geom/LineString.js\").default|import(\"./Feature.js\").default} lineStringGeometry Line string geometry.\n     * @param {import(\"../Feature.js\").FeatureLike} feature Feature.\n     */\n    VectorContext.prototype.drawLineString = function (lineStringGeometry, feature) { };\n    /**\n     * @param {import(\"../geom/MultiLineString.js\").default|import(\"./Feature.js\").default} multiLineStringGeometry MultiLineString geometry.\n     * @param {import(\"../Feature.js\").FeatureLike} feature Feature.\n     */\n    VectorContext.prototype.drawMultiLineString = function (multiLineStringGeometry, feature) { };\n    /**\n     * @param {import(\"../geom/MultiPoint.js\").default|import(\"./Feature.js\").default} multiPointGeometry MultiPoint geometry.\n     * @param {import(\"../Feature.js\").FeatureLike} feature Feature.\n     */\n    VectorContext.prototype.drawMultiPoint = function (multiPointGeometry, feature) { };\n    /**\n     * @param {import(\"../geom/MultiPolygon.js\").default} multiPolygonGeometry MultiPolygon geometry.\n     * @param {import(\"../Feature.js\").FeatureLike} feature Feature.\n     */\n    VectorContext.prototype.drawMultiPolygon = function (multiPolygonGeometry, feature) { };\n    /**\n     * @param {import(\"../geom/Point.js\").default|import(\"./Feature.js\").default} pointGeometry Point geometry.\n     * @param {import(\"../Feature.js\").FeatureLike} feature Feature.\n     */\n    VectorContext.prototype.drawPoint = function (pointGeometry, feature) { };\n    /**\n     * @param {import(\"../geom/Polygon.js\").default|import(\"./Feature.js\").default} polygonGeometry Polygon geometry.\n     * @param {import(\"../Feature.js\").FeatureLike} feature Feature.\n     */\n    VectorContext.prototype.drawPolygon = function (polygonGeometry, feature) { };\n    /**\n     * @param {import(\"../geom/SimpleGeometry.js\").default|import(\"./Feature.js\").default} geometry Geometry.\n     * @param {import(\"../Feature.js\").FeatureLike} feature Feature.\n     */\n    VectorContext.prototype.drawText = function (geometry, feature) { };\n    /**\n     * @param {import(\"../style/Fill.js\").default} fillStyle Fill style.\n     * @param {import(\"../style/Stroke.js\").default} strokeStyle Stroke style.\n     */\n    VectorContext.prototype.setFillStrokeStyle = function (fillStyle, strokeStyle) { };\n    /**\n     * @param {import(\"../style/Image.js\").default} imageStyle Image style.\n     * @param {import(\"../render/canvas.js\").DeclutterImageWithText=} opt_declutterImageWithText Shared data for combined decluttering with a text style.\n     */\n    VectorContext.prototype.setImageStyle = function (imageStyle, opt_declutterImageWithText) { };\n    /**\n     * @param {import(\"../style/Text.js\").default} textStyle Text style.\n     * @param {import(\"../render/canvas.js\").DeclutterImageWithText=} opt_declutterImageWithText Shared data for combined decluttering with an image style.\n     */\n    VectorContext.prototype.setTextStyle = function (textStyle, opt_declutterImageWithText) { };\n    return VectorContext;\n}());\nexport default VectorContext;\n//# sourceMappingURL=VectorContext.js.map","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n/**\n * @module ol/render/canvas/Builder\n */\nimport CanvasInstruction from './Instruction.js';\nimport GeometryType from '../../geom/GeometryType.js';\nimport Relationship from '../../extent/Relationship.js';\nimport VectorContext from '../VectorContext.js';\nimport { asColorLike } from '../../colorlike.js';\nimport { buffer, clone, containsCoordinate, coordinateRelationship, } from '../../extent.js';\nimport { defaultFillStyle, defaultLineCap, defaultLineDash, defaultLineDashOffset, defaultLineJoin, defaultLineWidth, defaultMiterLimit, defaultStrokeStyle, } from '../canvas.js';\nimport { equals, reverseSubArray } from '../../array.js';\nimport { inflateCoordinates, inflateCoordinatesArray, inflateMultiCoordinatesArray, } from '../../geom/flat/inflate.js';\nvar CanvasBuilder = /** @class */ (function (_super) {\n    __extends(CanvasBuilder, _super);\n    /**\n     * @param {number} tolerance Tolerance.\n     * @param {import(\"../../extent.js\").Extent} maxExtent Maximum extent.\n     * @param {number} resolution Resolution.\n     * @param {number} pixelRatio Pixel ratio.\n     */\n    function CanvasBuilder(tolerance, maxExtent, resolution, pixelRatio) {\n        var _this = _super.call(this) || this;\n        /**\n         * @protected\n         * @type {number}\n         */\n        _this.tolerance = tolerance;\n        /**\n         * @protected\n         * @const\n         * @type {import(\"../../extent.js\").Extent}\n         */\n        _this.maxExtent = maxExtent;\n        /**\n         * @protected\n         * @type {number}\n         */\n        _this.pixelRatio = pixelRatio;\n        /**\n         * @protected\n         * @type {number}\n         */\n        _this.maxLineWidth = 0;\n        /**\n         * @protected\n         * @const\n         * @type {number}\n         */\n        _this.resolution = resolution;\n        /**\n         * @private\n         * @type {Array<*>}\n         */\n        _this.beginGeometryInstruction1_ = null;\n        /**\n         * @private\n         * @type {Array<*>}\n         */\n        _this.beginGeometryInstruction2_ = null;\n        /**\n         * @private\n         * @type {import(\"../../extent.js\").Extent}\n         */\n        _this.bufferedMaxExtent_ = null;\n        /**\n         * @protected\n         * @type {Array<*>}\n         */\n        _this.instructions = [];\n        /**\n         * @protected\n         * @type {Array<number>}\n         */\n        _this.coordinates = [];\n        /**\n         * @private\n         * @type {import(\"../../coordinate.js\").Coordinate}\n         */\n        _this.tmpCoordinate_ = [];\n        /**\n         * @protected\n         * @type {Array<*>}\n         */\n        _this.hitDetectionInstructions = [];\n        /**\n         * @protected\n         * @type {import(\"../canvas.js\").FillStrokeState}\n         */\n        _this.state = /** @type {import(\"../canvas.js\").FillStrokeState} */ ({});\n        return _this;\n    }\n    /**\n     * @protected\n     * @param {Array<number>} dashArray Dash array.\n     * @return {Array<number>} Dash array with pixel ratio applied\n     */\n    CanvasBuilder.prototype.applyPixelRatio = function (dashArray) {\n        var pixelRatio = this.pixelRatio;\n        return pixelRatio == 1\n            ? dashArray\n            : dashArray.map(function (dash) {\n                return dash * pixelRatio;\n            });\n    };\n    /**\n     * @param {Array<number>} flatCoordinates Flat coordinates.\n     * @param {number} stride Stride.\n     * @protected\n     * @return {number} My end\n     */\n    CanvasBuilder.prototype.appendFlatPointCoordinates = function (flatCoordinates, stride) {\n        var extent = this.getBufferedMaxExtent();\n        var tmpCoord = this.tmpCoordinate_;\n        var coordinates = this.coordinates;\n        var myEnd = coordinates.length;\n        for (var i = 0, ii = flatCoordinates.length; i < ii; i += stride) {\n            tmpCoord[0] = flatCoordinates[i];\n            tmpCoord[1] = flatCoordinates[i + 1];\n            if (containsCoordinate(extent, tmpCoord)) {\n                coordinates[myEnd++] = tmpCoord[0];\n                coordinates[myEnd++] = tmpCoord[1];\n            }\n        }\n        return myEnd;\n    };\n    /**\n     * @param {Array<number>} flatCoordinates Flat coordinates.\n     * @param {number} offset Offset.\n     * @param {number} end End.\n     * @param {number} stride Stride.\n     * @param {boolean} closed Last input coordinate equals first.\n     * @param {boolean} skipFirst Skip first coordinate.\n     * @protected\n     * @return {number} My end.\n     */\n    CanvasBuilder.prototype.appendFlatLineCoordinates = function (flatCoordinates, offset, end, stride, closed, skipFirst) {\n        var coordinates = this.coordinates;\n        var myEnd = coordinates.length;\n        var extent = this.getBufferedMaxExtent();\n        if (skipFirst) {\n            offset += stride;\n        }\n        var lastXCoord = flatCoordinates[offset];\n        var lastYCoord = flatCoordinates[offset + 1];\n        var nextCoord = this.tmpCoordinate_;\n        var skipped = true;\n        var i, lastRel, nextRel;\n        for (i = offset + stride; i < end; i += stride) {\n            nextCoord[0] = flatCoordinates[i];\n            nextCoord[1] = flatCoordinates[i + 1];\n            nextRel = coordinateRelationship(extent, nextCoord);\n            if (nextRel !== lastRel) {\n                if (skipped) {\n                    coordinates[myEnd++] = lastXCoord;\n                    coordinates[myEnd++] = lastYCoord;\n                    skipped = false;\n                }\n                coordinates[myEnd++] = nextCoord[0];\n                coordinates[myEnd++] = nextCoord[1];\n            }\n            else if (nextRel === Relationship.INTERSECTING) {\n                coordinates[myEnd++] = nextCoord[0];\n                coordinates[myEnd++] = nextCoord[1];\n                skipped = false;\n            }\n            else {\n                skipped = true;\n            }\n            lastXCoord = nextCoord[0];\n            lastYCoord = nextCoord[1];\n            lastRel = nextRel;\n        }\n        // Last coordinate equals first or only one point to append:\n        if ((closed && skipped) || i === offset + stride) {\n            coordinates[myEnd++] = lastXCoord;\n            coordinates[myEnd++] = lastYCoord;\n        }\n        return myEnd;\n    };\n    /**\n     * @param {Array<number>} flatCoordinates Flat coordinates.\n     * @param {number} offset Offset.\n     * @param {Array<number>} ends Ends.\n     * @param {number} stride Stride.\n     * @param {Array<number>} builderEnds Builder ends.\n     * @return {number} Offset.\n     */\n    CanvasBuilder.prototype.drawCustomCoordinates_ = function (flatCoordinates, offset, ends, stride, builderEnds) {\n        for (var i = 0, ii = ends.length; i < ii; ++i) {\n            var end = ends[i];\n            var builderEnd = this.appendFlatLineCoordinates(flatCoordinates, offset, end, stride, false, false);\n            builderEnds.push(builderEnd);\n            offset = end;\n        }\n        return offset;\n    };\n    /**\n     * @param {import(\"../../geom/SimpleGeometry.js\").default} geometry Geometry.\n     * @param {import(\"../../Feature.js\").FeatureLike} feature Feature.\n     * @param {Function} renderer Renderer.\n     */\n    CanvasBuilder.prototype.drawCustom = function (geometry, feature, renderer) {\n        this.beginGeometry(geometry, feature);\n        var type = geometry.getType();\n        var stride = geometry.getStride();\n        var builderBegin = this.coordinates.length;\n        var flatCoordinates, builderEnd, builderEnds, builderEndss;\n        var offset;\n        if (type == GeometryType.MULTI_POLYGON) {\n            flatCoordinates = /** @type {import(\"../../geom/MultiPolygon.js\").default} */ (geometry).getOrientedFlatCoordinates();\n            builderEndss = [];\n            var endss = /** @type {import(\"../../geom/MultiPolygon.js\").default} */ (geometry).getEndss();\n            offset = 0;\n            for (var i = 0, ii = endss.length; i < ii; ++i) {\n                var myEnds = [];\n                offset = this.drawCustomCoordinates_(flatCoordinates, offset, endss[i], stride, myEnds);\n                builderEndss.push(myEnds);\n            }\n            this.instructions.push([\n                CanvasInstruction.CUSTOM,\n                builderBegin,\n                builderEndss,\n                geometry,\n                renderer,\n                inflateMultiCoordinatesArray,\n            ]);\n        }\n        else if (type == GeometryType.POLYGON ||\n            type == GeometryType.MULTI_LINE_STRING) {\n            builderEnds = [];\n            flatCoordinates =\n                type == GeometryType.POLYGON\n                    ? /** @type {import(\"../../geom/Polygon.js\").default} */ (geometry).getOrientedFlatCoordinates()\n                    : geometry.getFlatCoordinates();\n            offset = this.drawCustomCoordinates_(flatCoordinates, 0, \n            /** @type {import(\"../../geom/Polygon.js\").default|import(\"../../geom/MultiLineString.js\").default} */ (geometry).getEnds(), stride, builderEnds);\n            this.instructions.push([\n                CanvasInstruction.CUSTOM,\n                builderBegin,\n                builderEnds,\n                geometry,\n                renderer,\n                inflateCoordinatesArray,\n            ]);\n        }\n        else if (type == GeometryType.LINE_STRING ||\n            type == GeometryType.CIRCLE) {\n            flatCoordinates = geometry.getFlatCoordinates();\n            builderEnd = this.appendFlatLineCoordinates(flatCoordinates, 0, flatCoordinates.length, stride, false, false);\n            this.instructions.push([\n                CanvasInstruction.CUSTOM,\n                builderBegin,\n                builderEnd,\n                geometry,\n                renderer,\n                inflateCoordinates,\n            ]);\n        }\n        else if (type == GeometryType.MULTI_POINT) {\n            flatCoordinates = geometry.getFlatCoordinates();\n            builderEnd = this.appendFlatPointCoordinates(flatCoordinates, stride);\n            if (builderEnd > builderBegin) {\n                this.instructions.push([\n                    CanvasInstruction.CUSTOM,\n                    builderBegin,\n                    builderEnd,\n                    geometry,\n                    renderer,\n                    inflateCoordinates,\n                ]);\n            }\n        }\n        else if (type == GeometryType.POINT) {\n            flatCoordinates = geometry.getFlatCoordinates();\n            this.coordinates.push(flatCoordinates[0], flatCoordinates[1]);\n            builderEnd = this.coordinates.length;\n            this.instructions.push([\n                CanvasInstruction.CUSTOM,\n                builderBegin,\n                builderEnd,\n                geometry,\n                renderer,\n            ]);\n        }\n        this.endGeometry(feature);\n    };\n    /**\n     * @protected\n     * @param {import(\"../../geom/Geometry\").default|import(\"../Feature.js\").default} geometry The geometry.\n     * @param {import(\"../../Feature.js\").FeatureLike} feature Feature.\n     */\n    CanvasBuilder.prototype.beginGeometry = function (geometry, feature) {\n        this.beginGeometryInstruction1_ = [\n            CanvasInstruction.BEGIN_GEOMETRY,\n            feature,\n            0,\n            geometry,\n        ];\n        this.instructions.push(this.beginGeometryInstruction1_);\n        this.beginGeometryInstruction2_ = [\n            CanvasInstruction.BEGIN_GEOMETRY,\n            feature,\n            0,\n            geometry,\n        ];\n        this.hitDetectionInstructions.push(this.beginGeometryInstruction2_);\n    };\n    /**\n     * @return {import(\"../canvas.js\").SerializableInstructions} the serializable instructions.\n     */\n    CanvasBuilder.prototype.finish = function () {\n        return {\n            instructions: this.instructions,\n            hitDetectionInstructions: this.hitDetectionInstructions,\n            coordinates: this.coordinates,\n        };\n    };\n    /**\n     * Reverse the hit detection instructions.\n     */\n    CanvasBuilder.prototype.reverseHitDetectionInstructions = function () {\n        var hitDetectionInstructions = this.hitDetectionInstructions;\n        // step 1 - reverse array\n        hitDetectionInstructions.reverse();\n        // step 2 - reverse instructions within geometry blocks\n        var i;\n        var n = hitDetectionInstructions.length;\n        var instruction;\n        var type;\n        var begin = -1;\n        for (i = 0; i < n; ++i) {\n            instruction = hitDetectionInstructions[i];\n            type = /** @type {import(\"./Instruction.js\").default} */ (instruction[0]);\n            if (type == CanvasInstruction.END_GEOMETRY) {\n                begin = i;\n            }\n            else if (type == CanvasInstruction.BEGIN_GEOMETRY) {\n                instruction[2] = i;\n                reverseSubArray(this.hitDetectionInstructions, begin, i);\n                begin = -1;\n            }\n        }\n    };\n    /**\n     * @param {import(\"../../style/Fill.js\").default} fillStyle Fill style.\n     * @param {import(\"../../style/Stroke.js\").default} strokeStyle Stroke style.\n     */\n    CanvasBuilder.prototype.setFillStrokeStyle = function (fillStyle, strokeStyle) {\n        var state = this.state;\n        if (fillStyle) {\n            var fillStyleColor = fillStyle.getColor();\n            state.fillStyle = asColorLike(fillStyleColor ? fillStyleColor : defaultFillStyle);\n        }\n        else {\n            state.fillStyle = undefined;\n        }\n        if (strokeStyle) {\n            var strokeStyleColor = strokeStyle.getColor();\n            state.strokeStyle = asColorLike(strokeStyleColor ? strokeStyleColor : defaultStrokeStyle);\n            var strokeStyleLineCap = strokeStyle.getLineCap();\n            state.lineCap =\n                strokeStyleLineCap !== undefined ? strokeStyleLineCap : defaultLineCap;\n            var strokeStyleLineDash = strokeStyle.getLineDash();\n            state.lineDash = strokeStyleLineDash\n                ? strokeStyleLineDash.slice()\n                : defaultLineDash;\n            var strokeStyleLineDashOffset = strokeStyle.getLineDashOffset();\n            state.lineDashOffset = strokeStyleLineDashOffset\n                ? strokeStyleLineDashOffset\n                : defaultLineDashOffset;\n            var strokeStyleLineJoin = strokeStyle.getLineJoin();\n            state.lineJoin =\n                strokeStyleLineJoin !== undefined\n                    ? strokeStyleLineJoin\n                    : defaultLineJoin;\n            var strokeStyleWidth = strokeStyle.getWidth();\n            state.lineWidth =\n                strokeStyleWidth !== undefined ? strokeStyleWidth : defaultLineWidth;\n            var strokeStyleMiterLimit = strokeStyle.getMiterLimit();\n            state.miterLimit =\n                strokeStyleMiterLimit !== undefined\n                    ? strokeStyleMiterLimit\n                    : defaultMiterLimit;\n            if (state.lineWidth > this.maxLineWidth) {\n                this.maxLineWidth = state.lineWidth;\n                // invalidate the buffered max extent cache\n                this.bufferedMaxExtent_ = null;\n            }\n        }\n        else {\n            state.strokeStyle = undefined;\n            state.lineCap = undefined;\n            state.lineDash = null;\n            state.lineDashOffset = undefined;\n            state.lineJoin = undefined;\n            state.lineWidth = undefined;\n            state.miterLimit = undefined;\n        }\n    };\n    /**\n     * @param {import(\"../canvas.js\").FillStrokeState} state State.\n     * @return {Array<*>} Fill instruction.\n     */\n    CanvasBuilder.prototype.createFill = function (state) {\n        var fillStyle = state.fillStyle;\n        /** @type {Array<*>} */\n        var fillInstruction = [CanvasInstruction.SET_FILL_STYLE, fillStyle];\n        if (typeof fillStyle !== 'string') {\n            // Fill is a pattern or gradient - align it!\n            fillInstruction.push(true);\n        }\n        return fillInstruction;\n    };\n    /**\n     * @param {import(\"../canvas.js\").FillStrokeState} state State.\n     */\n    CanvasBuilder.prototype.applyStroke = function (state) {\n        this.instructions.push(this.createStroke(state));\n    };\n    /**\n     * @param {import(\"../canvas.js\").FillStrokeState} state State.\n     * @return {Array<*>} Stroke instruction.\n     */\n    CanvasBuilder.prototype.createStroke = function (state) {\n        return [\n            CanvasInstruction.SET_STROKE_STYLE,\n            state.strokeStyle,\n            state.lineWidth * this.pixelRatio,\n            state.lineCap,\n            state.lineJoin,\n            state.miterLimit,\n            this.applyPixelRatio(state.lineDash),\n            state.lineDashOffset * this.pixelRatio,\n        ];\n    };\n    /**\n     * @param {import(\"../canvas.js\").FillStrokeState} state State.\n     * @param {function(this:CanvasBuilder, import(\"../canvas.js\").FillStrokeState):Array<*>} createFill Create fill.\n     */\n    CanvasBuilder.prototype.updateFillStyle = function (state, createFill) {\n        var fillStyle = state.fillStyle;\n        if (typeof fillStyle !== 'string' || state.currentFillStyle != fillStyle) {\n            if (fillStyle !== undefined) {\n                this.instructions.push(createFill.call(this, state));\n            }\n            state.currentFillStyle = fillStyle;\n        }\n    };\n    /**\n     * @param {import(\"../canvas.js\").FillStrokeState} state State.\n     * @param {function(this:CanvasBuilder, import(\"../canvas.js\").FillStrokeState): void} applyStroke Apply stroke.\n     */\n    CanvasBuilder.prototype.updateStrokeStyle = function (state, applyStroke) {\n        var strokeStyle = state.strokeStyle;\n        var lineCap = state.lineCap;\n        var lineDash = state.lineDash;\n        var lineDashOffset = state.lineDashOffset;\n        var lineJoin = state.lineJoin;\n        var lineWidth = state.lineWidth;\n        var miterLimit = state.miterLimit;\n        if (state.currentStrokeStyle != strokeStyle ||\n            state.currentLineCap != lineCap ||\n            (lineDash != state.currentLineDash &&\n                !equals(state.currentLineDash, lineDash)) ||\n            state.currentLineDashOffset != lineDashOffset ||\n            state.currentLineJoin != lineJoin ||\n            state.currentLineWidth != lineWidth ||\n            state.currentMiterLimit != miterLimit) {\n            if (strokeStyle !== undefined) {\n                applyStroke.call(this, state);\n            }\n            state.currentStrokeStyle = strokeStyle;\n            state.currentLineCap = lineCap;\n            state.currentLineDash = lineDash;\n            state.currentLineDashOffset = lineDashOffset;\n            state.currentLineJoin = lineJoin;\n            state.currentLineWidth = lineWidth;\n            state.currentMiterLimit = miterLimit;\n        }\n    };\n    /**\n     * @param {import(\"../../Feature.js\").FeatureLike} feature Feature.\n     */\n    CanvasBuilder.prototype.endGeometry = function (feature) {\n        this.beginGeometryInstruction1_[2] = this.instructions.length;\n        this.beginGeometryInstruction1_ = null;\n        this.beginGeometryInstruction2_[2] = this.hitDetectionInstructions.length;\n        this.beginGeometryInstruction2_ = null;\n        var endGeometryInstruction = [CanvasInstruction.END_GEOMETRY, feature];\n        this.instructions.push(endGeometryInstruction);\n        this.hitDetectionInstructions.push(endGeometryInstruction);\n    };\n    /**\n     * Get the buffered rendering extent.  Rendering will be clipped to the extent\n     * provided to the constructor.  To account for symbolizers that may intersect\n     * this extent, we calculate a buffered extent (e.g. based on stroke width).\n     * @return {import(\"../../extent.js\").Extent} The buffered rendering extent.\n     * @protected\n     */\n    CanvasBuilder.prototype.getBufferedMaxExtent = function () {\n        if (!this.bufferedMaxExtent_) {\n            this.bufferedMaxExtent_ = clone(this.maxExtent);\n            if (this.maxLineWidth > 0) {\n                var width = (this.resolution * (this.maxLineWidth + 1)) / 2;\n                buffer(this.bufferedMaxExtent_, width, this.bufferedMaxExtent_);\n            }\n        }\n        return this.bufferedMaxExtent_;\n    };\n    return CanvasBuilder;\n}(VectorContext));\nexport default CanvasBuilder;\n//# sourceMappingURL=Builder.js.map","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n/**\n * @module ol/render/canvas/ImageBuilder\n */\nimport CanvasBuilder from './Builder.js';\nimport CanvasInstruction from './Instruction.js';\nvar CanvasImageBuilder = /** @class */ (function (_super) {\n    __extends(CanvasImageBuilder, _super);\n    /**\n     * @param {number} tolerance Tolerance.\n     * @param {import(\"../../extent.js\").Extent} maxExtent Maximum extent.\n     * @param {number} resolution Resolution.\n     * @param {number} pixelRatio Pixel ratio.\n     */\n    function CanvasImageBuilder(tolerance, maxExtent, resolution, pixelRatio) {\n        var _this = _super.call(this, tolerance, maxExtent, resolution, pixelRatio) || this;\n        /**\n         * @private\n         * @type {HTMLCanvasElement|HTMLVideoElement|HTMLImageElement}\n         */\n        _this.hitDetectionImage_ = null;\n        /**\n         * @private\n         * @type {HTMLCanvasElement|HTMLVideoElement|HTMLImageElement}\n         */\n        _this.image_ = null;\n        /**\n         * @private\n         * @type {number|undefined}\n         */\n        _this.imagePixelRatio_ = undefined;\n        /**\n         * @private\n         * @type {number|undefined}\n         */\n        _this.anchorX_ = undefined;\n        /**\n         * @private\n         * @type {number|undefined}\n         */\n        _this.anchorY_ = undefined;\n        /**\n         * @private\n         * @type {number|undefined}\n         */\n        _this.height_ = undefined;\n        /**\n         * @private\n         * @type {number|undefined}\n         */\n        _this.opacity_ = undefined;\n        /**\n         * @private\n         * @type {number|undefined}\n         */\n        _this.originX_ = undefined;\n        /**\n         * @private\n         * @type {number|undefined}\n         */\n        _this.originY_ = undefined;\n        /**\n         * @private\n         * @type {boolean|undefined}\n         */\n        _this.rotateWithView_ = undefined;\n        /**\n         * @private\n         * @type {number|undefined}\n         */\n        _this.rotation_ = undefined;\n        /**\n         * @private\n         * @type {import(\"../../size.js\").Size|undefined}\n         */\n        _this.scale_ = undefined;\n        /**\n         * @private\n         * @type {number|undefined}\n         */\n        _this.width_ = undefined;\n        /**\n         * Data shared with a text builder for combined decluttering.\n         * @private\n         * @type {import(\"../canvas.js\").DeclutterImageWithText}\n         */\n        _this.declutterImageWithText_ = undefined;\n        return _this;\n    }\n    /**\n     * @param {import(\"../../geom/Point.js\").default|import(\"../Feature.js\").default} pointGeometry Point geometry.\n     * @param {import(\"../../Feature.js\").FeatureLike} feature Feature.\n     */\n    CanvasImageBuilder.prototype.drawPoint = function (pointGeometry, feature) {\n        if (!this.image_) {\n            return;\n        }\n        this.beginGeometry(pointGeometry, feature);\n        var flatCoordinates = pointGeometry.getFlatCoordinates();\n        var stride = pointGeometry.getStride();\n        var myBegin = this.coordinates.length;\n        var myEnd = this.appendFlatPointCoordinates(flatCoordinates, stride);\n        this.instructions.push([\n            CanvasInstruction.DRAW_IMAGE,\n            myBegin,\n            myEnd,\n            this.image_,\n            // Remaining arguments to DRAW_IMAGE are in alphabetical order\n            this.anchorX_ * this.imagePixelRatio_,\n            this.anchorY_ * this.imagePixelRatio_,\n            Math.ceil(this.height_ * this.imagePixelRatio_),\n            this.opacity_,\n            this.originX_,\n            this.originY_,\n            this.rotateWithView_,\n            this.rotation_,\n            [\n                (this.scale_[0] * this.pixelRatio) / this.imagePixelRatio_,\n                (this.scale_[1] * this.pixelRatio) / this.imagePixelRatio_,\n            ],\n            Math.ceil(this.width_ * this.imagePixelRatio_),\n            this.declutterImageWithText_,\n        ]);\n        this.hitDetectionInstructions.push([\n            CanvasInstruction.DRAW_IMAGE,\n            myBegin,\n            myEnd,\n            this.hitDetectionImage_,\n            // Remaining arguments to DRAW_IMAGE are in alphabetical order\n            this.anchorX_,\n            this.anchorY_,\n            this.height_,\n            this.opacity_,\n            this.originX_,\n            this.originY_,\n            this.rotateWithView_,\n            this.rotation_,\n            this.scale_,\n            this.width_,\n            this.declutterImageWithText_,\n        ]);\n        this.endGeometry(feature);\n    };\n    /**\n     * @param {import(\"../../geom/MultiPoint.js\").default|import(\"../Feature.js\").default} multiPointGeometry MultiPoint geometry.\n     * @param {import(\"../../Feature.js\").FeatureLike} feature Feature.\n     */\n    CanvasImageBuilder.prototype.drawMultiPoint = function (multiPointGeometry, feature) {\n        if (!this.image_) {\n            return;\n        }\n        this.beginGeometry(multiPointGeometry, feature);\n        var flatCoordinates = multiPointGeometry.getFlatCoordinates();\n        var stride = multiPointGeometry.getStride();\n        var myBegin = this.coordinates.length;\n        var myEnd = this.appendFlatPointCoordinates(flatCoordinates, stride);\n        this.instructions.push([\n            CanvasInstruction.DRAW_IMAGE,\n            myBegin,\n            myEnd,\n            this.image_,\n            // Remaining arguments to DRAW_IMAGE are in alphabetical order\n            this.anchorX_ * this.imagePixelRatio_,\n            this.anchorY_ * this.imagePixelRatio_,\n            Math.ceil(this.height_ * this.imagePixelRatio_),\n            this.opacity_,\n            this.originX_,\n            this.originY_,\n            this.rotateWithView_,\n            this.rotation_,\n            [\n                (this.scale_[0] * this.pixelRatio) / this.imagePixelRatio_,\n                (this.scale_[1] * this.pixelRatio) / this.imagePixelRatio_,\n            ],\n            Math.ceil(this.width_ * this.imagePixelRatio_),\n            this.declutterImageWithText_,\n        ]);\n        this.hitDetectionInstructions.push([\n            CanvasInstruction.DRAW_IMAGE,\n            myBegin,\n            myEnd,\n            this.hitDetectionImage_,\n            // Remaining arguments to DRAW_IMAGE are in alphabetical order\n            this.anchorX_,\n            this.anchorY_,\n            this.height_,\n            this.opacity_,\n            this.originX_,\n            this.originY_,\n            this.rotateWithView_,\n            this.rotation_,\n            this.scale_,\n            this.width_,\n            this.declutterImageWithText_,\n        ]);\n        this.endGeometry(feature);\n    };\n    /**\n     * @return {import(\"../canvas.js\").SerializableInstructions} the serializable instructions.\n     */\n    CanvasImageBuilder.prototype.finish = function () {\n        this.reverseHitDetectionInstructions();\n        // FIXME this doesn't really protect us against further calls to draw*Geometry\n        this.anchorX_ = undefined;\n        this.anchorY_ = undefined;\n        this.hitDetectionImage_ = null;\n        this.image_ = null;\n        this.imagePixelRatio_ = undefined;\n        this.height_ = undefined;\n        this.scale_ = undefined;\n        this.opacity_ = undefined;\n        this.originX_ = undefined;\n        this.originY_ = undefined;\n        this.rotateWithView_ = undefined;\n        this.rotation_ = undefined;\n        this.width_ = undefined;\n        return _super.prototype.finish.call(this);\n    };\n    /**\n     * @param {import(\"../../style/Image.js\").default} imageStyle Image style.\n     * @param {Object=} opt_sharedData Shared data.\n     */\n    CanvasImageBuilder.prototype.setImageStyle = function (imageStyle, opt_sharedData) {\n        var anchor = imageStyle.getAnchor();\n        var size = imageStyle.getSize();\n        var hitDetectionImage = imageStyle.getHitDetectionImage();\n        var image = imageStyle.getImage(this.pixelRatio);\n        var origin = imageStyle.getOrigin();\n        this.imagePixelRatio_ = imageStyle.getPixelRatio(this.pixelRatio);\n        this.anchorX_ = anchor[0];\n        this.anchorY_ = anchor[1];\n        this.hitDetectionImage_ = hitDetectionImage;\n        this.image_ = image;\n        this.height_ = size[1];\n        this.opacity_ = imageStyle.getOpacity();\n        this.originX_ = origin[0];\n        this.originY_ = origin[1];\n        this.rotateWithView_ = imageStyle.getRotateWithView();\n        this.rotation_ = imageStyle.getRotation();\n        this.scale_ = imageStyle.getScaleArray();\n        this.width_ = size[0];\n        this.declutterImageWithText_ = opt_sharedData;\n    };\n    return CanvasImageBuilder;\n}(CanvasBuilder));\nexport default CanvasImageBuilder;\n//# sourceMappingURL=ImageBuilder.js.map","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n/**\n * @module ol/render/canvas/LineStringBuilder\n */\nimport CanvasBuilder from './Builder.js';\nimport CanvasInstruction, { beginPathInstruction, strokeInstruction, } from './Instruction.js';\nvar CanvasLineStringBuilder = /** @class */ (function (_super) {\n    __extends(CanvasLineStringBuilder, _super);\n    /**\n     * @param {number} tolerance Tolerance.\n     * @param {import(\"../../extent.js\").Extent} maxExtent Maximum extent.\n     * @param {number} resolution Resolution.\n     * @param {number} pixelRatio Pixel ratio.\n     */\n    function CanvasLineStringBuilder(tolerance, maxExtent, resolution, pixelRatio) {\n        return _super.call(this, tolerance, maxExtent, resolution, pixelRatio) || this;\n    }\n    /**\n     * @param {Array<number>} flatCoordinates Flat coordinates.\n     * @param {number} offset Offset.\n     * @param {number} end End.\n     * @param {number} stride Stride.\n     * @private\n     * @return {number} end.\n     */\n    CanvasLineStringBuilder.prototype.drawFlatCoordinates_ = function (flatCoordinates, offset, end, stride) {\n        var myBegin = this.coordinates.length;\n        var myEnd = this.appendFlatLineCoordinates(flatCoordinates, offset, end, stride, false, false);\n        var moveToLineToInstruction = [\n            CanvasInstruction.MOVE_TO_LINE_TO,\n            myBegin,\n            myEnd,\n        ];\n        this.instructions.push(moveToLineToInstruction);\n        this.hitDetectionInstructions.push(moveToLineToInstruction);\n        return end;\n    };\n    /**\n     * @param {import(\"../../geom/LineString.js\").default|import(\"../Feature.js\").default} lineStringGeometry Line string geometry.\n     * @param {import(\"../../Feature.js\").FeatureLike} feature Feature.\n     */\n    CanvasLineStringBuilder.prototype.drawLineString = function (lineStringGeometry, feature) {\n        var state = this.state;\n        var strokeStyle = state.strokeStyle;\n        var lineWidth = state.lineWidth;\n        if (strokeStyle === undefined || lineWidth === undefined) {\n            return;\n        }\n        this.updateStrokeStyle(state, this.applyStroke);\n        this.beginGeometry(lineStringGeometry, feature);\n        this.hitDetectionInstructions.push([\n            CanvasInstruction.SET_STROKE_STYLE,\n            state.strokeStyle,\n            state.lineWidth,\n            state.lineCap,\n            state.lineJoin,\n            state.miterLimit,\n            state.lineDash,\n            state.lineDashOffset,\n        ], beginPathInstruction);\n        var flatCoordinates = lineStringGeometry.getFlatCoordinates();\n        var stride = lineStringGeometry.getStride();\n        this.drawFlatCoordinates_(flatCoordinates, 0, flatCoordinates.length, stride);\n        this.hitDetectionInstructions.push(strokeInstruction);\n        this.endGeometry(feature);\n    };\n    /**\n     * @param {import(\"../../geom/MultiLineString.js\").default|import(\"../Feature.js\").default} multiLineStringGeometry MultiLineString geometry.\n     * @param {import(\"../../Feature.js\").FeatureLike} feature Feature.\n     */\n    CanvasLineStringBuilder.prototype.drawMultiLineString = function (multiLineStringGeometry, feature) {\n        var state = this.state;\n        var strokeStyle = state.strokeStyle;\n        var lineWidth = state.lineWidth;\n        if (strokeStyle === undefined || lineWidth === undefined) {\n            return;\n        }\n        this.updateStrokeStyle(state, this.applyStroke);\n        this.beginGeometry(multiLineStringGeometry, feature);\n        this.hitDetectionInstructions.push([\n            CanvasInstruction.SET_STROKE_STYLE,\n            state.strokeStyle,\n            state.lineWidth,\n            state.lineCap,\n            state.lineJoin,\n            state.miterLimit,\n            state.lineDash,\n            state.lineDashOffset,\n        ], beginPathInstruction);\n        var ends = multiLineStringGeometry.getEnds();\n        var flatCoordinates = multiLineStringGeometry.getFlatCoordinates();\n        var stride = multiLineStringGeometry.getStride();\n        var offset = 0;\n        for (var i = 0, ii = ends.length; i < ii; ++i) {\n            offset = this.drawFlatCoordinates_(flatCoordinates, offset, \n            /** @type {number} */ (ends[i]), stride);\n        }\n        this.hitDetectionInstructions.push(strokeInstruction);\n        this.endGeometry(feature);\n    };\n    /**\n     * @return {import(\"../canvas.js\").SerializableInstructions} the serializable instructions.\n     */\n    CanvasLineStringBuilder.prototype.finish = function () {\n        var state = this.state;\n        if (state.lastStroke != undefined &&\n            state.lastStroke != this.coordinates.length) {\n            this.instructions.push(strokeInstruction);\n        }\n        this.reverseHitDetectionInstructions();\n        this.state = null;\n        return _super.prototype.finish.call(this);\n    };\n    /**\n     * @param {import(\"../canvas.js\").FillStrokeState} state State.\n     */\n    CanvasLineStringBuilder.prototype.applyStroke = function (state) {\n        if (state.lastStroke != undefined &&\n            state.lastStroke != this.coordinates.length) {\n            this.instructions.push(strokeInstruction);\n            state.lastStroke = this.coordinates.length;\n        }\n        state.lastStroke = 0;\n        _super.prototype.applyStroke.call(this, state);\n        this.instructions.push(beginPathInstruction);\n    };\n    return CanvasLineStringBuilder;\n}(CanvasBuilder));\nexport default CanvasLineStringBuilder;\n//# sourceMappingURL=LineStringBuilder.js.map","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n/**\n * @module ol/render/canvas/PolygonBuilder\n */\nimport CanvasBuilder from './Builder.js';\nimport CanvasInstruction, { beginPathInstruction, closePathInstruction, fillInstruction, strokeInstruction, } from './Instruction.js';\nimport { defaultFillStyle } from '../canvas.js';\nimport { snap } from '../../geom/flat/simplify.js';\nvar CanvasPolygonBuilder = /** @class */ (function (_super) {\n    __extends(CanvasPolygonBuilder, _super);\n    /**\n     * @param {number} tolerance Tolerance.\n     * @param {import(\"../../extent.js\").Extent} maxExtent Maximum extent.\n     * @param {number} resolution Resolution.\n     * @param {number} pixelRatio Pixel ratio.\n     */\n    function CanvasPolygonBuilder(tolerance, maxExtent, resolution, pixelRatio) {\n        return _super.call(this, tolerance, maxExtent, resolution, pixelRatio) || this;\n    }\n    /**\n     * @param {Array<number>} flatCoordinates Flat coordinates.\n     * @param {number} offset Offset.\n     * @param {Array<number>} ends Ends.\n     * @param {number} stride Stride.\n     * @private\n     * @return {number} End.\n     */\n    CanvasPolygonBuilder.prototype.drawFlatCoordinatess_ = function (flatCoordinates, offset, ends, stride) {\n        var state = this.state;\n        var fill = state.fillStyle !== undefined;\n        var stroke = state.strokeStyle !== undefined;\n        var numEnds = ends.length;\n        this.instructions.push(beginPathInstruction);\n        this.hitDetectionInstructions.push(beginPathInstruction);\n        for (var i = 0; i < numEnds; ++i) {\n            var end = ends[i];\n            var myBegin = this.coordinates.length;\n            var myEnd = this.appendFlatLineCoordinates(flatCoordinates, offset, end, stride, true, !stroke);\n            var moveToLineToInstruction = [\n                CanvasInstruction.MOVE_TO_LINE_TO,\n                myBegin,\n                myEnd,\n            ];\n            this.instructions.push(moveToLineToInstruction);\n            this.hitDetectionInstructions.push(moveToLineToInstruction);\n            if (stroke) {\n                // Performance optimization: only call closePath() when we have a stroke.\n                // Otherwise the ring is closed already (see appendFlatLineCoordinates above).\n                this.instructions.push(closePathInstruction);\n                this.hitDetectionInstructions.push(closePathInstruction);\n            }\n            offset = end;\n        }\n        if (fill) {\n            this.instructions.push(fillInstruction);\n            this.hitDetectionInstructions.push(fillInstruction);\n        }\n        if (stroke) {\n            this.instructions.push(strokeInstruction);\n            this.hitDetectionInstructions.push(strokeInstruction);\n        }\n        return offset;\n    };\n    /**\n     * @param {import(\"../../geom/Circle.js\").default} circleGeometry Circle geometry.\n     * @param {import(\"../../Feature.js\").default} feature Feature.\n     */\n    CanvasPolygonBuilder.prototype.drawCircle = function (circleGeometry, feature) {\n        var state = this.state;\n        var fillStyle = state.fillStyle;\n        var strokeStyle = state.strokeStyle;\n        if (fillStyle === undefined && strokeStyle === undefined) {\n            return;\n        }\n        this.setFillStrokeStyles_();\n        this.beginGeometry(circleGeometry, feature);\n        if (state.fillStyle !== undefined) {\n            this.hitDetectionInstructions.push([\n                CanvasInstruction.SET_FILL_STYLE,\n                defaultFillStyle,\n            ]);\n        }\n        if (state.strokeStyle !== undefined) {\n            this.hitDetectionInstructions.push([\n                CanvasInstruction.SET_STROKE_STYLE,\n                state.strokeStyle,\n                state.lineWidth,\n                state.lineCap,\n                state.lineJoin,\n                state.miterLimit,\n                state.lineDash,\n                state.lineDashOffset,\n            ]);\n        }\n        var flatCoordinates = circleGeometry.getFlatCoordinates();\n        var stride = circleGeometry.getStride();\n        var myBegin = this.coordinates.length;\n        this.appendFlatLineCoordinates(flatCoordinates, 0, flatCoordinates.length, stride, false, false);\n        var circleInstruction = [CanvasInstruction.CIRCLE, myBegin];\n        this.instructions.push(beginPathInstruction, circleInstruction);\n        this.hitDetectionInstructions.push(beginPathInstruction, circleInstruction);\n        if (state.fillStyle !== undefined) {\n            this.instructions.push(fillInstruction);\n            this.hitDetectionInstructions.push(fillInstruction);\n        }\n        if (state.strokeStyle !== undefined) {\n            this.instructions.push(strokeInstruction);\n            this.hitDetectionInstructions.push(strokeInstruction);\n        }\n        this.endGeometry(feature);\n    };\n    /**\n     * @param {import(\"../../geom/Polygon.js\").default|import(\"../Feature.js\").default} polygonGeometry Polygon geometry.\n     * @param {import(\"../../Feature.js\").FeatureLike} feature Feature.\n     */\n    CanvasPolygonBuilder.prototype.drawPolygon = function (polygonGeometry, feature) {\n        var state = this.state;\n        var fillStyle = state.fillStyle;\n        var strokeStyle = state.strokeStyle;\n        if (fillStyle === undefined && strokeStyle === undefined) {\n            return;\n        }\n        this.setFillStrokeStyles_();\n        this.beginGeometry(polygonGeometry, feature);\n        if (state.fillStyle !== undefined) {\n            this.hitDetectionInstructions.push([\n                CanvasInstruction.SET_FILL_STYLE,\n                defaultFillStyle,\n            ]);\n        }\n        if (state.strokeStyle !== undefined) {\n            this.hitDetectionInstructions.push([\n                CanvasInstruction.SET_STROKE_STYLE,\n                state.strokeStyle,\n                state.lineWidth,\n                state.lineCap,\n                state.lineJoin,\n                state.miterLimit,\n                state.lineDash,\n                state.lineDashOffset,\n            ]);\n        }\n        var ends = polygonGeometry.getEnds();\n        var flatCoordinates = polygonGeometry.getOrientedFlatCoordinates();\n        var stride = polygonGeometry.getStride();\n        this.drawFlatCoordinatess_(flatCoordinates, 0, \n        /** @type {Array<number>} */ (ends), stride);\n        this.endGeometry(feature);\n    };\n    /**\n     * @param {import(\"../../geom/MultiPolygon.js\").default} multiPolygonGeometry MultiPolygon geometry.\n     * @param {import(\"../../Feature.js\").FeatureLike} feature Feature.\n     */\n    CanvasPolygonBuilder.prototype.drawMultiPolygon = function (multiPolygonGeometry, feature) {\n        var state = this.state;\n        var fillStyle = state.fillStyle;\n        var strokeStyle = state.strokeStyle;\n        if (fillStyle === undefined && strokeStyle === undefined) {\n            return;\n        }\n        this.setFillStrokeStyles_();\n        this.beginGeometry(multiPolygonGeometry, feature);\n        if (state.fillStyle !== undefined) {\n            this.hitDetectionInstructions.push([\n                CanvasInstruction.SET_FILL_STYLE,\n                defaultFillStyle,\n            ]);\n        }\n        if (state.strokeStyle !== undefined) {\n            this.hitDetectionInstructions.push([\n                CanvasInstruction.SET_STROKE_STYLE,\n                state.strokeStyle,\n                state.lineWidth,\n                state.lineCap,\n                state.lineJoin,\n                state.miterLimit,\n                state.lineDash,\n                state.lineDashOffset,\n            ]);\n        }\n        var endss = multiPolygonGeometry.getEndss();\n        var flatCoordinates = multiPolygonGeometry.getOrientedFlatCoordinates();\n        var stride = multiPolygonGeometry.getStride();\n        var offset = 0;\n        for (var i = 0, ii = endss.length; i < ii; ++i) {\n            offset = this.drawFlatCoordinatess_(flatCoordinates, offset, endss[i], stride);\n        }\n        this.endGeometry(feature);\n    };\n    /**\n     * @return {import(\"../canvas.js\").SerializableInstructions} the serializable instructions.\n     */\n    CanvasPolygonBuilder.prototype.finish = function () {\n        this.reverseHitDetectionInstructions();\n        this.state = null;\n        // We want to preserve topology when drawing polygons.  Polygons are\n        // simplified using quantization and point elimination. However, we might\n        // have received a mix of quantized and non-quantized geometries, so ensure\n        // that all are quantized by quantizing all coordinates in the batch.\n        var tolerance = this.tolerance;\n        if (tolerance !== 0) {\n            var coordinates = this.coordinates;\n            for (var i = 0, ii = coordinates.length; i < ii; ++i) {\n                coordinates[i] = snap(coordinates[i], tolerance);\n            }\n        }\n        return _super.prototype.finish.call(this);\n    };\n    /**\n     * @private\n     */\n    CanvasPolygonBuilder.prototype.setFillStrokeStyles_ = function () {\n        var state = this.state;\n        var fillStyle = state.fillStyle;\n        if (fillStyle !== undefined) {\n            this.updateFillStyle(state, this.createFill);\n        }\n        if (state.strokeStyle !== undefined) {\n            this.updateStrokeStyle(state, this.applyStroke);\n        }\n    };\n    return CanvasPolygonBuilder;\n}(CanvasBuilder));\nexport default CanvasPolygonBuilder;\n//# sourceMappingURL=PolygonBuilder.js.map","/**\n * @module ol/style/TextPlacement\n */\n/**\n * Text placement. One of `'point'`, `'line'`. Default is `'point'`. Note that\n * `'line'` requires the underlying geometry to be a {@link module:ol/geom/LineString~LineString},\n * {@link module:ol/geom/Polygon~Polygon}, {@link module:ol/geom/MultiLineString~MultiLineString} or\n * {@link module:ol/geom/MultiPolygon~MultiPolygon}.\n * @enum {string}\n */\nexport default {\n    POINT: 'point',\n    LINE: 'line',\n};\n//# sourceMappingURL=TextPlacement.js.map","/**\n * @module ol/geom/flat/straightchunk\n */\n/**\n * @param {number} maxAngle Maximum acceptable angle delta between segments.\n * @param {Array<number>} flatCoordinates Flat coordinates.\n * @param {number} offset Offset.\n * @param {number} end End.\n * @param {number} stride Stride.\n * @return {Array<number>} Start and end of the first suitable chunk of the\n * given `flatCoordinates`.\n */\nexport function matchingChunk(maxAngle, flatCoordinates, offset, end, stride) {\n    var chunkStart = offset;\n    var chunkEnd = offset;\n    var chunkM = 0;\n    var m = 0;\n    var start = offset;\n    var acos, i, m12, m23, x1, y1, x12, y12, x23, y23;\n    for (i = offset; i < end; i += stride) {\n        var x2 = flatCoordinates[i];\n        var y2 = flatCoordinates[i + 1];\n        if (x1 !== undefined) {\n            x23 = x2 - x1;\n            y23 = y2 - y1;\n            m23 = Math.sqrt(x23 * x23 + y23 * y23);\n            if (x12 !== undefined) {\n                m += m12;\n                acos = Math.acos((x12 * x23 + y12 * y23) / (m12 * m23));\n                if (acos > maxAngle) {\n                    if (m > chunkM) {\n                        chunkM = m;\n                        chunkStart = start;\n                        chunkEnd = i;\n                    }\n                    m = 0;\n                    start = i - stride;\n                }\n            }\n            m12 = m23;\n            x12 = x23;\n            y12 = y23;\n        }\n        x1 = x2;\n        y1 = y2;\n    }\n    m += m23;\n    return m > chunkM ? [start, i] : [chunkStart, chunkEnd];\n}\n//# sourceMappingURL=straightchunk.js.map","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n/**\n * @module ol/render/canvas/TextBuilder\n */\nimport CanvasBuilder from './Builder.js';\nimport CanvasInstruction from './Instruction.js';\nimport GeometryType from '../../geom/GeometryType.js';\nimport TextPlacement from '../../style/TextPlacement.js';\nimport { asColorLike } from '../../colorlike.js';\nimport { defaultFillStyle, defaultFont, defaultLineCap, defaultLineDash, defaultLineDashOffset, defaultLineJoin, defaultLineWidth, defaultMiterLimit, defaultPadding, defaultStrokeStyle, defaultTextAlign, defaultTextBaseline, registerFont, } from '../canvas.js';\nimport { getUid } from '../../util.js';\nimport { intersects } from '../../extent.js';\nimport { matchingChunk } from '../../geom/flat/straightchunk.js';\n/**\n * @const\n * @enum {number}\n */\nexport var TEXT_ALIGN = {\n    'left': 0,\n    'end': 0,\n    'center': 0.5,\n    'right': 1,\n    'start': 1,\n    'top': 0,\n    'middle': 0.5,\n    'hanging': 0.2,\n    'alphabetic': 0.8,\n    'ideographic': 0.8,\n    'bottom': 1,\n};\nvar CanvasTextBuilder = /** @class */ (function (_super) {\n    __extends(CanvasTextBuilder, _super);\n    /**\n     * @param {number} tolerance Tolerance.\n     * @param {import(\"../../extent.js\").Extent} maxExtent Maximum extent.\n     * @param {number} resolution Resolution.\n     * @param {number} pixelRatio Pixel ratio.\n     */\n    function CanvasTextBuilder(tolerance, maxExtent, resolution, pixelRatio) {\n        var _this = _super.call(this, tolerance, maxExtent, resolution, pixelRatio) || this;\n        /**\n         * @private\n         * @type {Array<HTMLCanvasElement>}\n         */\n        _this.labels_ = null;\n        /**\n         * @private\n         * @type {string}\n         */\n        _this.text_ = '';\n        /**\n         * @private\n         * @type {number}\n         */\n        _this.textOffsetX_ = 0;\n        /**\n         * @private\n         * @type {number}\n         */\n        _this.textOffsetY_ = 0;\n        /**\n         * @private\n         * @type {boolean|undefined}\n         */\n        _this.textRotateWithView_ = undefined;\n        /**\n         * @private\n         * @type {number}\n         */\n        _this.textRotation_ = 0;\n        /**\n         * @private\n         * @type {?import(\"../canvas.js\").FillState}\n         */\n        _this.textFillState_ = null;\n        /**\n         * @type {!Object<string, import(\"../canvas.js\").FillState>}\n         */\n        _this.fillStates = {};\n        /**\n         * @private\n         * @type {?import(\"../canvas.js\").StrokeState}\n         */\n        _this.textStrokeState_ = null;\n        /**\n         * @type {!Object<string, import(\"../canvas.js\").StrokeState>}\n         */\n        _this.strokeStates = {};\n        /**\n         * @private\n         * @type {import(\"../canvas.js\").TextState}\n         */\n        _this.textState_ = /** @type {import(\"../canvas.js\").TextState} */ ({});\n        /**\n         * @type {!Object<string, import(\"../canvas.js\").TextState>}\n         */\n        _this.textStates = {};\n        /**\n         * @private\n         * @type {string}\n         */\n        _this.textKey_ = '';\n        /**\n         * @private\n         * @type {string}\n         */\n        _this.fillKey_ = '';\n        /**\n         * @private\n         * @type {string}\n         */\n        _this.strokeKey_ = '';\n        /**\n         * Data shared with an image builder for combined decluttering.\n         * @private\n         * @type {import(\"../canvas.js\").DeclutterImageWithText}\n         */\n        _this.declutterImageWithText_ = undefined;\n        return _this;\n    }\n    /**\n     * @return {import(\"../canvas.js\").SerializableInstructions} the serializable instructions.\n     */\n    CanvasTextBuilder.prototype.finish = function () {\n        var instructions = _super.prototype.finish.call(this);\n        instructions.textStates = this.textStates;\n        instructions.fillStates = this.fillStates;\n        instructions.strokeStates = this.strokeStates;\n        return instructions;\n    };\n    /**\n     * @param {import(\"../../geom/SimpleGeometry.js\").default|import(\"../Feature.js\").default} geometry Geometry.\n     * @param {import(\"../../Feature.js\").FeatureLike} feature Feature.\n     */\n    CanvasTextBuilder.prototype.drawText = function (geometry, feature) {\n        var fillState = this.textFillState_;\n        var strokeState = this.textStrokeState_;\n        var textState = this.textState_;\n        if (this.text_ === '' || !textState || (!fillState && !strokeState)) {\n            return;\n        }\n        var coordinates = this.coordinates;\n        var begin = coordinates.length;\n        var geometryType = geometry.getType();\n        var flatCoordinates = null;\n        var stride = geometry.getStride();\n        if (textState.placement === TextPlacement.LINE &&\n            (geometryType == GeometryType.LINE_STRING ||\n                geometryType == GeometryType.MULTI_LINE_STRING ||\n                geometryType == GeometryType.POLYGON ||\n                geometryType == GeometryType.MULTI_POLYGON)) {\n            if (!intersects(this.getBufferedMaxExtent(), geometry.getExtent())) {\n                return;\n            }\n            var ends = void 0;\n            flatCoordinates = geometry.getFlatCoordinates();\n            if (geometryType == GeometryType.LINE_STRING) {\n                ends = [flatCoordinates.length];\n            }\n            else if (geometryType == GeometryType.MULTI_LINE_STRING) {\n                ends = /** @type {import(\"../../geom/MultiLineString.js\").default} */ (geometry).getEnds();\n            }\n            else if (geometryType == GeometryType.POLYGON) {\n                ends = /** @type {import(\"../../geom/Polygon.js\").default} */ (geometry)\n                    .getEnds()\n                    .slice(0, 1);\n            }\n            else if (geometryType == GeometryType.MULTI_POLYGON) {\n                var endss = /** @type {import(\"../../geom/MultiPolygon.js\").default} */ (geometry).getEndss();\n                ends = [];\n                for (var i = 0, ii = endss.length; i < ii; ++i) {\n                    ends.push(endss[i][0]);\n                }\n            }\n            this.beginGeometry(geometry, feature);\n            var textAlign = textState.textAlign;\n            var flatOffset = 0;\n            var flatEnd = void 0;\n            for (var o = 0, oo = ends.length; o < oo; ++o) {\n                if (textAlign == undefined) {\n                    var range = matchingChunk(textState.maxAngle, flatCoordinates, flatOffset, ends[o], stride);\n                    flatOffset = range[0];\n                    flatEnd = range[1];\n                }\n                else {\n                    flatEnd = ends[o];\n                }\n                for (var i = flatOffset; i < flatEnd; i += stride) {\n                    coordinates.push(flatCoordinates[i], flatCoordinates[i + 1]);\n                }\n                var end = coordinates.length;\n                flatOffset = ends[o];\n                this.drawChars_(begin, end);\n                begin = end;\n            }\n            this.endGeometry(feature);\n        }\n        else {\n            var geometryWidths = textState.overflow ? null : [];\n            switch (geometryType) {\n                case GeometryType.POINT:\n                case GeometryType.MULTI_POINT:\n                    flatCoordinates = /** @type {import(\"../../geom/MultiPoint.js\").default} */ (geometry).getFlatCoordinates();\n                    break;\n                case GeometryType.LINE_STRING:\n                    flatCoordinates = /** @type {import(\"../../geom/LineString.js\").default} */ (geometry).getFlatMidpoint();\n                    break;\n                case GeometryType.CIRCLE:\n                    flatCoordinates = /** @type {import(\"../../geom/Circle.js\").default} */ (geometry).getCenter();\n                    break;\n                case GeometryType.MULTI_LINE_STRING:\n                    flatCoordinates = /** @type {import(\"../../geom/MultiLineString.js\").default} */ (geometry).getFlatMidpoints();\n                    stride = 2;\n                    break;\n                case GeometryType.POLYGON:\n                    flatCoordinates = /** @type {import(\"../../geom/Polygon.js\").default} */ (geometry).getFlatInteriorPoint();\n                    if (!textState.overflow) {\n                        geometryWidths.push(flatCoordinates[2] / this.resolution);\n                    }\n                    stride = 3;\n                    break;\n                case GeometryType.MULTI_POLYGON:\n                    var interiorPoints = /** @type {import(\"../../geom/MultiPolygon.js\").default} */ (geometry).getFlatInteriorPoints();\n                    flatCoordinates = [];\n                    for (var i = 0, ii = interiorPoints.length; i < ii; i += 3) {\n                        if (!textState.overflow) {\n                            geometryWidths.push(interiorPoints[i + 2] / this.resolution);\n                        }\n                        flatCoordinates.push(interiorPoints[i], interiorPoints[i + 1]);\n                    }\n                    if (flatCoordinates.length === 0) {\n                        return;\n                    }\n                    stride = 2;\n                    break;\n                default:\n            }\n            var end = this.appendFlatPointCoordinates(flatCoordinates, stride);\n            if (end === begin) {\n                return;\n            }\n            this.saveTextStates_();\n            if (textState.backgroundFill || textState.backgroundStroke) {\n                this.setFillStrokeStyle(textState.backgroundFill, textState.backgroundStroke);\n                if (textState.backgroundFill) {\n                    this.updateFillStyle(this.state, this.createFill);\n                    this.hitDetectionInstructions.push(this.createFill(this.state));\n                }\n                if (textState.backgroundStroke) {\n                    this.updateStrokeStyle(this.state, this.applyStroke);\n                    this.hitDetectionInstructions.push(this.createStroke(this.state));\n                }\n            }\n            this.beginGeometry(geometry, feature);\n            // adjust padding for negative scale\n            var padding = textState.padding;\n            if (padding != defaultPadding &&\n                (textState.scale[0] < 0 || textState.scale[1] < 0)) {\n                var p0 = textState.padding[0];\n                var p1 = textState.padding[1];\n                var p2 = textState.padding[2];\n                var p3 = textState.padding[3];\n                if (textState.scale[0] < 0) {\n                    p1 = -p1;\n                    p3 = -p3;\n                }\n                if (textState.scale[1] < 0) {\n                    p0 = -p0;\n                    p2 = -p2;\n                }\n                padding = [p0, p1, p2, p3];\n            }\n            // The image is unknown at this stage so we pass null; it will be computed at render time.\n            // For clarity, we pass NaN for offsetX, offsetY, width and height, which will be computed at\n            // render time.\n            var pixelRatio_1 = this.pixelRatio;\n            this.instructions.push([\n                CanvasInstruction.DRAW_IMAGE,\n                begin,\n                end,\n                null,\n                NaN,\n                NaN,\n                NaN,\n                1,\n                0,\n                0,\n                this.textRotateWithView_,\n                this.textRotation_,\n                [1, 1],\n                NaN,\n                this.declutterImageWithText_,\n                padding == defaultPadding\n                    ? defaultPadding\n                    : padding.map(function (p) {\n                        return p * pixelRatio_1;\n                    }),\n                !!textState.backgroundFill,\n                !!textState.backgroundStroke,\n                this.text_,\n                this.textKey_,\n                this.strokeKey_,\n                this.fillKey_,\n                this.textOffsetX_,\n                this.textOffsetY_,\n                geometryWidths,\n            ]);\n            var scale = 1 / pixelRatio_1;\n            this.hitDetectionInstructions.push([\n                CanvasInstruction.DRAW_IMAGE,\n                begin,\n                end,\n                null,\n                NaN,\n                NaN,\n                NaN,\n                1,\n                0,\n                0,\n                this.textRotateWithView_,\n                this.textRotation_,\n                [scale, scale],\n                NaN,\n                this.declutterImageWithText_,\n                padding,\n                !!textState.backgroundFill,\n                !!textState.backgroundStroke,\n                this.text_,\n                this.textKey_,\n                this.strokeKey_,\n                this.fillKey_,\n                this.textOffsetX_,\n                this.textOffsetY_,\n                geometryWidths,\n            ]);\n            this.endGeometry(feature);\n        }\n    };\n    /**\n     * @private\n     */\n    CanvasTextBuilder.prototype.saveTextStates_ = function () {\n        var strokeState = this.textStrokeState_;\n        var textState = this.textState_;\n        var fillState = this.textFillState_;\n        var strokeKey = this.strokeKey_;\n        if (strokeState) {\n            if (!(strokeKey in this.strokeStates)) {\n                this.strokeStates[strokeKey] = {\n                    strokeStyle: strokeState.strokeStyle,\n                    lineCap: strokeState.lineCap,\n                    lineDashOffset: strokeState.lineDashOffset,\n                    lineWidth: strokeState.lineWidth,\n                    lineJoin: strokeState.lineJoin,\n                    miterLimit: strokeState.miterLimit,\n                    lineDash: strokeState.lineDash,\n                };\n            }\n        }\n        var textKey = this.textKey_;\n        if (!(textKey in this.textStates)) {\n            this.textStates[textKey] = {\n                font: textState.font,\n                textAlign: textState.textAlign || defaultTextAlign,\n                textBaseline: textState.textBaseline || defaultTextBaseline,\n                scale: textState.scale,\n            };\n        }\n        var fillKey = this.fillKey_;\n        if (fillState) {\n            if (!(fillKey in this.fillStates)) {\n                this.fillStates[fillKey] = {\n                    fillStyle: fillState.fillStyle,\n                };\n            }\n        }\n    };\n    /**\n     * @private\n     * @param {number} begin Begin.\n     * @param {number} end End.\n     */\n    CanvasTextBuilder.prototype.drawChars_ = function (begin, end) {\n        var strokeState = this.textStrokeState_;\n        var textState = this.textState_;\n        var strokeKey = this.strokeKey_;\n        var textKey = this.textKey_;\n        var fillKey = this.fillKey_;\n        this.saveTextStates_();\n        var pixelRatio = this.pixelRatio;\n        var baseline = TEXT_ALIGN[textState.textBaseline];\n        var offsetY = this.textOffsetY_ * pixelRatio;\n        var text = this.text_;\n        var strokeWidth = strokeState\n            ? (strokeState.lineWidth * Math.abs(textState.scale[0])) / 2\n            : 0;\n        this.instructions.push([\n            CanvasInstruction.DRAW_CHARS,\n            begin,\n            end,\n            baseline,\n            textState.overflow,\n            fillKey,\n            textState.maxAngle,\n            pixelRatio,\n            offsetY,\n            strokeKey,\n            strokeWidth * pixelRatio,\n            text,\n            textKey,\n            1,\n        ]);\n        this.hitDetectionInstructions.push([\n            CanvasInstruction.DRAW_CHARS,\n            begin,\n            end,\n            baseline,\n            textState.overflow,\n            fillKey,\n            textState.maxAngle,\n            1,\n            offsetY,\n            strokeKey,\n            strokeWidth,\n            text,\n            textKey,\n            1 / pixelRatio,\n        ]);\n    };\n    /**\n     * @param {import(\"../../style/Text.js\").default} textStyle Text style.\n     * @param {Object=} opt_sharedData Shared data.\n     */\n    CanvasTextBuilder.prototype.setTextStyle = function (textStyle, opt_sharedData) {\n        var textState, fillState, strokeState;\n        if (!textStyle) {\n            this.text_ = '';\n        }\n        else {\n            var textFillStyle = textStyle.getFill();\n            if (!textFillStyle) {\n                fillState = null;\n                this.textFillState_ = fillState;\n            }\n            else {\n                fillState = this.textFillState_;\n                if (!fillState) {\n                    fillState = /** @type {import(\"../canvas.js\").FillState} */ ({});\n                    this.textFillState_ = fillState;\n                }\n                fillState.fillStyle = asColorLike(textFillStyle.getColor() || defaultFillStyle);\n            }\n            var textStrokeStyle = textStyle.getStroke();\n            if (!textStrokeStyle) {\n                strokeState = null;\n                this.textStrokeState_ = strokeState;\n            }\n            else {\n                strokeState = this.textStrokeState_;\n                if (!strokeState) {\n                    strokeState = /** @type {import(\"../canvas.js\").StrokeState} */ ({});\n                    this.textStrokeState_ = strokeState;\n                }\n                var lineDash = textStrokeStyle.getLineDash();\n                var lineDashOffset = textStrokeStyle.getLineDashOffset();\n                var lineWidth = textStrokeStyle.getWidth();\n                var miterLimit = textStrokeStyle.getMiterLimit();\n                strokeState.lineCap = textStrokeStyle.getLineCap() || defaultLineCap;\n                strokeState.lineDash = lineDash ? lineDash.slice() : defaultLineDash;\n                strokeState.lineDashOffset =\n                    lineDashOffset === undefined ? defaultLineDashOffset : lineDashOffset;\n                strokeState.lineJoin = textStrokeStyle.getLineJoin() || defaultLineJoin;\n                strokeState.lineWidth =\n                    lineWidth === undefined ? defaultLineWidth : lineWidth;\n                strokeState.miterLimit =\n                    miterLimit === undefined ? defaultMiterLimit : miterLimit;\n                strokeState.strokeStyle = asColorLike(textStrokeStyle.getColor() || defaultStrokeStyle);\n            }\n            textState = this.textState_;\n            var font = textStyle.getFont() || defaultFont;\n            registerFont(font);\n            var textScale = textStyle.getScaleArray();\n            textState.overflow = textStyle.getOverflow();\n            textState.font = font;\n            textState.maxAngle = textStyle.getMaxAngle();\n            textState.placement = textStyle.getPlacement();\n            textState.textAlign = textStyle.getTextAlign();\n            textState.textBaseline =\n                textStyle.getTextBaseline() || defaultTextBaseline;\n            textState.backgroundFill = textStyle.getBackgroundFill();\n            textState.backgroundStroke = textStyle.getBackgroundStroke();\n            textState.padding = textStyle.getPadding() || defaultPadding;\n            textState.scale = textScale === undefined ? [1, 1] : textScale;\n            var textOffsetX = textStyle.getOffsetX();\n            var textOffsetY = textStyle.getOffsetY();\n            var textRotateWithView = textStyle.getRotateWithView();\n            var textRotation = textStyle.getRotation();\n            this.text_ = textStyle.getText() || '';\n            this.textOffsetX_ = textOffsetX === undefined ? 0 : textOffsetX;\n            this.textOffsetY_ = textOffsetY === undefined ? 0 : textOffsetY;\n            this.textRotateWithView_ =\n                textRotateWithView === undefined ? false : textRotateWithView;\n            this.textRotation_ = textRotation === undefined ? 0 : textRotation;\n            this.strokeKey_ = strokeState\n                ? (typeof strokeState.strokeStyle == 'string'\n                    ? strokeState.strokeStyle\n                    : getUid(strokeState.strokeStyle)) +\n                    strokeState.lineCap +\n                    strokeState.lineDashOffset +\n                    '|' +\n                    strokeState.lineWidth +\n                    strokeState.lineJoin +\n                    strokeState.miterLimit +\n                    '[' +\n                    strokeState.lineDash.join() +\n                    ']'\n                : '';\n            this.textKey_ =\n                textState.font +\n                    textState.scale +\n                    (textState.textAlign || '?') +\n                    (textState.textBaseline || '?');\n            this.fillKey_ = fillState\n                ? typeof fillState.fillStyle == 'string'\n                    ? fillState.fillStyle\n                    : '|' + getUid(fillState.fillStyle)\n                : '';\n        }\n        this.declutterImageWithText_ = opt_sharedData;\n    };\n    return CanvasTextBuilder;\n}(CanvasBuilder));\nexport default CanvasTextBuilder;\n//# sourceMappingURL=TextBuilder.js.map","/**\n * @module ol/render/canvas/BuilderGroup\n */\nimport Builder from './Builder.js';\nimport ImageBuilder from './ImageBuilder.js';\nimport LineStringBuilder from './LineStringBuilder.js';\nimport PolygonBuilder from './PolygonBuilder.js';\nimport TextBuilder from './TextBuilder.js';\n/**\n * @type {Object<import(\"./BuilderType\").default, typeof Builder>}\n */\nvar BATCH_CONSTRUCTORS = {\n    'Circle': PolygonBuilder,\n    'Default': Builder,\n    'Image': ImageBuilder,\n    'LineString': LineStringBuilder,\n    'Polygon': PolygonBuilder,\n    'Text': TextBuilder,\n};\nvar BuilderGroup = /** @class */ (function () {\n    /**\n     * @param {number} tolerance Tolerance.\n     * @param {import(\"../../extent.js\").Extent} maxExtent Max extent.\n     * @param {number} resolution Resolution.\n     * @param {number} pixelRatio Pixel ratio.\n     */\n    function BuilderGroup(tolerance, maxExtent, resolution, pixelRatio) {\n        /**\n         * @private\n         * @type {number}\n         */\n        this.tolerance_ = tolerance;\n        /**\n         * @private\n         * @type {import(\"../../extent.js\").Extent}\n         */\n        this.maxExtent_ = maxExtent;\n        /**\n         * @private\n         * @type {number}\n         */\n        this.pixelRatio_ = pixelRatio;\n        /**\n         * @private\n         * @type {number}\n         */\n        this.resolution_ = resolution;\n        /**\n         * @private\n         * @type {!Object<string, !Object<import(\"./BuilderType\").default, Builder>>}\n         */\n        this.buildersByZIndex_ = {};\n    }\n    /**\n     * @return {!Object<string, !Object<import(\"./BuilderType\").default, import(\"./Builder.js\").SerializableInstructions>>} The serializable instructions\n     */\n    BuilderGroup.prototype.finish = function () {\n        var builderInstructions = {};\n        for (var zKey in this.buildersByZIndex_) {\n            builderInstructions[zKey] = builderInstructions[zKey] || {};\n            var builders = this.buildersByZIndex_[zKey];\n            for (var builderKey in builders) {\n                var builderInstruction = builders[builderKey].finish();\n                builderInstructions[zKey][builderKey] = builderInstruction;\n            }\n        }\n        return builderInstructions;\n    };\n    /**\n     * @param {number|undefined} zIndex Z index.\n     * @param {import(\"./BuilderType.js\").default} builderType Replay type.\n     * @return {import(\"../VectorContext.js\").default} Replay.\n     */\n    BuilderGroup.prototype.getBuilder = function (zIndex, builderType) {\n        var zIndexKey = zIndex !== undefined ? zIndex.toString() : '0';\n        var replays = this.buildersByZIndex_[zIndexKey];\n        if (replays === undefined) {\n            replays = {};\n            this.buildersByZIndex_[zIndexKey] = replays;\n        }\n        var replay = replays[builderType];\n        if (replay === undefined) {\n            var Constructor = BATCH_CONSTRUCTORS[builderType];\n            replay = new Constructor(this.tolerance_, this.maxExtent_, this.resolution_, this.pixelRatio_);\n            replays[builderType] = replay;\n        }\n        return replay;\n    };\n    return BuilderGroup;\n}());\nexport default BuilderGroup;\n//# sourceMappingURL=BuilderGroup.js.map","/**\n * @module ol/render/canvas/BuilderType\n */\n/**\n * @enum {string}\n */\nexport default {\n    CIRCLE: 'Circle',\n    DEFAULT: 'Default',\n    IMAGE: 'Image',\n    LINE_STRING: 'LineString',\n    POLYGON: 'Polygon',\n    TEXT: 'Text',\n};\n//# sourceMappingURL=BuilderType.js.map","/**\n * @module ol/geom/flat/textpath\n */\nimport { lerp } from '../../math.js';\nimport { rotate } from './transform.js';\n/**\n * @param {Array<number>} flatCoordinates Path to put text on.\n * @param {number} offset Start offset of the `flatCoordinates`.\n * @param {number} end End offset of the `flatCoordinates`.\n * @param {number} stride Stride.\n * @param {string} text Text to place on the path.\n * @param {number} startM m along the path where the text starts.\n * @param {number} maxAngle Max angle between adjacent chars in radians.\n * @param {number} scale The product of the text scale and the device pixel ratio.\n * @param {function(string, string, Object<string, number>):number} measureAndCacheTextWidth Measure and cache text width.\n * @param {string} font The font.\n * @param {Object<string, number>} cache A cache of measured widths.\n * @param {number} rotation Rotation to apply to the flatCoordinates to determine whether text needs to be reversed.\n * @return {Array<Array<*>>} The result array (or null if `maxAngle` was\n * exceeded). Entries of the array are x, y, anchorX, angle, chunk.\n */\nexport function drawTextOnPath(flatCoordinates, offset, end, stride, text, startM, maxAngle, scale, measureAndCacheTextWidth, font, cache, rotation) {\n    var x2 = flatCoordinates[offset];\n    var y2 = flatCoordinates[offset + 1];\n    var x1 = 0;\n    var y1 = 0;\n    var segmentLength = 0;\n    var segmentM = 0;\n    function advance() {\n        x1 = x2;\n        y1 = y2;\n        offset += stride;\n        x2 = flatCoordinates[offset];\n        y2 = flatCoordinates[offset + 1];\n        segmentM += segmentLength;\n        segmentLength = Math.sqrt((x2 - x1) * (x2 - x1) + (y2 - y1) * (y2 - y1));\n    }\n    do {\n        advance();\n    } while (offset < end - stride && segmentM + segmentLength < startM);\n    var interpolate = (startM - segmentM) / segmentLength;\n    var beginX = lerp(x1, x2, interpolate);\n    var beginY = lerp(y1, y2, interpolate);\n    var startOffset = offset - stride;\n    var startLength = segmentM;\n    var endM = startM + scale * measureAndCacheTextWidth(font, text, cache);\n    while (offset < end - stride && segmentM + segmentLength < endM) {\n        advance();\n    }\n    interpolate = (endM - segmentM) / segmentLength;\n    var endX = lerp(x1, x2, interpolate);\n    var endY = lerp(y1, y2, interpolate);\n    // Keep text upright\n    var reverse;\n    if (rotation) {\n        var flat = [beginX, beginY, endX, endY];\n        rotate(flat, 0, 4, 2, rotation, flat, flat);\n        reverse = flat[0] > flat[2];\n    }\n    else {\n        reverse = beginX > endX;\n    }\n    var PI = Math.PI;\n    var result = [];\n    var singleSegment = startOffset + stride === offset;\n    offset = startOffset;\n    segmentLength = 0;\n    segmentM = startLength;\n    x2 = flatCoordinates[offset];\n    y2 = flatCoordinates[offset + 1];\n    // All on the same segment\n    if (singleSegment) {\n        advance();\n        var previousAngle_1 = Math.atan2(y2 - y1, x2 - x1);\n        if (reverse) {\n            previousAngle_1 += previousAngle_1 > 0 ? -PI : PI;\n        }\n        var x = (endX + beginX) / 2;\n        var y = (endY + beginY) / 2;\n        result[0] = [x, y, (endM - startM) / 2, previousAngle_1, text];\n        return result;\n    }\n    var previousAngle;\n    for (var i = 0, ii = text.length; i < ii;) {\n        advance();\n        var angle = Math.atan2(y2 - y1, x2 - x1);\n        if (reverse) {\n            angle += angle > 0 ? -PI : PI;\n        }\n        if (previousAngle !== undefined) {\n            var delta = angle - previousAngle;\n            delta += delta > PI ? -2 * PI : delta < -PI ? 2 * PI : 0;\n            if (Math.abs(delta) > maxAngle) {\n                return null;\n            }\n        }\n        previousAngle = angle;\n        var iStart = i;\n        var charLength = 0;\n        for (; i < ii; ++i) {\n            var index = reverse ? ii - i - 1 : i;\n            var len = scale * measureAndCacheTextWidth(font, text[index], cache);\n            if (offset + stride < end &&\n                segmentM + segmentLength < startM + charLength + len / 2) {\n                break;\n            }\n            charLength += len;\n        }\n        if (i === iStart) {\n            continue;\n        }\n        var chars = reverse\n            ? text.substring(ii - iStart, ii - i)\n            : text.substring(iStart, i);\n        interpolate = (startM + charLength / 2 - segmentM) / segmentLength;\n        var x = lerp(x1, x2, interpolate);\n        var y = lerp(y1, y2, interpolate);\n        result.push([x, y, charLength / 2, angle, chars]);\n        startM += charLength;\n    }\n    return result;\n}\n//# sourceMappingURL=textpath.js.map","/**\n * @module ol/render/canvas/Executor\n */\nimport CanvasInstruction from './Instruction.js';\nimport { TEXT_ALIGN } from './TextBuilder.js';\nimport { WORKER_OFFSCREEN_CANVAS } from '../../has.js';\nimport { apply as applyTransform, compose as composeTransform, create as createTransform, setFromArray as transformSetFromArray, } from '../../transform.js';\nimport { createEmpty, createOrUpdate, intersects } from '../../extent.js';\nimport { defaultPadding, defaultTextBaseline, drawImageOrLabel, } from '../canvas.js';\nimport { defaultTextAlign, measureAndCacheTextWidth, measureTextHeight, measureTextWidths, } from '../canvas.js';\nimport { drawTextOnPath } from '../../geom/flat/textpath.js';\nimport { equals } from '../../array.js';\nimport { lineStringLength } from '../../geom/flat/length.js';\nimport { transform2D } from '../../geom/flat/transform.js';\n/**\n * @typedef {Object} BBox\n * @property {number} minX\n * @property {number} minY\n * @property {number} maxX\n * @property {number} maxY\n * @property {*} value\n */\n/**\n * @typedef {Object} ImageOrLabelDimensions\n * @property {number} drawImageX\n * @property {number} drawImageY\n * @property {number} drawImageW\n * @property {number} drawImageH\n * @property {number} originX\n * @property {number} originY\n * @property {Array<number>} scale\n * @property {BBox} declutterBox\n * @property {import(\"../../transform.js\").Transform} canvasTransform\n */\n/**\n * @typedef {{0: CanvasRenderingContext2D, 1: number, 2: import(\"../canvas.js\").Label|HTMLImageElement|HTMLCanvasElement|HTMLVideoElement, 3: ImageOrLabelDimensions, 4: number, 5: Array<*>, 6: Array<*>}} ReplayImageOrLabelArgs\n */\n/**\n * @template T\n * @typedef {function(import(\"../../Feature.js\").FeatureLike, import(\"../../geom/SimpleGeometry.js\").default): T} FeatureCallback\n */\n/**\n * @type {import(\"../../extent.js\").Extent}\n */\nvar tmpExtent = createEmpty();\n/** @type {import(\"../../coordinate.js\").Coordinate} */\nvar p1 = [];\n/** @type {import(\"../../coordinate.js\").Coordinate} */\nvar p2 = [];\n/** @type {import(\"../../coordinate.js\").Coordinate} */\nvar p3 = [];\n/** @type {import(\"../../coordinate.js\").Coordinate} */\nvar p4 = [];\n/**\n * @param {ReplayImageOrLabelArgs} replayImageOrLabelArgs Arguments to replayImageOrLabel\n * @return {BBox} Declutter bbox.\n */\nfunction getDeclutterBox(replayImageOrLabelArgs) {\n    return replayImageOrLabelArgs[3].declutterBox;\n}\nvar rtlRegEx = new RegExp(\n/* eslint-disable prettier/prettier */\n'[' +\n    String.fromCharCode(0x00591) + '-' + String.fromCharCode(0x008ff) +\n    String.fromCharCode(0x0fb1d) + '-' + String.fromCharCode(0x0fdff) +\n    String.fromCharCode(0x0fe70) + '-' + String.fromCharCode(0x0fefc) +\n    String.fromCharCode(0x10800) + '-' + String.fromCharCode(0x10fff) +\n    String.fromCharCode(0x1e800) + '-' + String.fromCharCode(0x1efff) +\n    ']'\n/* eslint-enable prettier/prettier */\n);\n/**\n * @param {string} text Text.\n * @param {string} align Alignment.\n * @return {number} Text alignment.\n */\nfunction horizontalTextAlign(text, align) {\n    if ((align === 'start' || align === 'end') && !rtlRegEx.test(text)) {\n        align = align === 'start' ? 'left' : 'right';\n    }\n    return TEXT_ALIGN[align];\n}\nvar Executor = /** @class */ (function () {\n    /**\n     * @param {number} resolution Resolution.\n     * @param {number} pixelRatio Pixel ratio.\n     * @param {boolean} overlaps The replay can have overlapping geometries.\n     * @param {import(\"../canvas.js\").SerializableInstructions} instructions The serializable instructions\n     * @param {import(\"../../size.js\").Size} renderBuffer Render buffer (width/height) in pixels.\n     */\n    function Executor(resolution, pixelRatio, overlaps, instructions, renderBuffer) {\n        /**\n         * @protected\n         * @type {boolean}\n         */\n        this.overlaps = overlaps;\n        /**\n         * @protected\n         * @type {number}\n         */\n        this.pixelRatio = pixelRatio;\n        /**\n         * @protected\n         * @const\n         * @type {number}\n         */\n        this.resolution = resolution;\n        /**\n         * @private\n         * @type {boolean}\n         */\n        this.alignFill_;\n        /**\n         * @protected\n         * @type {Array<*>}\n         */\n        this.instructions = instructions.instructions;\n        /**\n         * @protected\n         * @type {Array<number>}\n         */\n        this.coordinates = instructions.coordinates;\n        /**\n         * @private\n         * @type {!Object<number,import(\"../../coordinate.js\").Coordinate|Array<import(\"../../coordinate.js\").Coordinate>|Array<Array<import(\"../../coordinate.js\").Coordinate>>>}\n         */\n        this.coordinateCache_ = {};\n        /**\n         * @private\n         * @type {import(\"../../size.js\").Size}\n         */\n        this.renderBuffer_ = renderBuffer;\n        /**\n         * @private\n         * @type {!import(\"../../transform.js\").Transform}\n         */\n        this.renderedTransform_ = createTransform();\n        /**\n         * @protected\n         * @type {Array<*>}\n         */\n        this.hitDetectionInstructions = instructions.hitDetectionInstructions;\n        /**\n         * @private\n         * @type {Array<number>}\n         */\n        this.pixelCoordinates_ = null;\n        /**\n         * @private\n         * @type {number}\n         */\n        this.viewRotation_ = 0;\n        /**\n         * @type {!Object<string, import(\"../canvas.js\").FillState>}\n         */\n        this.fillStates = instructions.fillStates || {};\n        /**\n         * @type {!Object<string, import(\"../canvas.js\").StrokeState>}\n         */\n        this.strokeStates = instructions.strokeStates || {};\n        /**\n         * @type {!Object<string, import(\"../canvas.js\").TextState>}\n         */\n        this.textStates = instructions.textStates || {};\n        /**\n         * @private\n         * @type {Object<string, Object<string, number>>}\n         */\n        this.widths_ = {};\n        /**\n         * @private\n         * @type {Object<string, import(\"../canvas.js\").Label>}\n         */\n        this.labels_ = {};\n    }\n    /**\n     * @param {string} text Text.\n     * @param {string} textKey Text style key.\n     * @param {string} fillKey Fill style key.\n     * @param {string} strokeKey Stroke style key.\n     * @return {import(\"../canvas.js\").Label} Label.\n     */\n    Executor.prototype.createLabel = function (text, textKey, fillKey, strokeKey) {\n        var key = text + textKey + fillKey + strokeKey;\n        if (this.labels_[key]) {\n            return this.labels_[key];\n        }\n        var strokeState = strokeKey ? this.strokeStates[strokeKey] : null;\n        var fillState = fillKey ? this.fillStates[fillKey] : null;\n        var textState = this.textStates[textKey];\n        var pixelRatio = this.pixelRatio;\n        var scale = [\n            textState.scale[0] * pixelRatio,\n            textState.scale[1] * pixelRatio,\n        ];\n        var align = horizontalTextAlign(text, textState.textAlign || defaultTextAlign);\n        var strokeWidth = strokeKey && strokeState.lineWidth ? strokeState.lineWidth : 0;\n        var lines = text.split('\\n');\n        var numLines = lines.length;\n        var widths = [];\n        var width = measureTextWidths(textState.font, lines, widths);\n        var lineHeight = measureTextHeight(textState.font);\n        var height = lineHeight * numLines;\n        var renderWidth = width + strokeWidth;\n        var contextInstructions = [];\n        // make canvas 2 pixels wider to account for italic text width measurement errors\n        var w = (renderWidth + 2) * scale[0];\n        var h = (height + strokeWidth) * scale[1];\n        /** @type {import(\"../canvas.js\").Label} */\n        var label = {\n            width: w < 0 ? Math.floor(w) : Math.ceil(w),\n            height: h < 0 ? Math.floor(h) : Math.ceil(h),\n            contextInstructions: contextInstructions,\n        };\n        if (scale[0] != 1 || scale[1] != 1) {\n            contextInstructions.push('scale', scale);\n        }\n        contextInstructions.push('font', textState.font);\n        if (strokeKey) {\n            contextInstructions.push('strokeStyle', strokeState.strokeStyle);\n            contextInstructions.push('lineWidth', strokeWidth);\n            contextInstructions.push('lineCap', strokeState.lineCap);\n            contextInstructions.push('lineJoin', strokeState.lineJoin);\n            contextInstructions.push('miterLimit', strokeState.miterLimit);\n            // eslint-disable-next-line\n            var Context = WORKER_OFFSCREEN_CANVAS ? OffscreenCanvasRenderingContext2D : CanvasRenderingContext2D;\n            if (Context.prototype.setLineDash) {\n                contextInstructions.push('setLineDash', [strokeState.lineDash]);\n                contextInstructions.push('lineDashOffset', strokeState.lineDashOffset);\n            }\n        }\n        if (fillKey) {\n            contextInstructions.push('fillStyle', fillState.fillStyle);\n        }\n        contextInstructions.push('textBaseline', 'middle');\n        contextInstructions.push('textAlign', 'center');\n        var leftRight = 0.5 - align;\n        var x = align * renderWidth + leftRight * strokeWidth;\n        var i;\n        if (strokeKey) {\n            for (i = 0; i < numLines; ++i) {\n                contextInstructions.push('strokeText', [\n                    lines[i],\n                    x + leftRight * widths[i],\n                    0.5 * (strokeWidth + lineHeight) + i * lineHeight,\n                ]);\n            }\n        }\n        if (fillKey) {\n            for (i = 0; i < numLines; ++i) {\n                contextInstructions.push('fillText', [\n                    lines[i],\n                    x + leftRight * widths[i],\n                    0.5 * (strokeWidth + lineHeight) + i * lineHeight,\n                ]);\n            }\n        }\n        this.labels_[key] = label;\n        return label;\n    };\n    /**\n     * @param {CanvasRenderingContext2D} context Context.\n     * @param {import(\"../../coordinate.js\").Coordinate} p1 1st point of the background box.\n     * @param {import(\"../../coordinate.js\").Coordinate} p2 2nd point of the background box.\n     * @param {import(\"../../coordinate.js\").Coordinate} p3 3rd point of the background box.\n     * @param {import(\"../../coordinate.js\").Coordinate} p4 4th point of the background box.\n     * @param {Array<*>} fillInstruction Fill instruction.\n     * @param {Array<*>} strokeInstruction Stroke instruction.\n     */\n    Executor.prototype.replayTextBackground_ = function (context, p1, p2, p3, p4, fillInstruction, strokeInstruction) {\n        context.beginPath();\n        context.moveTo.apply(context, p1);\n        context.lineTo.apply(context, p2);\n        context.lineTo.apply(context, p3);\n        context.lineTo.apply(context, p4);\n        context.lineTo.apply(context, p1);\n        if (fillInstruction) {\n            this.alignFill_ = /** @type {boolean} */ (fillInstruction[2]);\n            this.fill_(context);\n        }\n        if (strokeInstruction) {\n            this.setStrokeStyle_(context, \n            /** @type {Array<*>} */ (strokeInstruction));\n            context.stroke();\n        }\n    };\n    /**\n     * @private\n     * @param {number} sheetWidth Width of the sprite sheet.\n     * @param {number} sheetHeight Height of the sprite sheet.\n     * @param {number} centerX X.\n     * @param {number} centerY Y.\n     * @param {number} width Width.\n     * @param {number} height Height.\n     * @param {number} anchorX Anchor X.\n     * @param {number} anchorY Anchor Y.\n     * @param {number} originX Origin X.\n     * @param {number} originY Origin Y.\n     * @param {number} rotation Rotation.\n     * @param {import(\"../../size.js\").Size} scale Scale.\n     * @param {boolean} snapToPixel Snap to pixel.\n     * @param {Array<number>} padding Padding.\n     * @param {boolean} fillStroke Background fill or stroke.\n     * @param {import(\"../../Feature.js\").FeatureLike} feature Feature.\n     * @return {ImageOrLabelDimensions} Dimensions for positioning and decluttering the image or label.\n     */\n    Executor.prototype.calculateImageOrLabelDimensions_ = function (sheetWidth, sheetHeight, centerX, centerY, width, height, anchorX, anchorY, originX, originY, rotation, scale, snapToPixel, padding, fillStroke, feature) {\n        anchorX *= scale[0];\n        anchorY *= scale[1];\n        var x = centerX - anchorX;\n        var y = centerY - anchorY;\n        var w = width + originX > sheetWidth ? sheetWidth - originX : width;\n        var h = height + originY > sheetHeight ? sheetHeight - originY : height;\n        var boxW = padding[3] + w * scale[0] + padding[1];\n        var boxH = padding[0] + h * scale[1] + padding[2];\n        var boxX = x - padding[3];\n        var boxY = y - padding[0];\n        if (fillStroke || rotation !== 0) {\n            p1[0] = boxX;\n            p4[0] = boxX;\n            p1[1] = boxY;\n            p2[1] = boxY;\n            p2[0] = boxX + boxW;\n            p3[0] = p2[0];\n            p3[1] = boxY + boxH;\n            p4[1] = p3[1];\n        }\n        var transform;\n        if (rotation !== 0) {\n            transform = composeTransform(createTransform(), centerX, centerY, 1, 1, rotation, -centerX, -centerY);\n            applyTransform(transform, p1);\n            applyTransform(transform, p2);\n            applyTransform(transform, p3);\n            applyTransform(transform, p4);\n            createOrUpdate(Math.min(p1[0], p2[0], p3[0], p4[0]), Math.min(p1[1], p2[1], p3[1], p4[1]), Math.max(p1[0], p2[0], p3[0], p4[0]), Math.max(p1[1], p2[1], p3[1], p4[1]), tmpExtent);\n        }\n        else {\n            createOrUpdate(Math.min(boxX, boxX + boxW), Math.min(boxY, boxY + boxH), Math.max(boxX, boxX + boxW), Math.max(boxY, boxY + boxH), tmpExtent);\n        }\n        if (snapToPixel) {\n            x = Math.round(x);\n            y = Math.round(y);\n        }\n        return {\n            drawImageX: x,\n            drawImageY: y,\n            drawImageW: w,\n            drawImageH: h,\n            originX: originX,\n            originY: originY,\n            declutterBox: {\n                minX: tmpExtent[0],\n                minY: tmpExtent[1],\n                maxX: tmpExtent[2],\n                maxY: tmpExtent[3],\n                value: feature,\n            },\n            canvasTransform: transform,\n            scale: scale,\n        };\n    };\n    /**\n     * @private\n     * @param {CanvasRenderingContext2D} context Context.\n     * @param {number} contextScale Scale of the context.\n     * @param {import(\"../canvas.js\").Label|HTMLImageElement|HTMLCanvasElement|HTMLVideoElement} imageOrLabel Image.\n     * @param {ImageOrLabelDimensions} dimensions Dimensions.\n     * @param {number} opacity Opacity.\n     * @param {Array<*>} fillInstruction Fill instruction.\n     * @param {Array<*>} strokeInstruction Stroke instruction.\n     * @return {boolean} The image or label was rendered.\n     */\n    Executor.prototype.replayImageOrLabel_ = function (context, contextScale, imageOrLabel, dimensions, opacity, fillInstruction, strokeInstruction) {\n        var fillStroke = !!(fillInstruction || strokeInstruction);\n        var box = dimensions.declutterBox;\n        var canvas = context.canvas;\n        var strokePadding = strokeInstruction\n            ? (strokeInstruction[2] * dimensions.scale[0]) / 2\n            : 0;\n        var intersects = box.minX - strokePadding <= canvas.width / contextScale &&\n            box.maxX + strokePadding >= 0 &&\n            box.minY - strokePadding <= canvas.height / contextScale &&\n            box.maxY + strokePadding >= 0;\n        if (intersects) {\n            if (fillStroke) {\n                this.replayTextBackground_(context, p1, p2, p3, p4, \n                /** @type {Array<*>} */ (fillInstruction), \n                /** @type {Array<*>} */ (strokeInstruction));\n            }\n            drawImageOrLabel(context, dimensions.canvasTransform, opacity, imageOrLabel, dimensions.originX, dimensions.originY, dimensions.drawImageW, dimensions.drawImageH, dimensions.drawImageX, dimensions.drawImageY, dimensions.scale);\n        }\n        return true;\n    };\n    /**\n     * @private\n     * @param {CanvasRenderingContext2D} context Context.\n     */\n    Executor.prototype.fill_ = function (context) {\n        if (this.alignFill_) {\n            var origin_1 = applyTransform(this.renderedTransform_, [0, 0]);\n            var repeatSize = 512 * this.pixelRatio;\n            context.save();\n            context.translate(origin_1[0] % repeatSize, origin_1[1] % repeatSize);\n            context.rotate(this.viewRotation_);\n        }\n        context.fill();\n        if (this.alignFill_) {\n            context.restore();\n        }\n    };\n    /**\n     * @private\n     * @param {CanvasRenderingContext2D} context Context.\n     * @param {Array<*>} instruction Instruction.\n     */\n    Executor.prototype.setStrokeStyle_ = function (context, instruction) {\n        context['strokeStyle'] = /** @type {import(\"../../colorlike.js\").ColorLike} */ (instruction[1]);\n        context.lineWidth = /** @type {number} */ (instruction[2]);\n        context.lineCap = /** @type {CanvasLineCap} */ (instruction[3]);\n        context.lineJoin = /** @type {CanvasLineJoin} */ (instruction[4]);\n        context.miterLimit = /** @type {number} */ (instruction[5]);\n        if (context.setLineDash) {\n            context.lineDashOffset = /** @type {number} */ (instruction[7]);\n            context.setLineDash(/** @type {Array<number>} */ (instruction[6]));\n        }\n    };\n    /**\n     * @private\n     * @param {string} text The text to draw.\n     * @param {string} textKey The key of the text state.\n     * @param {string} strokeKey The key for the stroke state.\n     * @param {string} fillKey The key for the fill state.\n     * @return {{label: import(\"../canvas.js\").Label, anchorX: number, anchorY: number}} The text image and its anchor.\n     */\n    Executor.prototype.drawLabelWithPointPlacement_ = function (text, textKey, strokeKey, fillKey) {\n        var textState = this.textStates[textKey];\n        var label = this.createLabel(text, textKey, fillKey, strokeKey);\n        var strokeState = this.strokeStates[strokeKey];\n        var pixelRatio = this.pixelRatio;\n        var align = horizontalTextAlign(text, textState.textAlign || defaultTextAlign);\n        var baseline = TEXT_ALIGN[textState.textBaseline || defaultTextBaseline];\n        var strokeWidth = strokeState && strokeState.lineWidth ? strokeState.lineWidth : 0;\n        // Remove the 2 pixels we added in createLabel() for the anchor\n        var width = label.width / pixelRatio - 2 * textState.scale[0];\n        var anchorX = align * width + 2 * (0.5 - align) * strokeWidth;\n        var anchorY = (baseline * label.height) / pixelRatio +\n            2 * (0.5 - baseline) * strokeWidth;\n        return {\n            label: label,\n            anchorX: anchorX,\n            anchorY: anchorY,\n        };\n    };\n    /**\n     * @private\n     * @param {CanvasRenderingContext2D} context Context.\n     * @param {number} contextScale Scale of the context.\n     * @param {import(\"../../transform.js\").Transform} transform Transform.\n     * @param {Array<*>} instructions Instructions array.\n     * @param {boolean} snapToPixel Snap point symbols and text to integer pixels.\n     * @param {FeatureCallback<T>=} opt_featureCallback Feature callback.\n     * @param {import(\"../../extent.js\").Extent=} opt_hitExtent Only check\n     *     features that intersect this extent.\n     * @param {import(\"rbush\").default=} opt_declutterTree Declutter tree.\n     * @return {T|undefined} Callback result.\n     * @template T\n     */\n    Executor.prototype.execute_ = function (context, contextScale, transform, instructions, snapToPixel, opt_featureCallback, opt_hitExtent, opt_declutterTree) {\n        /** @type {Array<number>} */\n        var pixelCoordinates;\n        if (this.pixelCoordinates_ && equals(transform, this.renderedTransform_)) {\n            pixelCoordinates = this.pixelCoordinates_;\n        }\n        else {\n            if (!this.pixelCoordinates_) {\n                this.pixelCoordinates_ = [];\n            }\n            pixelCoordinates = transform2D(this.coordinates, 0, this.coordinates.length, 2, transform, this.pixelCoordinates_);\n            transformSetFromArray(this.renderedTransform_, transform);\n        }\n        var i = 0; // instruction index\n        var ii = instructions.length; // end of instructions\n        var d = 0; // data index\n        var dd; // end of per-instruction data\n        var anchorX, anchorY, prevX, prevY, roundX, roundY, image, text, textKey, strokeKey, fillKey;\n        var pendingFill = 0;\n        var pendingStroke = 0;\n        var lastFillInstruction = null;\n        var lastStrokeInstruction = null;\n        var coordinateCache = this.coordinateCache_;\n        var viewRotation = this.viewRotation_;\n        var viewRotationFromTransform = Math.round(Math.atan2(-transform[1], transform[0]) * 1e12) / 1e12;\n        var state = /** @type {import(\"../../render.js\").State} */ ({\n            context: context,\n            pixelRatio: this.pixelRatio,\n            resolution: this.resolution,\n            rotation: viewRotation,\n        });\n        // When the batch size gets too big, performance decreases. 200 is a good\n        // balance between batch size and number of fill/stroke instructions.\n        var batchSize = this.instructions != instructions || this.overlaps ? 0 : 200;\n        var /** @type {import(\"../../Feature.js\").FeatureLike} */ feature;\n        var x, y, currentGeometry;\n        while (i < ii) {\n            var instruction = instructions[i];\n            var type = /** @type {import(\"./Instruction.js\").default} */ (instruction[0]);\n            switch (type) {\n                case CanvasInstruction.BEGIN_GEOMETRY:\n                    feature = /** @type {import(\"../../Feature.js\").FeatureLike} */ (instruction[1]);\n                    currentGeometry = instruction[3];\n                    if (!feature.getGeometry()) {\n                        i = /** @type {number} */ (instruction[2]);\n                    }\n                    else if (opt_hitExtent !== undefined &&\n                        !intersects(opt_hitExtent, currentGeometry.getExtent())) {\n                        i = /** @type {number} */ (instruction[2]) + 1;\n                    }\n                    else {\n                        ++i;\n                    }\n                    break;\n                case CanvasInstruction.BEGIN_PATH:\n                    if (pendingFill > batchSize) {\n                        this.fill_(context);\n                        pendingFill = 0;\n                    }\n                    if (pendingStroke > batchSize) {\n                        context.stroke();\n                        pendingStroke = 0;\n                    }\n                    if (!pendingFill && !pendingStroke) {\n                        context.beginPath();\n                        prevX = NaN;\n                        prevY = NaN;\n                    }\n                    ++i;\n                    break;\n                case CanvasInstruction.CIRCLE:\n                    d = /** @type {number} */ (instruction[1]);\n                    var x1 = pixelCoordinates[d];\n                    var y1 = pixelCoordinates[d + 1];\n                    var x2 = pixelCoordinates[d + 2];\n                    var y2 = pixelCoordinates[d + 3];\n                    var dx = x2 - x1;\n                    var dy = y2 - y1;\n                    var r = Math.sqrt(dx * dx + dy * dy);\n                    context.moveTo(x1 + r, y1);\n                    context.arc(x1, y1, r, 0, 2 * Math.PI, true);\n                    ++i;\n                    break;\n                case CanvasInstruction.CLOSE_PATH:\n                    context.closePath();\n                    ++i;\n                    break;\n                case CanvasInstruction.CUSTOM:\n                    d = /** @type {number} */ (instruction[1]);\n                    dd = instruction[2];\n                    var geometry = /** @type {import(\"../../geom/SimpleGeometry.js\").default} */ (instruction[3]);\n                    var renderer = instruction[4];\n                    var fn = instruction.length == 6 ? instruction[5] : undefined;\n                    state.geometry = geometry;\n                    state.feature = feature;\n                    if (!(i in coordinateCache)) {\n                        coordinateCache[i] = [];\n                    }\n                    var coords = coordinateCache[i];\n                    if (fn) {\n                        fn(pixelCoordinates, d, dd, 2, coords);\n                    }\n                    else {\n                        coords[0] = pixelCoordinates[d];\n                        coords[1] = pixelCoordinates[d + 1];\n                        coords.length = 2;\n                    }\n                    renderer(coords, state);\n                    ++i;\n                    break;\n                case CanvasInstruction.DRAW_IMAGE:\n                    d = /** @type {number} */ (instruction[1]);\n                    dd = /** @type {number} */ (instruction[2]);\n                    image = /** @type {HTMLCanvasElement|HTMLVideoElement|HTMLImageElement} */ (instruction[3]);\n                    // Remaining arguments in DRAW_IMAGE are in alphabetical order\n                    anchorX = /** @type {number} */ (instruction[4]);\n                    anchorY = /** @type {number} */ (instruction[5]);\n                    var height = /** @type {number} */ (instruction[6]);\n                    var opacity = /** @type {number} */ (instruction[7]);\n                    var originX = /** @type {number} */ (instruction[8]);\n                    var originY = /** @type {number} */ (instruction[9]);\n                    var rotateWithView = /** @type {boolean} */ (instruction[10]);\n                    var rotation = /** @type {number} */ (instruction[11]);\n                    var scale = /** @type {import(\"../../size.js\").Size} */ (instruction[12]);\n                    var width = /** @type {number} */ (instruction[13]);\n                    var declutterImageWithText = /** @type {import(\"../canvas.js\").DeclutterImageWithText} */ (instruction[14]);\n                    if (!image && instruction.length >= 19) {\n                        // create label images\n                        text = /** @type {string} */ (instruction[18]);\n                        textKey = /** @type {string} */ (instruction[19]);\n                        strokeKey = /** @type {string} */ (instruction[20]);\n                        fillKey = /** @type {string} */ (instruction[21]);\n                        var labelWithAnchor = this.drawLabelWithPointPlacement_(text, textKey, strokeKey, fillKey);\n                        image = labelWithAnchor.label;\n                        instruction[3] = image;\n                        var textOffsetX = /** @type {number} */ (instruction[22]);\n                        anchorX = (labelWithAnchor.anchorX - textOffsetX) * this.pixelRatio;\n                        instruction[4] = anchorX;\n                        var textOffsetY = /** @type {number} */ (instruction[23]);\n                        anchorY = (labelWithAnchor.anchorY - textOffsetY) * this.pixelRatio;\n                        instruction[5] = anchorY;\n                        height = image.height;\n                        instruction[6] = height;\n                        width = image.width;\n                        instruction[13] = width;\n                    }\n                    var geometryWidths = void 0;\n                    if (instruction.length > 24) {\n                        geometryWidths = /** @type {number} */ (instruction[24]);\n                    }\n                    var padding = void 0, backgroundFill = void 0, backgroundStroke = void 0;\n                    if (instruction.length > 16) {\n                        padding = /** @type {Array<number>} */ (instruction[15]);\n                        backgroundFill = /** @type {boolean} */ (instruction[16]);\n                        backgroundStroke = /** @type {boolean} */ (instruction[17]);\n                    }\n                    else {\n                        padding = defaultPadding;\n                        backgroundFill = false;\n                        backgroundStroke = false;\n                    }\n                    if (rotateWithView && viewRotationFromTransform) {\n                        // Canvas is expected to be rotated to reverse view rotation.\n                        rotation += viewRotation;\n                    }\n                    else if (!rotateWithView && !viewRotationFromTransform) {\n                        // Canvas is not rotated, images need to be rotated back to be north-up.\n                        rotation -= viewRotation;\n                    }\n                    var widthIndex = 0;\n                    for (; d < dd; d += 2) {\n                        if (geometryWidths &&\n                            geometryWidths[widthIndex++] < width / this.pixelRatio) {\n                            continue;\n                        }\n                        var dimensions = this.calculateImageOrLabelDimensions_(image.width, image.height, pixelCoordinates[d], pixelCoordinates[d + 1], width, height, anchorX, anchorY, originX, originY, rotation, scale, snapToPixel, padding, backgroundFill || backgroundStroke, feature);\n                        /** @type {ReplayImageOrLabelArgs} */\n                        var args = [\n                            context,\n                            contextScale,\n                            image,\n                            dimensions,\n                            opacity,\n                            backgroundFill\n                                ? /** @type {Array<*>} */ (lastFillInstruction)\n                                : null,\n                            backgroundStroke\n                                ? /** @type {Array<*>} */ (lastStrokeInstruction)\n                                : null,\n                        ];\n                        var imageArgs = void 0;\n                        var imageDeclutterBox = void 0;\n                        if (opt_declutterTree && declutterImageWithText) {\n                            if (!declutterImageWithText[d]) {\n                                // We now have the image for an image+text combination.\n                                declutterImageWithText[d] = args;\n                                // Don't render anything for now, wait for the text.\n                                continue;\n                            }\n                            imageArgs = declutterImageWithText[d];\n                            delete declutterImageWithText[d];\n                            imageDeclutterBox = getDeclutterBox(imageArgs);\n                            if (opt_declutterTree.collides(imageDeclutterBox)) {\n                                continue;\n                            }\n                        }\n                        if (opt_declutterTree &&\n                            opt_declutterTree.collides(dimensions.declutterBox)) {\n                            continue;\n                        }\n                        if (imageArgs) {\n                            // We now have image and text for an image+text combination.\n                            if (opt_declutterTree) {\n                                opt_declutterTree.insert(imageDeclutterBox);\n                            }\n                            // Render the image before we render the text.\n                            this.replayImageOrLabel_.apply(this, imageArgs);\n                        }\n                        if (opt_declutterTree) {\n                            opt_declutterTree.insert(dimensions.declutterBox);\n                        }\n                        this.replayImageOrLabel_.apply(this, args);\n                    }\n                    ++i;\n                    break;\n                case CanvasInstruction.DRAW_CHARS:\n                    var begin = /** @type {number} */ (instruction[1]);\n                    var end = /** @type {number} */ (instruction[2]);\n                    var baseline = /** @type {number} */ (instruction[3]);\n                    var overflow = /** @type {number} */ (instruction[4]);\n                    fillKey = /** @type {string} */ (instruction[5]);\n                    var maxAngle = /** @type {number} */ (instruction[6]);\n                    var measurePixelRatio = /** @type {number} */ (instruction[7]);\n                    var offsetY = /** @type {number} */ (instruction[8]);\n                    strokeKey = /** @type {string} */ (instruction[9]);\n                    var strokeWidth = /** @type {number} */ (instruction[10]);\n                    text = /** @type {string} */ (instruction[11]);\n                    textKey = /** @type {string} */ (instruction[12]);\n                    var pixelRatioScale = [\n                        /** @type {number} */ (instruction[13]),\n                        /** @type {number} */ (instruction[13]),\n                    ];\n                    var textState = this.textStates[textKey];\n                    var font = textState.font;\n                    var textScale = [\n                        textState.scale[0] * measurePixelRatio,\n                        textState.scale[1] * measurePixelRatio,\n                    ];\n                    var cachedWidths = void 0;\n                    if (font in this.widths_) {\n                        cachedWidths = this.widths_[font];\n                    }\n                    else {\n                        cachedWidths = {};\n                        this.widths_[font] = cachedWidths;\n                    }\n                    var pathLength = lineStringLength(pixelCoordinates, begin, end, 2);\n                    var textLength = Math.abs(textScale[0]) *\n                        measureAndCacheTextWidth(font, text, cachedWidths);\n                    if (overflow || textLength <= pathLength) {\n                        var textAlign = this.textStates[textKey].textAlign;\n                        var startM = (pathLength - textLength) * TEXT_ALIGN[textAlign];\n                        var parts = drawTextOnPath(pixelCoordinates, begin, end, 2, text, startM, maxAngle, Math.abs(textScale[0]), measureAndCacheTextWidth, font, cachedWidths, viewRotationFromTransform ? 0 : this.viewRotation_);\n                        drawChars: if (parts) {\n                            /** @type {Array<ReplayImageOrLabelArgs>} */\n                            var replayImageOrLabelArgs = [];\n                            var c = void 0, cc = void 0, chars = void 0, label = void 0, part = void 0;\n                            if (strokeKey) {\n                                for (c = 0, cc = parts.length; c < cc; ++c) {\n                                    part = parts[c]; // x, y, anchorX, rotation, chunk\n                                    chars = /** @type {string} */ (part[4]);\n                                    label = this.createLabel(chars, textKey, '', strokeKey);\n                                    anchorX =\n                                        /** @type {number} */ (part[2]) +\n                                            (textScale[0] < 0 ? -strokeWidth : strokeWidth);\n                                    anchorY =\n                                        baseline * label.height +\n                                            ((0.5 - baseline) * 2 * strokeWidth * textScale[1]) /\n                                                textScale[0] -\n                                            offsetY;\n                                    var dimensions = this.calculateImageOrLabelDimensions_(label.width, label.height, part[0], part[1], label.width, label.height, anchorX, anchorY, 0, 0, part[3], pixelRatioScale, false, defaultPadding, false, feature);\n                                    if (opt_declutterTree &&\n                                        opt_declutterTree.collides(dimensions.declutterBox)) {\n                                        break drawChars;\n                                    }\n                                    replayImageOrLabelArgs.push([\n                                        context,\n                                        contextScale,\n                                        label,\n                                        dimensions,\n                                        1,\n                                        null,\n                                        null,\n                                    ]);\n                                }\n                            }\n                            if (fillKey) {\n                                for (c = 0, cc = parts.length; c < cc; ++c) {\n                                    part = parts[c]; // x, y, anchorX, rotation, chunk\n                                    chars = /** @type {string} */ (part[4]);\n                                    label = this.createLabel(chars, textKey, fillKey, '');\n                                    anchorX = /** @type {number} */ (part[2]);\n                                    anchorY = baseline * label.height - offsetY;\n                                    var dimensions = this.calculateImageOrLabelDimensions_(label.width, label.height, part[0], part[1], label.width, label.height, anchorX, anchorY, 0, 0, part[3], pixelRatioScale, false, defaultPadding, false, feature);\n                                    if (opt_declutterTree &&\n                                        opt_declutterTree.collides(dimensions.declutterBox)) {\n                                        break drawChars;\n                                    }\n                                    replayImageOrLabelArgs.push([\n                                        context,\n                                        contextScale,\n                                        label,\n                                        dimensions,\n                                        1,\n                                        null,\n                                        null,\n                                    ]);\n                                }\n                            }\n                            if (opt_declutterTree) {\n                                opt_declutterTree.load(replayImageOrLabelArgs.map(getDeclutterBox));\n                            }\n                            for (var i_1 = 0, ii_1 = replayImageOrLabelArgs.length; i_1 < ii_1; ++i_1) {\n                                this.replayImageOrLabel_.apply(this, replayImageOrLabelArgs[i_1]);\n                            }\n                        }\n                    }\n                    ++i;\n                    break;\n                case CanvasInstruction.END_GEOMETRY:\n                    if (opt_featureCallback !== undefined) {\n                        feature = /** @type {import(\"../../Feature.js\").FeatureLike} */ (instruction[1]);\n                        var result = opt_featureCallback(feature, currentGeometry);\n                        if (result) {\n                            return result;\n                        }\n                    }\n                    ++i;\n                    break;\n                case CanvasInstruction.FILL:\n                    if (batchSize) {\n                        pendingFill++;\n                    }\n                    else {\n                        this.fill_(context);\n                    }\n                    ++i;\n                    break;\n                case CanvasInstruction.MOVE_TO_LINE_TO:\n                    d = /** @type {number} */ (instruction[1]);\n                    dd = /** @type {number} */ (instruction[2]);\n                    x = pixelCoordinates[d];\n                    y = pixelCoordinates[d + 1];\n                    roundX = (x + 0.5) | 0;\n                    roundY = (y + 0.5) | 0;\n                    if (roundX !== prevX || roundY !== prevY) {\n                        context.moveTo(x, y);\n                        prevX = roundX;\n                        prevY = roundY;\n                    }\n                    for (d += 2; d < dd; d += 2) {\n                        x = pixelCoordinates[d];\n                        y = pixelCoordinates[d + 1];\n                        roundX = (x + 0.5) | 0;\n                        roundY = (y + 0.5) | 0;\n                        if (d == dd - 2 || roundX !== prevX || roundY !== prevY) {\n                            context.lineTo(x, y);\n                            prevX = roundX;\n                            prevY = roundY;\n                        }\n                    }\n                    ++i;\n                    break;\n                case CanvasInstruction.SET_FILL_STYLE:\n                    lastFillInstruction = instruction;\n                    this.alignFill_ = instruction[2];\n                    if (pendingFill) {\n                        this.fill_(context);\n                        pendingFill = 0;\n                        if (pendingStroke) {\n                            context.stroke();\n                            pendingStroke = 0;\n                        }\n                    }\n                    context.fillStyle = /** @type {import(\"../../colorlike.js\").ColorLike} */ (instruction[1]);\n                    ++i;\n                    break;\n                case CanvasInstruction.SET_STROKE_STYLE:\n                    lastStrokeInstruction = instruction;\n                    if (pendingStroke) {\n                        context.stroke();\n                        pendingStroke = 0;\n                    }\n                    this.setStrokeStyle_(context, /** @type {Array<*>} */ (instruction));\n                    ++i;\n                    break;\n                case CanvasInstruction.STROKE:\n                    if (batchSize) {\n                        pendingStroke++;\n                    }\n                    else {\n                        context.stroke();\n                    }\n                    ++i;\n                    break;\n                default:\n                    ++i; // consume the instruction anyway, to avoid an infinite loop\n                    break;\n            }\n        }\n        if (pendingFill) {\n            this.fill_(context);\n        }\n        if (pendingStroke) {\n            context.stroke();\n        }\n        return undefined;\n    };\n    /**\n     * @param {CanvasRenderingContext2D} context Context.\n     * @param {number} contextScale Scale of the context.\n     * @param {import(\"../../transform.js\").Transform} transform Transform.\n     * @param {number} viewRotation View rotation.\n     * @param {boolean} snapToPixel Snap point symbols and text to integer pixels.\n     * @param {import(\"rbush\").default=} opt_declutterTree Declutter tree.\n     */\n    Executor.prototype.execute = function (context, contextScale, transform, viewRotation, snapToPixel, opt_declutterTree) {\n        this.viewRotation_ = viewRotation;\n        this.execute_(context, contextScale, transform, this.instructions, snapToPixel, undefined, undefined, opt_declutterTree);\n    };\n    /**\n     * @param {CanvasRenderingContext2D} context Context.\n     * @param {import(\"../../transform.js\").Transform} transform Transform.\n     * @param {number} viewRotation View rotation.\n     * @param {FeatureCallback<T>=} opt_featureCallback Feature callback.\n     * @param {import(\"../../extent.js\").Extent=} opt_hitExtent Only check\n     *     features that intersect this extent.\n     * @return {T|undefined} Callback result.\n     * @template T\n     */\n    Executor.prototype.executeHitDetection = function (context, transform, viewRotation, opt_featureCallback, opt_hitExtent) {\n        this.viewRotation_ = viewRotation;\n        return this.execute_(context, 1, transform, this.hitDetectionInstructions, true, opt_featureCallback, opt_hitExtent);\n    };\n    return Executor;\n}());\nexport default Executor;\n//# sourceMappingURL=Executor.js.map","/**\n * @module ol/render/canvas/ExecutorGroup\n */\nimport BuilderType from './BuilderType.js';\nimport Executor from './Executor.js';\nimport { buffer, createEmpty, extendCoordinate } from '../../extent.js';\nimport { compose as composeTransform, create as createTransform, } from '../../transform.js';\nimport { createCanvasContext2D } from '../../dom.js';\nimport { isEmpty } from '../../obj.js';\nimport { numberSafeCompareFunction } from '../../array.js';\nimport { transform2D } from '../../geom/flat/transform.js';\n/**\n * @const\n * @type {Array<import(\"./BuilderType.js\").default>}\n */\nvar ORDER = [\n    BuilderType.POLYGON,\n    BuilderType.CIRCLE,\n    BuilderType.LINE_STRING,\n    BuilderType.IMAGE,\n    BuilderType.TEXT,\n    BuilderType.DEFAULT,\n];\nvar ExecutorGroup = /** @class */ (function () {\n    /**\n     * @param {import(\"../../extent.js\").Extent} maxExtent Max extent for clipping. When a\n     * `maxExtent` was set on the Buillder for this executor group, the same `maxExtent`\n     * should be set here, unless the target context does not exceet that extent (which\n     * can be the case when rendering to tiles).\n     * @param {number} resolution Resolution.\n     * @param {number} pixelRatio Pixel ratio.\n     * @param {boolean} overlaps The executor group can have overlapping geometries.\n     * @param {!Object<string, !Object<import(\"./BuilderType.js\").default, import(\"../canvas.js\").SerializableInstructions>>} allInstructions\n     * The serializable instructions.\n     * @param {number=} opt_renderBuffer Optional rendering buffer.\n     */\n    function ExecutorGroup(maxExtent, resolution, pixelRatio, overlaps, allInstructions, opt_renderBuffer) {\n        /**\n         * @private\n         * @type {import(\"../../extent.js\").Extent}\n         */\n        this.maxExtent_ = maxExtent;\n        /**\n         * @private\n         * @type {boolean}\n         */\n        this.overlaps_ = overlaps;\n        /**\n         * @private\n         * @type {number}\n         */\n        this.pixelRatio_ = pixelRatio;\n        /**\n         * @private\n         * @type {number}\n         */\n        this.resolution_ = resolution;\n        /**\n         * @private\n         * @type {number|undefined}\n         */\n        this.renderBuffer_ = opt_renderBuffer;\n        /**\n         * @private\n         * @type {!Object<string, !Object<import(\"./BuilderType.js\").default, import(\"./Executor\").default>>}\n         */\n        this.executorsByZIndex_ = {};\n        /**\n         * @private\n         * @type {CanvasRenderingContext2D}\n         */\n        this.hitDetectionContext_ = null;\n        /**\n         * @private\n         * @type {import(\"../../transform.js\").Transform}\n         */\n        this.hitDetectionTransform_ = createTransform();\n        this.createExecutors_(allInstructions);\n    }\n    /**\n     * @param {CanvasRenderingContext2D} context Context.\n     * @param {import(\"../../transform.js\").Transform} transform Transform.\n     */\n    ExecutorGroup.prototype.clip = function (context, transform) {\n        var flatClipCoords = this.getClipCoords(transform);\n        context.beginPath();\n        context.moveTo(flatClipCoords[0], flatClipCoords[1]);\n        context.lineTo(flatClipCoords[2], flatClipCoords[3]);\n        context.lineTo(flatClipCoords[4], flatClipCoords[5]);\n        context.lineTo(flatClipCoords[6], flatClipCoords[7]);\n        context.clip();\n    };\n    /**\n     * Create executors and populate them using the provided instructions.\n     * @private\n     * @param {!Object<string, !Object<import(\"./BuilderType.js\").default, import(\"../canvas.js\").SerializableInstructions>>} allInstructions The serializable instructions\n     */\n    ExecutorGroup.prototype.createExecutors_ = function (allInstructions) {\n        for (var zIndex in allInstructions) {\n            var executors = this.executorsByZIndex_[zIndex];\n            if (executors === undefined) {\n                executors = {};\n                this.executorsByZIndex_[zIndex] = executors;\n            }\n            var instructionByZindex = allInstructions[zIndex];\n            var renderBuffer = [this.renderBuffer_ || 0, this.renderBuffer_ || 0];\n            for (var builderType in instructionByZindex) {\n                var instructions = instructionByZindex[builderType];\n                executors[builderType] = new Executor(this.resolution_, this.pixelRatio_, this.overlaps_, instructions, renderBuffer);\n            }\n        }\n    };\n    /**\n     * @param {Array<import(\"./BuilderType.js\").default>} executors Executors.\n     * @return {boolean} Has executors of the provided types.\n     */\n    ExecutorGroup.prototype.hasExecutors = function (executors) {\n        for (var zIndex in this.executorsByZIndex_) {\n            var candidates = this.executorsByZIndex_[zIndex];\n            for (var i = 0, ii = executors.length; i < ii; ++i) {\n                if (executors[i] in candidates) {\n                    return true;\n                }\n            }\n        }\n        return false;\n    };\n    /**\n     * @param {import(\"../../coordinate.js\").Coordinate} coordinate Coordinate.\n     * @param {number} resolution Resolution.\n     * @param {number} rotation Rotation.\n     * @param {number} hitTolerance Hit tolerance in pixels.\n     * @param {function(import(\"../../Feature.js\").FeatureLike, import(\"../../geom/SimpleGeometry.js\").default, number): T} callback Feature callback.\n     * @param {Array<import(\"../../Feature.js\").FeatureLike>} declutteredFeatures Decluttered features.\n     * @return {T|undefined} Callback result.\n     * @template T\n     */\n    ExecutorGroup.prototype.forEachFeatureAtCoordinate = function (coordinate, resolution, rotation, hitTolerance, callback, declutteredFeatures) {\n        hitTolerance = Math.round(hitTolerance);\n        var contextSize = hitTolerance * 2 + 1;\n        var transform = composeTransform(this.hitDetectionTransform_, hitTolerance + 0.5, hitTolerance + 0.5, 1 / resolution, -1 / resolution, -rotation, -coordinate[0], -coordinate[1]);\n        var newContext = !this.hitDetectionContext_;\n        if (newContext) {\n            this.hitDetectionContext_ = createCanvasContext2D(contextSize, contextSize);\n        }\n        var context = this.hitDetectionContext_;\n        if (context.canvas.width !== contextSize ||\n            context.canvas.height !== contextSize) {\n            context.canvas.width = contextSize;\n            context.canvas.height = contextSize;\n        }\n        else if (!newContext) {\n            context.clearRect(0, 0, contextSize, contextSize);\n        }\n        /**\n         * @type {import(\"../../extent.js\").Extent}\n         */\n        var hitExtent;\n        if (this.renderBuffer_ !== undefined) {\n            hitExtent = createEmpty();\n            extendCoordinate(hitExtent, coordinate);\n            buffer(hitExtent, resolution * (this.renderBuffer_ + hitTolerance), hitExtent);\n        }\n        var indexes = getPixelIndexArray(hitTolerance);\n        var builderType;\n        /**\n         * @param {import(\"../../Feature.js\").FeatureLike} feature Feature.\n         * @param {import(\"../../geom/SimpleGeometry.js\").default} geometry Geometry.\n         * @return {T|undefined} Callback result.\n         */\n        function featureCallback(feature, geometry) {\n            var imageData = context.getImageData(0, 0, contextSize, contextSize)\n                .data;\n            for (var i_1 = 0, ii = indexes.length; i_1 < ii; i_1++) {\n                if (imageData[indexes[i_1]] > 0) {\n                    if (!declutteredFeatures ||\n                        (builderType !== BuilderType.IMAGE &&\n                            builderType !== BuilderType.TEXT) ||\n                        declutteredFeatures.indexOf(feature) !== -1) {\n                        var idx = (indexes[i_1] - 3) / 4;\n                        var x = hitTolerance - (idx % contextSize);\n                        var y = hitTolerance - ((idx / contextSize) | 0);\n                        var result_1 = callback(feature, geometry, x * x + y * y);\n                        if (result_1) {\n                            return result_1;\n                        }\n                    }\n                    context.clearRect(0, 0, contextSize, contextSize);\n                    break;\n                }\n            }\n            return undefined;\n        }\n        /** @type {Array<number>} */\n        var zs = Object.keys(this.executorsByZIndex_).map(Number);\n        zs.sort(numberSafeCompareFunction);\n        var i, j, executors, executor, result;\n        for (i = zs.length - 1; i >= 0; --i) {\n            var zIndexKey = zs[i].toString();\n            executors = this.executorsByZIndex_[zIndexKey];\n            for (j = ORDER.length - 1; j >= 0; --j) {\n                builderType = ORDER[j];\n                executor = executors[builderType];\n                if (executor !== undefined) {\n                    result = executor.executeHitDetection(context, transform, rotation, featureCallback, hitExtent);\n                    if (result) {\n                        return result;\n                    }\n                }\n            }\n        }\n        return undefined;\n    };\n    /**\n     * @param {import(\"../../transform.js\").Transform} transform Transform.\n     * @return {Array<number>} Clip coordinates.\n     */\n    ExecutorGroup.prototype.getClipCoords = function (transform) {\n        var maxExtent = this.maxExtent_;\n        if (!maxExtent) {\n            return null;\n        }\n        var minX = maxExtent[0];\n        var minY = maxExtent[1];\n        var maxX = maxExtent[2];\n        var maxY = maxExtent[3];\n        var flatClipCoords = [minX, minY, minX, maxY, maxX, maxY, maxX, minY];\n        transform2D(flatClipCoords, 0, 8, 2, transform, flatClipCoords);\n        return flatClipCoords;\n    };\n    /**\n     * @return {boolean} Is empty.\n     */\n    ExecutorGroup.prototype.isEmpty = function () {\n        return isEmpty(this.executorsByZIndex_);\n    };\n    /**\n     * @param {CanvasRenderingContext2D} context Context.\n     * @param {number} contextScale Scale of the context.\n     * @param {import(\"../../transform.js\").Transform} transform Transform.\n     * @param {number} viewRotation View rotation.\n     * @param {boolean} snapToPixel Snap point symbols and test to integer pixel.\n     * @param {Array<import(\"./BuilderType.js\").default>=} opt_builderTypes Ordered replay types to replay.\n     *     Default is {@link module:ol/render/replay~ORDER}\n     * @param {import(\"rbush\").default=} opt_declutterTree Declutter tree.\n     */\n    ExecutorGroup.prototype.execute = function (context, contextScale, transform, viewRotation, snapToPixel, opt_builderTypes, opt_declutterTree) {\n        /** @type {Array<number>} */\n        var zs = Object.keys(this.executorsByZIndex_).map(Number);\n        zs.sort(numberSafeCompareFunction);\n        // setup clipping so that the parts of over-simplified geometries are not\n        // visible outside the current extent when panning\n        if (this.maxExtent_) {\n            context.save();\n            this.clip(context, transform);\n        }\n        var builderTypes = opt_builderTypes ? opt_builderTypes : ORDER;\n        var i, ii, j, jj, replays, replay;\n        if (opt_declutterTree) {\n            zs.reverse();\n        }\n        for (i = 0, ii = zs.length; i < ii; ++i) {\n            var zIndexKey = zs[i].toString();\n            replays = this.executorsByZIndex_[zIndexKey];\n            for (j = 0, jj = builderTypes.length; j < jj; ++j) {\n                var builderType = builderTypes[j];\n                replay = replays[builderType];\n                if (replay !== undefined) {\n                    replay.execute(context, contextScale, transform, viewRotation, snapToPixel, opt_declutterTree);\n                }\n            }\n        }\n        if (this.maxExtent_) {\n            context.restore();\n        }\n    };\n    return ExecutorGroup;\n}());\n/**\n * This cache is used to store arrays of indexes for calculated pixel circles\n * to increase performance.\n * It is a static property to allow each Replaygroup to access it.\n * @type {Object<number, Array<number>>}\n */\nvar circlePixelIndexArrayCache = {};\n/**\n * This methods creates an array with indexes of all pixels within a circle,\n * ordered by how close they are to the center.\n * A cache is used to increase performance.\n * @param {number} radius Radius.\n * @returns {Array<number>} An array with indexes within a circle.\n */\nexport function getPixelIndexArray(radius) {\n    if (circlePixelIndexArrayCache[radius] !== undefined) {\n        return circlePixelIndexArrayCache[radius];\n    }\n    var size = radius * 2 + 1;\n    var maxDistanceSq = radius * radius;\n    var distances = new Array(maxDistanceSq + 1);\n    for (var i = 0; i <= radius; ++i) {\n        for (var j = 0; j <= radius; ++j) {\n            var distanceSq = i * i + j * j;\n            if (distanceSq > maxDistanceSq) {\n                break;\n            }\n            var distance = distances[distanceSq];\n            if (!distance) {\n                distance = [];\n                distances[distanceSq] = distance;\n            }\n            distance.push(((radius + i) * size + (radius + j)) * 4 + 3);\n            if (i > 0) {\n                distance.push(((radius - i) * size + (radius + j)) * 4 + 3);\n            }\n            if (j > 0) {\n                distance.push(((radius + i) * size + (radius - j)) * 4 + 3);\n                if (i > 0) {\n                    distance.push(((radius - i) * size + (radius - j)) * 4 + 3);\n                }\n            }\n        }\n    }\n    var pixelIndex = [];\n    for (var i = 0, ii = distances.length; i < ii; ++i) {\n        if (distances[i]) {\n            pixelIndex.push.apply(pixelIndex, distances[i]);\n        }\n    }\n    circlePixelIndexArrayCache[radius] = pixelIndex;\n    return pixelIndex;\n}\nexport default ExecutorGroup;\n//# sourceMappingURL=ExecutorGroup.js.map","/**\n * @module ol/render/canvas/Immediate\n */\n// FIXME test, especially polygons with holes and multipolygons\n// FIXME need to handle large thick features (where pixel size matters)\n// FIXME add offset and end to ol/geom/flat/transform~transform2D?\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport GeometryType from '../../geom/GeometryType.js';\nimport VectorContext from '../VectorContext.js';\nimport { asColorLike } from '../../colorlike.js';\nimport { compose as composeTransform, create as createTransform, } from '../../transform.js';\nimport { defaultFillStyle, defaultFont, defaultLineCap, defaultLineDash, defaultLineDashOffset, defaultLineJoin, defaultLineWidth, defaultMiterLimit, defaultStrokeStyle, defaultTextAlign, defaultTextBaseline, } from '../canvas.js';\nimport { equals } from '../../array.js';\nimport { intersects } from '../../extent.js';\nimport { transform2D } from '../../geom/flat/transform.js';\nimport { transformGeom2D } from '../../geom/SimpleGeometry.js';\n/**\n * @classdesc\n * A concrete subclass of {@link module:ol/render/VectorContext} that implements\n * direct rendering of features and geometries to an HTML5 Canvas context.\n * Instances of this class are created internally by the library and\n * provided to application code as vectorContext member of the\n * {@link module:ol/render/Event~RenderEvent} object associated with postcompose, precompose and\n * render events emitted by layers and maps.\n */\nvar CanvasImmediateRenderer = /** @class */ (function (_super) {\n    __extends(CanvasImmediateRenderer, _super);\n    /**\n     * @param {CanvasRenderingContext2D} context Context.\n     * @param {number} pixelRatio Pixel ratio.\n     * @param {import(\"../../extent.js\").Extent} extent Extent.\n     * @param {import(\"../../transform.js\").Transform} transform Transform.\n     * @param {number} viewRotation View rotation.\n     * @param {number=} opt_squaredTolerance Optional squared tolerance for simplification.\n     * @param {import(\"../../proj.js\").TransformFunction=} opt_userTransform Transform from user to view projection.\n     */\n    function CanvasImmediateRenderer(context, pixelRatio, extent, transform, viewRotation, opt_squaredTolerance, opt_userTransform) {\n        var _this = _super.call(this) || this;\n        /**\n         * @private\n         * @type {CanvasRenderingContext2D}\n         */\n        _this.context_ = context;\n        /**\n         * @private\n         * @type {number}\n         */\n        _this.pixelRatio_ = pixelRatio;\n        /**\n         * @private\n         * @type {import(\"../../extent.js\").Extent}\n         */\n        _this.extent_ = extent;\n        /**\n         * @private\n         * @type {import(\"../../transform.js\").Transform}\n         */\n        _this.transform_ = transform;\n        /**\n         * @private\n         * @type {number}\n         */\n        _this.viewRotation_ = viewRotation;\n        /**\n         * @private\n         * @type {number}\n         */\n        _this.squaredTolerance_ = opt_squaredTolerance;\n        /**\n         * @private\n         * @type {import(\"../../proj.js\").TransformFunction}\n         */\n        _this.userTransform_ = opt_userTransform;\n        /**\n         * @private\n         * @type {?import(\"../canvas.js\").FillState}\n         */\n        _this.contextFillState_ = null;\n        /**\n         * @private\n         * @type {?import(\"../canvas.js\").StrokeState}\n         */\n        _this.contextStrokeState_ = null;\n        /**\n         * @private\n         * @type {?import(\"../canvas.js\").TextState}\n         */\n        _this.contextTextState_ = null;\n        /**\n         * @private\n         * @type {?import(\"../canvas.js\").FillState}\n         */\n        _this.fillState_ = null;\n        /**\n         * @private\n         * @type {?import(\"../canvas.js\").StrokeState}\n         */\n        _this.strokeState_ = null;\n        /**\n         * @private\n         * @type {HTMLCanvasElement|HTMLVideoElement|HTMLImageElement}\n         */\n        _this.image_ = null;\n        /**\n         * @private\n         * @type {number}\n         */\n        _this.imageAnchorX_ = 0;\n        /**\n         * @private\n         * @type {number}\n         */\n        _this.imageAnchorY_ = 0;\n        /**\n         * @private\n         * @type {number}\n         */\n        _this.imageHeight_ = 0;\n        /**\n         * @private\n         * @type {number}\n         */\n        _this.imageOpacity_ = 0;\n        /**\n         * @private\n         * @type {number}\n         */\n        _this.imageOriginX_ = 0;\n        /**\n         * @private\n         * @type {number}\n         */\n        _this.imageOriginY_ = 0;\n        /**\n         * @private\n         * @type {boolean}\n         */\n        _this.imageRotateWithView_ = false;\n        /**\n         * @private\n         * @type {number}\n         */\n        _this.imageRotation_ = 0;\n        /**\n         * @private\n         * @type {import(\"../../size.js\").Size}\n         */\n        _this.imageScale_ = [0, 0];\n        /**\n         * @private\n         * @type {number}\n         */\n        _this.imageWidth_ = 0;\n        /**\n         * @private\n         * @type {string}\n         */\n        _this.text_ = '';\n        /**\n         * @private\n         * @type {number}\n         */\n        _this.textOffsetX_ = 0;\n        /**\n         * @private\n         * @type {number}\n         */\n        _this.textOffsetY_ = 0;\n        /**\n         * @private\n         * @type {boolean}\n         */\n        _this.textRotateWithView_ = false;\n        /**\n         * @private\n         * @type {number}\n         */\n        _this.textRotation_ = 0;\n        /**\n         * @private\n         * @type {import(\"../../size.js\").Size}\n         */\n        _this.textScale_ = [0, 0];\n        /**\n         * @private\n         * @type {?import(\"../canvas.js\").FillState}\n         */\n        _this.textFillState_ = null;\n        /**\n         * @private\n         * @type {?import(\"../canvas.js\").StrokeState}\n         */\n        _this.textStrokeState_ = null;\n        /**\n         * @private\n         * @type {?import(\"../canvas.js\").TextState}\n         */\n        _this.textState_ = null;\n        /**\n         * @private\n         * @type {Array<number>}\n         */\n        _this.pixelCoordinates_ = [];\n        /**\n         * @private\n         * @type {import(\"../../transform.js\").Transform}\n         */\n        _this.tmpLocalTransform_ = createTransform();\n        return _this;\n    }\n    /**\n     * @param {Array<number>} flatCoordinates Flat coordinates.\n     * @param {number} offset Offset.\n     * @param {number} end End.\n     * @param {number} stride Stride.\n     * @private\n     */\n    CanvasImmediateRenderer.prototype.drawImages_ = function (flatCoordinates, offset, end, stride) {\n        if (!this.image_) {\n            return;\n        }\n        var pixelCoordinates = transform2D(flatCoordinates, offset, end, 2, this.transform_, this.pixelCoordinates_);\n        var context = this.context_;\n        var localTransform = this.tmpLocalTransform_;\n        var alpha = context.globalAlpha;\n        if (this.imageOpacity_ != 1) {\n            context.globalAlpha = alpha * this.imageOpacity_;\n        }\n        var rotation = this.imageRotation_;\n        if (this.imageRotateWithView_) {\n            rotation += this.viewRotation_;\n        }\n        for (var i = 0, ii = pixelCoordinates.length; i < ii; i += 2) {\n            var x = pixelCoordinates[i] - this.imageAnchorX_;\n            var y = pixelCoordinates[i + 1] - this.imageAnchorY_;\n            if (rotation !== 0 ||\n                this.imageScale_[0] != 1 ||\n                this.imageScale_[1] != 1) {\n                var centerX = x + this.imageAnchorX_;\n                var centerY = y + this.imageAnchorY_;\n                composeTransform(localTransform, centerX, centerY, 1, 1, rotation, -centerX, -centerY);\n                context.setTransform.apply(context, localTransform);\n                context.translate(centerX, centerY);\n                context.scale(this.imageScale_[0], this.imageScale_[1]);\n                context.drawImage(this.image_, this.imageOriginX_, this.imageOriginY_, this.imageWidth_, this.imageHeight_, -this.imageAnchorX_, -this.imageAnchorY_, this.imageWidth_, this.imageHeight_);\n                context.setTransform(1, 0, 0, 1, 0, 0);\n            }\n            else {\n                context.drawImage(this.image_, this.imageOriginX_, this.imageOriginY_, this.imageWidth_, this.imageHeight_, x, y, this.imageWidth_, this.imageHeight_);\n            }\n        }\n        if (this.imageOpacity_ != 1) {\n            context.globalAlpha = alpha;\n        }\n    };\n    /**\n     * @param {Array<number>} flatCoordinates Flat coordinates.\n     * @param {number} offset Offset.\n     * @param {number} end End.\n     * @param {number} stride Stride.\n     * @private\n     */\n    CanvasImmediateRenderer.prototype.drawText_ = function (flatCoordinates, offset, end, stride) {\n        if (!this.textState_ || this.text_ === '') {\n            return;\n        }\n        if (this.textFillState_) {\n            this.setContextFillState_(this.textFillState_);\n        }\n        if (this.textStrokeState_) {\n            this.setContextStrokeState_(this.textStrokeState_);\n        }\n        this.setContextTextState_(this.textState_);\n        var pixelCoordinates = transform2D(flatCoordinates, offset, end, stride, this.transform_, this.pixelCoordinates_);\n        var context = this.context_;\n        var rotation = this.textRotation_;\n        if (this.textRotateWithView_) {\n            rotation += this.viewRotation_;\n        }\n        for (; offset < end; offset += stride) {\n            var x = pixelCoordinates[offset] + this.textOffsetX_;\n            var y = pixelCoordinates[offset + 1] + this.textOffsetY_;\n            if (rotation !== 0 ||\n                this.textScale_[0] != 1 ||\n                this.textScale_[1] != 1) {\n                var localTransform = composeTransform(this.tmpLocalTransform_, x, y, 1, 1, rotation, -x, -y);\n                context.setTransform.apply(context, localTransform);\n                context.translate(x, y);\n                context.scale(this.textScale_[0], this.textScale_[1]);\n                if (this.textStrokeState_) {\n                    context.strokeText(this.text_, 0, 0);\n                }\n                if (this.textFillState_) {\n                    context.fillText(this.text_, 0, 0);\n                }\n                context.setTransform(1, 0, 0, 1, 0, 0);\n            }\n            else {\n                if (this.textStrokeState_) {\n                    context.strokeText(this.text_, x, y);\n                }\n                if (this.textFillState_) {\n                    context.fillText(this.text_, x, y);\n                }\n            }\n        }\n    };\n    /**\n     * @param {Array<number>} flatCoordinates Flat coordinates.\n     * @param {number} offset Offset.\n     * @param {number} end End.\n     * @param {number} stride Stride.\n     * @param {boolean} close Close.\n     * @private\n     * @return {number} end End.\n     */\n    CanvasImmediateRenderer.prototype.moveToLineTo_ = function (flatCoordinates, offset, end, stride, close) {\n        var context = this.context_;\n        var pixelCoordinates = transform2D(flatCoordinates, offset, end, stride, this.transform_, this.pixelCoordinates_);\n        context.moveTo(pixelCoordinates[0], pixelCoordinates[1]);\n        var length = pixelCoordinates.length;\n        if (close) {\n            length -= 2;\n        }\n        for (var i = 2; i < length; i += 2) {\n            context.lineTo(pixelCoordinates[i], pixelCoordinates[i + 1]);\n        }\n        if (close) {\n            context.closePath();\n        }\n        return end;\n    };\n    /**\n     * @param {Array<number>} flatCoordinates Flat coordinates.\n     * @param {number} offset Offset.\n     * @param {Array<number>} ends Ends.\n     * @param {number} stride Stride.\n     * @private\n     * @return {number} End.\n     */\n    CanvasImmediateRenderer.prototype.drawRings_ = function (flatCoordinates, offset, ends, stride) {\n        for (var i = 0, ii = ends.length; i < ii; ++i) {\n            offset = this.moveToLineTo_(flatCoordinates, offset, ends[i], stride, true);\n        }\n        return offset;\n    };\n    /**\n     * Render a circle geometry into the canvas.  Rendering is immediate and uses\n     * the current fill and stroke styles.\n     *\n     * @param {import(\"../../geom/Circle.js\").default} geometry Circle geometry.\n     * @api\n     */\n    CanvasImmediateRenderer.prototype.drawCircle = function (geometry) {\n        if (!intersects(this.extent_, geometry.getExtent())) {\n            return;\n        }\n        if (this.fillState_ || this.strokeState_) {\n            if (this.fillState_) {\n                this.setContextFillState_(this.fillState_);\n            }\n            if (this.strokeState_) {\n                this.setContextStrokeState_(this.strokeState_);\n            }\n            var pixelCoordinates = transformGeom2D(geometry, this.transform_, this.pixelCoordinates_);\n            var dx = pixelCoordinates[2] - pixelCoordinates[0];\n            var dy = pixelCoordinates[3] - pixelCoordinates[1];\n            var radius = Math.sqrt(dx * dx + dy * dy);\n            var context = this.context_;\n            context.beginPath();\n            context.arc(pixelCoordinates[0], pixelCoordinates[1], radius, 0, 2 * Math.PI);\n            if (this.fillState_) {\n                context.fill();\n            }\n            if (this.strokeState_) {\n                context.stroke();\n            }\n        }\n        if (this.text_ !== '') {\n            this.drawText_(geometry.getCenter(), 0, 2, 2);\n        }\n    };\n    /**\n     * Set the rendering style.  Note that since this is an immediate rendering API,\n     * any `zIndex` on the provided style will be ignored.\n     *\n     * @param {import(\"../../style/Style.js\").default} style The rendering style.\n     * @api\n     */\n    CanvasImmediateRenderer.prototype.setStyle = function (style) {\n        this.setFillStrokeStyle(style.getFill(), style.getStroke());\n        this.setImageStyle(style.getImage());\n        this.setTextStyle(style.getText());\n    };\n    /**\n     * @param {import(\"../../transform.js\").Transform} transform Transform.\n     */\n    CanvasImmediateRenderer.prototype.setTransform = function (transform) {\n        this.transform_ = transform;\n    };\n    /**\n     * Render a geometry into the canvas.  Call\n     * {@link module:ol/render/canvas/Immediate#setStyle} first to set the rendering style.\n     *\n     * @param {import(\"../../geom/Geometry.js\").default|import(\"../Feature.js\").default} geometry The geometry to render.\n     * @api\n     */\n    CanvasImmediateRenderer.prototype.drawGeometry = function (geometry) {\n        var type = geometry.getType();\n        switch (type) {\n            case GeometryType.POINT:\n                this.drawPoint(\n                /** @type {import(\"../../geom/Point.js\").default} */ (geometry));\n                break;\n            case GeometryType.LINE_STRING:\n                this.drawLineString(\n                /** @type {import(\"../../geom/LineString.js\").default} */ (geometry));\n                break;\n            case GeometryType.POLYGON:\n                this.drawPolygon(\n                /** @type {import(\"../../geom/Polygon.js\").default} */ (geometry));\n                break;\n            case GeometryType.MULTI_POINT:\n                this.drawMultiPoint(\n                /** @type {import(\"../../geom/MultiPoint.js\").default} */ (geometry));\n                break;\n            case GeometryType.MULTI_LINE_STRING:\n                this.drawMultiLineString(\n                /** @type {import(\"../../geom/MultiLineString.js\").default} */ (geometry));\n                break;\n            case GeometryType.MULTI_POLYGON:\n                this.drawMultiPolygon(\n                /** @type {import(\"../../geom/MultiPolygon.js\").default} */ (geometry));\n                break;\n            case GeometryType.GEOMETRY_COLLECTION:\n                this.drawGeometryCollection(\n                /** @type {import(\"../../geom/GeometryCollection.js\").default} */ (geometry));\n                break;\n            case GeometryType.CIRCLE:\n                this.drawCircle(\n                /** @type {import(\"../../geom/Circle.js\").default} */ (geometry));\n                break;\n            default:\n        }\n    };\n    /**\n     * Render a feature into the canvas.  Note that any `zIndex` on the provided\n     * style will be ignored - features are rendered immediately in the order that\n     * this method is called.  If you need `zIndex` support, you should be using an\n     * {@link module:ol/layer/Vector~VectorLayer} instead.\n     *\n     * @param {import(\"../../Feature.js\").default} feature Feature.\n     * @param {import(\"../../style/Style.js\").default} style Style.\n     * @api\n     */\n    CanvasImmediateRenderer.prototype.drawFeature = function (feature, style) {\n        var geometry = style.getGeometryFunction()(feature);\n        if (!geometry || !intersects(this.extent_, geometry.getExtent())) {\n            return;\n        }\n        this.setStyle(style);\n        this.drawGeometry(geometry);\n    };\n    /**\n     * Render a GeometryCollection to the canvas.  Rendering is immediate and\n     * uses the current styles appropriate for each geometry in the collection.\n     *\n     * @param {import(\"../../geom/GeometryCollection.js\").default} geometry Geometry collection.\n     */\n    CanvasImmediateRenderer.prototype.drawGeometryCollection = function (geometry) {\n        var geometries = geometry.getGeometriesArray();\n        for (var i = 0, ii = geometries.length; i < ii; ++i) {\n            this.drawGeometry(geometries[i]);\n        }\n    };\n    /**\n     * Render a Point geometry into the canvas.  Rendering is immediate and uses\n     * the current style.\n     *\n     * @param {import(\"../../geom/Point.js\").default|import(\"../Feature.js\").default} geometry Point geometry.\n     */\n    CanvasImmediateRenderer.prototype.drawPoint = function (geometry) {\n        if (this.squaredTolerance_) {\n            geometry = /** @type {import(\"../../geom/Point.js\").default} */ (geometry.simplifyTransformed(this.squaredTolerance_, this.userTransform_));\n        }\n        var flatCoordinates = geometry.getFlatCoordinates();\n        var stride = geometry.getStride();\n        if (this.image_) {\n            this.drawImages_(flatCoordinates, 0, flatCoordinates.length, stride);\n        }\n        if (this.text_ !== '') {\n            this.drawText_(flatCoordinates, 0, flatCoordinates.length, stride);\n        }\n    };\n    /**\n     * Render a MultiPoint geometry  into the canvas.  Rendering is immediate and\n     * uses the current style.\n     *\n     * @param {import(\"../../geom/MultiPoint.js\").default|import(\"../Feature.js\").default} geometry MultiPoint geometry.\n     */\n    CanvasImmediateRenderer.prototype.drawMultiPoint = function (geometry) {\n        if (this.squaredTolerance_) {\n            geometry = /** @type {import(\"../../geom/MultiPoint.js\").default} */ (geometry.simplifyTransformed(this.squaredTolerance_, this.userTransform_));\n        }\n        var flatCoordinates = geometry.getFlatCoordinates();\n        var stride = geometry.getStride();\n        if (this.image_) {\n            this.drawImages_(flatCoordinates, 0, flatCoordinates.length, stride);\n        }\n        if (this.text_ !== '') {\n            this.drawText_(flatCoordinates, 0, flatCoordinates.length, stride);\n        }\n    };\n    /**\n     * Render a LineString into the canvas.  Rendering is immediate and uses\n     * the current style.\n     *\n     * @param {import(\"../../geom/LineString.js\").default|import(\"../Feature.js\").default} geometry LineString geometry.\n     */\n    CanvasImmediateRenderer.prototype.drawLineString = function (geometry) {\n        if (this.squaredTolerance_) {\n            geometry = /** @type {import(\"../../geom/LineString.js\").default} */ (geometry.simplifyTransformed(this.squaredTolerance_, this.userTransform_));\n        }\n        if (!intersects(this.extent_, geometry.getExtent())) {\n            return;\n        }\n        if (this.strokeState_) {\n            this.setContextStrokeState_(this.strokeState_);\n            var context = this.context_;\n            var flatCoordinates = geometry.getFlatCoordinates();\n            context.beginPath();\n            this.moveToLineTo_(flatCoordinates, 0, flatCoordinates.length, geometry.getStride(), false);\n            context.stroke();\n        }\n        if (this.text_ !== '') {\n            var flatMidpoint = geometry.getFlatMidpoint();\n            this.drawText_(flatMidpoint, 0, 2, 2);\n        }\n    };\n    /**\n     * Render a MultiLineString geometry into the canvas.  Rendering is immediate\n     * and uses the current style.\n     *\n     * @param {import(\"../../geom/MultiLineString.js\").default|import(\"../Feature.js\").default} geometry MultiLineString geometry.\n     */\n    CanvasImmediateRenderer.prototype.drawMultiLineString = function (geometry) {\n        if (this.squaredTolerance_) {\n            geometry = /** @type {import(\"../../geom/MultiLineString.js\").default} */ (geometry.simplifyTransformed(this.squaredTolerance_, this.userTransform_));\n        }\n        var geometryExtent = geometry.getExtent();\n        if (!intersects(this.extent_, geometryExtent)) {\n            return;\n        }\n        if (this.strokeState_) {\n            this.setContextStrokeState_(this.strokeState_);\n            var context = this.context_;\n            var flatCoordinates = geometry.getFlatCoordinates();\n            var offset = 0;\n            var ends = /** @type {Array<number>} */ (geometry.getEnds());\n            var stride = geometry.getStride();\n            context.beginPath();\n            for (var i = 0, ii = ends.length; i < ii; ++i) {\n                offset = this.moveToLineTo_(flatCoordinates, offset, ends[i], stride, false);\n            }\n            context.stroke();\n        }\n        if (this.text_ !== '') {\n            var flatMidpoints = geometry.getFlatMidpoints();\n            this.drawText_(flatMidpoints, 0, flatMidpoints.length, 2);\n        }\n    };\n    /**\n     * Render a Polygon geometry into the canvas.  Rendering is immediate and uses\n     * the current style.\n     *\n     * @param {import(\"../../geom/Polygon.js\").default|import(\"../Feature.js\").default} geometry Polygon geometry.\n     */\n    CanvasImmediateRenderer.prototype.drawPolygon = function (geometry) {\n        if (this.squaredTolerance_) {\n            geometry = /** @type {import(\"../../geom/Polygon.js\").default} */ (geometry.simplifyTransformed(this.squaredTolerance_, this.userTransform_));\n        }\n        if (!intersects(this.extent_, geometry.getExtent())) {\n            return;\n        }\n        if (this.strokeState_ || this.fillState_) {\n            if (this.fillState_) {\n                this.setContextFillState_(this.fillState_);\n            }\n            if (this.strokeState_) {\n                this.setContextStrokeState_(this.strokeState_);\n            }\n            var context = this.context_;\n            context.beginPath();\n            this.drawRings_(geometry.getOrientedFlatCoordinates(), 0, \n            /** @type {Array<number>} */ (geometry.getEnds()), geometry.getStride());\n            if (this.fillState_) {\n                context.fill();\n            }\n            if (this.strokeState_) {\n                context.stroke();\n            }\n        }\n        if (this.text_ !== '') {\n            var flatInteriorPoint = geometry.getFlatInteriorPoint();\n            this.drawText_(flatInteriorPoint, 0, 2, 2);\n        }\n    };\n    /**\n     * Render MultiPolygon geometry into the canvas.  Rendering is immediate and\n     * uses the current style.\n     * @param {import(\"../../geom/MultiPolygon.js\").default} geometry MultiPolygon geometry.\n     */\n    CanvasImmediateRenderer.prototype.drawMultiPolygon = function (geometry) {\n        if (this.squaredTolerance_) {\n            geometry = /** @type {import(\"../../geom/MultiPolygon.js\").default} */ (geometry.simplifyTransformed(this.squaredTolerance_, this.userTransform_));\n        }\n        if (!intersects(this.extent_, geometry.getExtent())) {\n            return;\n        }\n        if (this.strokeState_ || this.fillState_) {\n            if (this.fillState_) {\n                this.setContextFillState_(this.fillState_);\n            }\n            if (this.strokeState_) {\n                this.setContextStrokeState_(this.strokeState_);\n            }\n            var context = this.context_;\n            var flatCoordinates = geometry.getOrientedFlatCoordinates();\n            var offset = 0;\n            var endss = geometry.getEndss();\n            var stride = geometry.getStride();\n            context.beginPath();\n            for (var i = 0, ii = endss.length; i < ii; ++i) {\n                var ends = endss[i];\n                offset = this.drawRings_(flatCoordinates, offset, ends, stride);\n            }\n            if (this.fillState_) {\n                context.fill();\n            }\n            if (this.strokeState_) {\n                context.stroke();\n            }\n        }\n        if (this.text_ !== '') {\n            var flatInteriorPoints = geometry.getFlatInteriorPoints();\n            this.drawText_(flatInteriorPoints, 0, flatInteriorPoints.length, 2);\n        }\n    };\n    /**\n     * @param {import(\"../canvas.js\").FillState} fillState Fill state.\n     * @private\n     */\n    CanvasImmediateRenderer.prototype.setContextFillState_ = function (fillState) {\n        var context = this.context_;\n        var contextFillState = this.contextFillState_;\n        if (!contextFillState) {\n            context.fillStyle = fillState.fillStyle;\n            this.contextFillState_ = {\n                fillStyle: fillState.fillStyle,\n            };\n        }\n        else {\n            if (contextFillState.fillStyle != fillState.fillStyle) {\n                contextFillState.fillStyle = fillState.fillStyle;\n                context.fillStyle = fillState.fillStyle;\n            }\n        }\n    };\n    /**\n     * @param {import(\"../canvas.js\").StrokeState} strokeState Stroke state.\n     * @private\n     */\n    CanvasImmediateRenderer.prototype.setContextStrokeState_ = function (strokeState) {\n        var context = this.context_;\n        var contextStrokeState = this.contextStrokeState_;\n        if (!contextStrokeState) {\n            context.lineCap = strokeState.lineCap;\n            if (context.setLineDash) {\n                context.setLineDash(strokeState.lineDash);\n                context.lineDashOffset = strokeState.lineDashOffset;\n            }\n            context.lineJoin = strokeState.lineJoin;\n            context.lineWidth = strokeState.lineWidth;\n            context.miterLimit = strokeState.miterLimit;\n            context.strokeStyle = strokeState.strokeStyle;\n            this.contextStrokeState_ = {\n                lineCap: strokeState.lineCap,\n                lineDash: strokeState.lineDash,\n                lineDashOffset: strokeState.lineDashOffset,\n                lineJoin: strokeState.lineJoin,\n                lineWidth: strokeState.lineWidth,\n                miterLimit: strokeState.miterLimit,\n                strokeStyle: strokeState.strokeStyle,\n            };\n        }\n        else {\n            if (contextStrokeState.lineCap != strokeState.lineCap) {\n                contextStrokeState.lineCap = strokeState.lineCap;\n                context.lineCap = strokeState.lineCap;\n            }\n            if (context.setLineDash) {\n                if (!equals(contextStrokeState.lineDash, strokeState.lineDash)) {\n                    context.setLineDash((contextStrokeState.lineDash = strokeState.lineDash));\n                }\n                if (contextStrokeState.lineDashOffset != strokeState.lineDashOffset) {\n                    contextStrokeState.lineDashOffset = strokeState.lineDashOffset;\n                    context.lineDashOffset = strokeState.lineDashOffset;\n                }\n            }\n            if (contextStrokeState.lineJoin != strokeState.lineJoin) {\n                contextStrokeState.lineJoin = strokeState.lineJoin;\n                context.lineJoin = strokeState.lineJoin;\n            }\n            if (contextStrokeState.lineWidth != strokeState.lineWidth) {\n                contextStrokeState.lineWidth = strokeState.lineWidth;\n                context.lineWidth = strokeState.lineWidth;\n            }\n            if (contextStrokeState.miterLimit != strokeState.miterLimit) {\n                contextStrokeState.miterLimit = strokeState.miterLimit;\n                context.miterLimit = strokeState.miterLimit;\n            }\n            if (contextStrokeState.strokeStyle != strokeState.strokeStyle) {\n                contextStrokeState.strokeStyle = strokeState.strokeStyle;\n                context.strokeStyle = strokeState.strokeStyle;\n            }\n        }\n    };\n    /**\n     * @param {import(\"../canvas.js\").TextState} textState Text state.\n     * @private\n     */\n    CanvasImmediateRenderer.prototype.setContextTextState_ = function (textState) {\n        var context = this.context_;\n        var contextTextState = this.contextTextState_;\n        var textAlign = textState.textAlign\n            ? textState.textAlign\n            : defaultTextAlign;\n        if (!contextTextState) {\n            context.font = textState.font;\n            context.textAlign = /** @type {CanvasTextAlign} */ (textAlign);\n            context.textBaseline = /** @type {CanvasTextBaseline} */ (textState.textBaseline);\n            this.contextTextState_ = {\n                font: textState.font,\n                textAlign: textAlign,\n                textBaseline: textState.textBaseline,\n            };\n        }\n        else {\n            if (contextTextState.font != textState.font) {\n                contextTextState.font = textState.font;\n                context.font = textState.font;\n            }\n            if (contextTextState.textAlign != textAlign) {\n                contextTextState.textAlign = /** @type {CanvasTextAlign} */ (textAlign);\n                context.textAlign = /** @type {CanvasTextAlign} */ (textAlign);\n            }\n            if (contextTextState.textBaseline != textState.textBaseline) {\n                contextTextState.textBaseline = /** @type {CanvasTextBaseline} */ (textState.textBaseline);\n                context.textBaseline = /** @type {CanvasTextBaseline} */ (textState.textBaseline);\n            }\n        }\n    };\n    /**\n     * Set the fill and stroke style for subsequent draw operations.  To clear\n     * either fill or stroke styles, pass null for the appropriate parameter.\n     *\n     * @param {import(\"../../style/Fill.js\").default} fillStyle Fill style.\n     * @param {import(\"../../style/Stroke.js\").default} strokeStyle Stroke style.\n     */\n    CanvasImmediateRenderer.prototype.setFillStrokeStyle = function (fillStyle, strokeStyle) {\n        if (!fillStyle) {\n            this.fillState_ = null;\n        }\n        else {\n            var fillStyleColor = fillStyle.getColor();\n            this.fillState_ = {\n                fillStyle: asColorLike(fillStyleColor ? fillStyleColor : defaultFillStyle),\n            };\n        }\n        if (!strokeStyle) {\n            this.strokeState_ = null;\n        }\n        else {\n            var strokeStyleColor = strokeStyle.getColor();\n            var strokeStyleLineCap = strokeStyle.getLineCap();\n            var strokeStyleLineDash = strokeStyle.getLineDash();\n            var strokeStyleLineDashOffset = strokeStyle.getLineDashOffset();\n            var strokeStyleLineJoin = strokeStyle.getLineJoin();\n            var strokeStyleWidth = strokeStyle.getWidth();\n            var strokeStyleMiterLimit = strokeStyle.getMiterLimit();\n            this.strokeState_ = {\n                lineCap: strokeStyleLineCap !== undefined\n                    ? strokeStyleLineCap\n                    : defaultLineCap,\n                lineDash: strokeStyleLineDash ? strokeStyleLineDash : defaultLineDash,\n                lineDashOffset: strokeStyleLineDashOffset\n                    ? strokeStyleLineDashOffset\n                    : defaultLineDashOffset,\n                lineJoin: strokeStyleLineJoin !== undefined\n                    ? strokeStyleLineJoin\n                    : defaultLineJoin,\n                lineWidth: this.pixelRatio_ *\n                    (strokeStyleWidth !== undefined\n                        ? strokeStyleWidth\n                        : defaultLineWidth),\n                miterLimit: strokeStyleMiterLimit !== undefined\n                    ? strokeStyleMiterLimit\n                    : defaultMiterLimit,\n                strokeStyle: asColorLike(strokeStyleColor ? strokeStyleColor : defaultStrokeStyle),\n            };\n        }\n    };\n    /**\n     * Set the image style for subsequent draw operations.  Pass null to remove\n     * the image style.\n     *\n     * @param {import(\"../../style/Image.js\").default} imageStyle Image style.\n     */\n    CanvasImmediateRenderer.prototype.setImageStyle = function (imageStyle) {\n        if (!imageStyle) {\n            this.image_ = null;\n        }\n        else {\n            var imageSize = imageStyle.getSize();\n            if (!imageSize) {\n                this.image_ = null;\n            }\n            else {\n                var imageAnchor = imageStyle.getAnchor();\n                // FIXME pixel ratio\n                var imageImage = imageStyle.getImage(1);\n                var imageOrigin = imageStyle.getOrigin();\n                var imageScale = imageStyle.getScaleArray();\n                this.imageAnchorX_ = imageAnchor[0];\n                this.imageAnchorY_ = imageAnchor[1];\n                this.imageHeight_ = imageSize[1];\n                this.image_ = imageImage;\n                this.imageOpacity_ = imageStyle.getOpacity();\n                this.imageOriginX_ = imageOrigin[0];\n                this.imageOriginY_ = imageOrigin[1];\n                this.imageRotateWithView_ = imageStyle.getRotateWithView();\n                this.imageRotation_ = imageStyle.getRotation();\n                this.imageScale_ = [\n                    this.pixelRatio_ * imageScale[0],\n                    this.pixelRatio_ * imageScale[1],\n                ];\n                this.imageWidth_ = imageSize[0];\n            }\n        }\n    };\n    /**\n     * Set the text style for subsequent draw operations.  Pass null to\n     * remove the text style.\n     *\n     * @param {import(\"../../style/Text.js\").default} textStyle Text style.\n     */\n    CanvasImmediateRenderer.prototype.setTextStyle = function (textStyle) {\n        if (!textStyle) {\n            this.text_ = '';\n        }\n        else {\n            var textFillStyle = textStyle.getFill();\n            if (!textFillStyle) {\n                this.textFillState_ = null;\n            }\n            else {\n                var textFillStyleColor = textFillStyle.getColor();\n                this.textFillState_ = {\n                    fillStyle: asColorLike(textFillStyleColor ? textFillStyleColor : defaultFillStyle),\n                };\n            }\n            var textStrokeStyle = textStyle.getStroke();\n            if (!textStrokeStyle) {\n                this.textStrokeState_ = null;\n            }\n            else {\n                var textStrokeStyleColor = textStrokeStyle.getColor();\n                var textStrokeStyleLineCap = textStrokeStyle.getLineCap();\n                var textStrokeStyleLineDash = textStrokeStyle.getLineDash();\n                var textStrokeStyleLineDashOffset = textStrokeStyle.getLineDashOffset();\n                var textStrokeStyleLineJoin = textStrokeStyle.getLineJoin();\n                var textStrokeStyleWidth = textStrokeStyle.getWidth();\n                var textStrokeStyleMiterLimit = textStrokeStyle.getMiterLimit();\n                this.textStrokeState_ = {\n                    lineCap: textStrokeStyleLineCap !== undefined\n                        ? textStrokeStyleLineCap\n                        : defaultLineCap,\n                    lineDash: textStrokeStyleLineDash\n                        ? textStrokeStyleLineDash\n                        : defaultLineDash,\n                    lineDashOffset: textStrokeStyleLineDashOffset\n                        ? textStrokeStyleLineDashOffset\n                        : defaultLineDashOffset,\n                    lineJoin: textStrokeStyleLineJoin !== undefined\n                        ? textStrokeStyleLineJoin\n                        : defaultLineJoin,\n                    lineWidth: textStrokeStyleWidth !== undefined\n                        ? textStrokeStyleWidth\n                        : defaultLineWidth,\n                    miterLimit: textStrokeStyleMiterLimit !== undefined\n                        ? textStrokeStyleMiterLimit\n                        : defaultMiterLimit,\n                    strokeStyle: asColorLike(textStrokeStyleColor ? textStrokeStyleColor : defaultStrokeStyle),\n                };\n            }\n            var textFont = textStyle.getFont();\n            var textOffsetX = textStyle.getOffsetX();\n            var textOffsetY = textStyle.getOffsetY();\n            var textRotateWithView = textStyle.getRotateWithView();\n            var textRotation = textStyle.getRotation();\n            var textScale = textStyle.getScaleArray();\n            var textText = textStyle.getText();\n            var textTextAlign = textStyle.getTextAlign();\n            var textTextBaseline = textStyle.getTextBaseline();\n            this.textState_ = {\n                font: textFont !== undefined ? textFont : defaultFont,\n                textAlign: textTextAlign !== undefined ? textTextAlign : defaultTextAlign,\n                textBaseline: textTextBaseline !== undefined\n                    ? textTextBaseline\n                    : defaultTextBaseline,\n            };\n            this.text_ = textText !== undefined ? textText : '';\n            this.textOffsetX_ =\n                textOffsetX !== undefined ? this.pixelRatio_ * textOffsetX : 0;\n            this.textOffsetY_ =\n                textOffsetY !== undefined ? this.pixelRatio_ * textOffsetY : 0;\n            this.textRotateWithView_ =\n                textRotateWithView !== undefined ? textRotateWithView : false;\n            this.textRotation_ = textRotation !== undefined ? textRotation : 0;\n            this.textScale_ = [\n                this.pixelRatio_ * textScale[0],\n                this.pixelRatio_ * textScale[1],\n            ];\n        }\n    };\n    return CanvasImmediateRenderer;\n}(VectorContext));\nexport default CanvasImmediateRenderer;\n//# sourceMappingURL=Immediate.js.map","/**\n * @module ol/style/IconAnchorUnits\n */\n/**\n * Icon anchor units. One of 'fraction', 'pixels'.\n * @enum {string}\n */\nexport default {\n    /**\n     * Anchor is a fraction\n     * @api\n     */\n    FRACTION: 'fraction',\n    /**\n     * Anchor is in pixels\n     * @api\n     */\n    PIXELS: 'pixels',\n};\n//# sourceMappingURL=IconAnchorUnits.js.map","/**\n * @module ol/style/IconOrigin\n */\n/**\n * Icon origin. One of 'bottom-left', 'bottom-right', 'top-left', 'top-right'.\n * @enum {string}\n */\nexport default {\n    /**\n     * Origin is at bottom left\n     * @api\n     */\n    BOTTOM_LEFT: 'bottom-left',\n    /**\n     * Origin is at bottom right\n     * @api\n     */\n    BOTTOM_RIGHT: 'bottom-right',\n    /**\n     * Origin is at top left\n     * @api\n     */\n    TOP_LEFT: 'top-left',\n    /**\n     * Origin is at top right\n     * @api\n     */\n    TOP_RIGHT: 'top-right',\n};\n//# sourceMappingURL=IconOrigin.js.map","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n/**\n * @module ol/ImageBase\n */\nimport EventTarget from './events/Target.js';\nimport EventType from './events/EventType.js';\nimport { abstract } from './util.js';\n/**\n * @abstract\n */\nvar ImageBase = /** @class */ (function (_super) {\n    __extends(ImageBase, _super);\n    /**\n     * @param {import(\"./extent.js\").Extent} extent Extent.\n     * @param {number|undefined} resolution Resolution.\n     * @param {number} pixelRatio Pixel ratio.\n     * @param {import(\"./ImageState.js\").default} state State.\n     */\n    function ImageBase(extent, resolution, pixelRatio, state) {\n        var _this = _super.call(this) || this;\n        /**\n         * @protected\n         * @type {import(\"./extent.js\").Extent}\n         */\n        _this.extent = extent;\n        /**\n         * @private\n         * @type {number}\n         */\n        _this.pixelRatio_ = pixelRatio;\n        /**\n         * @protected\n         * @type {number|undefined}\n         */\n        _this.resolution = resolution;\n        /**\n         * @protected\n         * @type {import(\"./ImageState.js\").default}\n         */\n        _this.state = state;\n        return _this;\n    }\n    /**\n     * @protected\n     */\n    ImageBase.prototype.changed = function () {\n        this.dispatchEvent(EventType.CHANGE);\n    };\n    /**\n     * @return {import(\"./extent.js\").Extent} Extent.\n     */\n    ImageBase.prototype.getExtent = function () {\n        return this.extent;\n    };\n    /**\n     * @abstract\n     * @return {HTMLCanvasElement|HTMLImageElement|HTMLVideoElement} Image.\n     */\n    ImageBase.prototype.getImage = function () {\n        return abstract();\n    };\n    /**\n     * @return {number} PixelRatio.\n     */\n    ImageBase.prototype.getPixelRatio = function () {\n        return this.pixelRatio_;\n    };\n    /**\n     * @return {number} Resolution.\n     */\n    ImageBase.prototype.getResolution = function () {\n        return /** @type {number} */ (this.resolution);\n    };\n    /**\n     * @return {import(\"./ImageState.js\").default} State.\n     */\n    ImageBase.prototype.getState = function () {\n        return this.state;\n    };\n    /**\n     * Load not yet loaded URI.\n     * @abstract\n     */\n    ImageBase.prototype.load = function () {\n        abstract();\n    };\n    return ImageBase;\n}(EventTarget));\nexport default ImageBase;\n//# sourceMappingURL=ImageBase.js.map","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n/**\n * @module ol/Image\n */\nimport EventType from './events/EventType.js';\nimport ImageBase from './ImageBase.js';\nimport ImageState from './ImageState.js';\nimport { IMAGE_DECODE } from './has.js';\nimport { getHeight } from './extent.js';\nimport { listenOnce, unlistenByKey } from './events.js';\n/**\n * A function that takes an {@link module:ol/Image~Image} for the image and a\n * `{string}` for the src as arguments. It is supposed to make it so the\n * underlying image {@link module:ol/Image~Image#getImage} is assigned the\n * content specified by the src. If not specified, the default is\n *\n *     function(image, src) {\n *       image.getImage().src = src;\n *     }\n *\n * Providing a custom `imageLoadFunction` can be useful to load images with\n * post requests or - in general - through XHR requests, where the src of the\n * image element would be set to a data URI when the content is loaded.\n *\n * @typedef {function(ImageWrapper, string): void} LoadFunction\n * @api\n */\nvar ImageWrapper = /** @class */ (function (_super) {\n    __extends(ImageWrapper, _super);\n    /**\n     * @param {import(\"./extent.js\").Extent} extent Extent.\n     * @param {number|undefined} resolution Resolution.\n     * @param {number} pixelRatio Pixel ratio.\n     * @param {string} src Image source URI.\n     * @param {?string} crossOrigin Cross origin.\n     * @param {LoadFunction} imageLoadFunction Image load function.\n     */\n    function ImageWrapper(extent, resolution, pixelRatio, src, crossOrigin, imageLoadFunction) {\n        var _this = _super.call(this, extent, resolution, pixelRatio, ImageState.IDLE) || this;\n        /**\n         * @private\n         * @type {string}\n         */\n        _this.src_ = src;\n        /**\n         * @private\n         * @type {HTMLCanvasElement|HTMLImageElement|HTMLVideoElement}\n         */\n        _this.image_ = new Image();\n        if (crossOrigin !== null) {\n            _this.image_.crossOrigin = crossOrigin;\n        }\n        /**\n         * @private\n         * @type {?function():void}\n         */\n        _this.unlisten_ = null;\n        /**\n         * @protected\n         * @type {import(\"./ImageState.js\").default}\n         */\n        _this.state = ImageState.IDLE;\n        /**\n         * @private\n         * @type {LoadFunction}\n         */\n        _this.imageLoadFunction_ = imageLoadFunction;\n        return _this;\n    }\n    /**\n     * @return {HTMLCanvasElement|HTMLImageElement|HTMLVideoElement} Image.\n     * @api\n     */\n    ImageWrapper.prototype.getImage = function () {\n        return this.image_;\n    };\n    /**\n     * Tracks loading or read errors.\n     *\n     * @private\n     */\n    ImageWrapper.prototype.handleImageError_ = function () {\n        this.state = ImageState.ERROR;\n        this.unlistenImage_();\n        this.changed();\n    };\n    /**\n     * Tracks successful image load.\n     *\n     * @private\n     */\n    ImageWrapper.prototype.handleImageLoad_ = function () {\n        if (this.resolution === undefined) {\n            this.resolution = getHeight(this.extent) / this.image_.height;\n        }\n        this.state = ImageState.LOADED;\n        this.unlistenImage_();\n        this.changed();\n    };\n    /**\n     * Load the image or retry if loading previously failed.\n     * Loading is taken care of by the tile queue, and calling this method is\n     * only needed for preloading or for reloading in case of an error.\n     * @api\n     */\n    ImageWrapper.prototype.load = function () {\n        if (this.state == ImageState.IDLE || this.state == ImageState.ERROR) {\n            this.state = ImageState.LOADING;\n            this.changed();\n            this.imageLoadFunction_(this, this.src_);\n            this.unlisten_ = listenImage(this.image_, this.handleImageLoad_.bind(this), this.handleImageError_.bind(this));\n        }\n    };\n    /**\n     * @param {HTMLCanvasElement|HTMLImageElement|HTMLVideoElement} image Image.\n     */\n    ImageWrapper.prototype.setImage = function (image) {\n        this.image_ = image;\n    };\n    /**\n     * Discards event handlers which listen for load completion or errors.\n     *\n     * @private\n     */\n    ImageWrapper.prototype.unlistenImage_ = function () {\n        if (this.unlisten_) {\n            this.unlisten_();\n            this.unlisten_ = null;\n        }\n    };\n    return ImageWrapper;\n}(ImageBase));\n/**\n * @param {HTMLCanvasElement|HTMLImageElement|HTMLVideoElement} image Image element.\n * @param {function():any} loadHandler Load callback function.\n * @param {function():any} errorHandler Error callback function.\n * @return {function():void} Callback to stop listening.\n */\nexport function listenImage(image, loadHandler, errorHandler) {\n    var img = /** @type {HTMLImageElement} */ (image);\n    if (img.src && IMAGE_DECODE) {\n        var promise = img.decode();\n        var listening_1 = true;\n        var unlisten = function () {\n            listening_1 = false;\n        };\n        promise\n            .then(function () {\n            if (listening_1) {\n                loadHandler();\n            }\n        })\n            .catch(function (error) {\n            if (listening_1) {\n                // FIXME: Unconditionally call errorHandler() when this bug is fixed upstream:\n                //        https://bugs.webkit.org/show_bug.cgi?id=198527\n                if (error.name === 'EncodingError' &&\n                    error.message === 'Invalid image type.') {\n                    loadHandler();\n                }\n                else {\n                    errorHandler();\n                }\n            }\n        });\n        return unlisten;\n    }\n    var listenerKeys = [\n        listenOnce(img, EventType.LOAD, loadHandler),\n        listenOnce(img, EventType.ERROR, errorHandler),\n    ];\n    return function unlisten() {\n        listenerKeys.forEach(unlistenByKey);\n    };\n}\nexport default ImageWrapper;\n//# sourceMappingURL=Image.js.map","/**\n * @module ol/style/IconImage\n */\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport EventTarget from '../events/Target.js';\nimport EventType from '../events/EventType.js';\nimport ImageState from '../ImageState.js';\nimport { asString } from '../color.js';\nimport { createCanvasContext2D } from '../dom.js';\nimport { shared as iconImageCache } from './IconImageCache.js';\nimport { listenImage } from '../Image.js';\n/**\n * @type {CanvasRenderingContext2D}\n */\nvar taintedTestContext = null;\nvar IconImage = /** @class */ (function (_super) {\n    __extends(IconImage, _super);\n    /**\n     * @param {HTMLImageElement|HTMLCanvasElement} image Image.\n     * @param {string|undefined} src Src.\n     * @param {import(\"../size.js\").Size} size Size.\n     * @param {?string} crossOrigin Cross origin.\n     * @param {import(\"../ImageState.js\").default} imageState Image state.\n     * @param {import(\"../color.js\").Color} color Color.\n     */\n    function IconImage(image, src, size, crossOrigin, imageState, color) {\n        var _this = _super.call(this) || this;\n        /**\n         * @private\n         * @type {HTMLImageElement|HTMLCanvasElement}\n         */\n        _this.hitDetectionImage_ = null;\n        /**\n         * @private\n         * @type {HTMLImageElement|HTMLCanvasElement}\n         */\n        _this.image_ = !image ? new Image() : image;\n        if (crossOrigin !== null) {\n            /** @type {HTMLImageElement} */ (_this.image_).crossOrigin = crossOrigin;\n        }\n        /**\n         * @private\n         * @type {Object<number, HTMLCanvasElement>}\n         */\n        _this.canvas_ = {};\n        /**\n         * @private\n         * @type {import(\"../color.js\").Color}\n         */\n        _this.color_ = color;\n        /**\n         * @private\n         * @type {?function():void}\n         */\n        _this.unlisten_ = null;\n        /**\n         * @private\n         * @type {import(\"../ImageState.js\").default}\n         */\n        _this.imageState_ = imageState;\n        /**\n         * @private\n         * @type {import(\"../size.js\").Size}\n         */\n        _this.size_ = size;\n        /**\n         * @private\n         * @type {string|undefined}\n         */\n        _this.src_ = src;\n        /**\n         * @private\n         */\n        _this.tainted_;\n        return _this;\n    }\n    /**\n     * @private\n     * @return {boolean} The image canvas is tainted.\n     */\n    IconImage.prototype.isTainted_ = function () {\n        if (this.tainted_ === undefined && this.imageState_ === ImageState.LOADED) {\n            if (!taintedTestContext) {\n                taintedTestContext = createCanvasContext2D(1, 1);\n            }\n            taintedTestContext.drawImage(this.image_, 0, 0);\n            try {\n                taintedTestContext.getImageData(0, 0, 1, 1);\n                this.tainted_ = false;\n            }\n            catch (e) {\n                taintedTestContext = null;\n                this.tainted_ = true;\n            }\n        }\n        return this.tainted_ === true;\n    };\n    /**\n     * @private\n     */\n    IconImage.prototype.dispatchChangeEvent_ = function () {\n        this.dispatchEvent(EventType.CHANGE);\n    };\n    /**\n     * @private\n     */\n    IconImage.prototype.handleImageError_ = function () {\n        this.imageState_ = ImageState.ERROR;\n        this.unlistenImage_();\n        this.dispatchChangeEvent_();\n    };\n    /**\n     * @private\n     */\n    IconImage.prototype.handleImageLoad_ = function () {\n        this.imageState_ = ImageState.LOADED;\n        if (this.size_) {\n            this.image_.width = this.size_[0];\n            this.image_.height = this.size_[1];\n        }\n        else {\n            this.size_ = [this.image_.width, this.image_.height];\n        }\n        this.unlistenImage_();\n        this.dispatchChangeEvent_();\n    };\n    /**\n     * @param {number} pixelRatio Pixel ratio.\n     * @return {HTMLImageElement|HTMLCanvasElement} Image or Canvas element.\n     */\n    IconImage.prototype.getImage = function (pixelRatio) {\n        this.replaceColor_(pixelRatio);\n        return this.canvas_[pixelRatio] ? this.canvas_[pixelRatio] : this.image_;\n    };\n    /**\n     * @param {number} pixelRatio Pixel ratio.\n     * @return {number} Image or Canvas element.\n     */\n    IconImage.prototype.getPixelRatio = function (pixelRatio) {\n        this.replaceColor_(pixelRatio);\n        return this.canvas_[pixelRatio] ? pixelRatio : 1;\n    };\n    /**\n     * @return {import(\"../ImageState.js\").default} Image state.\n     */\n    IconImage.prototype.getImageState = function () {\n        return this.imageState_;\n    };\n    /**\n     * @return {HTMLImageElement|HTMLCanvasElement} Image element.\n     */\n    IconImage.prototype.getHitDetectionImage = function () {\n        if (!this.hitDetectionImage_) {\n            if (this.isTainted_()) {\n                var width = this.size_[0];\n                var height = this.size_[1];\n                var context = createCanvasContext2D(width, height);\n                context.fillRect(0, 0, width, height);\n                this.hitDetectionImage_ = context.canvas;\n            }\n            else {\n                this.hitDetectionImage_ = this.image_;\n            }\n        }\n        return this.hitDetectionImage_;\n    };\n    /**\n     * Get the size of the icon (in pixels).\n     * @return {import(\"../size.js\").Size} Image size.\n     */\n    IconImage.prototype.getSize = function () {\n        return this.size_;\n    };\n    /**\n     * @return {string|undefined} Image src.\n     */\n    IconImage.prototype.getSrc = function () {\n        return this.src_;\n    };\n    /**\n     * Load not yet loaded URI.\n     */\n    IconImage.prototype.load = function () {\n        if (this.imageState_ == ImageState.IDLE) {\n            this.imageState_ = ImageState.LOADING;\n            try {\n                /** @type {HTMLImageElement} */ (this.image_).src = this.src_;\n            }\n            catch (e) {\n                this.handleImageError_();\n            }\n            this.unlisten_ = listenImage(this.image_, this.handleImageLoad_.bind(this), this.handleImageError_.bind(this));\n        }\n    };\n    /**\n     * @param {number} pixelRatio Pixel ratio.\n     * @private\n     */\n    IconImage.prototype.replaceColor_ = function (pixelRatio) {\n        if (!this.color_ || this.canvas_[pixelRatio]) {\n            return;\n        }\n        var canvas = document.createElement('canvas');\n        this.canvas_[pixelRatio] = canvas;\n        canvas.width = Math.ceil(this.image_.width * pixelRatio);\n        canvas.height = Math.ceil(this.image_.height * pixelRatio);\n        var ctx = canvas.getContext('2d');\n        ctx.scale(pixelRatio, pixelRatio);\n        ctx.drawImage(this.image_, 0, 0);\n        ctx.globalCompositeOperation = 'multiply';\n        // Internet Explorer 11 does not support the multiply operation.\n        // If the canvas is tainted in Internet Explorer this still produces\n        // a solid color image with the shape of the icon.\n        if (ctx.globalCompositeOperation === 'multiply' || this.isTainted_()) {\n            ctx.fillStyle = asString(this.color_);\n            ctx.fillRect(0, 0, canvas.width, canvas.height);\n            ctx.globalCompositeOperation = 'destination-in';\n            ctx.drawImage(this.image_, 0, 0);\n        }\n        else {\n            var imgData = ctx.getImageData(0, 0, canvas.width, canvas.height);\n            var data = imgData.data;\n            var r = this.color_[0] / 255.0;\n            var g = this.color_[1] / 255.0;\n            var b = this.color_[2] / 255.0;\n            var a = this.color_[3];\n            for (var i = 0, ii = data.length; i < ii; i += 4) {\n                data[i] *= r;\n                data[i + 1] *= g;\n                data[i + 2] *= b;\n                data[i + 3] *= a;\n            }\n            ctx.putImageData(imgData, 0, 0);\n        }\n    };\n    /**\n     * Discards event handlers which listen for load completion or errors.\n     *\n     * @private\n     */\n    IconImage.prototype.unlistenImage_ = function () {\n        if (this.unlisten_) {\n            this.unlisten_();\n            this.unlisten_ = null;\n        }\n    };\n    return IconImage;\n}(EventTarget));\n/**\n * @param {HTMLImageElement|HTMLCanvasElement} image Image.\n * @param {string} src Src.\n * @param {import(\"../size.js\").Size} size Size.\n * @param {?string} crossOrigin Cross origin.\n * @param {import(\"../ImageState.js\").default} imageState Image state.\n * @param {import(\"../color.js\").Color} color Color.\n * @return {IconImage} Icon image.\n */\nexport function get(image, src, size, crossOrigin, imageState, color) {\n    var iconImage = iconImageCache.get(src, crossOrigin, color);\n    if (!iconImage) {\n        iconImage = new IconImage(image, src, size, crossOrigin, imageState, color);\n        iconImageCache.set(src, crossOrigin, color, iconImage);\n    }\n    return iconImage;\n}\nexport default IconImage;\n//# sourceMappingURL=IconImage.js.map","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n/**\n * @module ol/style/Icon\n */\nimport EventType from '../events/EventType.js';\nimport IconAnchorUnits from './IconAnchorUnits.js';\nimport IconOrigin from './IconOrigin.js';\nimport ImageState from '../ImageState.js';\nimport ImageStyle from './Image.js';\nimport { asArray } from '../color.js';\nimport { assert } from '../asserts.js';\nimport { get as getIconImage } from './IconImage.js';\nimport { getUid } from '../util.js';\n/**\n * @typedef {Object} Options\n * @property {Array<number>} [anchor=[0.5, 0.5]] Anchor. Default value is the icon center.\n * @property {import(\"./IconOrigin.js\").default} [anchorOrigin='top-left'] Origin of the anchor: `bottom-left`, `bottom-right`,\n * `top-left` or `top-right`.\n * @property {import(\"./IconAnchorUnits.js\").default} [anchorXUnits='fraction'] Units in which the anchor x value is\n * specified. A value of `'fraction'` indicates the x value is a fraction of the icon. A value of `'pixels'` indicates\n * the x value in pixels.\n * @property {import(\"./IconAnchorUnits.js\").default} [anchorYUnits='fraction'] Units in which the anchor y value is\n * specified. A value of `'fraction'` indicates the y value is a fraction of the icon. A value of `'pixels'` indicates\n * the y value in pixels.\n * @property {import(\"../color.js\").Color|string} [color] Color to tint the icon. If not specified,\n * the icon will be left as is.\n * @property {null|string} [crossOrigin] The `crossOrigin` attribute for loaded images. Note that you must provide a\n * `crossOrigin` value if you want to access pixel data with the Canvas renderer.\n * See https://developer.mozilla.org/en-US/docs/Web/HTML/CORS_enabled_image for more detail.\n * @property {HTMLImageElement|HTMLCanvasElement} [img] Image object for the icon. If the `src` option is not provided then the\n * provided image must already be loaded. And in that case, it is required\n * to provide the size of the image, with the `imgSize` option.\n * @property {Array<number>} [offset=[0, 0]] Offset, which, together with the size and the offset origin, define the\n * sub-rectangle to use from the original icon image.\n * @property {Array<number>} [displacement=[0,0]] Displacement the icon\n * @property {import(\"./IconOrigin.js\").default} [offsetOrigin='top-left'] Origin of the offset: `bottom-left`, `bottom-right`,\n * `top-left` or `top-right`.\n * @property {number} [opacity=1] Opacity of the icon.\n * @property {number|import(\"../size.js\").Size} [scale=1] Scale.\n * @property {boolean} [rotateWithView=false] Whether to rotate the icon with the view.\n * @property {number} [rotation=0] Rotation in radians (positive rotation clockwise).\n * @property {import(\"../size.js\").Size} [size] Icon size in pixel. Can be used together with `offset` to define the\n * sub-rectangle to use from the origin (sprite) icon image.\n * @property {import(\"../size.js\").Size} [imgSize] Image size in pixels. Only required if `img` is set and `src` is not, and\n * for SVG images in Internet Explorer 11. The provided `imgSize` needs to match the actual size of the image.\n * @property {string} [src] Image source URI.\n */\n/**\n * @classdesc\n * Set icon style for vector features.\n * @api\n */\nvar Icon = /** @class */ (function (_super) {\n    __extends(Icon, _super);\n    /**\n     * @param {Options=} opt_options Options.\n     */\n    function Icon(opt_options) {\n        var _this = this;\n        var options = opt_options || {};\n        /**\n         * @type {number}\n         */\n        var opacity = options.opacity !== undefined ? options.opacity : 1;\n        /**\n         * @type {number}\n         */\n        var rotation = options.rotation !== undefined ? options.rotation : 0;\n        /**\n         * @type {number|import(\"../size.js\").Size}\n         */\n        var scale = options.scale !== undefined ? options.scale : 1;\n        /**\n         * @type {boolean}\n         */\n        var rotateWithView = options.rotateWithView !== undefined ? options.rotateWithView : false;\n        _this = _super.call(this, {\n            opacity: opacity,\n            rotation: rotation,\n            scale: scale,\n            displacement: options.displacement !== undefined ? options.displacement : [0, 0],\n            rotateWithView: rotateWithView,\n        }) || this;\n        /**\n         * @private\n         * @type {Array<number>}\n         */\n        _this.anchor_ = options.anchor !== undefined ? options.anchor : [0.5, 0.5];\n        /**\n         * @private\n         * @type {Array<number>}\n         */\n        _this.normalizedAnchor_ = null;\n        /**\n         * @private\n         * @type {import(\"./IconOrigin.js\").default}\n         */\n        _this.anchorOrigin_ =\n            options.anchorOrigin !== undefined\n                ? options.anchorOrigin\n                : IconOrigin.TOP_LEFT;\n        /**\n         * @private\n         * @type {import(\"./IconAnchorUnits.js\").default}\n         */\n        _this.anchorXUnits_ =\n            options.anchorXUnits !== undefined\n                ? options.anchorXUnits\n                : IconAnchorUnits.FRACTION;\n        /**\n         * @private\n         * @type {import(\"./IconAnchorUnits.js\").default}\n         */\n        _this.anchorYUnits_ =\n            options.anchorYUnits !== undefined\n                ? options.anchorYUnits\n                : IconAnchorUnits.FRACTION;\n        /**\n         * @private\n         * @type {?string}\n         */\n        _this.crossOrigin_ =\n            options.crossOrigin !== undefined ? options.crossOrigin : null;\n        /**\n         * @type {HTMLImageElement|HTMLCanvasElement}\n         */\n        var image = options.img !== undefined ? options.img : null;\n        /**\n         * @type {import(\"../size.js\").Size}\n         */\n        var imgSize = options.imgSize !== undefined ? options.imgSize : null;\n        /**\n         * @type {string|undefined}\n         */\n        var src = options.src;\n        assert(!(src !== undefined && image), 4); // `image` and `src` cannot be provided at the same time\n        assert(!image || (image && imgSize), 5); // `imgSize` must be set when `image` is provided\n        if ((src === undefined || src.length === 0) && image) {\n            src = /** @type {HTMLImageElement} */ (image).src || getUid(image);\n        }\n        assert(src !== undefined && src.length > 0, 6); // A defined and non-empty `src` or `image` must be provided\n        /**\n         * @type {import(\"../ImageState.js\").default}\n         */\n        var imageState = options.src !== undefined ? ImageState.IDLE : ImageState.LOADED;\n        /**\n         * @private\n         * @type {import(\"../color.js\").Color}\n         */\n        _this.color_ = options.color !== undefined ? asArray(options.color) : null;\n        /**\n         * @private\n         * @type {import(\"./IconImage.js\").default}\n         */\n        _this.iconImage_ = getIconImage(image, \n        /** @type {string} */ (src), imgSize, _this.crossOrigin_, imageState, _this.color_);\n        /**\n         * @private\n         * @type {Array<number>}\n         */\n        _this.offset_ = options.offset !== undefined ? options.offset : [0, 0];\n        /**\n         * @private\n         * @type {import(\"./IconOrigin.js\").default}\n         */\n        _this.offsetOrigin_ =\n            options.offsetOrigin !== undefined\n                ? options.offsetOrigin\n                : IconOrigin.TOP_LEFT;\n        /**\n         * @private\n         * @type {Array<number>}\n         */\n        _this.origin_ = null;\n        /**\n         * @private\n         * @type {import(\"../size.js\").Size}\n         */\n        _this.size_ = options.size !== undefined ? options.size : null;\n        return _this;\n    }\n    /**\n     * Clones the style. The underlying Image/HTMLCanvasElement is not cloned.\n     * @return {Icon} The cloned style.\n     * @api\n     */\n    Icon.prototype.clone = function () {\n        var scale = this.getScale();\n        return new Icon({\n            anchor: this.anchor_.slice(),\n            anchorOrigin: this.anchorOrigin_,\n            anchorXUnits: this.anchorXUnits_,\n            anchorYUnits: this.anchorYUnits_,\n            crossOrigin: this.crossOrigin_,\n            color: this.color_ && this.color_.slice\n                ? this.color_.slice()\n                : this.color_ || undefined,\n            src: this.getSrc(),\n            offset: this.offset_.slice(),\n            offsetOrigin: this.offsetOrigin_,\n            size: this.size_ !== null ? this.size_.slice() : undefined,\n            opacity: this.getOpacity(),\n            scale: Array.isArray(scale) ? scale.slice() : scale,\n            rotation: this.getRotation(),\n            rotateWithView: this.getRotateWithView(),\n        });\n    };\n    /**\n     * Get the anchor point in pixels. The anchor determines the center point for the\n     * symbolizer.\n     * @return {Array<number>} Anchor.\n     * @api\n     */\n    Icon.prototype.getAnchor = function () {\n        if (this.normalizedAnchor_) {\n            return this.normalizedAnchor_;\n        }\n        var anchor = this.anchor_;\n        var size = this.getSize();\n        if (this.anchorXUnits_ == IconAnchorUnits.FRACTION ||\n            this.anchorYUnits_ == IconAnchorUnits.FRACTION) {\n            if (!size) {\n                return null;\n            }\n            anchor = this.anchor_.slice();\n            if (this.anchorXUnits_ == IconAnchorUnits.FRACTION) {\n                anchor[0] *= size[0];\n            }\n            if (this.anchorYUnits_ == IconAnchorUnits.FRACTION) {\n                anchor[1] *= size[1];\n            }\n        }\n        if (this.anchorOrigin_ != IconOrigin.TOP_LEFT) {\n            if (!size) {\n                return null;\n            }\n            if (anchor === this.anchor_) {\n                anchor = this.anchor_.slice();\n            }\n            if (this.anchorOrigin_ == IconOrigin.TOP_RIGHT ||\n                this.anchorOrigin_ == IconOrigin.BOTTOM_RIGHT) {\n                anchor[0] = -anchor[0] + size[0];\n            }\n            if (this.anchorOrigin_ == IconOrigin.BOTTOM_LEFT ||\n                this.anchorOrigin_ == IconOrigin.BOTTOM_RIGHT) {\n                anchor[1] = -anchor[1] + size[1];\n            }\n        }\n        this.normalizedAnchor_ = anchor;\n        return this.normalizedAnchor_;\n    };\n    /**\n     * Set the anchor point. The anchor determines the center point for the\n     * symbolizer.\n     *\n     * @param {Array<number>} anchor Anchor.\n     * @api\n     */\n    Icon.prototype.setAnchor = function (anchor) {\n        this.anchor_ = anchor;\n        this.normalizedAnchor_ = null;\n    };\n    /**\n     * Get the icon color.\n     * @return {import(\"../color.js\").Color} Color.\n     * @api\n     */\n    Icon.prototype.getColor = function () {\n        return this.color_;\n    };\n    /**\n     * Get the image icon.\n     * @param {number} pixelRatio Pixel ratio.\n     * @return {HTMLImageElement|HTMLCanvasElement} Image or Canvas element.\n     * @api\n     */\n    Icon.prototype.getImage = function (pixelRatio) {\n        return this.iconImage_.getImage(pixelRatio);\n    };\n    /**\n     * Get the pixel ratio.\n     * @param {number} pixelRatio Pixel ratio.\n     * @return {number} The pixel ration of the image.\n     * @api\n     */\n    Icon.prototype.getPixelRatio = function (pixelRatio) {\n        return this.iconImage_.getPixelRatio(pixelRatio);\n    };\n    /**\n     * @return {import(\"../size.js\").Size} Image size.\n     */\n    Icon.prototype.getImageSize = function () {\n        return this.iconImage_.getSize();\n    };\n    /**\n     * @return {import(\"../size.js\").Size} Size of the hit-detection image.\n     */\n    Icon.prototype.getHitDetectionImageSize = function () {\n        return this.getImageSize();\n    };\n    /**\n     * @return {import(\"../ImageState.js\").default} Image state.\n     */\n    Icon.prototype.getImageState = function () {\n        return this.iconImage_.getImageState();\n    };\n    /**\n     * @return {HTMLImageElement|HTMLCanvasElement} Image element.\n     */\n    Icon.prototype.getHitDetectionImage = function () {\n        return this.iconImage_.getHitDetectionImage();\n    };\n    /**\n     * Get the origin of the symbolizer.\n     * @return {Array<number>} Origin.\n     * @api\n     */\n    Icon.prototype.getOrigin = function () {\n        if (this.origin_) {\n            return this.origin_;\n        }\n        var offset = this.offset_;\n        var displacement = this.getDisplacement();\n        if (this.offsetOrigin_ != IconOrigin.TOP_LEFT) {\n            var size = this.getSize();\n            var iconImageSize = this.iconImage_.getSize();\n            if (!size || !iconImageSize) {\n                return null;\n            }\n            offset = offset.slice();\n            if (this.offsetOrigin_ == IconOrigin.TOP_RIGHT ||\n                this.offsetOrigin_ == IconOrigin.BOTTOM_RIGHT) {\n                offset[0] = iconImageSize[0] - size[0] - offset[0];\n            }\n            if (this.offsetOrigin_ == IconOrigin.BOTTOM_LEFT ||\n                this.offsetOrigin_ == IconOrigin.BOTTOM_RIGHT) {\n                offset[1] = iconImageSize[1] - size[1] - offset[1];\n            }\n        }\n        offset[0] += displacement[0];\n        offset[1] += displacement[1];\n        this.origin_ = offset;\n        return this.origin_;\n    };\n    /**\n     * Get the image URL.\n     * @return {string|undefined} Image src.\n     * @api\n     */\n    Icon.prototype.getSrc = function () {\n        return this.iconImage_.getSrc();\n    };\n    /**\n     * Get the size of the icon (in pixels).\n     * @return {import(\"../size.js\").Size} Image size.\n     * @api\n     */\n    Icon.prototype.getSize = function () {\n        return !this.size_ ? this.iconImage_.getSize() : this.size_;\n    };\n    /**\n     * @param {function(import(\"../events/Event.js\").default): void} listener Listener function.\n     */\n    Icon.prototype.listenImageChange = function (listener) {\n        this.iconImage_.addEventListener(EventType.CHANGE, listener);\n    };\n    /**\n     * Load not yet loaded URI.\n     * When rendering a feature with an icon style, the vector renderer will\n     * automatically call this method. However, you might want to call this\n     * method yourself for preloading or other purposes.\n     * @api\n     */\n    Icon.prototype.load = function () {\n        this.iconImage_.load();\n    };\n    /**\n     * @param {function(import(\"../events/Event.js\").default): void} listener Listener function.\n     */\n    Icon.prototype.unlistenImageChange = function (listener) {\n        this.iconImage_.removeEventListener(EventType.CHANGE, listener);\n    };\n    return Icon;\n}(ImageStyle));\nexport default Icon;\n//# sourceMappingURL=Icon.js.map","/**\n * @module ol/renderer/vector\n */\nimport BuilderType from '../render/canvas/BuilderType.js';\nimport GeometryType from '../geom/GeometryType.js';\nimport ImageState from '../ImageState.js';\nimport { getUid } from '../util.js';\n/**\n * Feature callback. The callback will be called with three arguments. The first\n * argument is one {@link module:ol/Feature feature} or {@link module:ol/render/Feature render feature}\n * at the pixel, the second is the {@link module:ol/layer/Layer layer} of the feature and will be null for\n * unmanaged layers. The third is the {@link module:ol/geom/SimpleGeometry} of the feature. For features\n * with a GeometryCollection geometry, it will be the first detected geometry from the collection.\n * @template T\n * @typedef {function(import(\"../Feature.js\").FeatureLike, import(\"../layer/Layer.js\").default, import(\"../geom/SimpleGeometry.js\").default): T} FeatureCallback\n */\n/**\n * Tolerance for geometry simplification in device pixels.\n * @type {number}\n */\nvar SIMPLIFY_TOLERANCE = 0.5;\n/**\n * @const\n * @type {Object<import(\"../geom/GeometryType.js\").default,\n *                function(import(\"../render/canvas/BuilderGroup.js\").default, import(\"../geom/Geometry.js\").default,\n *                         import(\"../style/Style.js\").default, Object): void>}\n */\nvar GEOMETRY_RENDERERS = {\n    'Point': renderPointGeometry,\n    'LineString': renderLineStringGeometry,\n    'Polygon': renderPolygonGeometry,\n    'MultiPoint': renderMultiPointGeometry,\n    'MultiLineString': renderMultiLineStringGeometry,\n    'MultiPolygon': renderMultiPolygonGeometry,\n    'GeometryCollection': renderGeometryCollectionGeometry,\n    'Circle': renderCircleGeometry,\n};\n/**\n * @param {import(\"../Feature.js\").FeatureLike} feature1 Feature 1.\n * @param {import(\"../Feature.js\").FeatureLike} feature2 Feature 2.\n * @return {number} Order.\n */\nexport function defaultOrder(feature1, feature2) {\n    return parseInt(getUid(feature1), 10) - parseInt(getUid(feature2), 10);\n}\n/**\n * @param {number} resolution Resolution.\n * @param {number} pixelRatio Pixel ratio.\n * @return {number} Squared pixel tolerance.\n */\nexport function getSquaredTolerance(resolution, pixelRatio) {\n    var tolerance = getTolerance(resolution, pixelRatio);\n    return tolerance * tolerance;\n}\n/**\n * @param {number} resolution Resolution.\n * @param {number} pixelRatio Pixel ratio.\n * @return {number} Pixel tolerance.\n */\nexport function getTolerance(resolution, pixelRatio) {\n    return (SIMPLIFY_TOLERANCE * resolution) / pixelRatio;\n}\n/**\n * @param {import(\"../render/canvas/BuilderGroup.js\").default} builderGroup Builder group.\n * @param {import(\"../geom/Circle.js\").default} geometry Geometry.\n * @param {import(\"../style/Style.js\").default} style Style.\n * @param {import(\"../Feature.js\").default} feature Feature.\n * @param {import(\"../render/canvas/BuilderGroup.js\").default=} opt_declutterBuilderGroup Builder for decluttering.\n */\nfunction renderCircleGeometry(builderGroup, geometry, style, feature, opt_declutterBuilderGroup) {\n    var fillStyle = style.getFill();\n    var strokeStyle = style.getStroke();\n    if (fillStyle || strokeStyle) {\n        var circleReplay = builderGroup.getBuilder(style.getZIndex(), BuilderType.CIRCLE);\n        circleReplay.setFillStrokeStyle(fillStyle, strokeStyle);\n        circleReplay.drawCircle(geometry, feature);\n    }\n    var textStyle = style.getText();\n    if (textStyle && textStyle.getText()) {\n        var textReplay = (opt_declutterBuilderGroup || builderGroup).getBuilder(style.getZIndex(), BuilderType.TEXT);\n        textReplay.setTextStyle(textStyle);\n        textReplay.drawText(geometry, feature);\n    }\n}\n/**\n * @param {import(\"../render/canvas/BuilderGroup.js\").default} replayGroup Replay group.\n * @param {import(\"../Feature.js\").FeatureLike} feature Feature.\n * @param {import(\"../style/Style.js\").default} style Style.\n * @param {number} squaredTolerance Squared tolerance.\n * @param {function(import(\"../events/Event.js\").default): void} listener Listener function.\n * @param {import(\"../proj.js\").TransformFunction} [opt_transform] Transform from user to view projection.\n * @param {import(\"../render/canvas/BuilderGroup.js\").default=} opt_declutterBuilderGroup Builder for decluttering.\n * @return {boolean} `true` if style is loading.\n */\nexport function renderFeature(replayGroup, feature, style, squaredTolerance, listener, opt_transform, opt_declutterBuilderGroup) {\n    var loading = false;\n    var imageStyle = style.getImage();\n    if (imageStyle) {\n        var imageState = imageStyle.getImageState();\n        if (imageState == ImageState.LOADED || imageState == ImageState.ERROR) {\n            imageStyle.unlistenImageChange(listener);\n        }\n        else {\n            if (imageState == ImageState.IDLE) {\n                imageStyle.load();\n            }\n            imageState = imageStyle.getImageState();\n            imageStyle.listenImageChange(listener);\n            loading = true;\n        }\n    }\n    renderFeatureInternal(replayGroup, feature, style, squaredTolerance, opt_transform, opt_declutterBuilderGroup);\n    return loading;\n}\n/**\n * @param {import(\"../render/canvas/BuilderGroup.js\").default} replayGroup Replay group.\n * @param {import(\"../Feature.js\").FeatureLike} feature Feature.\n * @param {import(\"../style/Style.js\").default} style Style.\n * @param {number} squaredTolerance Squared tolerance.\n * @param {import(\"../proj.js\").TransformFunction} [opt_transform] Optional transform function.\n * @param {import(\"../render/canvas/BuilderGroup.js\").default=} opt_declutterBuilderGroup Builder for decluttering.\n */\nfunction renderFeatureInternal(replayGroup, feature, style, squaredTolerance, opt_transform, opt_declutterBuilderGroup) {\n    var geometry = style.getGeometryFunction()(feature);\n    if (!geometry) {\n        return;\n    }\n    var simplifiedGeometry = geometry.simplifyTransformed(squaredTolerance, opt_transform);\n    var renderer = style.getRenderer();\n    if (renderer) {\n        renderGeometry(replayGroup, simplifiedGeometry, style, feature);\n    }\n    else {\n        var geometryRenderer = GEOMETRY_RENDERERS[simplifiedGeometry.getType()];\n        geometryRenderer(replayGroup, simplifiedGeometry, style, feature, opt_declutterBuilderGroup);\n    }\n}\n/**\n * @param {import(\"../render/canvas/BuilderGroup.js\").default} replayGroup Replay group.\n * @param {import(\"../geom/Geometry.js\").default|import(\"../render/Feature.js\").default} geometry Geometry.\n * @param {import(\"../style/Style.js\").default} style Style.\n * @param {import(\"../Feature.js\").FeatureLike} feature Feature.\n */\nfunction renderGeometry(replayGroup, geometry, style, feature) {\n    if (geometry.getType() == GeometryType.GEOMETRY_COLLECTION) {\n        var geometries = /** @type {import(\"../geom/GeometryCollection.js\").default} */ (geometry).getGeometries();\n        for (var i = 0, ii = geometries.length; i < ii; ++i) {\n            renderGeometry(replayGroup, geometries[i], style, feature);\n        }\n        return;\n    }\n    var replay = replayGroup.getBuilder(style.getZIndex(), BuilderType.DEFAULT);\n    replay.drawCustom(\n    /** @type {import(\"../geom/SimpleGeometry.js\").default} */ (geometry), feature, style.getRenderer());\n}\n/**\n * @param {import(\"../render/canvas/BuilderGroup.js\").default} replayGroup Replay group.\n * @param {import(\"../geom/GeometryCollection.js\").default} geometry Geometry.\n * @param {import(\"../style/Style.js\").default} style Style.\n * @param {import(\"../Feature.js\").default} feature Feature.\n * @param {import(\"../render/canvas/BuilderGroup.js\").default=} opt_declutterBuilderGroup Builder for decluttering.\n */\nfunction renderGeometryCollectionGeometry(replayGroup, geometry, style, feature, opt_declutterBuilderGroup) {\n    var geometries = geometry.getGeometriesArray();\n    var i, ii;\n    for (i = 0, ii = geometries.length; i < ii; ++i) {\n        var geometryRenderer = GEOMETRY_RENDERERS[geometries[i].getType()];\n        geometryRenderer(replayGroup, geometries[i], style, feature, opt_declutterBuilderGroup);\n    }\n}\n/**\n * @param {import(\"../render/canvas/BuilderGroup.js\").default} builderGroup Replay group.\n * @param {import(\"../geom/LineString.js\").default|import(\"../render/Feature.js\").default} geometry Geometry.\n * @param {import(\"../style/Style.js\").default} style Style.\n * @param {import(\"../Feature.js\").FeatureLike} feature Feature.\n * @param {import(\"../render/canvas/BuilderGroup.js\").default=} opt_declutterBuilderGroup Builder for decluttering.\n */\nfunction renderLineStringGeometry(builderGroup, geometry, style, feature, opt_declutterBuilderGroup) {\n    var strokeStyle = style.getStroke();\n    if (strokeStyle) {\n        var lineStringReplay = builderGroup.getBuilder(style.getZIndex(), BuilderType.LINE_STRING);\n        lineStringReplay.setFillStrokeStyle(null, strokeStyle);\n        lineStringReplay.drawLineString(geometry, feature);\n    }\n    var textStyle = style.getText();\n    if (textStyle && textStyle.getText()) {\n        var textReplay = (opt_declutterBuilderGroup || builderGroup).getBuilder(style.getZIndex(), BuilderType.TEXT);\n        textReplay.setTextStyle(textStyle);\n        textReplay.drawText(geometry, feature);\n    }\n}\n/**\n * @param {import(\"../render/canvas/BuilderGroup.js\").default} builderGroup Replay group.\n * @param {import(\"../geom/MultiLineString.js\").default|import(\"../render/Feature.js\").default} geometry Geometry.\n * @param {import(\"../style/Style.js\").default} style Style.\n * @param {import(\"../Feature.js\").FeatureLike} feature Feature.\n * @param {import(\"../render/canvas/BuilderGroup.js\").default=} opt_declutterBuilderGroup Builder for decluttering.\n */\nfunction renderMultiLineStringGeometry(builderGroup, geometry, style, feature, opt_declutterBuilderGroup) {\n    var strokeStyle = style.getStroke();\n    if (strokeStyle) {\n        var lineStringReplay = builderGroup.getBuilder(style.getZIndex(), BuilderType.LINE_STRING);\n        lineStringReplay.setFillStrokeStyle(null, strokeStyle);\n        lineStringReplay.drawMultiLineString(geometry, feature);\n    }\n    var textStyle = style.getText();\n    if (textStyle && textStyle.getText()) {\n        var textReplay = (opt_declutterBuilderGroup || builderGroup).getBuilder(style.getZIndex(), BuilderType.TEXT);\n        textReplay.setTextStyle(textStyle);\n        textReplay.drawText(geometry, feature);\n    }\n}\n/**\n * @param {import(\"../render/canvas/BuilderGroup.js\").default} builderGroup Replay group.\n * @param {import(\"../geom/MultiPolygon.js\").default} geometry Geometry.\n * @param {import(\"../style/Style.js\").default} style Style.\n * @param {import(\"../Feature.js\").default} feature Feature.\n * @param {import(\"../render/canvas/BuilderGroup.js\").default=} opt_declutterBuilderGroup Builder for decluttering.\n */\nfunction renderMultiPolygonGeometry(builderGroup, geometry, style, feature, opt_declutterBuilderGroup) {\n    var fillStyle = style.getFill();\n    var strokeStyle = style.getStroke();\n    if (strokeStyle || fillStyle) {\n        var polygonReplay = builderGroup.getBuilder(style.getZIndex(), BuilderType.POLYGON);\n        polygonReplay.setFillStrokeStyle(fillStyle, strokeStyle);\n        polygonReplay.drawMultiPolygon(geometry, feature);\n    }\n    var textStyle = style.getText();\n    if (textStyle && textStyle.getText()) {\n        var textReplay = (opt_declutterBuilderGroup || builderGroup).getBuilder(style.getZIndex(), BuilderType.TEXT);\n        textReplay.setTextStyle(textStyle);\n        textReplay.drawText(geometry, feature);\n    }\n}\n/**\n * @param {import(\"../render/canvas/BuilderGroup.js\").default} builderGroup Replay group.\n * @param {import(\"../geom/Point.js\").default|import(\"../render/Feature.js\").default} geometry Geometry.\n * @param {import(\"../style/Style.js\").default} style Style.\n * @param {import(\"../Feature.js\").FeatureLike} feature Feature.\n * @param {import(\"../render/canvas/BuilderGroup.js\").default=} opt_declutterBuilderGroup Builder for decluttering.\n */\nfunction renderPointGeometry(builderGroup, geometry, style, feature, opt_declutterBuilderGroup) {\n    var imageStyle = style.getImage();\n    var textStyle = style.getText();\n    /** @type {import(\"../render/canvas.js\").DeclutterImageWithText} */\n    var declutterImageWithText;\n    if (opt_declutterBuilderGroup) {\n        builderGroup = opt_declutterBuilderGroup;\n        declutterImageWithText =\n            imageStyle && textStyle && textStyle.getText() ? {} : undefined;\n    }\n    if (imageStyle) {\n        if (imageStyle.getImageState() != ImageState.LOADED) {\n            return;\n        }\n        var imageReplay = builderGroup.getBuilder(style.getZIndex(), BuilderType.IMAGE);\n        imageReplay.setImageStyle(imageStyle, declutterImageWithText);\n        imageReplay.drawPoint(geometry, feature);\n    }\n    if (textStyle && textStyle.getText()) {\n        var textReplay = builderGroup.getBuilder(style.getZIndex(), BuilderType.TEXT);\n        textReplay.setTextStyle(textStyle, declutterImageWithText);\n        textReplay.drawText(geometry, feature);\n    }\n}\n/**\n * @param {import(\"../render/canvas/BuilderGroup.js\").default} builderGroup Replay group.\n * @param {import(\"../geom/MultiPoint.js\").default|import(\"../render/Feature.js\").default} geometry Geometry.\n * @param {import(\"../style/Style.js\").default} style Style.\n * @param {import(\"../Feature.js\").FeatureLike} feature Feature.\n * @param {import(\"../render/canvas/BuilderGroup.js\").default=} opt_declutterBuilderGroup Builder for decluttering.\n */\nfunction renderMultiPointGeometry(builderGroup, geometry, style, feature, opt_declutterBuilderGroup) {\n    var imageStyle = style.getImage();\n    var textStyle = style.getText();\n    /** @type {import(\"../render/canvas.js\").DeclutterImageWithText} */\n    var declutterImageWithText;\n    if (opt_declutterBuilderGroup) {\n        builderGroup = opt_declutterBuilderGroup;\n        declutterImageWithText =\n            imageStyle && textStyle && textStyle.getText() ? {} : undefined;\n    }\n    if (imageStyle) {\n        if (imageStyle.getImageState() != ImageState.LOADED) {\n            return;\n        }\n        var imageReplay = builderGroup.getBuilder(style.getZIndex(), BuilderType.IMAGE);\n        imageReplay.setImageStyle(imageStyle, declutterImageWithText);\n        imageReplay.drawMultiPoint(geometry, feature);\n    }\n    if (textStyle && textStyle.getText()) {\n        var textReplay = (opt_declutterBuilderGroup || builderGroup).getBuilder(style.getZIndex(), BuilderType.TEXT);\n        textReplay.setTextStyle(textStyle, declutterImageWithText);\n        textReplay.drawText(geometry, feature);\n    }\n}\n/**\n * @param {import(\"../render/canvas/BuilderGroup.js\").default} builderGroup Replay group.\n * @param {import(\"../geom/Polygon.js\").default|import(\"../render/Feature.js\").default} geometry Geometry.\n * @param {import(\"../style/Style.js\").default} style Style.\n * @param {import(\"../Feature.js\").FeatureLike} feature Feature.\n * @param {import(\"../render/canvas/BuilderGroup.js\").default=} opt_declutterBuilderGroup Builder for decluttering.\n */\nfunction renderPolygonGeometry(builderGroup, geometry, style, feature, opt_declutterBuilderGroup) {\n    var fillStyle = style.getFill();\n    var strokeStyle = style.getStroke();\n    if (fillStyle || strokeStyle) {\n        var polygonReplay = builderGroup.getBuilder(style.getZIndex(), BuilderType.POLYGON);\n        polygonReplay.setFillStrokeStyle(fillStyle, strokeStyle);\n        polygonReplay.drawPolygon(geometry, feature);\n    }\n    var textStyle = style.getText();\n    if (textStyle && textStyle.getText()) {\n        var textReplay = (opt_declutterBuilderGroup || builderGroup).getBuilder(style.getZIndex(), BuilderType.TEXT);\n        textReplay.setTextStyle(textStyle);\n        textReplay.drawText(geometry, feature);\n    }\n}\n//# sourceMappingURL=vector.js.map","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n/**\n * @module ol/renderer/canvas/VectorLayer\n */\nimport CanvasBuilderGroup from '../../render/canvas/BuilderGroup.js';\nimport CanvasLayerRenderer from './Layer.js';\nimport ExecutorGroup from '../../render/canvas/ExecutorGroup.js';\nimport ViewHint from '../../ViewHint.js';\nimport { apply, makeInverse, makeScale, toString as transformToString, } from '../../transform.js';\nimport { buffer, containsExtent, createEmpty, getWidth, intersects as intersectsExtent, wrapX as wrapExtentX, } from '../../extent.js';\nimport { createHitDetectionImageData, hitDetect, } from '../../render/canvas/hitdetect.js';\nimport { defaultOrder as defaultRenderOrder, getTolerance as getRenderTolerance, getSquaredTolerance as getSquaredRenderTolerance, renderFeature, } from '../vector.js';\nimport { fromUserExtent, getTransformFromProjections, getUserProjection, toUserExtent, } from '../../proj.js';\nimport { getUid } from '../../util.js';\nimport { wrapX as wrapCoordinateX } from '../../coordinate.js';\n/**\n * @classdesc\n * Canvas renderer for vector layers.\n * @api\n */\nvar CanvasVectorLayerRenderer = /** @class */ (function (_super) {\n    __extends(CanvasVectorLayerRenderer, _super);\n    /**\n     * @param {import(\"../../layer/Vector.js\").default} vectorLayer Vector layer.\n     */\n    function CanvasVectorLayerRenderer(vectorLayer) {\n        var _this = _super.call(this, vectorLayer) || this;\n        /** @private */\n        _this.boundHandleStyleImageChange_ = _this.handleStyleImageChange_.bind(_this);\n        /**\n         * @type {boolean}\n         */\n        _this.animatingOrInteracting_;\n        /**\n         * @private\n         * @type {boolean}\n         */\n        _this.dirty_ = false;\n        /**\n         * @type {ImageData}\n         */\n        _this.hitDetectionImageData_ = null;\n        /**\n         * @type {Array<import(\"../../Feature.js\").default>}\n         */\n        _this.renderedFeatures_ = null;\n        /**\n         * @private\n         * @type {number}\n         */\n        _this.renderedRevision_ = -1;\n        /**\n         * @private\n         * @type {number}\n         */\n        _this.renderedResolution_ = NaN;\n        /**\n         * @private\n         * @type {import(\"../../extent.js\").Extent}\n         */\n        _this.renderedExtent_ = createEmpty();\n        /**\n         * @private\n         * @type {number}\n         */\n        _this.renderedRotation_;\n        /**\n         * @private\n         * @type {import(\"../../coordinate\").Coordinate}\n         */\n        _this.renderedCenter_ = null;\n        /**\n         * @private\n         * @type {import(\"../../proj/Projection\").default}\n         */\n        _this.renderedProjection_ = null;\n        /**\n         * @private\n         * @type {function(import(\"../../Feature.js\").default, import(\"../../Feature.js\").default): number|null}\n         */\n        _this.renderedRenderOrder_ = null;\n        /**\n         * @private\n         * @type {import(\"../../render/canvas/ExecutorGroup\").default}\n         */\n        _this.replayGroup_ = null;\n        /**\n         * A new replay group had to be created by `prepareFrame()`\n         * @type {boolean}\n         */\n        _this.replayGroupChanged = true;\n        /**\n         * @type {import(\"../../render/canvas/ExecutorGroup\").default}\n         */\n        _this.declutterExecutorGroup = null;\n        /**\n         * Clipping to be performed by `renderFrame()`\n         * @type {boolean}\n         */\n        _this.clipping = true;\n        return _this;\n    }\n    /**\n     * Get a rendering container from an existing target, if compatible.\n     * @param {HTMLElement} target Potential render target.\n     * @param {string} transform CSS Transform.\n     * @param {number} opacity Opacity.\n     */\n    CanvasVectorLayerRenderer.prototype.useContainer = function (target, transform, opacity) {\n        if (opacity < 1) {\n            target = null;\n        }\n        _super.prototype.useContainer.call(this, target, transform, opacity);\n    };\n    /**\n     * @param {ExecutorGroup} executorGroup Executor group.\n     * @param {import(\"../../PluggableMap.js\").FrameState} frameState Frame state.\n     * @param {import(\"rbush\").default=} opt_declutterTree Declutter tree.\n     */\n    CanvasVectorLayerRenderer.prototype.renderWorlds = function (executorGroup, frameState, opt_declutterTree) {\n        var extent = frameState.extent;\n        var viewState = frameState.viewState;\n        var center = viewState.center;\n        var resolution = viewState.resolution;\n        var projection = viewState.projection;\n        var rotation = viewState.rotation;\n        var projectionExtent = projection.getExtent();\n        var vectorSource = this.getLayer().getSource();\n        var pixelRatio = frameState.pixelRatio;\n        var viewHints = frameState.viewHints;\n        var snapToPixel = !(viewHints[ViewHint.ANIMATING] || viewHints[ViewHint.INTERACTING]);\n        var context = this.context;\n        var width = Math.round(frameState.size[0] * pixelRatio);\n        var height = Math.round(frameState.size[1] * pixelRatio);\n        var multiWorld = vectorSource.getWrapX() && projection.canWrapX();\n        var worldWidth = multiWorld ? getWidth(projectionExtent) : null;\n        var endWorld = multiWorld\n            ? Math.ceil((extent[2] - projectionExtent[2]) / worldWidth) + 1\n            : 1;\n        var world = multiWorld\n            ? Math.floor((extent[0] - projectionExtent[0]) / worldWidth)\n            : 0;\n        do {\n            var transform = this.getRenderTransform(center, resolution, rotation, pixelRatio, width, height, world * worldWidth);\n            executorGroup.execute(context, 1, transform, rotation, snapToPixel, undefined, opt_declutterTree);\n        } while (++world < endWorld);\n    };\n    /**\n     * Render declutter items for this layer\n     * @param {import(\"../../PluggableMap.js\").FrameState} frameState Frame state.\n     */\n    CanvasVectorLayerRenderer.prototype.renderDeclutter = function (frameState) {\n        if (this.declutterExecutorGroup) {\n            this.renderWorlds(this.declutterExecutorGroup, frameState, frameState.declutterTree);\n        }\n    };\n    /**\n     * Render the layer.\n     * @param {import(\"../../PluggableMap.js\").FrameState} frameState Frame state.\n     * @param {HTMLElement} target Target that may be used to render content to.\n     * @return {HTMLElement} The rendered element.\n     */\n    CanvasVectorLayerRenderer.prototype.renderFrame = function (frameState, target) {\n        var pixelRatio = frameState.pixelRatio;\n        var layerState = frameState.layerStatesArray[frameState.layerIndex];\n        // set forward and inverse pixel transforms\n        makeScale(this.pixelTransform, 1 / pixelRatio, 1 / pixelRatio);\n        makeInverse(this.inversePixelTransform, this.pixelTransform);\n        var canvasTransform = transformToString(this.pixelTransform);\n        this.useContainer(target, canvasTransform, layerState.opacity);\n        var context = this.context;\n        var canvas = context.canvas;\n        var replayGroup = this.replayGroup_;\n        var declutterExecutorGroup = this.declutterExecutorGroup;\n        if ((!replayGroup || replayGroup.isEmpty()) &&\n            (!declutterExecutorGroup || declutterExecutorGroup.isEmpty())) {\n            if (!this.containerReused && canvas.width > 0) {\n                canvas.width = 0;\n            }\n            return this.container;\n        }\n        // resize and clear\n        var width = Math.round(frameState.size[0] * pixelRatio);\n        var height = Math.round(frameState.size[1] * pixelRatio);\n        if (canvas.width != width || canvas.height != height) {\n            canvas.width = width;\n            canvas.height = height;\n            if (canvas.style.transform !== canvasTransform) {\n                canvas.style.transform = canvasTransform;\n            }\n        }\n        else if (!this.containerReused) {\n            context.clearRect(0, 0, width, height);\n        }\n        this.preRender(context, frameState);\n        var viewState = frameState.viewState;\n        var projection = viewState.projection;\n        // clipped rendering if layer extent is set\n        var clipped = false;\n        if (layerState.extent && this.clipping) {\n            var layerExtent = fromUserExtent(layerState.extent, projection);\n            clipped =\n                !containsExtent(layerExtent, frameState.extent) &&\n                    intersectsExtent(layerExtent, frameState.extent);\n            if (clipped) {\n                this.clipUnrotated(context, frameState, layerExtent);\n            }\n        }\n        this.renderWorlds(replayGroup, frameState);\n        if (clipped) {\n            context.restore();\n        }\n        this.postRender(context, frameState);\n        var opacity = layerState.opacity;\n        var container = this.container;\n        if (opacity !== parseFloat(container.style.opacity)) {\n            container.style.opacity = opacity === 1 ? '' : String(opacity);\n        }\n        if (this.renderedRotation_ !== viewState.rotation) {\n            this.renderedRotation_ = viewState.rotation;\n            this.hitDetectionImageData_ = null;\n        }\n        return this.container;\n    };\n    /**\n     * Asynchronous layer level hit detection.\n     * @param {import(\"../../pixel.js\").Pixel} pixel Pixel.\n     * @return {Promise<Array<import(\"../../Feature\").default>>} Promise that resolves with an array of features.\n     */\n    CanvasVectorLayerRenderer.prototype.getFeatures = function (pixel) {\n        return new Promise(\n        /**\n         * @param {function(Array<import(\"../../Feature\").default|import(\"../../render/Feature\").default>): void} resolve Resolver function.\n         * @this {CanvasVectorLayerRenderer}\n         */\n        function (resolve) {\n            if (!this.hitDetectionImageData_ && !this.animatingOrInteracting_) {\n                var size = [this.context.canvas.width, this.context.canvas.height];\n                apply(this.pixelTransform, size);\n                var center = this.renderedCenter_;\n                var resolution = this.renderedResolution_;\n                var rotation = this.renderedRotation_;\n                var projection = this.renderedProjection_;\n                var extent = this.renderedExtent_;\n                var layer = this.getLayer();\n                var transforms = [];\n                var width = size[0] / 2;\n                var height = size[1] / 2;\n                transforms.push(this.getRenderTransform(center, resolution, rotation, 0.5, width, height, 0).slice());\n                var source = layer.getSource();\n                var projectionExtent = projection.getExtent();\n                if (source.getWrapX() &&\n                    projection.canWrapX() &&\n                    !containsExtent(projectionExtent, extent)) {\n                    var startX = extent[0];\n                    var worldWidth = getWidth(projectionExtent);\n                    var world = 0;\n                    var offsetX = void 0;\n                    while (startX < projectionExtent[0]) {\n                        --world;\n                        offsetX = worldWidth * world;\n                        transforms.push(this.getRenderTransform(center, resolution, rotation, 0.5, width, height, offsetX).slice());\n                        startX += worldWidth;\n                    }\n                    world = 0;\n                    startX = extent[2];\n                    while (startX > projectionExtent[2]) {\n                        ++world;\n                        offsetX = worldWidth * world;\n                        transforms.push(this.getRenderTransform(center, resolution, rotation, 0.5, width, height, offsetX).slice());\n                        startX -= worldWidth;\n                    }\n                }\n                this.hitDetectionImageData_ = createHitDetectionImageData(size, transforms, this.renderedFeatures_, layer.getStyleFunction(), extent, resolution, rotation);\n            }\n            resolve(hitDetect(pixel, this.renderedFeatures_, this.hitDetectionImageData_));\n        }.bind(this));\n    };\n    /**\n     * @param {import(\"../../coordinate.js\").Coordinate} coordinate Coordinate.\n     * @param {import(\"../../PluggableMap.js\").FrameState} frameState Frame state.\n     * @param {number} hitTolerance Hit tolerance in pixels.\n     * @param {import(\"../vector.js\").FeatureCallback<T>} callback Feature callback.\n     * @param {Array<import(\"../Map.js\").HitMatch<T>>} matches The hit detected matches with tolerance.\n     * @return {T|undefined} Callback result.\n     * @template T\n     */\n    CanvasVectorLayerRenderer.prototype.forEachFeatureAtCoordinate = function (coordinate, frameState, hitTolerance, callback, matches) {\n        var _this = this;\n        if (!this.replayGroup_) {\n            return undefined;\n        }\n        var resolution = frameState.viewState.resolution;\n        var rotation = frameState.viewState.rotation;\n        var layer = this.getLayer();\n        /** @type {!Object<string, import(\"../Map.js\").HitMatch<T>|true>} */\n        var features = {};\n        /**\n         * @param {import(\"../../Feature.js\").FeatureLike} feature Feature.\n         * @param {import(\"../../geom/SimpleGeometry.js\").default} geometry Geometry.\n         * @param {number} distanceSq The squared distance to the click position\n         * @return {T|undefined} Callback result.\n         */\n        var featureCallback = function (feature, geometry, distanceSq) {\n            var key = getUid(feature);\n            var match = features[key];\n            if (!match) {\n                if (distanceSq === 0) {\n                    features[key] = true;\n                    return callback(feature, layer, geometry);\n                }\n                matches.push((features[key] = {\n                    feature: feature,\n                    layer: layer,\n                    geometry: geometry,\n                    distanceSq: distanceSq,\n                    callback: callback,\n                }));\n            }\n            else if (match !== true && distanceSq < match.distanceSq) {\n                if (distanceSq === 0) {\n                    features[key] = true;\n                    matches.splice(matches.lastIndexOf(match), 1);\n                    return callback(feature, layer, geometry);\n                }\n                match.geometry = geometry;\n                match.distanceSq = distanceSq;\n            }\n            return undefined;\n        };\n        var result;\n        var executorGroups = [this.replayGroup_];\n        if (this.declutterExecutorGroup) {\n            executorGroups.push(this.declutterExecutorGroup);\n        }\n        executorGroups.some(function (executorGroup) {\n            return (result = executorGroup.forEachFeatureAtCoordinate(coordinate, resolution, rotation, hitTolerance, featureCallback, executorGroup === _this.declutterExecutorGroup\n                ? frameState.declutterTree.all().map(function (item) { return item.value; })\n                : null));\n        });\n        return result;\n    };\n    /**\n     * Perform action necessary to get the layer rendered after new fonts have loaded\n     */\n    CanvasVectorLayerRenderer.prototype.handleFontsChanged = function () {\n        var layer = this.getLayer();\n        if (layer.getVisible() && this.replayGroup_) {\n            layer.changed();\n        }\n    };\n    /**\n     * Handle changes in image style state.\n     * @param {import(\"../../events/Event.js\").default} event Image style change event.\n     * @private\n     */\n    CanvasVectorLayerRenderer.prototype.handleStyleImageChange_ = function (event) {\n        this.renderIfReadyAndVisible();\n    };\n    /**\n     * Determine whether render should be called.\n     * @param {import(\"../../PluggableMap.js\").FrameState} frameState Frame state.\n     * @return {boolean} Layer is ready to be rendered.\n     */\n    CanvasVectorLayerRenderer.prototype.prepareFrame = function (frameState) {\n        var vectorLayer = this.getLayer();\n        var vectorSource = vectorLayer.getSource();\n        if (!vectorSource) {\n            return false;\n        }\n        var animating = frameState.viewHints[ViewHint.ANIMATING];\n        var interacting = frameState.viewHints[ViewHint.INTERACTING];\n        var updateWhileAnimating = vectorLayer.getUpdateWhileAnimating();\n        var updateWhileInteracting = vectorLayer.getUpdateWhileInteracting();\n        if ((!this.dirty_ && !updateWhileAnimating && animating) ||\n            (!updateWhileInteracting && interacting)) {\n            this.animatingOrInteracting_ = true;\n            return true;\n        }\n        this.animatingOrInteracting_ = false;\n        var frameStateExtent = frameState.extent;\n        var viewState = frameState.viewState;\n        var projection = viewState.projection;\n        var resolution = viewState.resolution;\n        var pixelRatio = frameState.pixelRatio;\n        var vectorLayerRevision = vectorLayer.getRevision();\n        var vectorLayerRenderBuffer = vectorLayer.getRenderBuffer();\n        var vectorLayerRenderOrder = vectorLayer.getRenderOrder();\n        if (vectorLayerRenderOrder === undefined) {\n            vectorLayerRenderOrder = defaultRenderOrder;\n        }\n        var center = viewState.center.slice();\n        var extent = buffer(frameStateExtent, vectorLayerRenderBuffer * resolution);\n        var loadExtents = [extent.slice()];\n        var projectionExtent = projection.getExtent();\n        if (vectorSource.getWrapX() &&\n            projection.canWrapX() &&\n            !containsExtent(projectionExtent, frameState.extent)) {\n            // For the replay group, we need an extent that intersects the real world\n            // (-180 to +180). To support geometries in a coordinate range from -540\n            // to +540, we add at least 1 world width on each side of the projection\n            // extent. If the viewport is wider than the world, we need to add half of\n            // the viewport width to make sure we cover the whole viewport.\n            var worldWidth = getWidth(projectionExtent);\n            var gutter = Math.max(getWidth(extent) / 2, worldWidth);\n            extent[0] = projectionExtent[0] - gutter;\n            extent[2] = projectionExtent[2] + gutter;\n            wrapCoordinateX(center, projection);\n            var loadExtent = wrapExtentX(loadExtents[0], projection);\n            // If the extent crosses the date line, we load data for both edges of the worlds\n            if (loadExtent[0] < projectionExtent[0] &&\n                loadExtent[2] < projectionExtent[2]) {\n                loadExtents.push([\n                    loadExtent[0] + worldWidth,\n                    loadExtent[1],\n                    loadExtent[2] + worldWidth,\n                    loadExtent[3],\n                ]);\n            }\n            else if (loadExtent[0] > projectionExtent[0] &&\n                loadExtent[2] > projectionExtent[2]) {\n                loadExtents.push([\n                    loadExtent[0] - worldWidth,\n                    loadExtent[1],\n                    loadExtent[2] - worldWidth,\n                    loadExtent[3],\n                ]);\n            }\n        }\n        if (!this.dirty_ &&\n            this.renderedResolution_ == resolution &&\n            this.renderedRevision_ == vectorLayerRevision &&\n            this.renderedRenderOrder_ == vectorLayerRenderOrder &&\n            containsExtent(this.renderedExtent_, extent)) {\n            this.replayGroupChanged = false;\n            return true;\n        }\n        this.replayGroup_ = null;\n        this.dirty_ = false;\n        var replayGroup = new CanvasBuilderGroup(getRenderTolerance(resolution, pixelRatio), extent, resolution, pixelRatio);\n        var declutterBuilderGroup;\n        if (this.getLayer().getDeclutter()) {\n            declutterBuilderGroup = new CanvasBuilderGroup(getRenderTolerance(resolution, pixelRatio), extent, resolution, pixelRatio);\n        }\n        var userProjection = getUserProjection();\n        var userTransform;\n        if (userProjection) {\n            for (var i = 0, ii = loadExtents.length; i < ii; ++i) {\n                vectorSource.loadFeatures(toUserExtent(loadExtents[i], projection), resolution, userProjection);\n            }\n            userTransform = getTransformFromProjections(userProjection, projection);\n        }\n        else {\n            for (var i = 0, ii = loadExtents.length; i < ii; ++i) {\n                vectorSource.loadFeatures(loadExtents[i], resolution, projection);\n            }\n        }\n        var squaredTolerance = getSquaredRenderTolerance(resolution, pixelRatio);\n        var render = \n        /**\n         * @param {import(\"../../Feature.js\").default} feature Feature.\n         * @this {CanvasVectorLayerRenderer}\n         */\n        function (feature) {\n            var styles;\n            var styleFunction = feature.getStyleFunction() || vectorLayer.getStyleFunction();\n            if (styleFunction) {\n                styles = styleFunction(feature, resolution);\n            }\n            if (styles) {\n                var dirty = this.renderFeature(feature, squaredTolerance, styles, replayGroup, userTransform, declutterBuilderGroup);\n                this.dirty_ = this.dirty_ || dirty;\n            }\n        }.bind(this);\n        var userExtent = toUserExtent(extent, projection);\n        /** @type {Array<import(\"../../Feature.js\").default>} */\n        var features = vectorSource.getFeaturesInExtent(userExtent);\n        if (vectorLayerRenderOrder) {\n            features.sort(vectorLayerRenderOrder);\n        }\n        for (var i = 0, ii = features.length; i < ii; ++i) {\n            render(features[i]);\n        }\n        this.renderedFeatures_ = features;\n        var replayGroupInstructions = replayGroup.finish();\n        var executorGroup = new ExecutorGroup(extent, resolution, pixelRatio, vectorSource.getOverlaps(), replayGroupInstructions, vectorLayer.getRenderBuffer());\n        if (declutterBuilderGroup) {\n            this.declutterExecutorGroup = new ExecutorGroup(extent, resolution, pixelRatio, vectorSource.getOverlaps(), declutterBuilderGroup.finish(), vectorLayer.getRenderBuffer());\n        }\n        this.renderedResolution_ = resolution;\n        this.renderedRevision_ = vectorLayerRevision;\n        this.renderedRenderOrder_ = vectorLayerRenderOrder;\n        this.renderedExtent_ = extent;\n        this.renderedCenter_ = center;\n        this.renderedProjection_ = projection;\n        this.replayGroup_ = executorGroup;\n        this.hitDetectionImageData_ = null;\n        this.replayGroupChanged = true;\n        return true;\n    };\n    /**\n     * @param {import(\"../../Feature.js\").default} feature Feature.\n     * @param {number} squaredTolerance Squared render tolerance.\n     * @param {import(\"../../style/Style.js\").default|Array<import(\"../../style/Style.js\").default>} styles The style or array of styles.\n     * @param {import(\"../../render/canvas/BuilderGroup.js\").default} builderGroup Builder group.\n     * @param {import(\"../../proj.js\").TransformFunction=} opt_transform Transform from user to view projection.\n     * @param {import(\"../../render/canvas/BuilderGroup.js\").default=} opt_declutterBuilderGroup Builder for decluttering.\n     * @return {boolean} `true` if an image is loading.\n     */\n    CanvasVectorLayerRenderer.prototype.renderFeature = function (feature, squaredTolerance, styles, builderGroup, opt_transform, opt_declutterBuilderGroup) {\n        if (!styles) {\n            return false;\n        }\n        var loading = false;\n        if (Array.isArray(styles)) {\n            for (var i = 0, ii = styles.length; i < ii; ++i) {\n                loading =\n                    renderFeature(builderGroup, feature, styles[i], squaredTolerance, this.boundHandleStyleImageChange_, opt_transform, opt_declutterBuilderGroup) || loading;\n            }\n        }\n        else {\n            loading = renderFeature(builderGroup, feature, styles, squaredTolerance, this.boundHandleStyleImageChange_, opt_transform, opt_declutterBuilderGroup);\n        }\n        return loading;\n    };\n    return CanvasVectorLayerRenderer;\n}(CanvasLayerRenderer));\nexport default CanvasVectorLayerRenderer;\n//# sourceMappingURL=VectorLayer.js.map","/**\n * @module ol/render/canvas/hitdetect\n */\nimport CanvasImmediateRenderer from './Immediate.js';\nimport GeometryType from '../../geom/GeometryType.js';\nimport IconAnchorUnits from '../../style/IconAnchorUnits.js';\nimport { Icon } from '../../style.js';\nimport { createCanvasContext2D } from '../../dom.js';\nimport { intersects } from '../../extent.js';\nimport { numberSafeCompareFunction } from '../../array.js';\n/**\n * @param {import(\"../../size.js\").Size} size Canvas size in css pixels.\n * @param {Array<import(\"../../transform.js\").Transform>} transforms Transforms\n * for rendering features to all worlds of the viewport, from coordinates to css\n * pixels.\n * @param {Array<import(\"../../Feature.js\").FeatureLike>} features\n * Features to consider for hit detection.\n * @param {import(\"../../style/Style.js\").StyleFunction|undefined} styleFunction\n * Layer style function.\n * @param {import(\"../../extent.js\").Extent} extent Extent.\n * @param {number} resolution Resolution.\n * @param {number} rotation Rotation.\n * @return {ImageData} Hit detection image data.\n */\nexport function createHitDetectionImageData(size, transforms, features, styleFunction, extent, resolution, rotation) {\n    var width = size[0] / 2;\n    var height = size[1] / 2;\n    var context = createCanvasContext2D(width, height);\n    context.imageSmoothingEnabled = false;\n    var canvas = context.canvas;\n    var renderer = new CanvasImmediateRenderer(context, 0.5, extent, null, rotation);\n    var featureCount = features.length;\n    // Stretch hit detection index to use the whole available color range\n    var indexFactor = Math.floor((256 * 256 * 256 - 1) / featureCount);\n    var featuresByZIndex = {};\n    for (var i = 1; i <= featureCount; ++i) {\n        var feature = features[i - 1];\n        var featureStyleFunction = feature.getStyleFunction() || styleFunction;\n        if (!styleFunction) {\n            continue;\n        }\n        var styles = featureStyleFunction(feature, resolution);\n        if (!styles) {\n            continue;\n        }\n        if (!Array.isArray(styles)) {\n            styles = [styles];\n        }\n        var index = i * indexFactor;\n        var color = '#' + ('000000' + index.toString(16)).slice(-6);\n        for (var j = 0, jj = styles.length; j < jj; ++j) {\n            var originalStyle = styles[j];\n            var style = originalStyle.clone();\n            var fill = style.getFill();\n            if (fill) {\n                fill.setColor(color);\n            }\n            var stroke = style.getStroke();\n            if (stroke) {\n                stroke.setColor(color);\n            }\n            style.setText(undefined);\n            var image = originalStyle.getImage();\n            if (image) {\n                var imgSize = image.getImageSize();\n                if (!imgSize) {\n                    continue;\n                }\n                var canvas_1 = document.createElement('canvas');\n                canvas_1.width = imgSize[0];\n                canvas_1.height = imgSize[1];\n                var imgContext = canvas_1.getContext('2d', { alpha: false });\n                imgContext.fillStyle = color;\n                var img = imgContext.canvas;\n                imgContext.fillRect(0, 0, img.width, img.height);\n                var width_1 = imgSize ? imgSize[0] : img.width;\n                var height_1 = imgSize ? imgSize[1] : img.height;\n                var iconContext = createCanvasContext2D(width_1, height_1);\n                iconContext.drawImage(img, 0, 0);\n                style.setImage(new Icon({\n                    img: img,\n                    imgSize: imgSize,\n                    anchor: image.getAnchor(),\n                    anchorXUnits: IconAnchorUnits.PIXELS,\n                    anchorYUnits: IconAnchorUnits.PIXELS,\n                    offset: image.getOrigin(),\n                    size: image.getSize(),\n                    opacity: image.getOpacity(),\n                    scale: image.getScale(),\n                    rotation: image.getRotation(),\n                    rotateWithView: image.getRotateWithView(),\n                }));\n            }\n            var zIndex = Number(style.getZIndex());\n            var byGeometryType = featuresByZIndex[zIndex];\n            if (!byGeometryType) {\n                byGeometryType = {};\n                featuresByZIndex[zIndex] = byGeometryType;\n                byGeometryType[GeometryType.POLYGON] = [];\n                byGeometryType[GeometryType.CIRCLE] = [];\n                byGeometryType[GeometryType.LINE_STRING] = [];\n                byGeometryType[GeometryType.POINT] = [];\n            }\n            var geometry = style.getGeometryFunction()(feature);\n            if (geometry && intersects(extent, geometry.getExtent())) {\n                byGeometryType[geometry.getType().replace('Multi', '')].push(geometry, style);\n            }\n        }\n    }\n    var zIndexKeys = Object.keys(featuresByZIndex)\n        .map(Number)\n        .sort(numberSafeCompareFunction);\n    for (var i = 0, ii = zIndexKeys.length; i < ii; ++i) {\n        var byGeometryType = featuresByZIndex[zIndexKeys[i]];\n        for (var type in byGeometryType) {\n            var geomAndStyle = byGeometryType[type];\n            for (var j = 0, jj = geomAndStyle.length; j < jj; j += 2) {\n                renderer.setStyle(geomAndStyle[j + 1]);\n                for (var k = 0, kk = transforms.length; k < kk; ++k) {\n                    renderer.setTransform(transforms[k]);\n                    renderer.drawGeometry(geomAndStyle[j]);\n                }\n            }\n        }\n    }\n    return context.getImageData(0, 0, canvas.width, canvas.height);\n}\n/**\n * @param {import(\"../../pixel\").Pixel} pixel Pixel coordinate on the hit\n * detection canvas in css pixels.\n * @param {Array<import(\"../../Feature\").FeatureLike>} features Features. Has to\n * match the `features` array that was passed to `createHitDetectionImageData()`.\n * @param {ImageData} imageData Hit detection image data generated by\n * `createHitDetectionImageData()`.\n * @return {Array<import(\"../../Feature\").FeatureLike>} features Features.\n */\nexport function hitDetect(pixel, features, imageData) {\n    var resultFeatures = [];\n    if (imageData) {\n        var index = (Math.round(pixel[0] / 2) + Math.round(pixel[1] / 2) * imageData.width) *\n            4;\n        var r = imageData.data[index];\n        var g = imageData.data[index + 1];\n        var b = imageData.data[index + 2];\n        var i = b + 256 * (g + 256 * r);\n        var indexFactor = Math.floor((256 * 256 * 256 - 1) / features.length);\n        if (i && i % indexFactor === 0) {\n            resultFeatures.push(features[i / indexFactor - 1]);\n        }\n    }\n    return resultFeatures;\n}\n//# sourceMappingURL=hitdetect.js.map","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n/**\n * @module ol/layer/Vector\n */\nimport BaseVectorLayer from './BaseVector.js';\nimport CanvasVectorLayerRenderer from '../renderer/canvas/VectorLayer.js';\n/**\n * @classdesc\n * Vector data that is rendered client-side.\n * Note that any property set in the options is set as a {@link module:ol/Object~BaseObject}\n * property on the layer object; for example, setting `title: 'My Title'` in the\n * options means that `title` is observable, and has get/set accessors.\n *\n * @extends {BaseVectorLayer<import(\"../source/Vector.js\").default>}\n * @api\n */\nvar VectorLayer = /** @class */ (function (_super) {\n    __extends(VectorLayer, _super);\n    /**\n     * @param {import(\"./BaseVector.js\").Options=} opt_options Options.\n     */\n    function VectorLayer(opt_options) {\n        return _super.call(this, opt_options) || this;\n    }\n    /**\n     * Create a renderer for this layer.\n     * @return {import(\"../renderer/Layer.js\").default} A layer renderer.\n     */\n    VectorLayer.prototype.createRenderer = function () {\n        return new CanvasVectorLayerRenderer(this);\n    };\n    return VectorLayer;\n}(BaseVectorLayer));\nexport default VectorLayer;\n//# sourceMappingURL=Vector.js.map","/**\n * @module ol/structs/RBush\n */\nimport RBush_ from 'rbush';\nimport { createOrUpdate, equals } from '../extent.js';\nimport { getUid } from '../util.js';\nimport { isEmpty } from '../obj.js';\n/**\n * @typedef {Object} Entry\n * @property {number} minX\n * @property {number} minY\n * @property {number} maxX\n * @property {number} maxY\n * @property {Object} [value]\n */\n/**\n * @classdesc\n * Wrapper around the RBush by Vladimir Agafonkin.\n * See https://github.com/mourner/rbush.\n *\n * @template T\n */\nvar RBush = /** @class */ (function () {\n    /**\n     * @param {number=} opt_maxEntries Max entries.\n     */\n    function RBush(opt_maxEntries) {\n        /**\n         * @private\n         */\n        this.rbush_ = new RBush_(opt_maxEntries);\n        /**\n         * A mapping between the objects added to this rbush wrapper\n         * and the objects that are actually added to the internal rbush.\n         * @private\n         * @type {Object<string, Entry>}\n         */\n        this.items_ = {};\n    }\n    /**\n     * Insert a value into the RBush.\n     * @param {import(\"../extent.js\").Extent} extent Extent.\n     * @param {T} value Value.\n     */\n    RBush.prototype.insert = function (extent, value) {\n        /** @type {Entry} */\n        var item = {\n            minX: extent[0],\n            minY: extent[1],\n            maxX: extent[2],\n            maxY: extent[3],\n            value: value,\n        };\n        this.rbush_.insert(item);\n        this.items_[getUid(value)] = item;\n    };\n    /**\n     * Bulk-insert values into the RBush.\n     * @param {Array<import(\"../extent.js\").Extent>} extents Extents.\n     * @param {Array<T>} values Values.\n     */\n    RBush.prototype.load = function (extents, values) {\n        var items = new Array(values.length);\n        for (var i = 0, l = values.length; i < l; i++) {\n            var extent = extents[i];\n            var value = values[i];\n            /** @type {Entry} */\n            var item = {\n                minX: extent[0],\n                minY: extent[1],\n                maxX: extent[2],\n                maxY: extent[3],\n                value: value,\n            };\n            items[i] = item;\n            this.items_[getUid(value)] = item;\n        }\n        this.rbush_.load(items);\n    };\n    /**\n     * Remove a value from the RBush.\n     * @param {T} value Value.\n     * @return {boolean} Removed.\n     */\n    RBush.prototype.remove = function (value) {\n        var uid = getUid(value);\n        // get the object in which the value was wrapped when adding to the\n        // internal rbush. then use that object to do the removal.\n        var item = this.items_[uid];\n        delete this.items_[uid];\n        return this.rbush_.remove(item) !== null;\n    };\n    /**\n     * Update the extent of a value in the RBush.\n     * @param {import(\"../extent.js\").Extent} extent Extent.\n     * @param {T} value Value.\n     */\n    RBush.prototype.update = function (extent, value) {\n        var item = this.items_[getUid(value)];\n        var bbox = [item.minX, item.minY, item.maxX, item.maxY];\n        if (!equals(bbox, extent)) {\n            this.remove(value);\n            this.insert(extent, value);\n        }\n    };\n    /**\n     * Return all values in the RBush.\n     * @return {Array<T>} All.\n     */\n    RBush.prototype.getAll = function () {\n        var items = this.rbush_.all();\n        return items.map(function (item) {\n            return item.value;\n        });\n    };\n    /**\n     * Return all values in the given extent.\n     * @param {import(\"../extent.js\").Extent} extent Extent.\n     * @return {Array<T>} All in extent.\n     */\n    RBush.prototype.getInExtent = function (extent) {\n        /** @type {Entry} */\n        var bbox = {\n            minX: extent[0],\n            minY: extent[1],\n            maxX: extent[2],\n            maxY: extent[3],\n        };\n        var items = this.rbush_.search(bbox);\n        return items.map(function (item) {\n            return item.value;\n        });\n    };\n    /**\n     * Calls a callback function with each value in the tree.\n     * If the callback returns a truthy value, this value is returned without\n     * checking the rest of the tree.\n     * @param {function(T): *} callback Callback.\n     * @return {*} Callback return value.\n     */\n    RBush.prototype.forEach = function (callback) {\n        return this.forEach_(this.getAll(), callback);\n    };\n    /**\n     * Calls a callback function with each value in the provided extent.\n     * @param {import(\"../extent.js\").Extent} extent Extent.\n     * @param {function(T): *} callback Callback.\n     * @return {*} Callback return value.\n     */\n    RBush.prototype.forEachInExtent = function (extent, callback) {\n        return this.forEach_(this.getInExtent(extent), callback);\n    };\n    /**\n     * @param {Array<T>} values Values.\n     * @param {function(T): *} callback Callback.\n     * @private\n     * @return {*} Callback return value.\n     */\n    RBush.prototype.forEach_ = function (values, callback) {\n        var result;\n        for (var i = 0, l = values.length; i < l; i++) {\n            result = callback(values[i]);\n            if (result) {\n                return result;\n            }\n        }\n        return result;\n    };\n    /**\n     * @return {boolean} Is empty.\n     */\n    RBush.prototype.isEmpty = function () {\n        return isEmpty(this.items_);\n    };\n    /**\n     * Remove all values from the RBush.\n     */\n    RBush.prototype.clear = function () {\n        this.rbush_.clear();\n        this.items_ = {};\n    };\n    /**\n     * @param {import(\"../extent.js\").Extent=} opt_extent Extent.\n     * @return {import(\"../extent.js\").Extent} Extent.\n     */\n    RBush.prototype.getExtent = function (opt_extent) {\n        var data = this.rbush_.toJSON();\n        return createOrUpdate(data.minX, data.minY, data.maxX, data.maxY, opt_extent);\n    };\n    /**\n     * @param {RBush} rbush R-Tree.\n     */\n    RBush.prototype.concat = function (rbush) {\n        this.rbush_.load(rbush.rbush_.all());\n        for (var i in rbush.items_) {\n            this.items_[i] = rbush.items_[i];\n        }\n    };\n    return RBush;\n}());\nexport default RBush;\n//# sourceMappingURL=RBush.js.map","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n/**\n * @module ol/source/Source\n */\nimport BaseObject from '../Object.js';\nimport SourceState from './State.js';\nimport { abstract } from '../util.js';\nimport { get as getProjection } from '../proj.js';\n/**\n * A function that returns a string or an array of strings representing source\n * attributions.\n *\n * @typedef {function(import(\"../PluggableMap.js\").FrameState): (string|Array<string>)} Attribution\n */\n/**\n * A type that can be used to provide attribution information for data sources.\n *\n * It represents either\n * * a simple string (e.g. `' Acme Inc.'`)\n * * an array of simple strings (e.g. `[' Acme Inc.', ' Bacme Inc.']`)\n * * a function that returns a string or array of strings ({@link module:ol/source/Source~Attribution})\n *\n * @typedef {string|Array<string>|Attribution} AttributionLike\n */\n/**\n * @typedef {Object} Options\n * @property {AttributionLike} [attributions]\n * @property {boolean} [attributionsCollapsible=true] Attributions are collapsible.\n * @property {import(\"../proj.js\").ProjectionLike} [projection] Projection. Default is the view projection.\n * @property {import(\"./State.js\").default} [state='ready']\n * @property {boolean} [wrapX=false]\n */\n/**\n * @classdesc\n * Abstract base class; normally only used for creating subclasses and not\n * instantiated in apps.\n * Base class for {@link module:ol/layer/Layer~Layer} sources.\n *\n * A generic `change` event is triggered when the state of the source changes.\n * @abstract\n * @api\n */\nvar Source = /** @class */ (function (_super) {\n    __extends(Source, _super);\n    /**\n     * @param {Options} options Source options.\n     */\n    function Source(options) {\n        var _this = _super.call(this) || this;\n        /**\n         * @private\n         * @type {import(\"../proj/Projection.js\").default}\n         */\n        _this.projection_ = getProjection(options.projection);\n        /**\n         * @private\n         * @type {?Attribution}\n         */\n        _this.attributions_ = adaptAttributions(options.attributions);\n        /**\n         * @private\n         * @type {boolean}\n         */\n        _this.attributionsCollapsible_ =\n            options.attributionsCollapsible !== undefined\n                ? options.attributionsCollapsible\n                : true;\n        /**\n         * This source is currently loading data. Sources that defer loading to the\n         * map's tile queue never set this to `true`.\n         * @type {boolean}\n         */\n        _this.loading = false;\n        /**\n         * @private\n         * @type {import(\"./State.js\").default}\n         */\n        _this.state_ =\n            options.state !== undefined ? options.state : SourceState.READY;\n        /**\n         * @private\n         * @type {boolean}\n         */\n        _this.wrapX_ = options.wrapX !== undefined ? options.wrapX : false;\n        return _this;\n    }\n    /**\n     * Get the attribution function for the source.\n     * @return {?Attribution} Attribution function.\n     */\n    Source.prototype.getAttributions = function () {\n        return this.attributions_;\n    };\n    /**\n     * @return {boolean} Attributions are collapsible.\n     */\n    Source.prototype.getAttributionsCollapsible = function () {\n        return this.attributionsCollapsible_;\n    };\n    /**\n     * Get the projection of the source.\n     * @return {import(\"../proj/Projection.js\").default} Projection.\n     * @api\n     */\n    Source.prototype.getProjection = function () {\n        return this.projection_;\n    };\n    /**\n     * @abstract\n     * @return {Array<number>|undefined} Resolutions.\n     */\n    Source.prototype.getResolutions = function () {\n        return abstract();\n    };\n    /**\n     * Get the state of the source, see {@link module:ol/source/State~State} for possible states.\n     * @return {import(\"./State.js\").default} State.\n     * @api\n     */\n    Source.prototype.getState = function () {\n        return this.state_;\n    };\n    /**\n     * @return {boolean|undefined} Wrap X.\n     */\n    Source.prototype.getWrapX = function () {\n        return this.wrapX_;\n    };\n    /**\n     * @return {Object|undefined} Context options.\n     */\n    Source.prototype.getContextOptions = function () {\n        return undefined;\n    };\n    /**\n     * Refreshes the source. The source will be cleared, and data from the server will be reloaded.\n     * @api\n     */\n    Source.prototype.refresh = function () {\n        this.changed();\n    };\n    /**\n     * Set the attributions of the source.\n     * @param {AttributionLike|undefined} attributions Attributions.\n     *     Can be passed as `string`, `Array<string>`, {@link module:ol/source/Source~Attribution},\n     *     or `undefined`.\n     * @api\n     */\n    Source.prototype.setAttributions = function (attributions) {\n        this.attributions_ = adaptAttributions(attributions);\n        this.changed();\n    };\n    /**\n     * Set the state of the source.\n     * @param {import(\"./State.js\").default} state State.\n     */\n    Source.prototype.setState = function (state) {\n        this.state_ = state;\n        this.changed();\n    };\n    return Source;\n}(BaseObject));\n/**\n * Turns the attributions option into an attributions function.\n * @param {AttributionLike|undefined} attributionLike The attribution option.\n * @return {?Attribution} An attribution function (or null).\n */\nfunction adaptAttributions(attributionLike) {\n    if (!attributionLike) {\n        return null;\n    }\n    if (Array.isArray(attributionLike)) {\n        return function (frameState) {\n            return attributionLike;\n        };\n    }\n    if (typeof attributionLike === 'function') {\n        return attributionLike;\n    }\n    return function (frameState) {\n        return [attributionLike];\n    };\n}\nexport default Source;\n//# sourceMappingURL=Source.js.map","/**\n * @module ol/source/VectorEventType\n */\n/**\n * @enum {string}\n */\nexport default {\n    /**\n     * Triggered when a feature is added to the source.\n     * @event module:ol/source/Vector.VectorSourceEvent#addfeature\n     * @api\n     */\n    ADDFEATURE: 'addfeature',\n    /**\n     * Triggered when a feature is updated.\n     * @event module:ol/source/Vector.VectorSourceEvent#changefeature\n     * @api\n     */\n    CHANGEFEATURE: 'changefeature',\n    /**\n     * Triggered when the clear method is called on the source.\n     * @event module:ol/source/Vector.VectorSourceEvent#clear\n     * @api\n     */\n    CLEAR: 'clear',\n    /**\n     * Triggered when a feature is removed from the source.\n     * See {@link module:ol/source/Vector#clear source.clear()} for exceptions.\n     * @event module:ol/source/Vector.VectorSourceEvent#removefeature\n     * @api\n     */\n    REMOVEFEATURE: 'removefeature',\n    /**\n     * Triggered when features starts loading.\n     * @event module:ol/source/Vector.VectorSourceEvent#featuresloadstart\n     * @api\n     */\n    FEATURESLOADSTART: 'featuresloadstart',\n    /**\n     * Triggered when features finishes loading.\n     * @event module:ol/source/Vector.VectorSourceEvent#featuresloadend\n     * @api\n     */\n    FEATURESLOADEND: 'featuresloadend',\n    /**\n     * Triggered if feature loading results in an error.\n     * @event module:ol/source/Vector.VectorSourceEvent#featuresloaderror\n     * @api\n     */\n    FEATURESLOADERROR: 'featuresloaderror',\n};\n//# sourceMappingURL=VectorEventType.js.map","/**\n * @module ol/loadingstrategy\n */\n/**\n * Strategy function for loading all features with a single request.\n * @param {import(\"./extent.js\").Extent} extent Extent.\n * @param {number} resolution Resolution.\n * @return {Array<import(\"./extent.js\").Extent>} Extents.\n * @api\n */\nexport function all(extent, resolution) {\n    return [[-Infinity, -Infinity, Infinity, Infinity]];\n}\n/**\n * Strategy function for loading features based on the view's extent and\n * resolution.\n * @param {import(\"./extent.js\").Extent} extent Extent.\n * @param {number} resolution Resolution.\n * @return {Array<import(\"./extent.js\").Extent>} Extents.\n * @api\n */\nexport function bbox(extent, resolution) {\n    return [extent];\n}\n/**\n * Creates a strategy function for loading features based on a tile grid.\n * @param {import(\"./tilegrid/TileGrid.js\").default} tileGrid Tile grid.\n * @return {function(import(\"./extent.js\").Extent, number): Array<import(\"./extent.js\").Extent>} Loading strategy.\n * @api\n */\nexport function tile(tileGrid) {\n    return (\n    /**\n     * @param {import(\"./extent.js\").Extent} extent Extent.\n     * @param {number} resolution Resolution.\n     * @return {Array<import(\"./extent.js\").Extent>} Extents.\n     */\n    function (extent, resolution) {\n        var z = tileGrid.getZForResolution(resolution);\n        var tileRange = tileGrid.getTileRangeForExtentAndZ(extent, z);\n        /** @type {Array<import(\"./extent.js\").Extent>} */\n        var extents = [];\n        /** @type {import(\"./tilecoord.js\").TileCoord} */\n        var tileCoord = [z, 0, 0];\n        for (tileCoord[1] = tileRange.minX; tileCoord[1] <= tileRange.maxX; ++tileCoord[1]) {\n            for (tileCoord[2] = tileRange.minY; tileCoord[2] <= tileRange.maxY; ++tileCoord[2]) {\n                extents.push(tileGrid.getTileCoordExtent(tileCoord));\n            }\n        }\n        return extents;\n    });\n}\n//# sourceMappingURL=loadingstrategy.js.map","/**\n * @module ol/featureloader\n */\nimport FormatType from './format/FormatType.js';\nimport { VOID } from './functions.js';\n/**\n *\n * @type {boolean}\n * @private\n */\nvar withCredentials = false;\n/**\n * {@link module:ol/source/Vector} sources use a function of this type to\n * load features.\n *\n * This function takes an {@link module:ol/extent~Extent} representing the area to be loaded,\n * a `{number}` representing the resolution (map units per pixel), an\n * {@link module:ol/proj/Projection} for the projection and success and failure callbacks as\n * arguments. `this` within the function is bound to the\n * {@link module:ol/source/Vector} it's called from.\n *\n * The function is responsible for loading the features and adding them to the\n * source.\n * @typedef {function(this:(import(\"./source/Vector\").default|import(\"./VectorTile.js\").default),\n *           import(\"./extent.js\").Extent,\n *           number,\n *           import(\"./proj/Projection.js\").default,\n *           function(Array<import(\"./Feature.js\").default>): void=,\n *           function(): void=): void} FeatureLoader\n * @api\n */\n/**\n * {@link module:ol/source/Vector} sources use a function of this type to\n * get the url to load features from.\n *\n * This function takes an {@link module:ol/extent~Extent} representing the area\n * to be loaded, a `{number}` representing the resolution (map units per pixel)\n * and an {@link module:ol/proj/Projection} for the projection  as\n * arguments and returns a `{string}` representing the URL.\n * @typedef {function(import(\"./extent.js\").Extent, number, import(\"./proj/Projection.js\").default): string} FeatureUrlFunction\n * @api\n */\n/**\n * @param {string|FeatureUrlFunction} url Feature URL service.\n * @param {import(\"./format/Feature.js\").default} format Feature format.\n * @param {import(\"./extent.js\").Extent} extent Extent.\n * @param {number} resolution Resolution.\n * @param {import(\"./proj/Projection.js\").default} projection Projection.\n * @param {function(Array<import(\"./Feature.js\").default>, import(\"./proj/Projection.js\").default): void} success Success\n *      Function called with the loaded features and optionally with the data projection.\n * @param {function(): void} failure Failure\n *      Function called when loading failed.\n */\nexport function loadFeaturesXhr(url, format, extent, resolution, projection, success, failure) {\n    var xhr = new XMLHttpRequest();\n    xhr.open('GET', typeof url === 'function' ? url(extent, resolution, projection) : url, true);\n    if (format.getType() == FormatType.ARRAY_BUFFER) {\n        xhr.responseType = 'arraybuffer';\n    }\n    xhr.withCredentials = withCredentials;\n    /**\n     * @param {Event} event Event.\n     * @private\n     */\n    xhr.onload = function (event) {\n        // status will be 0 for file:// urls\n        if (!xhr.status || (xhr.status >= 200 && xhr.status < 300)) {\n            var type = format.getType();\n            /** @type {Document|Node|Object|string|undefined} */\n            var source = void 0;\n            if (type == FormatType.JSON || type == FormatType.TEXT) {\n                source = xhr.responseText;\n            }\n            else if (type == FormatType.XML) {\n                source = xhr.responseXML;\n                if (!source) {\n                    source = new DOMParser().parseFromString(xhr.responseText, 'application/xml');\n                }\n            }\n            else if (type == FormatType.ARRAY_BUFFER) {\n                source = /** @type {ArrayBuffer} */ (xhr.response);\n            }\n            if (source) {\n                success(\n                /** @type {Array<import(\"./Feature.js\").default>} */\n                (format.readFeatures(source, {\n                    extent: extent,\n                    featureProjection: projection,\n                })), format.readProjection(source));\n            }\n            else {\n                failure();\n            }\n        }\n        else {\n            failure();\n        }\n    };\n    /**\n     * @private\n     */\n    xhr.onerror = failure;\n    xhr.send();\n}\n/**\n * Create an XHR feature loader for a `url` and `format`. The feature loader\n * loads features (with XHR), parses the features, and adds them to the\n * vector source.\n * @param {string|FeatureUrlFunction} url Feature URL service.\n * @param {import(\"./format/Feature.js\").default} format Feature format.\n * @return {FeatureLoader} The feature loader.\n * @api\n */\nexport function xhr(url, format) {\n    /**\n     * @param {import(\"./extent.js\").Extent} extent Extent.\n     * @param {number} resolution Resolution.\n     * @param {import(\"./proj/Projection.js\").default} projection Projection.\n     * @param {function(): void=} success Success\n     *      Function called when loading succeeded.\n     * @param {function(): void=} failure Failure\n     *      Function called when loading failed.\n     * @this {import(\"./source/Vector\").default}\n     */\n    return function (extent, resolution, projection, success, failure) {\n        var source = /** @type {import(\"./source/Vector\").default} */ (this);\n        loadFeaturesXhr(url, format, extent, resolution, projection, \n        /**\n         * @param {Array<import(\"./Feature.js\").default>} features The loaded features.\n         * @param {import(\"./proj/Projection.js\").default} dataProjection Data\n         * projection.\n         */\n        function (features, dataProjection) {\n            if (success !== undefined) {\n                success(features);\n            }\n            source.addFeatures(features);\n        }, \n        /* FIXME handle error */ failure ? failure : VOID);\n    };\n}\n/**\n * Setter for the withCredentials configuration for the XHR.\n *\n * @param {boolean} xhrWithCredentials The value of withCredentials to set.\n * Compare https://developer.mozilla.org/en-US/docs/Web/API/XMLHttpRequest/\n * @api\n */\nexport function setWithCredentials(xhrWithCredentials) {\n    withCredentials = xhrWithCredentials;\n}\n//# sourceMappingURL=featureloader.js.map","/**\n * @module ol/source/Vector\n */\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport Collection from '../Collection.js';\nimport CollectionEventType from '../CollectionEventType.js';\nimport Event from '../events/Event.js';\nimport EventType from '../events/EventType.js';\nimport ObjectEventType from '../ObjectEventType.js';\nimport RBush from '../structs/RBush.js';\nimport Source from './Source.js';\nimport SourceState from './State.js';\nimport VectorEventType from './VectorEventType.js';\nimport { TRUE, VOID } from '../functions.js';\nimport { all as allStrategy } from '../loadingstrategy.js';\nimport { assert } from '../asserts.js';\nimport { containsExtent, equals } from '../extent.js';\nimport { extend } from '../array.js';\nimport { getUid } from '../util.js';\nimport { getValues, isEmpty } from '../obj.js';\nimport { listen, unlistenByKey } from '../events.js';\nimport { xhr } from '../featureloader.js';\n/**\n * A function that takes an {@link module:ol/extent~Extent} and a resolution as arguments, and\n * returns an array of {@link module:ol/extent~Extent} with the extents to load. Usually this\n * is one of the standard {@link module:ol/loadingstrategy} strategies.\n *\n * @typedef {function(import(\"../extent.js\").Extent, number): Array<import(\"../extent.js\").Extent>} LoadingStrategy\n * @api\n */\n/**\n * @classdesc\n * Events emitted by {@link module:ol/source/Vector} instances are instances of this\n * type.\n * @template {import(\"../geom/Geometry.js\").default} Geometry\n */\nvar VectorSourceEvent = /** @class */ (function (_super) {\n    __extends(VectorSourceEvent, _super);\n    /**\n     * @param {string} type Type.\n     * @param {import(\"../Feature.js\").default<Geometry>=} opt_feature Feature.\n     * @param {Array<import(\"../Feature.js\").default<Geometry>>=} opt_features Features.\n     */\n    function VectorSourceEvent(type, opt_feature, opt_features) {\n        var _this = _super.call(this, type) || this;\n        /**\n         * The added or removed feature for the `ADDFEATURE` and `REMOVEFEATURE` events, `undefined` otherwise.\n         * @type {import(\"../Feature.js\").default<Geometry>|undefined}\n         * @api\n         */\n        _this.feature = opt_feature;\n        /**\n         * The loaded features for the `FEATURESLOADED` event, `undefined` otherwise.\n         * @type {Array<import(\"../Feature.js\").default<Geometry>>|undefined}\n         * @api\n         */\n        _this.features = opt_features;\n        return _this;\n    }\n    return VectorSourceEvent;\n}(Event));\nexport { VectorSourceEvent };\n/**\n * @typedef {Object} Options\n * @property {import(\"./Source.js\").AttributionLike} [attributions] Attributions.\n * @property {Array<import(\"../Feature.js\").default>|Collection<import(\"../Feature.js\").default>} [features]\n * Features. If provided as {@link module:ol/Collection}, the features in the source\n * and the collection will stay in sync.\n * @property {import(\"../format/Feature.js\").default} [format] The feature format used by the XHR\n * feature loader when `url` is set. Required if `url` is set, otherwise ignored.\n * @property {import(\"../featureloader.js\").FeatureLoader} [loader]\n * The loader function used to load features, from a remote source for example.\n * If this is not set and `url` is set, the source will create and use an XHR\n * feature loader.\n *\n * Example:\n *\n * ```js\n * import {Vector} from 'ol/source';\n * import {GeoJSON} from 'ol/format';\n * import {bbox} from 'ol/loadingstrategy';\n *\n * var vectorSource = new Vector({\n *   format: new GeoJSON(),\n *   loader: function(extent, resolution, projection) {\n *      var proj = projection.getCode();\n *      var url = 'https://ahocevar.com/geoserver/wfs?service=WFS&' +\n *          'version=1.1.0&request=GetFeature&typename=osm:water_areas&' +\n *          'outputFormat=application/json&srsname=' + proj + '&' +\n *          'bbox=' + extent.join(',') + ',' + proj;\n *      var xhr = new XMLHttpRequest();\n *      xhr.open('GET', url);\n *      var onError = function() {\n *        vectorSource.removeLoadedExtent(extent);\n *      }\n *      xhr.onerror = onError;\n *      xhr.onload = function() {\n *        if (xhr.status == 200) {\n *          vectorSource.addFeatures(\n *              vectorSource.getFormat().readFeatures(xhr.responseText));\n *        } else {\n *          onError();\n *        }\n *      }\n *      xhr.send();\n *    },\n *    strategy: bbox\n *  });\n * ```\n * @property {boolean} [overlaps=true] This source may have overlapping geometries.\n * Setting this to `false` (e.g. for sources with polygons that represent administrative\n * boundaries or TopoJSON sources) allows the renderer to optimise fill and\n * stroke operations.\n * @property {LoadingStrategy} [strategy] The loading strategy to use.\n * By default an {@link module:ol/loadingstrategy~all}\n * strategy is used, a one-off strategy which loads all features at once.\n * @property {string|import(\"../featureloader.js\").FeatureUrlFunction} [url]\n * Setting this option instructs the source to load features using an XHR loader\n * (see {@link module:ol/featureloader~xhr}). Use a `string` and an\n * {@link module:ol/loadingstrategy~all} for a one-off download of all features from\n * the given URL. Use a {@link module:ol/featureloader~FeatureUrlFunction} to generate the url with\n * other loading strategies.\n * Requires `format` to be set as well.\n * When default XHR feature loader is provided, the features will\n * be transformed from the data projection to the view projection\n * during parsing. If your remote data source does not advertise its projection\n * properly, this transformation will be incorrect. For some formats, the\n * default projection (usually EPSG:4326) can be overridden by setting the\n * dataProjection constructor option on the format.\n * Note that if a source contains non-feature data, such as a GeoJSON geometry\n * or a KML NetworkLink, these will be ignored. Use a custom loader to load these.\n * @property {boolean} [useSpatialIndex=true]\n * By default, an RTree is used as spatial index. When features are removed and\n * added frequently, and the total number of features is low, setting this to\n * `false` may improve performance.\n *\n * Note that\n * {@link module:ol/source/Vector~VectorSource#getFeaturesInExtent},\n * {@link module:ol/source/Vector~VectorSource#getClosestFeatureToCoordinate} and\n * {@link module:ol/source/Vector~VectorSource#getExtent} cannot be used when `useSpatialIndex` is\n * set to `false`, and {@link module:ol/source/Vector~VectorSource#forEachFeatureInExtent} will loop\n * through all features.\n *\n * When set to `false`, the features will be maintained in an\n * {@link module:ol/Collection}, which can be retrieved through\n * {@link module:ol/source/Vector~VectorSource#getFeaturesCollection}.\n * @property {boolean} [wrapX=true] Wrap the world horizontally. For vector editing across the\n * -180 and 180 meridians to work properly, this should be set to `false`. The\n * resulting geometry coordinates will then exceed the world bounds.\n */\n/**\n * @classdesc\n * Provides a source of features for vector layers. Vector features provided\n * by this source are suitable for editing. See {@link module:ol/source/VectorTile~VectorTile} for\n * vector data that is optimized for rendering.\n *\n * @fires VectorSourceEvent\n * @api\n * @template {import(\"../geom/Geometry.js\").default} Geometry\n */\nvar VectorSource = /** @class */ (function (_super) {\n    __extends(VectorSource, _super);\n    /**\n     * @param {Options=} opt_options Vector source options.\n     */\n    function VectorSource(opt_options) {\n        var _this = this;\n        var options = opt_options || {};\n        _this = _super.call(this, {\n            attributions: options.attributions,\n            projection: undefined,\n            state: SourceState.READY,\n            wrapX: options.wrapX !== undefined ? options.wrapX : true,\n        }) || this;\n        /**\n         * @private\n         * @type {import(\"../featureloader.js\").FeatureLoader}\n         */\n        _this.loader_ = VOID;\n        /**\n         * @private\n         * @type {import(\"../format/Feature.js\").default|undefined}\n         */\n        _this.format_ = options.format;\n        /**\n         * @private\n         * @type {boolean}\n         */\n        _this.overlaps_ = options.overlaps === undefined ? true : options.overlaps;\n        /**\n         * @private\n         * @type {string|import(\"../featureloader.js\").FeatureUrlFunction|undefined}\n         */\n        _this.url_ = options.url;\n        if (options.loader !== undefined) {\n            _this.loader_ = options.loader;\n        }\n        else if (_this.url_ !== undefined) {\n            assert(_this.format_, 7); // `format` must be set when `url` is set\n            // create a XHR feature loader for \"url\" and \"format\"\n            _this.loader_ = xhr(_this.url_, \n            /** @type {import(\"../format/Feature.js\").default} */ (_this.format_));\n        }\n        /**\n         * @private\n         * @type {LoadingStrategy}\n         */\n        _this.strategy_ =\n            options.strategy !== undefined ? options.strategy : allStrategy;\n        var useSpatialIndex = options.useSpatialIndex !== undefined ? options.useSpatialIndex : true;\n        /**\n         * @private\n         * @type {RBush<import(\"../Feature.js\").default<Geometry>>}\n         */\n        _this.featuresRtree_ = useSpatialIndex ? new RBush() : null;\n        /**\n         * @private\n         * @type {RBush<{extent: import(\"../extent.js\").Extent}>}\n         */\n        _this.loadedExtentsRtree_ = new RBush();\n        /**\n         * @private\n         * @type {!Object<string, import(\"../Feature.js\").default<Geometry>>}\n         */\n        _this.nullGeometryFeatures_ = {};\n        /**\n         * A lookup of features by id (the return from feature.getId()).\n         * @private\n         * @type {!Object<string, import(\"../Feature.js\").default<Geometry>>}\n         */\n        _this.idIndex_ = {};\n        /**\n         * A lookup of features by uid (using getUid(feature)).\n         * @private\n         * @type {!Object<string, import(\"../Feature.js\").default<Geometry>>}\n         */\n        _this.uidIndex_ = {};\n        /**\n         * @private\n         * @type {Object<string, Array<import(\"../events.js\").EventsKey>>}\n         */\n        _this.featureChangeKeys_ = {};\n        /**\n         * @private\n         * @type {Collection<import(\"../Feature.js\").default<Geometry>>}\n         */\n        _this.featuresCollection_ = null;\n        var collection, features;\n        if (Array.isArray(options.features)) {\n            features = options.features;\n        }\n        else if (options.features) {\n            collection = options.features;\n            features = collection.getArray();\n        }\n        if (!useSpatialIndex && collection === undefined) {\n            collection = new Collection(features);\n        }\n        if (features !== undefined) {\n            _this.addFeaturesInternal(features);\n        }\n        if (collection !== undefined) {\n            _this.bindFeaturesCollection_(collection);\n        }\n        return _this;\n    }\n    /**\n     * Add a single feature to the source.  If you want to add a batch of features\n     * at once, call {@link module:ol/source/Vector~VectorSource#addFeatures #addFeatures()}\n     * instead. A feature will not be added to the source if feature with\n     * the same id is already there. The reason for this behavior is to avoid\n     * feature duplication when using bbox or tile loading strategies.\n     * Note: this also applies if an {@link module:ol/Collection} is used for features,\n     * meaning that if a feature with a duplicate id is added in the collection, it will\n     * be removed from it right away.\n     * @param {import(\"../Feature.js\").default<Geometry>} feature Feature to add.\n     * @api\n     */\n    VectorSource.prototype.addFeature = function (feature) {\n        this.addFeatureInternal(feature);\n        this.changed();\n    };\n    /**\n     * Add a feature without firing a `change` event.\n     * @param {import(\"../Feature.js\").default<Geometry>} feature Feature.\n     * @protected\n     */\n    VectorSource.prototype.addFeatureInternal = function (feature) {\n        var featureKey = getUid(feature);\n        if (!this.addToIndex_(featureKey, feature)) {\n            if (this.featuresCollection_) {\n                this.featuresCollection_.remove(feature);\n            }\n            return;\n        }\n        this.setupChangeEvents_(featureKey, feature);\n        var geometry = feature.getGeometry();\n        if (geometry) {\n            var extent = geometry.getExtent();\n            if (this.featuresRtree_) {\n                this.featuresRtree_.insert(extent, feature);\n            }\n        }\n        else {\n            this.nullGeometryFeatures_[featureKey] = feature;\n        }\n        this.dispatchEvent(new VectorSourceEvent(VectorEventType.ADDFEATURE, feature));\n    };\n    /**\n     * @param {string} featureKey Unique identifier for the feature.\n     * @param {import(\"../Feature.js\").default<Geometry>} feature The feature.\n     * @private\n     */\n    VectorSource.prototype.setupChangeEvents_ = function (featureKey, feature) {\n        this.featureChangeKeys_[featureKey] = [\n            listen(feature, EventType.CHANGE, this.handleFeatureChange_, this),\n            listen(feature, ObjectEventType.PROPERTYCHANGE, this.handleFeatureChange_, this),\n        ];\n    };\n    /**\n     * @param {string} featureKey Unique identifier for the feature.\n     * @param {import(\"../Feature.js\").default<Geometry>} feature The feature.\n     * @return {boolean} The feature is \"valid\", in the sense that it is also a\n     *     candidate for insertion into the Rtree.\n     * @private\n     */\n    VectorSource.prototype.addToIndex_ = function (featureKey, feature) {\n        var valid = true;\n        var id = feature.getId();\n        if (id !== undefined) {\n            if (!(id.toString() in this.idIndex_)) {\n                this.idIndex_[id.toString()] = feature;\n            }\n            else {\n                valid = false;\n            }\n        }\n        if (valid) {\n            assert(!(featureKey in this.uidIndex_), 30); // The passed `feature` was already added to the source\n            this.uidIndex_[featureKey] = feature;\n        }\n        return valid;\n    };\n    /**\n     * Add a batch of features to the source.\n     * @param {Array<import(\"../Feature.js\").default<Geometry>>} features Features to add.\n     * @api\n     */\n    VectorSource.prototype.addFeatures = function (features) {\n        this.addFeaturesInternal(features);\n        this.changed();\n    };\n    /**\n     * Add features without firing a `change` event.\n     * @param {Array<import(\"../Feature.js\").default<Geometry>>} features Features.\n     * @protected\n     */\n    VectorSource.prototype.addFeaturesInternal = function (features) {\n        var extents = [];\n        var newFeatures = [];\n        var geometryFeatures = [];\n        for (var i = 0, length_1 = features.length; i < length_1; i++) {\n            var feature = features[i];\n            var featureKey = getUid(feature);\n            if (this.addToIndex_(featureKey, feature)) {\n                newFeatures.push(feature);\n            }\n        }\n        for (var i = 0, length_2 = newFeatures.length; i < length_2; i++) {\n            var feature = newFeatures[i];\n            var featureKey = getUid(feature);\n            this.setupChangeEvents_(featureKey, feature);\n            var geometry = feature.getGeometry();\n            if (geometry) {\n                var extent = geometry.getExtent();\n                extents.push(extent);\n                geometryFeatures.push(feature);\n            }\n            else {\n                this.nullGeometryFeatures_[featureKey] = feature;\n            }\n        }\n        if (this.featuresRtree_) {\n            this.featuresRtree_.load(extents, geometryFeatures);\n        }\n        for (var i = 0, length_3 = newFeatures.length; i < length_3; i++) {\n            this.dispatchEvent(new VectorSourceEvent(VectorEventType.ADDFEATURE, newFeatures[i]));\n        }\n    };\n    /**\n     * @param {!Collection<import(\"../Feature.js\").default<Geometry>>} collection Collection.\n     * @private\n     */\n    VectorSource.prototype.bindFeaturesCollection_ = function (collection) {\n        var modifyingCollection = false;\n        this.addEventListener(VectorEventType.ADDFEATURE, \n        /**\n         * @param {VectorSourceEvent<Geometry>} evt The vector source event\n         */\n        function (evt) {\n            if (!modifyingCollection) {\n                modifyingCollection = true;\n                collection.push(evt.feature);\n                modifyingCollection = false;\n            }\n        });\n        this.addEventListener(VectorEventType.REMOVEFEATURE, \n        /**\n         * @param {VectorSourceEvent<Geometry>} evt The vector source event\n         */\n        function (evt) {\n            if (!modifyingCollection) {\n                modifyingCollection = true;\n                collection.remove(evt.feature);\n                modifyingCollection = false;\n            }\n        });\n        collection.addEventListener(CollectionEventType.ADD, \n        /**\n         * @param {import(\"../Collection.js\").CollectionEvent} evt The collection event\n         */\n        function (evt) {\n            if (!modifyingCollection) {\n                modifyingCollection = true;\n                this.addFeature(\n                /** @type {import(\"../Feature.js\").default<Geometry>} */ (evt.element));\n                modifyingCollection = false;\n            }\n        }.bind(this));\n        collection.addEventListener(CollectionEventType.REMOVE, \n        /**\n         * @param {import(\"../Collection.js\").CollectionEvent} evt The collection event\n         */\n        function (evt) {\n            if (!modifyingCollection) {\n                modifyingCollection = true;\n                this.removeFeature(\n                /** @type {import(\"../Feature.js\").default<Geometry>} */ (evt.element));\n                modifyingCollection = false;\n            }\n        }.bind(this));\n        this.featuresCollection_ = collection;\n    };\n    /**\n     * Remove all features from the source.\n     * @param {boolean=} opt_fast Skip dispatching of {@link module:ol/source/Vector.VectorSourceEvent#removefeature} events.\n     * @api\n     */\n    VectorSource.prototype.clear = function (opt_fast) {\n        if (opt_fast) {\n            for (var featureId in this.featureChangeKeys_) {\n                var keys = this.featureChangeKeys_[featureId];\n                keys.forEach(unlistenByKey);\n            }\n            if (!this.featuresCollection_) {\n                this.featureChangeKeys_ = {};\n                this.idIndex_ = {};\n                this.uidIndex_ = {};\n            }\n        }\n        else {\n            if (this.featuresRtree_) {\n                this.featuresRtree_.forEach(this.removeFeatureInternal.bind(this));\n                for (var id in this.nullGeometryFeatures_) {\n                    this.removeFeatureInternal(this.nullGeometryFeatures_[id]);\n                }\n            }\n        }\n        if (this.featuresCollection_) {\n            this.featuresCollection_.clear();\n        }\n        if (this.featuresRtree_) {\n            this.featuresRtree_.clear();\n        }\n        this.nullGeometryFeatures_ = {};\n        var clearEvent = new VectorSourceEvent(VectorEventType.CLEAR);\n        this.dispatchEvent(clearEvent);\n        this.changed();\n    };\n    /**\n     * Iterate through all features on the source, calling the provided callback\n     * with each one.  If the callback returns any \"truthy\" value, iteration will\n     * stop and the function will return the same value.\n     * Note: this function only iterate through the feature that have a defined geometry.\n     *\n     * @param {function(import(\"../Feature.js\").default<Geometry>): T} callback Called with each feature\n     *     on the source.  Return a truthy value to stop iteration.\n     * @return {T|undefined} The return value from the last call to the callback.\n     * @template T\n     * @api\n     */\n    VectorSource.prototype.forEachFeature = function (callback) {\n        if (this.featuresRtree_) {\n            return this.featuresRtree_.forEach(callback);\n        }\n        else if (this.featuresCollection_) {\n            this.featuresCollection_.forEach(callback);\n        }\n    };\n    /**\n     * Iterate through all features whose geometries contain the provided\n     * coordinate, calling the callback with each feature.  If the callback returns\n     * a \"truthy\" value, iteration will stop and the function will return the same\n     * value.\n     *\n     * @param {import(\"../coordinate.js\").Coordinate} coordinate Coordinate.\n     * @param {function(import(\"../Feature.js\").default<Geometry>): T} callback Called with each feature\n     *     whose goemetry contains the provided coordinate.\n     * @return {T|undefined} The return value from the last call to the callback.\n     * @template T\n     */\n    VectorSource.prototype.forEachFeatureAtCoordinateDirect = function (coordinate, callback) {\n        var extent = [coordinate[0], coordinate[1], coordinate[0], coordinate[1]];\n        return this.forEachFeatureInExtent(extent, function (feature) {\n            var geometry = feature.getGeometry();\n            if (geometry.intersectsCoordinate(coordinate)) {\n                return callback(feature);\n            }\n            else {\n                return undefined;\n            }\n        });\n    };\n    /**\n     * Iterate through all features whose bounding box intersects the provided\n     * extent (note that the feature's geometry may not intersect the extent),\n     * calling the callback with each feature.  If the callback returns a \"truthy\"\n     * value, iteration will stop and the function will return the same value.\n     *\n     * If you are interested in features whose geometry intersects an extent, call\n     * the {@link module:ol/source/Vector~VectorSource#forEachFeatureIntersectingExtent #forEachFeatureIntersectingExtent()} method instead.\n     *\n     * When `useSpatialIndex` is set to false, this method will loop through all\n     * features, equivalent to {@link module:ol/source/Vector~VectorSource#forEachFeature #forEachFeature()}.\n     *\n     * @param {import(\"../extent.js\").Extent} extent Extent.\n     * @param {function(import(\"../Feature.js\").default<Geometry>): T} callback Called with each feature\n     *     whose bounding box intersects the provided extent.\n     * @return {T|undefined} The return value from the last call to the callback.\n     * @template T\n     * @api\n     */\n    VectorSource.prototype.forEachFeatureInExtent = function (extent, callback) {\n        if (this.featuresRtree_) {\n            return this.featuresRtree_.forEachInExtent(extent, callback);\n        }\n        else if (this.featuresCollection_) {\n            this.featuresCollection_.forEach(callback);\n        }\n    };\n    /**\n     * Iterate through all features whose geometry intersects the provided extent,\n     * calling the callback with each feature.  If the callback returns a \"truthy\"\n     * value, iteration will stop and the function will return the same value.\n     *\n     * If you only want to test for bounding box intersection, call the\n     * {@link module:ol/source/Vector~VectorSource#forEachFeatureInExtent #forEachFeatureInExtent()} method instead.\n     *\n     * @param {import(\"../extent.js\").Extent} extent Extent.\n     * @param {function(import(\"../Feature.js\").default<Geometry>): T} callback Called with each feature\n     *     whose geometry intersects the provided extent.\n     * @return {T|undefined} The return value from the last call to the callback.\n     * @template T\n     * @api\n     */\n    VectorSource.prototype.forEachFeatureIntersectingExtent = function (extent, callback) {\n        return this.forEachFeatureInExtent(extent, \n        /**\n         * @param {import(\"../Feature.js\").default<Geometry>} feature Feature.\n         * @return {T|undefined} The return value from the last call to the callback.\n         */\n        function (feature) {\n            var geometry = feature.getGeometry();\n            if (geometry.intersectsExtent(extent)) {\n                var result = callback(feature);\n                if (result) {\n                    return result;\n                }\n            }\n        });\n    };\n    /**\n     * Get the features collection associated with this source. Will be `null`\n     * unless the source was configured with `useSpatialIndex` set to `false`, or\n     * with an {@link module:ol/Collection} as `features`.\n     * @return {Collection<import(\"../Feature.js\").default<Geometry>>} The collection of features.\n     * @api\n     */\n    VectorSource.prototype.getFeaturesCollection = function () {\n        return this.featuresCollection_;\n    };\n    /**\n     * Get all features on the source in random order.\n     * @return {Array<import(\"../Feature.js\").default<Geometry>>} Features.\n     * @api\n     */\n    VectorSource.prototype.getFeatures = function () {\n        var features;\n        if (this.featuresCollection_) {\n            features = this.featuresCollection_.getArray();\n        }\n        else if (this.featuresRtree_) {\n            features = this.featuresRtree_.getAll();\n            if (!isEmpty(this.nullGeometryFeatures_)) {\n                extend(features, getValues(this.nullGeometryFeatures_));\n            }\n        }\n        return /** @type {Array<import(\"../Feature.js\").default<Geometry>>} */ (features);\n    };\n    /**\n     * Get all features whose geometry intersects the provided coordinate.\n     * @param {import(\"../coordinate.js\").Coordinate} coordinate Coordinate.\n     * @return {Array<import(\"../Feature.js\").default<Geometry>>} Features.\n     * @api\n     */\n    VectorSource.prototype.getFeaturesAtCoordinate = function (coordinate) {\n        var features = [];\n        this.forEachFeatureAtCoordinateDirect(coordinate, function (feature) {\n            features.push(feature);\n        });\n        return features;\n    };\n    /**\n     * Get all features whose bounding box intersects the provided extent.  Note that this returns an array of\n     * all features intersecting the given extent in random order (so it may include\n     * features whose geometries do not intersect the extent).\n     *\n     * When `useSpatialIndex` is set to false, this method will return all\n     * features.\n     *\n     * @param {import(\"../extent.js\").Extent} extent Extent.\n     * @return {Array<import(\"../Feature.js\").default<Geometry>>} Features.\n     * @api\n     */\n    VectorSource.prototype.getFeaturesInExtent = function (extent) {\n        if (this.featuresRtree_) {\n            return this.featuresRtree_.getInExtent(extent);\n        }\n        else if (this.featuresCollection_) {\n            return this.featuresCollection_.getArray();\n        }\n        else {\n            return [];\n        }\n    };\n    /**\n     * Get the closest feature to the provided coordinate.\n     *\n     * This method is not available when the source is configured with\n     * `useSpatialIndex` set to `false`.\n     * @param {import(\"../coordinate.js\").Coordinate} coordinate Coordinate.\n     * @param {function(import(\"../Feature.js\").default<Geometry>):boolean=} opt_filter Feature filter function.\n     *     The filter function will receive one argument, the {@link module:ol/Feature feature}\n     *     and it should return a boolean value. By default, no filtering is made.\n     * @return {import(\"../Feature.js\").default<Geometry>} Closest feature.\n     * @api\n     */\n    VectorSource.prototype.getClosestFeatureToCoordinate = function (coordinate, opt_filter) {\n        // Find the closest feature using branch and bound.  We start searching an\n        // infinite extent, and find the distance from the first feature found.  This\n        // becomes the closest feature.  We then compute a smaller extent which any\n        // closer feature must intersect.  We continue searching with this smaller\n        // extent, trying to find a closer feature.  Every time we find a closer\n        // feature, we update the extent being searched so that any even closer\n        // feature must intersect it.  We continue until we run out of features.\n        var x = coordinate[0];\n        var y = coordinate[1];\n        var closestFeature = null;\n        var closestPoint = [NaN, NaN];\n        var minSquaredDistance = Infinity;\n        var extent = [-Infinity, -Infinity, Infinity, Infinity];\n        var filter = opt_filter ? opt_filter : TRUE;\n        this.featuresRtree_.forEachInExtent(extent, \n        /**\n         * @param {import(\"../Feature.js\").default<Geometry>} feature Feature.\n         */\n        function (feature) {\n            if (filter(feature)) {\n                var geometry = feature.getGeometry();\n                var previousMinSquaredDistance = minSquaredDistance;\n                minSquaredDistance = geometry.closestPointXY(x, y, closestPoint, minSquaredDistance);\n                if (minSquaredDistance < previousMinSquaredDistance) {\n                    closestFeature = feature;\n                    // This is sneaky.  Reduce the extent that it is currently being\n                    // searched while the R-Tree traversal using this same extent object\n                    // is still in progress.  This is safe because the new extent is\n                    // strictly contained by the old extent.\n                    var minDistance = Math.sqrt(minSquaredDistance);\n                    extent[0] = x - minDistance;\n                    extent[1] = y - minDistance;\n                    extent[2] = x + minDistance;\n                    extent[3] = y + minDistance;\n                }\n            }\n        });\n        return closestFeature;\n    };\n    /**\n     * Get the extent of the features currently in the source.\n     *\n     * This method is not available when the source is configured with\n     * `useSpatialIndex` set to `false`.\n     * @param {import(\"../extent.js\").Extent=} opt_extent Destination extent. If provided, no new extent\n     *     will be created. Instead, that extent's coordinates will be overwritten.\n     * @return {import(\"../extent.js\").Extent} Extent.\n     * @api\n     */\n    VectorSource.prototype.getExtent = function (opt_extent) {\n        return this.featuresRtree_.getExtent(opt_extent);\n    };\n    /**\n     * Get a feature by its identifier (the value returned by feature.getId()).\n     * Note that the index treats string and numeric identifiers as the same.  So\n     * `source.getFeatureById(2)` will return a feature with id `'2'` or `2`.\n     *\n     * @param {string|number} id Feature identifier.\n     * @return {import(\"../Feature.js\").default<Geometry>} The feature (or `null` if not found).\n     * @api\n     */\n    VectorSource.prototype.getFeatureById = function (id) {\n        var feature = this.idIndex_[id.toString()];\n        return feature !== undefined ? feature : null;\n    };\n    /**\n     * Get a feature by its internal unique identifier (using `getUid`).\n     *\n     * @param {string} uid Feature identifier.\n     * @return {import(\"../Feature.js\").default<Geometry>} The feature (or `null` if not found).\n     */\n    VectorSource.prototype.getFeatureByUid = function (uid) {\n        var feature = this.uidIndex_[uid];\n        return feature !== undefined ? feature : null;\n    };\n    /**\n     * Get the format associated with this source.\n     *\n     * @return {import(\"../format/Feature.js\").default|undefined} The feature format.\n     * @api\n     */\n    VectorSource.prototype.getFormat = function () {\n        return this.format_;\n    };\n    /**\n     * @return {boolean} The source can have overlapping geometries.\n     */\n    VectorSource.prototype.getOverlaps = function () {\n        return this.overlaps_;\n    };\n    /**\n     * Get the url associated with this source.\n     *\n     * @return {string|import(\"../featureloader.js\").FeatureUrlFunction|undefined} The url.\n     * @api\n     */\n    VectorSource.prototype.getUrl = function () {\n        return this.url_;\n    };\n    /**\n     * @param {Event} event Event.\n     * @private\n     */\n    VectorSource.prototype.handleFeatureChange_ = function (event) {\n        var feature = /** @type {import(\"../Feature.js\").default<Geometry>} */ (event.target);\n        var featureKey = getUid(feature);\n        var geometry = feature.getGeometry();\n        if (!geometry) {\n            if (!(featureKey in this.nullGeometryFeatures_)) {\n                if (this.featuresRtree_) {\n                    this.featuresRtree_.remove(feature);\n                }\n                this.nullGeometryFeatures_[featureKey] = feature;\n            }\n        }\n        else {\n            var extent = geometry.getExtent();\n            if (featureKey in this.nullGeometryFeatures_) {\n                delete this.nullGeometryFeatures_[featureKey];\n                if (this.featuresRtree_) {\n                    this.featuresRtree_.insert(extent, feature);\n                }\n            }\n            else {\n                if (this.featuresRtree_) {\n                    this.featuresRtree_.update(extent, feature);\n                }\n            }\n        }\n        var id = feature.getId();\n        if (id !== undefined) {\n            var sid = id.toString();\n            if (this.idIndex_[sid] !== feature) {\n                this.removeFromIdIndex_(feature);\n                this.idIndex_[sid] = feature;\n            }\n        }\n        else {\n            this.removeFromIdIndex_(feature);\n            this.uidIndex_[featureKey] = feature;\n        }\n        this.changed();\n        this.dispatchEvent(new VectorSourceEvent(VectorEventType.CHANGEFEATURE, feature));\n    };\n    /**\n     * Returns true if the feature is contained within the source.\n     * @param {import(\"../Feature.js\").default<Geometry>} feature Feature.\n     * @return {boolean} Has feature.\n     * @api\n     */\n    VectorSource.prototype.hasFeature = function (feature) {\n        var id = feature.getId();\n        if (id !== undefined) {\n            return id in this.idIndex_;\n        }\n        else {\n            return getUid(feature) in this.uidIndex_;\n        }\n    };\n    /**\n     * @return {boolean} Is empty.\n     */\n    VectorSource.prototype.isEmpty = function () {\n        return this.featuresRtree_.isEmpty() && isEmpty(this.nullGeometryFeatures_);\n    };\n    /**\n     * @param {import(\"../extent.js\").Extent} extent Extent.\n     * @param {number} resolution Resolution.\n     * @param {import(\"../proj/Projection.js\").default} projection Projection.\n     */\n    VectorSource.prototype.loadFeatures = function (extent, resolution, projection) {\n        var loadedExtentsRtree = this.loadedExtentsRtree_;\n        var extentsToLoad = this.strategy_(extent, resolution);\n        this.loading = false;\n        var _loop_1 = function (i, ii) {\n            var extentToLoad = extentsToLoad[i];\n            var alreadyLoaded = loadedExtentsRtree.forEachInExtent(extentToLoad, \n            /**\n             * @param {{extent: import(\"../extent.js\").Extent}} object Object.\n             * @return {boolean} Contains.\n             */\n            function (object) {\n                return containsExtent(object.extent, extentToLoad);\n            });\n            if (!alreadyLoaded) {\n                this_1.dispatchEvent(new VectorSourceEvent(VectorEventType.FEATURESLOADSTART));\n                this_1.loader_.call(this_1, extentToLoad, resolution, projection, function (features) {\n                    this.dispatchEvent(new VectorSourceEvent(VectorEventType.FEATURESLOADEND, undefined, features));\n                }.bind(this_1), function () {\n                    this.dispatchEvent(new VectorSourceEvent(VectorEventType.FEATURESLOADERROR));\n                }.bind(this_1));\n                loadedExtentsRtree.insert(extentToLoad, { extent: extentToLoad.slice() });\n                this_1.loading = this_1.loader_ !== VOID;\n            }\n        };\n        var this_1 = this;\n        for (var i = 0, ii = extentsToLoad.length; i < ii; ++i) {\n            _loop_1(i, ii);\n        }\n    };\n    VectorSource.prototype.refresh = function () {\n        this.clear(true);\n        this.loadedExtentsRtree_.clear();\n        _super.prototype.refresh.call(this);\n    };\n    /**\n     * Remove an extent from the list of loaded extents.\n     * @param {import(\"../extent.js\").Extent} extent Extent.\n     * @api\n     */\n    VectorSource.prototype.removeLoadedExtent = function (extent) {\n        var loadedExtentsRtree = this.loadedExtentsRtree_;\n        var obj;\n        loadedExtentsRtree.forEachInExtent(extent, function (object) {\n            if (equals(object.extent, extent)) {\n                obj = object;\n                return true;\n            }\n        });\n        if (obj) {\n            loadedExtentsRtree.remove(obj);\n        }\n    };\n    /**\n     * Remove a single feature from the source.  If you want to remove all features\n     * at once, use the {@link module:ol/source/Vector~VectorSource#clear #clear()} method\n     * instead.\n     * @param {import(\"../Feature.js\").default<Geometry>} feature Feature to remove.\n     * @api\n     */\n    VectorSource.prototype.removeFeature = function (feature) {\n        var featureKey = getUid(feature);\n        if (featureKey in this.nullGeometryFeatures_) {\n            delete this.nullGeometryFeatures_[featureKey];\n        }\n        else {\n            if (this.featuresRtree_) {\n                this.featuresRtree_.remove(feature);\n            }\n        }\n        this.removeFeatureInternal(feature);\n        this.changed();\n    };\n    /**\n     * Remove feature without firing a `change` event.\n     * @param {import(\"../Feature.js\").default<Geometry>} feature Feature.\n     * @protected\n     */\n    VectorSource.prototype.removeFeatureInternal = function (feature) {\n        var featureKey = getUid(feature);\n        this.featureChangeKeys_[featureKey].forEach(unlistenByKey);\n        delete this.featureChangeKeys_[featureKey];\n        var id = feature.getId();\n        if (id !== undefined) {\n            delete this.idIndex_[id.toString()];\n        }\n        delete this.uidIndex_[featureKey];\n        this.dispatchEvent(new VectorSourceEvent(VectorEventType.REMOVEFEATURE, feature));\n    };\n    /**\n     * Remove a feature from the id index.  Called internally when the feature id\n     * may have changed.\n     * @param {import(\"../Feature.js\").default<Geometry>} feature The feature.\n     * @return {boolean} Removed the feature from the index.\n     * @private\n     */\n    VectorSource.prototype.removeFromIdIndex_ = function (feature) {\n        var removed = false;\n        for (var id in this.idIndex_) {\n            if (this.idIndex_[id] === feature) {\n                delete this.idIndex_[id];\n                removed = true;\n                break;\n            }\n        }\n        return removed;\n    };\n    /**\n     * Set the new loader of the source. The next render cycle will use the\n     * new loader.\n     * @param {import(\"../featureloader.js\").FeatureLoader} loader The loader to set.\n     * @api\n     */\n    VectorSource.prototype.setLoader = function (loader) {\n        this.loader_ = loader;\n    };\n    /**\n     * Points the source to a new url. The next render cycle will use the new url.\n     * @param {string|import(\"../featureloader.js\").FeatureUrlFunction} url Url.\n     * @api\n     */\n    VectorSource.prototype.setUrl = function (url) {\n        assert(this.format_, 7); // `format` must be set when `url` is set\n        this.setLoader(xhr(url, this.format_));\n    };\n    return VectorSource;\n}(Source));\nexport default VectorSource;\n//# sourceMappingURL=Vector.js.map","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n/**\n * @module ol/Tile\n */\nimport EventTarget from './events/Target.js';\nimport EventType from './events/EventType.js';\nimport TileState from './TileState.js';\nimport { abstract } from './util.js';\nimport { easeIn } from './easing.js';\n/**\n * A function that takes an {@link module:ol/Tile} for the tile and a\n * `{string}` for the url as arguments. The default is\n * ```js\n * source.setTileLoadFunction(function(tile, src) {\n *   tile.getImage().src = src;\n * });\n * ```\n * For more fine grained control, the load function can use fetch or XMLHttpRequest and involve\n * error handling:\n *\n * ```js\n * import TileState from 'ol/TileState';\n *\n * source.setTileLoadFunction(function(tile, src) {\n *   var xhr = new XMLHttpRequest();\n *   xhr.responseType = 'blob';\n *   xhr.addEventListener('loadend', function (evt) {\n *     var data = this.response;\n *     if (data !== undefined) {\n *       tile.getImage().src = URL.createObjectURL(data);\n *     } else {\n *       tile.setState(TileState.ERROR);\n *     }\n *   });\n *   xhr.addEventListener('error', function () {\n *     tile.setState(TileState.ERROR);\n *   });\n *   xhr.open('GET', src);\n *   xhr.send();\n * });\n * ```\n *\n * @typedef {function(Tile, string): void} LoadFunction\n * @api\n */\n/**\n * {@link module:ol/source/Tile~Tile} sources use a function of this type to get\n * the url that provides a tile for a given tile coordinate.\n *\n * This function takes an {@link module:ol/tilecoord~TileCoord} for the tile\n * coordinate, a `{number}` representing the pixel ratio and a\n * {@link module:ol/proj/Projection} for the projection  as arguments\n * and returns a `{string}` representing the tile URL, or undefined if no tile\n * should be requested for the passed tile coordinate.\n *\n * @typedef {function(import(\"./tilecoord.js\").TileCoord, number,\n *           import(\"./proj/Projection.js\").default): (string|undefined)} UrlFunction\n * @api\n */\n/**\n * @typedef {Object} Options\n * @property {number} [transition=250] A duration for tile opacity\n * transitions in milliseconds. A duration of 0 disables the opacity transition.\n * @api\n */\n/**\n * @classdesc\n * Base class for tiles.\n *\n * @abstract\n */\nvar Tile = /** @class */ (function (_super) {\n    __extends(Tile, _super);\n    /**\n     * @param {import(\"./tilecoord.js\").TileCoord} tileCoord Tile coordinate.\n     * @param {import(\"./TileState.js\").default} state State.\n     * @param {Options=} opt_options Tile options.\n     */\n    function Tile(tileCoord, state, opt_options) {\n        var _this = _super.call(this) || this;\n        var options = opt_options ? opt_options : {};\n        /**\n         * @type {import(\"./tilecoord.js\").TileCoord}\n         */\n        _this.tileCoord = tileCoord;\n        /**\n         * @protected\n         * @type {import(\"./TileState.js\").default}\n         */\n        _this.state = state;\n        /**\n         * An \"interim\" tile for this tile. The interim tile may be used while this\n         * one is loading, for \"smooth\" transitions when changing params/dimensions\n         * on the source.\n         * @type {Tile}\n         */\n        _this.interimTile = null;\n        /**\n         * The tile is available at the highest possible resolution. Subclasses can\n         * set this to `false` initially. Tile load listeners will not be\n         * unregistered before this is set to `true` and a `#changed()` is called.\n         * @type {boolean}\n         */\n        _this.hifi = true;\n        /**\n         * A key assigned to the tile. This is used by the tile source to determine\n         * if this tile can effectively be used, or if a new tile should be created\n         * and this one be used as an interim tile for this new tile.\n         * @type {string}\n         */\n        _this.key = '';\n        /**\n         * The duration for the opacity transition.\n         * @type {number}\n         */\n        _this.transition_ =\n            options.transition === undefined ? 250 : options.transition;\n        /**\n         * Lookup of start times for rendering transitions.  If the start time is\n         * equal to -1, the transition is complete.\n         * @type {Object<string, number>}\n         */\n        _this.transitionStarts_ = {};\n        return _this;\n    }\n    /**\n     * @protected\n     */\n    Tile.prototype.changed = function () {\n        this.dispatchEvent(EventType.CHANGE);\n    };\n    /**\n     * Called by the tile cache when the tile is removed from the cache due to expiry\n     */\n    Tile.prototype.release = function () { };\n    /**\n     * @return {string} Key.\n     */\n    Tile.prototype.getKey = function () {\n        return this.key + '/' + this.tileCoord;\n    };\n    /**\n     * Get the interim tile most suitable for rendering using the chain of interim\n     * tiles. This corresponds to the  most recent tile that has been loaded, if no\n     * such tile exists, the original tile is returned.\n     * @return {!Tile} Best tile for rendering.\n     */\n    Tile.prototype.getInterimTile = function () {\n        if (!this.interimTile) {\n            //empty chain\n            return this;\n        }\n        var tile = this.interimTile;\n        // find the first loaded tile and return it. Since the chain is sorted in\n        // decreasing order of creation time, there is no need to search the remainder\n        // of the list (all those tiles correspond to older requests and will be\n        // cleaned up by refreshInterimChain)\n        do {\n            if (tile.getState() == TileState.LOADED) {\n                // Show tile immediately instead of fading it in after loading, because\n                // the interim tile is in place already\n                this.transition_ = 0;\n                return tile;\n            }\n            tile = tile.interimTile;\n        } while (tile);\n        // we can not find a better tile\n        return this;\n    };\n    /**\n     * Goes through the chain of interim tiles and discards sections of the chain\n     * that are no longer relevant.\n     */\n    Tile.prototype.refreshInterimChain = function () {\n        if (!this.interimTile) {\n            return;\n        }\n        var tile = this.interimTile;\n        var prev = /** @type {Tile} */ (this);\n        do {\n            if (tile.getState() == TileState.LOADED) {\n                //we have a loaded tile, we can discard the rest of the list\n                //we would could abort any LOADING tile request\n                //older than this tile (i.e. any LOADING tile following this entry in the chain)\n                tile.interimTile = null;\n                break;\n            }\n            else if (tile.getState() == TileState.LOADING) {\n                //keep this LOADING tile any loaded tiles later in the chain are\n                //older than this tile, so we're still interested in the request\n                prev = tile;\n            }\n            else if (tile.getState() == TileState.IDLE) {\n                //the head of the list is the most current tile, we don't need\n                //to start any other requests for this chain\n                prev.interimTile = tile.interimTile;\n            }\n            else {\n                prev = tile;\n            }\n            tile = prev.interimTile;\n        } while (tile);\n    };\n    /**\n     * Get the tile coordinate for this tile.\n     * @return {import(\"./tilecoord.js\").TileCoord} The tile coordinate.\n     * @api\n     */\n    Tile.prototype.getTileCoord = function () {\n        return this.tileCoord;\n    };\n    /**\n     * @return {import(\"./TileState.js\").default} State.\n     */\n    Tile.prototype.getState = function () {\n        return this.state;\n    };\n    /**\n     * Sets the state of this tile. If you write your own {@link module:ol/Tile~LoadFunction tileLoadFunction} ,\n     * it is important to set the state correctly to {@link module:ol/TileState~ERROR}\n     * when the tile cannot be loaded. Otherwise the tile cannot be removed from\n     * the tile queue and will block other requests.\n     * @param {import(\"./TileState.js\").default} state State.\n     * @api\n     */\n    Tile.prototype.setState = function (state) {\n        if (this.state !== TileState.ERROR && this.state > state) {\n            throw new Error('Tile load sequence violation');\n        }\n        this.state = state;\n        this.changed();\n    };\n    /**\n     * Load the image or retry if loading previously failed.\n     * Loading is taken care of by the tile queue, and calling this method is\n     * only needed for preloading or for reloading in case of an error.\n     * @abstract\n     * @api\n     */\n    Tile.prototype.load = function () {\n        abstract();\n    };\n    /**\n     * Get the alpha value for rendering.\n     * @param {string} id An id for the renderer.\n     * @param {number} time The render frame time.\n     * @return {number} A number between 0 and 1.\n     */\n    Tile.prototype.getAlpha = function (id, time) {\n        if (!this.transition_) {\n            return 1;\n        }\n        var start = this.transitionStarts_[id];\n        if (!start) {\n            start = time;\n            this.transitionStarts_[id] = start;\n        }\n        else if (start === -1) {\n            return 1;\n        }\n        var delta = time - start + 1000 / 60; // avoid rendering at 0\n        if (delta >= this.transition_) {\n            return 1;\n        }\n        return easeIn(delta / this.transition_);\n    };\n    /**\n     * Determine if a tile is in an alpha transition.  A tile is considered in\n     * transition if tile.getAlpha() has not yet been called or has been called\n     * and returned 1.\n     * @param {string} id An id for the renderer.\n     * @return {boolean} The tile is in transition.\n     */\n    Tile.prototype.inTransition = function (id) {\n        if (!this.transition_) {\n            return false;\n        }\n        return this.transitionStarts_[id] !== -1;\n    };\n    /**\n     * Mark a transition as complete.\n     * @param {string} id An id for the renderer.\n     */\n    Tile.prototype.endTransition = function (id) {\n        if (this.transition_) {\n            this.transitionStarts_[id] = -1;\n        }\n    };\n    return Tile;\n}(EventTarget));\nexport default Tile;\n//# sourceMappingURL=Tile.js.map","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n/**\n * @module ol/ImageTile\n */\nimport Tile from './Tile.js';\nimport TileState from './TileState.js';\nimport { createCanvasContext2D } from './dom.js';\nimport { listenImage } from './Image.js';\nvar ImageTile = /** @class */ (function (_super) {\n    __extends(ImageTile, _super);\n    /**\n     * @param {import(\"./tilecoord.js\").TileCoord} tileCoord Tile coordinate.\n     * @param {import(\"./TileState.js\").default} state State.\n     * @param {string} src Image source URI.\n     * @param {?string} crossOrigin Cross origin.\n     * @param {import(\"./Tile.js\").LoadFunction} tileLoadFunction Tile load function.\n     * @param {import(\"./Tile.js\").Options=} opt_options Tile options.\n     */\n    function ImageTile(tileCoord, state, src, crossOrigin, tileLoadFunction, opt_options) {\n        var _this = _super.call(this, tileCoord, state, opt_options) || this;\n        /**\n         * @private\n         * @type {?string}\n         */\n        _this.crossOrigin_ = crossOrigin;\n        /**\n         * Image URI\n         *\n         * @private\n         * @type {string}\n         */\n        _this.src_ = src;\n        _this.key = src;\n        /**\n         * @private\n         * @type {HTMLImageElement|HTMLCanvasElement}\n         */\n        _this.image_ = new Image();\n        if (crossOrigin !== null) {\n            _this.image_.crossOrigin = crossOrigin;\n        }\n        /**\n         * @private\n         * @type {?function():void}\n         */\n        _this.unlisten_ = null;\n        /**\n         * @private\n         * @type {import(\"./Tile.js\").LoadFunction}\n         */\n        _this.tileLoadFunction_ = tileLoadFunction;\n        return _this;\n    }\n    /**\n     * Get the HTML image element for this tile (may be a Canvas, Image, or Video).\n     * @return {HTMLCanvasElement|HTMLImageElement|HTMLVideoElement} Image.\n     * @api\n     */\n    ImageTile.prototype.getImage = function () {\n        return this.image_;\n    };\n    /**\n     * Tracks loading or read errors.\n     *\n     * @private\n     */\n    ImageTile.prototype.handleImageError_ = function () {\n        this.state = TileState.ERROR;\n        this.unlistenImage_();\n        this.image_ = getBlankImage();\n        this.changed();\n    };\n    /**\n     * Tracks successful image load.\n     *\n     * @private\n     */\n    ImageTile.prototype.handleImageLoad_ = function () {\n        var image = /** @type {HTMLImageElement} */ (this.image_);\n        if (image.naturalWidth && image.naturalHeight) {\n            this.state = TileState.LOADED;\n        }\n        else {\n            this.state = TileState.EMPTY;\n        }\n        this.unlistenImage_();\n        this.changed();\n    };\n    /**\n     * Load not yet loaded URI.\n     * @api\n     */\n    ImageTile.prototype.load = function () {\n        if (this.state == TileState.ERROR) {\n            this.state = TileState.IDLE;\n            this.image_ = new Image();\n            if (this.crossOrigin_ !== null) {\n                this.image_.crossOrigin = this.crossOrigin_;\n            }\n        }\n        if (this.state == TileState.IDLE) {\n            this.state = TileState.LOADING;\n            this.changed();\n            this.tileLoadFunction_(this, this.src_);\n            this.unlisten_ = listenImage(this.image_, this.handleImageLoad_.bind(this), this.handleImageError_.bind(this));\n        }\n    };\n    /**\n     * Discards event handlers which listen for load completion or errors.\n     *\n     * @private\n     */\n    ImageTile.prototype.unlistenImage_ = function () {\n        if (this.unlisten_) {\n            this.unlisten_();\n            this.unlisten_ = null;\n        }\n    };\n    return ImageTile;\n}(Tile));\n/**\n * Get a 1-pixel blank image.\n * @return {HTMLCanvasElement} Blank image.\n */\nfunction getBlankImage() {\n    var ctx = createCanvasContext2D(1, 1);\n    ctx.fillStyle = 'rgba(0,0,0,0)';\n    ctx.fillRect(0, 0, 1, 1);\n    return ctx.canvas;\n}\nexport default ImageTile;\n//# sourceMappingURL=ImageTile.js.map","/**\n * @module ol/reproj\n */\nimport { IMAGE_SMOOTHING_DISABLED } from './source/common.js';\nimport { assign } from './obj.js';\nimport { containsCoordinate, createEmpty, extend, forEachCorner, getCenter, getHeight, getTopLeft, getWidth, } from './extent.js';\nimport { createCanvasContext2D } from './dom.js';\nimport { getPointResolution, transform } from './proj.js';\nimport { solveLinearSystem } from './math.js';\nvar brokenDiagonalRendering_;\n/**\n * This draws a small triangle into a canvas by setting the triangle as the clip region\n * and then drawing a (too large) rectangle\n *\n * @param {CanvasRenderingContext2D} ctx The context in which to draw the triangle\n * @param {number} u1 The x-coordinate of the second point. The first point is 0,0.\n * @param {number} v1 The y-coordinate of the second point.\n * @param {number} u2 The x-coordinate of the third point.\n * @param {number} v2 The y-coordinate of the third point.\n */\nfunction drawTestTriangle(ctx, u1, v1, u2, v2) {\n    ctx.beginPath();\n    ctx.moveTo(0, 0);\n    ctx.lineTo(u1, v1);\n    ctx.lineTo(u2, v2);\n    ctx.closePath();\n    ctx.save();\n    ctx.clip();\n    ctx.fillRect(0, 0, Math.max(u1, u2) + 1, Math.max(v1, v2));\n    ctx.restore();\n}\n/**\n * Given the data from getImageData, see if the right values appear at the provided offset.\n * Returns true if either the color or transparency is off\n *\n * @param {Uint8ClampedArray} data The data returned from getImageData\n * @param {number} offset The pixel offset from the start of data.\n * @return {boolean} true if the diagonal rendering is broken\n */\nfunction verifyBrokenDiagonalRendering(data, offset) {\n    // the values ought to be close to the rgba(210, 0, 0, 0.75)\n    return (Math.abs(data[offset * 4] - 210) > 2 ||\n        Math.abs(data[offset * 4 + 3] - 0.75 * 255) > 2);\n}\n/**\n * Determines if the current browser configuration can render triangular clip regions correctly.\n * This value is cached so the function is only expensive the first time called.\n * Firefox on Windows (as of now) does not if HWA is enabled. See https://bugzilla.mozilla.org/show_bug.cgi?id=1606976\n * IE also doesn't. Chrome works, and everything seems to work on OSX and Android. This function caches the\n * result. I suppose that it is conceivably possible that a browser might flip modes while the app is\n * running, but lets hope not.\n *\n * @return {boolean} true if the Diagonal Rendering is broken.\n */\nfunction isBrokenDiagonalRendering() {\n    if (brokenDiagonalRendering_ === undefined) {\n        var ctx = document.createElement('canvas').getContext('2d');\n        ctx.globalCompositeOperation = 'lighter';\n        ctx.fillStyle = 'rgba(210, 0, 0, 0.75)';\n        drawTestTriangle(ctx, 4, 5, 4, 0);\n        drawTestTriangle(ctx, 4, 5, 0, 5);\n        var data = ctx.getImageData(0, 0, 3, 3).data;\n        brokenDiagonalRendering_ =\n            verifyBrokenDiagonalRendering(data, 0) ||\n                verifyBrokenDiagonalRendering(data, 4) ||\n                verifyBrokenDiagonalRendering(data, 8);\n    }\n    return brokenDiagonalRendering_;\n}\n/**\n * Calculates ideal resolution to use from the source in order to achieve\n * pixel mapping as close as possible to 1:1 during reprojection.\n * The resolution is calculated regardless of what resolutions\n * are actually available in the dataset (TileGrid, Image, ...).\n *\n * @param {import(\"./proj/Projection.js\").default} sourceProj Source projection.\n * @param {import(\"./proj/Projection.js\").default} targetProj Target projection.\n * @param {import(\"./coordinate.js\").Coordinate} targetCenter Target center.\n * @param {number} targetResolution Target resolution.\n * @return {number} The best resolution to use. Can be +-Infinity, NaN or 0.\n */\nexport function calculateSourceResolution(sourceProj, targetProj, targetCenter, targetResolution) {\n    var sourceCenter = transform(targetCenter, targetProj, sourceProj);\n    // calculate the ideal resolution of the source data\n    var sourceResolution = getPointResolution(targetProj, targetResolution, targetCenter);\n    var targetMetersPerUnit = targetProj.getMetersPerUnit();\n    if (targetMetersPerUnit !== undefined) {\n        sourceResolution *= targetMetersPerUnit;\n    }\n    var sourceMetersPerUnit = sourceProj.getMetersPerUnit();\n    if (sourceMetersPerUnit !== undefined) {\n        sourceResolution /= sourceMetersPerUnit;\n    }\n    // Based on the projection properties, the point resolution at the specified\n    // coordinates may be slightly different. We need to reverse-compensate this\n    // in order to achieve optimal results.\n    var sourceExtent = sourceProj.getExtent();\n    if (!sourceExtent || containsCoordinate(sourceExtent, sourceCenter)) {\n        var compensationFactor = getPointResolution(sourceProj, sourceResolution, sourceCenter) /\n            sourceResolution;\n        if (isFinite(compensationFactor) && compensationFactor > 0) {\n            sourceResolution /= compensationFactor;\n        }\n    }\n    return sourceResolution;\n}\n/**\n * Calculates ideal resolution to use from the source in order to achieve\n * pixel mapping as close as possible to 1:1 during reprojection.\n * The resolution is calculated regardless of what resolutions\n * are actually available in the dataset (TileGrid, Image, ...).\n *\n * @param {import(\"./proj/Projection.js\").default} sourceProj Source projection.\n * @param {import(\"./proj/Projection.js\").default} targetProj Target projection.\n * @param {import(\"./extent.js\").Extent} targetExtent Target extent\n * @param {number} targetResolution Target resolution.\n * @return {number} The best resolution to use. Can be +-Infinity, NaN or 0.\n */\nexport function calculateSourceExtentResolution(sourceProj, targetProj, targetExtent, targetResolution) {\n    var targetCenter = getCenter(targetExtent);\n    var sourceResolution = calculateSourceResolution(sourceProj, targetProj, targetCenter, targetResolution);\n    if (!isFinite(sourceResolution) || sourceResolution <= 0) {\n        forEachCorner(targetExtent, function (corner) {\n            sourceResolution = calculateSourceResolution(sourceProj, targetProj, corner, targetResolution);\n            return isFinite(sourceResolution) && sourceResolution > 0;\n        });\n    }\n    return sourceResolution;\n}\n/**\n * Renders the source data into new canvas based on the triangulation.\n *\n * @param {number} width Width of the canvas.\n * @param {number} height Height of the canvas.\n * @param {number} pixelRatio Pixel ratio.\n * @param {number} sourceResolution Source resolution.\n * @param {import(\"./extent.js\").Extent} sourceExtent Extent of the data source.\n * @param {number} targetResolution Target resolution.\n * @param {import(\"./extent.js\").Extent} targetExtent Target extent.\n * @param {import(\"./reproj/Triangulation.js\").default} triangulation\n * Calculated triangulation.\n * @param {Array<{extent: import(\"./extent.js\").Extent,\n *                 image: (HTMLCanvasElement|HTMLImageElement|HTMLVideoElement)}>} sources\n * Array of sources.\n * @param {number} gutter Gutter of the sources.\n * @param {boolean=} opt_renderEdges Render reprojection edges.\n * @param {object=} opt_contextOptions Properties to set on the canvas context.\n * @return {HTMLCanvasElement} Canvas with reprojected data.\n */\nexport function render(width, height, pixelRatio, sourceResolution, sourceExtent, targetResolution, targetExtent, triangulation, sources, gutter, opt_renderEdges, opt_contextOptions) {\n    var context = createCanvasContext2D(Math.round(pixelRatio * width), Math.round(pixelRatio * height));\n    assign(context, opt_contextOptions);\n    if (sources.length === 0) {\n        return context.canvas;\n    }\n    context.scale(pixelRatio, pixelRatio);\n    function pixelRound(value) {\n        return Math.round(value * pixelRatio) / pixelRatio;\n    }\n    context.globalCompositeOperation = 'lighter';\n    var sourceDataExtent = createEmpty();\n    sources.forEach(function (src, i, arr) {\n        extend(sourceDataExtent, src.extent);\n    });\n    var canvasWidthInUnits = getWidth(sourceDataExtent);\n    var canvasHeightInUnits = getHeight(sourceDataExtent);\n    var stitchContext = createCanvasContext2D(Math.round((pixelRatio * canvasWidthInUnits) / sourceResolution), Math.round((pixelRatio * canvasHeightInUnits) / sourceResolution));\n    assign(stitchContext, opt_contextOptions);\n    var stitchScale = pixelRatio / sourceResolution;\n    sources.forEach(function (src, i, arr) {\n        var xPos = src.extent[0] - sourceDataExtent[0];\n        var yPos = -(src.extent[3] - sourceDataExtent[3]);\n        var srcWidth = getWidth(src.extent);\n        var srcHeight = getHeight(src.extent);\n        // This test should never fail -- but it does. Need to find a fix the upstream condition\n        if (src.image.width > 0 && src.image.height > 0) {\n            stitchContext.drawImage(src.image, gutter, gutter, src.image.width - 2 * gutter, src.image.height - 2 * gutter, xPos * stitchScale, yPos * stitchScale, srcWidth * stitchScale, srcHeight * stitchScale);\n        }\n    });\n    var targetTopLeft = getTopLeft(targetExtent);\n    triangulation.getTriangles().forEach(function (triangle, i, arr) {\n        /* Calculate affine transform (src -> dst)\n         * Resulting matrix can be used to transform coordinate\n         * from `sourceProjection` to destination pixels.\n         *\n         * To optimize number of context calls and increase numerical stability,\n         * we also do the following operations:\n         * trans(-topLeftExtentCorner), scale(1 / targetResolution), scale(1, -1)\n         * here before solving the linear system so [ui, vi] are pixel coordinates.\n         *\n         * Src points: xi, yi\n         * Dst points: ui, vi\n         * Affine coefficients: aij\n         *\n         * | x0 y0 1  0  0 0 |   |a00|   |u0|\n         * | x1 y1 1  0  0 0 |   |a01|   |u1|\n         * | x2 y2 1  0  0 0 | x |a02| = |u2|\n         * |  0  0 0 x0 y0 1 |   |a10|   |v0|\n         * |  0  0 0 x1 y1 1 |   |a11|   |v1|\n         * |  0  0 0 x2 y2 1 |   |a12|   |v2|\n         */\n        var source = triangle.source;\n        var target = triangle.target;\n        var x0 = source[0][0], y0 = source[0][1];\n        var x1 = source[1][0], y1 = source[1][1];\n        var x2 = source[2][0], y2 = source[2][1];\n        // Make sure that everything is on pixel boundaries\n        var u0 = pixelRound((target[0][0] - targetTopLeft[0]) / targetResolution);\n        var v0 = pixelRound(-(target[0][1] - targetTopLeft[1]) / targetResolution);\n        var u1 = pixelRound((target[1][0] - targetTopLeft[0]) / targetResolution);\n        var v1 = pixelRound(-(target[1][1] - targetTopLeft[1]) / targetResolution);\n        var u2 = pixelRound((target[2][0] - targetTopLeft[0]) / targetResolution);\n        var v2 = pixelRound(-(target[2][1] - targetTopLeft[1]) / targetResolution);\n        // Shift all the source points to improve numerical stability\n        // of all the subsequent calculations. The [x0, y0] is used here.\n        // This is also used to simplify the linear system.\n        var sourceNumericalShiftX = x0;\n        var sourceNumericalShiftY = y0;\n        x0 = 0;\n        y0 = 0;\n        x1 -= sourceNumericalShiftX;\n        y1 -= sourceNumericalShiftY;\n        x2 -= sourceNumericalShiftX;\n        y2 -= sourceNumericalShiftY;\n        var augmentedMatrix = [\n            [x1, y1, 0, 0, u1 - u0],\n            [x2, y2, 0, 0, u2 - u0],\n            [0, 0, x1, y1, v1 - v0],\n            [0, 0, x2, y2, v2 - v0],\n        ];\n        var affineCoefs = solveLinearSystem(augmentedMatrix);\n        if (!affineCoefs) {\n            return;\n        }\n        context.save();\n        context.beginPath();\n        if (isBrokenDiagonalRendering() ||\n            opt_contextOptions === IMAGE_SMOOTHING_DISABLED) {\n            // Make sure that all lines are horizontal or vertical\n            context.moveTo(u1, v1);\n            // This is the diagonal line. Do it in 4 steps\n            var steps = 4;\n            var ud = u0 - u1;\n            var vd = v0 - v1;\n            for (var step = 0; step < steps; step++) {\n                // Go horizontally\n                context.lineTo(u1 + pixelRound(((step + 1) * ud) / steps), v1 + pixelRound((step * vd) / (steps - 1)));\n                // Go vertically\n                if (step != steps - 1) {\n                    context.lineTo(u1 + pixelRound(((step + 1) * ud) / steps), v1 + pixelRound(((step + 1) * vd) / (steps - 1)));\n                }\n            }\n            // We are almost at u0r, v0r\n            context.lineTo(u2, v2);\n        }\n        else {\n            context.moveTo(u1, v1);\n            context.lineTo(u0, v0);\n            context.lineTo(u2, v2);\n        }\n        context.clip();\n        context.transform(affineCoefs[0], affineCoefs[2], affineCoefs[1], affineCoefs[3], u0, v0);\n        context.translate(sourceDataExtent[0] - sourceNumericalShiftX, sourceDataExtent[3] - sourceNumericalShiftY);\n        context.scale(sourceResolution / pixelRatio, -sourceResolution / pixelRatio);\n        context.drawImage(stitchContext.canvas, 0, 0);\n        context.restore();\n    });\n    if (opt_renderEdges) {\n        context.save();\n        context.globalCompositeOperation = 'source-over';\n        context.strokeStyle = 'black';\n        context.lineWidth = 1;\n        triangulation.getTriangles().forEach(function (triangle, i, arr) {\n            var target = triangle.target;\n            var u0 = (target[0][0] - targetTopLeft[0]) / targetResolution;\n            var v0 = -(target[0][1] - targetTopLeft[1]) / targetResolution;\n            var u1 = (target[1][0] - targetTopLeft[0]) / targetResolution;\n            var v1 = -(target[1][1] - targetTopLeft[1]) / targetResolution;\n            var u2 = (target[2][0] - targetTopLeft[0]) / targetResolution;\n            var v2 = -(target[2][1] - targetTopLeft[1]) / targetResolution;\n            context.beginPath();\n            context.moveTo(u1, v1);\n            context.lineTo(u0, v0);\n            context.lineTo(u2, v2);\n            context.closePath();\n            context.stroke();\n        });\n        context.restore();\n    }\n    return context.canvas;\n}\n//# sourceMappingURL=reproj.js.map","/**\n * @module ol/reproj/Triangulation\n */\nimport { boundingExtent, createEmpty, extendCoordinate, getArea, getBottomLeft, getBottomRight, getTopLeft, getTopRight, getWidth, intersects, } from '../extent.js';\nimport { getTransform } from '../proj.js';\nimport { log2, modulo } from '../math.js';\n/**\n * Single triangle; consists of 3 source points and 3 target points.\n * @typedef {Object} Triangle\n * @property {Array<import(\"../coordinate.js\").Coordinate>} source\n * @property {Array<import(\"../coordinate.js\").Coordinate>} target\n */\n/**\n * Maximum number of subdivision steps during raster reprojection triangulation.\n * Prevents high memory usage and large number of proj4 calls (for certain\n * transformations and areas). At most `2*(2^this)` triangles are created for\n * each triangulated extent (tile/image).\n * @type {number}\n */\nvar MAX_SUBDIVISION = 10;\n/**\n * Maximum allowed size of triangle relative to world width. When transforming\n * corners of world extent between certain projections, the resulting\n * triangulation seems to have zero error and no subdivision is performed. If\n * the triangle width is more than this (relative to world width; 0-1),\n * subdivison is forced (up to `MAX_SUBDIVISION`). Default is `0.25`.\n * @type {number}\n */\nvar MAX_TRIANGLE_WIDTH = 0.25;\n/**\n * @classdesc\n * Class containing triangulation of the given target extent.\n * Used for determining source data and the reprojection itself.\n */\nvar Triangulation = /** @class */ (function () {\n    /**\n     * @param {import(\"../proj/Projection.js\").default} sourceProj Source projection.\n     * @param {import(\"../proj/Projection.js\").default} targetProj Target projection.\n     * @param {import(\"../extent.js\").Extent} targetExtent Target extent to triangulate.\n     * @param {import(\"../extent.js\").Extent} maxSourceExtent Maximal source extent that can be used.\n     * @param {number} errorThreshold Acceptable error (in source units).\n     * @param {?number} opt_destinationResolution The (optional) resolution of the destination.\n     */\n    function Triangulation(sourceProj, targetProj, targetExtent, maxSourceExtent, errorThreshold, opt_destinationResolution) {\n        /**\n         * @type {import(\"../proj/Projection.js\").default}\n         * @private\n         */\n        this.sourceProj_ = sourceProj;\n        /**\n         * @type {import(\"../proj/Projection.js\").default}\n         * @private\n         */\n        this.targetProj_ = targetProj;\n        /** @type {!Object<string, import(\"../coordinate.js\").Coordinate>} */\n        var transformInvCache = {};\n        var transformInv = getTransform(this.targetProj_, this.sourceProj_);\n        /**\n         * @param {import(\"../coordinate.js\").Coordinate} c A coordinate.\n         * @return {import(\"../coordinate.js\").Coordinate} Transformed coordinate.\n         * @private\n         */\n        this.transformInv_ = function (c) {\n            var key = c[0] + '/' + c[1];\n            if (!transformInvCache[key]) {\n                transformInvCache[key] = transformInv(c);\n            }\n            return transformInvCache[key];\n        };\n        /**\n         * @type {import(\"../extent.js\").Extent}\n         * @private\n         */\n        this.maxSourceExtent_ = maxSourceExtent;\n        /**\n         * @type {number}\n         * @private\n         */\n        this.errorThresholdSquared_ = errorThreshold * errorThreshold;\n        /**\n         * @type {Array<Triangle>}\n         * @private\n         */\n        this.triangles_ = [];\n        /**\n         * Indicates that the triangulation crosses edge of the source projection.\n         * @type {boolean}\n         * @private\n         */\n        this.wrapsXInSource_ = false;\n        /**\n         * @type {boolean}\n         * @private\n         */\n        this.canWrapXInSource_ =\n            this.sourceProj_.canWrapX() &&\n                !!maxSourceExtent &&\n                !!this.sourceProj_.getExtent() &&\n                getWidth(maxSourceExtent) == getWidth(this.sourceProj_.getExtent());\n        /**\n         * @type {?number}\n         * @private\n         */\n        this.sourceWorldWidth_ = this.sourceProj_.getExtent()\n            ? getWidth(this.sourceProj_.getExtent())\n            : null;\n        /**\n         * @type {?number}\n         * @private\n         */\n        this.targetWorldWidth_ = this.targetProj_.getExtent()\n            ? getWidth(this.targetProj_.getExtent())\n            : null;\n        var destinationTopLeft = getTopLeft(targetExtent);\n        var destinationTopRight = getTopRight(targetExtent);\n        var destinationBottomRight = getBottomRight(targetExtent);\n        var destinationBottomLeft = getBottomLeft(targetExtent);\n        var sourceTopLeft = this.transformInv_(destinationTopLeft);\n        var sourceTopRight = this.transformInv_(destinationTopRight);\n        var sourceBottomRight = this.transformInv_(destinationBottomRight);\n        var sourceBottomLeft = this.transformInv_(destinationBottomLeft);\n        /*\n         * The maxSubdivision controls how many splittings of the target area can\n         * be done. The idea here is to do a linear mapping of the target areas\n         * but the actual overal reprojection (can be) extremely non-linear. The\n         * default value of MAX_SUBDIVISION was chosen based on mapping a 256x256\n         * tile size. However this function is also called to remap canvas rendered\n         * layers which can be much larger. This calculation increases the maxSubdivision\n         * value by the right factor so that each 256x256 pixel area has\n         * MAX_SUBDIVISION divisions.\n         */\n        var maxSubdivision = MAX_SUBDIVISION +\n            (opt_destinationResolution\n                ? Math.max(0, Math.ceil(log2(getArea(targetExtent) /\n                    (opt_destinationResolution *\n                        opt_destinationResolution *\n                        256 *\n                        256))))\n                : 0);\n        this.addQuad_(destinationTopLeft, destinationTopRight, destinationBottomRight, destinationBottomLeft, sourceTopLeft, sourceTopRight, sourceBottomRight, sourceBottomLeft, maxSubdivision);\n        if (this.wrapsXInSource_) {\n            var leftBound_1 = Infinity;\n            this.triangles_.forEach(function (triangle, i, arr) {\n                leftBound_1 = Math.min(leftBound_1, triangle.source[0][0], triangle.source[1][0], triangle.source[2][0]);\n            });\n            // Shift triangles to be as close to `leftBound` as possible\n            // (if the distance is more than `worldWidth / 2` it can be closer.\n            this.triangles_.forEach(function (triangle) {\n                if (Math.max(triangle.source[0][0], triangle.source[1][0], triangle.source[2][0]) -\n                    leftBound_1 >\n                    this.sourceWorldWidth_ / 2) {\n                    var newTriangle = [\n                        [triangle.source[0][0], triangle.source[0][1]],\n                        [triangle.source[1][0], triangle.source[1][1]],\n                        [triangle.source[2][0], triangle.source[2][1]],\n                    ];\n                    if (newTriangle[0][0] - leftBound_1 > this.sourceWorldWidth_ / 2) {\n                        newTriangle[0][0] -= this.sourceWorldWidth_;\n                    }\n                    if (newTriangle[1][0] - leftBound_1 > this.sourceWorldWidth_ / 2) {\n                        newTriangle[1][0] -= this.sourceWorldWidth_;\n                    }\n                    if (newTriangle[2][0] - leftBound_1 > this.sourceWorldWidth_ / 2) {\n                        newTriangle[2][0] -= this.sourceWorldWidth_;\n                    }\n                    // Rarely (if the extent contains both the dateline and prime meridian)\n                    // the shift can in turn break some triangles.\n                    // Detect this here and don't shift in such cases.\n                    var minX = Math.min(newTriangle[0][0], newTriangle[1][0], newTriangle[2][0]);\n                    var maxX = Math.max(newTriangle[0][0], newTriangle[1][0], newTriangle[2][0]);\n                    if (maxX - minX < this.sourceWorldWidth_ / 2) {\n                        triangle.source = newTriangle;\n                    }\n                }\n            }.bind(this));\n        }\n        transformInvCache = {};\n    }\n    /**\n     * Adds triangle to the triangulation.\n     * @param {import(\"../coordinate.js\").Coordinate} a The target a coordinate.\n     * @param {import(\"../coordinate.js\").Coordinate} b The target b coordinate.\n     * @param {import(\"../coordinate.js\").Coordinate} c The target c coordinate.\n     * @param {import(\"../coordinate.js\").Coordinate} aSrc The source a coordinate.\n     * @param {import(\"../coordinate.js\").Coordinate} bSrc The source b coordinate.\n     * @param {import(\"../coordinate.js\").Coordinate} cSrc The source c coordinate.\n     * @private\n     */\n    Triangulation.prototype.addTriangle_ = function (a, b, c, aSrc, bSrc, cSrc) {\n        this.triangles_.push({\n            source: [aSrc, bSrc, cSrc],\n            target: [a, b, c],\n        });\n    };\n    /**\n     * Adds quad (points in clock-wise order) to the triangulation\n     * (and reprojects the vertices) if valid.\n     * Performs quad subdivision if needed to increase precision.\n     *\n     * @param {import(\"../coordinate.js\").Coordinate} a The target a coordinate.\n     * @param {import(\"../coordinate.js\").Coordinate} b The target b coordinate.\n     * @param {import(\"../coordinate.js\").Coordinate} c The target c coordinate.\n     * @param {import(\"../coordinate.js\").Coordinate} d The target d coordinate.\n     * @param {import(\"../coordinate.js\").Coordinate} aSrc The source a coordinate.\n     * @param {import(\"../coordinate.js\").Coordinate} bSrc The source b coordinate.\n     * @param {import(\"../coordinate.js\").Coordinate} cSrc The source c coordinate.\n     * @param {import(\"../coordinate.js\").Coordinate} dSrc The source d coordinate.\n     * @param {number} maxSubdivision Maximal allowed subdivision of the quad.\n     * @private\n     */\n    Triangulation.prototype.addQuad_ = function (a, b, c, d, aSrc, bSrc, cSrc, dSrc, maxSubdivision) {\n        var sourceQuadExtent = boundingExtent([aSrc, bSrc, cSrc, dSrc]);\n        var sourceCoverageX = this.sourceWorldWidth_\n            ? getWidth(sourceQuadExtent) / this.sourceWorldWidth_\n            : null;\n        var sourceWorldWidth = /** @type {number} */ (this.sourceWorldWidth_);\n        // when the quad is wrapped in the source projection\n        // it covers most of the projection extent, but not fully\n        var wrapsX = this.sourceProj_.canWrapX() &&\n            sourceCoverageX > 0.5 &&\n            sourceCoverageX < 1;\n        var needsSubdivision = false;\n        if (maxSubdivision > 0) {\n            if (this.targetProj_.isGlobal() && this.targetWorldWidth_) {\n                var targetQuadExtent = boundingExtent([a, b, c, d]);\n                var targetCoverageX = getWidth(targetQuadExtent) / this.targetWorldWidth_;\n                needsSubdivision =\n                    targetCoverageX > MAX_TRIANGLE_WIDTH || needsSubdivision;\n            }\n            if (!wrapsX && this.sourceProj_.isGlobal() && sourceCoverageX) {\n                needsSubdivision =\n                    sourceCoverageX > MAX_TRIANGLE_WIDTH || needsSubdivision;\n            }\n        }\n        if (!needsSubdivision && this.maxSourceExtent_) {\n            if (isFinite(sourceQuadExtent[0]) &&\n                isFinite(sourceQuadExtent[1]) &&\n                isFinite(sourceQuadExtent[2]) &&\n                isFinite(sourceQuadExtent[3])) {\n                if (!intersects(sourceQuadExtent, this.maxSourceExtent_)) {\n                    // whole quad outside source projection extent -> ignore\n                    return;\n                }\n            }\n        }\n        var isNotFinite = 0;\n        if (!needsSubdivision) {\n            if (!isFinite(aSrc[0]) ||\n                !isFinite(aSrc[1]) ||\n                !isFinite(bSrc[0]) ||\n                !isFinite(bSrc[1]) ||\n                !isFinite(cSrc[0]) ||\n                !isFinite(cSrc[1]) ||\n                !isFinite(dSrc[0]) ||\n                !isFinite(dSrc[1])) {\n                if (maxSubdivision > 0) {\n                    needsSubdivision = true;\n                }\n                else {\n                    // It might be the case that only 1 of the points is infinite. In this case\n                    // we can draw a single triangle with the other three points\n                    isNotFinite =\n                        (!isFinite(aSrc[0]) || !isFinite(aSrc[1]) ? 8 : 0) +\n                            (!isFinite(bSrc[0]) || !isFinite(bSrc[1]) ? 4 : 0) +\n                            (!isFinite(cSrc[0]) || !isFinite(cSrc[1]) ? 2 : 0) +\n                            (!isFinite(dSrc[0]) || !isFinite(dSrc[1]) ? 1 : 0);\n                    if (isNotFinite != 1 &&\n                        isNotFinite != 2 &&\n                        isNotFinite != 4 &&\n                        isNotFinite != 8) {\n                        return;\n                    }\n                }\n            }\n        }\n        if (maxSubdivision > 0) {\n            if (!needsSubdivision) {\n                var center = [(a[0] + c[0]) / 2, (a[1] + c[1]) / 2];\n                var centerSrc = this.transformInv_(center);\n                var dx = void 0;\n                if (wrapsX) {\n                    var centerSrcEstimX = (modulo(aSrc[0], sourceWorldWidth) +\n                        modulo(cSrc[0], sourceWorldWidth)) /\n                        2;\n                    dx = centerSrcEstimX - modulo(centerSrc[0], sourceWorldWidth);\n                }\n                else {\n                    dx = (aSrc[0] + cSrc[0]) / 2 - centerSrc[0];\n                }\n                var dy = (aSrc[1] + cSrc[1]) / 2 - centerSrc[1];\n                var centerSrcErrorSquared = dx * dx + dy * dy;\n                needsSubdivision = centerSrcErrorSquared > this.errorThresholdSquared_;\n            }\n            if (needsSubdivision) {\n                if (Math.abs(a[0] - c[0]) <= Math.abs(a[1] - c[1])) {\n                    // split horizontally (top & bottom)\n                    var bc = [(b[0] + c[0]) / 2, (b[1] + c[1]) / 2];\n                    var bcSrc = this.transformInv_(bc);\n                    var da = [(d[0] + a[0]) / 2, (d[1] + a[1]) / 2];\n                    var daSrc = this.transformInv_(da);\n                    this.addQuad_(a, b, bc, da, aSrc, bSrc, bcSrc, daSrc, maxSubdivision - 1);\n                    this.addQuad_(da, bc, c, d, daSrc, bcSrc, cSrc, dSrc, maxSubdivision - 1);\n                }\n                else {\n                    // split vertically (left & right)\n                    var ab = [(a[0] + b[0]) / 2, (a[1] + b[1]) / 2];\n                    var abSrc = this.transformInv_(ab);\n                    var cd = [(c[0] + d[0]) / 2, (c[1] + d[1]) / 2];\n                    var cdSrc = this.transformInv_(cd);\n                    this.addQuad_(a, ab, cd, d, aSrc, abSrc, cdSrc, dSrc, maxSubdivision - 1);\n                    this.addQuad_(ab, b, c, cd, abSrc, bSrc, cSrc, cdSrc, maxSubdivision - 1);\n                }\n                return;\n            }\n        }\n        if (wrapsX) {\n            if (!this.canWrapXInSource_) {\n                return;\n            }\n            this.wrapsXInSource_ = true;\n        }\n        // Exactly zero or one of *Src is not finite\n        // The triangles must have the diagonal line as the first side\n        // This is to allow easy code in reproj.s to make it straight for broken\n        // browsers that can't handle diagonal clipping\n        if ((isNotFinite & 0xb) == 0) {\n            this.addTriangle_(a, c, d, aSrc, cSrc, dSrc);\n        }\n        if ((isNotFinite & 0xe) == 0) {\n            this.addTriangle_(a, c, b, aSrc, cSrc, bSrc);\n        }\n        if (isNotFinite) {\n            // Try the other two triangles\n            if ((isNotFinite & 0xd) == 0) {\n                this.addTriangle_(b, d, a, bSrc, dSrc, aSrc);\n            }\n            if ((isNotFinite & 0x7) == 0) {\n                this.addTriangle_(b, d, c, bSrc, dSrc, cSrc);\n            }\n        }\n    };\n    /**\n     * Calculates extent of the 'source' coordinates from all the triangles.\n     *\n     * @return {import(\"../extent.js\").Extent} Calculated extent.\n     */\n    Triangulation.prototype.calculateSourceExtent = function () {\n        var extent = createEmpty();\n        this.triangles_.forEach(function (triangle, i, arr) {\n            var src = triangle.source;\n            extendCoordinate(extent, src[0]);\n            extendCoordinate(extent, src[1]);\n            extendCoordinate(extent, src[2]);\n        });\n        return extent;\n    };\n    /**\n     * @return {Array<Triangle>} Array of the calculated triangles.\n     */\n    Triangulation.prototype.getTriangles = function () {\n        return this.triangles_;\n    };\n    return Triangulation;\n}());\nexport default Triangulation;\n//# sourceMappingURL=Triangulation.js.map","/**\n * @module ol/source/common\n */\n/**\n * Default WMS version.\n * @type {string}\n */\nexport var DEFAULT_WMS_VERSION = '1.3.0';\n/**\n * Context options to disable image smoothing.\n * @type {Object}\n */\nexport var IMAGE_SMOOTHING_DISABLED = {\n    imageSmoothingEnabled: false,\n    msImageSmoothingEnabled: false,\n};\n//# sourceMappingURL=common.js.map","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n/**\n * @module ol/reproj/Tile\n */\nimport { ERROR_THRESHOLD } from './common.js';\nimport EventType from '../events/EventType.js';\nimport Tile from '../Tile.js';\nimport TileState from '../TileState.js';\nimport Triangulation from './Triangulation.js';\nimport { calculateSourceExtentResolution, render as renderReprojected, } from '../reproj.js';\nimport { clamp } from '../math.js';\nimport { getArea, getIntersection } from '../extent.js';\nimport { listen, unlistenByKey } from '../events.js';\n/**\n * @typedef {function(number, number, number, number) : import(\"../Tile.js\").default} FunctionType\n */\n/**\n * @classdesc\n * Class encapsulating single reprojected tile.\n * See {@link module:ol/source/TileImage~TileImage}.\n *\n */\nvar ReprojTile = /** @class */ (function (_super) {\n    __extends(ReprojTile, _super);\n    /**\n     * @param {import(\"../proj/Projection.js\").default} sourceProj Source projection.\n     * @param {import(\"../tilegrid/TileGrid.js\").default} sourceTileGrid Source tile grid.\n     * @param {import(\"../proj/Projection.js\").default} targetProj Target projection.\n     * @param {import(\"../tilegrid/TileGrid.js\").default} targetTileGrid Target tile grid.\n     * @param {import(\"../tilecoord.js\").TileCoord} tileCoord Coordinate of the tile.\n     * @param {import(\"../tilecoord.js\").TileCoord} wrappedTileCoord Coordinate of the tile wrapped in X.\n     * @param {number} pixelRatio Pixel ratio.\n     * @param {number} gutter Gutter of the source tiles.\n     * @param {FunctionType} getTileFunction\n     *     Function returning source tiles (z, x, y, pixelRatio).\n     * @param {number=} opt_errorThreshold Acceptable reprojection error (in px).\n     * @param {boolean=} opt_renderEdges Render reprojection edges.\n     * @param {object=} opt_contextOptions Properties to set on the canvas context.\n     */\n    function ReprojTile(sourceProj, sourceTileGrid, targetProj, targetTileGrid, tileCoord, wrappedTileCoord, pixelRatio, gutter, getTileFunction, opt_errorThreshold, opt_renderEdges, opt_contextOptions) {\n        var _this = _super.call(this, tileCoord, TileState.IDLE) || this;\n        /**\n         * @private\n         * @type {boolean}\n         */\n        _this.renderEdges_ = opt_renderEdges !== undefined ? opt_renderEdges : false;\n        /**\n         * @private\n         * @type {object}\n         */\n        _this.contextOptions_ = opt_contextOptions;\n        /**\n         * @private\n         * @type {number}\n         */\n        _this.pixelRatio_ = pixelRatio;\n        /**\n         * @private\n         * @type {number}\n         */\n        _this.gutter_ = gutter;\n        /**\n         * @private\n         * @type {HTMLCanvasElement}\n         */\n        _this.canvas_ = null;\n        /**\n         * @private\n         * @type {import(\"../tilegrid/TileGrid.js\").default}\n         */\n        _this.sourceTileGrid_ = sourceTileGrid;\n        /**\n         * @private\n         * @type {import(\"../tilegrid/TileGrid.js\").default}\n         */\n        _this.targetTileGrid_ = targetTileGrid;\n        /**\n         * @private\n         * @type {import(\"../tilecoord.js\").TileCoord}\n         */\n        _this.wrappedTileCoord_ = wrappedTileCoord ? wrappedTileCoord : tileCoord;\n        /**\n         * @private\n         * @type {!Array<import(\"../Tile.js\").default>}\n         */\n        _this.sourceTiles_ = [];\n        /**\n         * @private\n         * @type {?Array<import(\"../events.js\").EventsKey>}\n         */\n        _this.sourcesListenerKeys_ = null;\n        /**\n         * @private\n         * @type {number}\n         */\n        _this.sourceZ_ = 0;\n        var targetExtent = targetTileGrid.getTileCoordExtent(_this.wrappedTileCoord_);\n        var maxTargetExtent = _this.targetTileGrid_.getExtent();\n        var maxSourceExtent = _this.sourceTileGrid_.getExtent();\n        var limitedTargetExtent = maxTargetExtent\n            ? getIntersection(targetExtent, maxTargetExtent)\n            : targetExtent;\n        if (getArea(limitedTargetExtent) === 0) {\n            // Tile is completely outside range -> EMPTY\n            // TODO: is it actually correct that the source even creates the tile ?\n            _this.state = TileState.EMPTY;\n            return _this;\n        }\n        var sourceProjExtent = sourceProj.getExtent();\n        if (sourceProjExtent) {\n            if (!maxSourceExtent) {\n                maxSourceExtent = sourceProjExtent;\n            }\n            else {\n                maxSourceExtent = getIntersection(maxSourceExtent, sourceProjExtent);\n            }\n        }\n        var targetResolution = targetTileGrid.getResolution(_this.wrappedTileCoord_[0]);\n        var sourceResolution = calculateSourceExtentResolution(sourceProj, targetProj, limitedTargetExtent, targetResolution);\n        if (!isFinite(sourceResolution) || sourceResolution <= 0) {\n            // invalid sourceResolution -> EMPTY\n            // probably edges of the projections when no extent is defined\n            _this.state = TileState.EMPTY;\n            return _this;\n        }\n        var errorThresholdInPixels = opt_errorThreshold !== undefined ? opt_errorThreshold : ERROR_THRESHOLD;\n        /**\n         * @private\n         * @type {!import(\"./Triangulation.js\").default}\n         */\n        _this.triangulation_ = new Triangulation(sourceProj, targetProj, limitedTargetExtent, maxSourceExtent, sourceResolution * errorThresholdInPixels, targetResolution);\n        if (_this.triangulation_.getTriangles().length === 0) {\n            // no valid triangles -> EMPTY\n            _this.state = TileState.EMPTY;\n            return _this;\n        }\n        _this.sourceZ_ = sourceTileGrid.getZForResolution(sourceResolution);\n        var sourceExtent = _this.triangulation_.calculateSourceExtent();\n        if (maxSourceExtent) {\n            if (sourceProj.canWrapX()) {\n                sourceExtent[1] = clamp(sourceExtent[1], maxSourceExtent[1], maxSourceExtent[3]);\n                sourceExtent[3] = clamp(sourceExtent[3], maxSourceExtent[1], maxSourceExtent[3]);\n            }\n            else {\n                sourceExtent = getIntersection(sourceExtent, maxSourceExtent);\n            }\n        }\n        if (!getArea(sourceExtent)) {\n            _this.state = TileState.EMPTY;\n        }\n        else {\n            var sourceRange = sourceTileGrid.getTileRangeForExtentAndZ(sourceExtent, _this.sourceZ_);\n            for (var srcX = sourceRange.minX; srcX <= sourceRange.maxX; srcX++) {\n                for (var srcY = sourceRange.minY; srcY <= sourceRange.maxY; srcY++) {\n                    var tile = getTileFunction(_this.sourceZ_, srcX, srcY, pixelRatio);\n                    if (tile) {\n                        _this.sourceTiles_.push(tile);\n                    }\n                }\n            }\n            if (_this.sourceTiles_.length === 0) {\n                _this.state = TileState.EMPTY;\n            }\n        }\n        return _this;\n    }\n    /**\n     * Get the HTML Canvas element for this tile.\n     * @return {HTMLCanvasElement} Canvas.\n     */\n    ReprojTile.prototype.getImage = function () {\n        return this.canvas_;\n    };\n    /**\n     * @private\n     */\n    ReprojTile.prototype.reproject_ = function () {\n        var sources = [];\n        this.sourceTiles_.forEach(function (tile, i, arr) {\n            if (tile && tile.getState() == TileState.LOADED) {\n                sources.push({\n                    extent: this.sourceTileGrid_.getTileCoordExtent(tile.tileCoord),\n                    image: tile.getImage(),\n                });\n            }\n        }.bind(this));\n        this.sourceTiles_.length = 0;\n        if (sources.length === 0) {\n            this.state = TileState.ERROR;\n        }\n        else {\n            var z = this.wrappedTileCoord_[0];\n            var size = this.targetTileGrid_.getTileSize(z);\n            var width = typeof size === 'number' ? size : size[0];\n            var height = typeof size === 'number' ? size : size[1];\n            var targetResolution = this.targetTileGrid_.getResolution(z);\n            var sourceResolution = this.sourceTileGrid_.getResolution(this.sourceZ_);\n            var targetExtent = this.targetTileGrid_.getTileCoordExtent(this.wrappedTileCoord_);\n            this.canvas_ = renderReprojected(width, height, this.pixelRatio_, sourceResolution, this.sourceTileGrid_.getExtent(), targetResolution, targetExtent, this.triangulation_, sources, this.gutter_, this.renderEdges_, this.contextOptions_);\n            this.state = TileState.LOADED;\n        }\n        this.changed();\n    };\n    /**\n     * Load not yet loaded URI.\n     */\n    ReprojTile.prototype.load = function () {\n        if (this.state == TileState.IDLE) {\n            this.state = TileState.LOADING;\n            this.changed();\n            var leftToLoad_1 = 0;\n            this.sourcesListenerKeys_ = [];\n            this.sourceTiles_.forEach(function (tile, i, arr) {\n                var state = tile.getState();\n                if (state == TileState.IDLE || state == TileState.LOADING) {\n                    leftToLoad_1++;\n                    var sourceListenKey_1 = listen(tile, EventType.CHANGE, function (e) {\n                        var state = tile.getState();\n                        if (state == TileState.LOADED ||\n                            state == TileState.ERROR ||\n                            state == TileState.EMPTY) {\n                            unlistenByKey(sourceListenKey_1);\n                            leftToLoad_1--;\n                            if (leftToLoad_1 === 0) {\n                                this.unlistenSources_();\n                                this.reproject_();\n                            }\n                        }\n                    }, this);\n                    this.sourcesListenerKeys_.push(sourceListenKey_1);\n                }\n            }.bind(this));\n            this.sourceTiles_.forEach(function (tile, i, arr) {\n                var state = tile.getState();\n                if (state == TileState.IDLE) {\n                    tile.load();\n                }\n            });\n            if (leftToLoad_1 === 0) {\n                setTimeout(this.reproject_.bind(this), 0);\n            }\n        }\n    };\n    /**\n     * @private\n     */\n    ReprojTile.prototype.unlistenSources_ = function () {\n        this.sourcesListenerKeys_.forEach(unlistenByKey);\n        this.sourcesListenerKeys_ = null;\n    };\n    return ReprojTile;\n}(Tile));\nexport default ReprojTile;\n//# sourceMappingURL=Tile.js.map","/**\n * @module ol/reproj/common\n */\n/**\n * Default maximum allowed threshold  (in pixels) for reprojection\n * triangulation.\n * @type {number}\n */\nexport var ERROR_THRESHOLD = 0.5;\n/**\n * Enable automatic reprojection of raster sources. Default is `true`.\n * TODO: decide if we want to expose this as a build flag or remove it\n * @type {boolean}\n */\nexport var ENABLE_RASTER_REPROJECTION = true;\n//# sourceMappingURL=common.js.map","/**\n * @module ol/structs/LRUCache\n */\nimport { assert } from '../asserts.js';\n/**\n * @typedef {Object} Entry\n * @property {string} key_\n * @property {Object} newer\n * @property {Object} older\n * @property {*} value_\n */\n/**\n * @classdesc\n * Implements a Least-Recently-Used cache where the keys do not conflict with\n * Object's properties (e.g. 'hasOwnProperty' is not allowed as a key). Expiring\n * items from the cache is the responsibility of the user.\n *\n * @fires import(\"../events/Event.js\").default\n * @template T\n */\nvar LRUCache = /** @class */ (function () {\n    /**\n     * @param {number=} opt_highWaterMark High water mark.\n     */\n    function LRUCache(opt_highWaterMark) {\n        /**\n         * Desired max cache size after expireCache(). If set to 0, no cache entries\n         * will be pruned at all.\n         * @type {number}\n         */\n        this.highWaterMark =\n            opt_highWaterMark !== undefined ? opt_highWaterMark : 2048;\n        /**\n         * @private\n         * @type {number}\n         */\n        this.count_ = 0;\n        /**\n         * @private\n         * @type {!Object<string, Entry>}\n         */\n        this.entries_ = {};\n        /**\n         * @private\n         * @type {?Entry}\n         */\n        this.oldest_ = null;\n        /**\n         * @private\n         * @type {?Entry}\n         */\n        this.newest_ = null;\n    }\n    /**\n     * @return {boolean} Can expire cache.\n     */\n    LRUCache.prototype.canExpireCache = function () {\n        return this.highWaterMark > 0 && this.getCount() > this.highWaterMark;\n    };\n    /**\n     * FIXME empty description for jsdoc\n     */\n    LRUCache.prototype.clear = function () {\n        this.count_ = 0;\n        this.entries_ = {};\n        this.oldest_ = null;\n        this.newest_ = null;\n    };\n    /**\n     * @param {string} key Key.\n     * @return {boolean} Contains key.\n     */\n    LRUCache.prototype.containsKey = function (key) {\n        return this.entries_.hasOwnProperty(key);\n    };\n    /**\n     * @param {function(T, string, LRUCache<T>): ?} f The function\n     *     to call for every entry from the oldest to the newer. This function takes\n     *     3 arguments (the entry value, the entry key and the LRUCache object).\n     *     The return value is ignored.\n     */\n    LRUCache.prototype.forEach = function (f) {\n        var entry = this.oldest_;\n        while (entry) {\n            f(entry.value_, entry.key_, this);\n            entry = entry.newer;\n        }\n    };\n    /**\n     * @param {string} key Key.\n     * @param {*=} opt_options Options (reserverd for subclasses).\n     * @return {T} Value.\n     */\n    LRUCache.prototype.get = function (key, opt_options) {\n        var entry = this.entries_[key];\n        assert(entry !== undefined, 15); // Tried to get a value for a key that does not exist in the cache\n        if (entry === this.newest_) {\n            return entry.value_;\n        }\n        else if (entry === this.oldest_) {\n            this.oldest_ = /** @type {Entry} */ (this.oldest_.newer);\n            this.oldest_.older = null;\n        }\n        else {\n            entry.newer.older = entry.older;\n            entry.older.newer = entry.newer;\n        }\n        entry.newer = null;\n        entry.older = this.newest_;\n        this.newest_.newer = entry;\n        this.newest_ = entry;\n        return entry.value_;\n    };\n    /**\n     * Remove an entry from the cache.\n     * @param {string} key The entry key.\n     * @return {T} The removed entry.\n     */\n    LRUCache.prototype.remove = function (key) {\n        var entry = this.entries_[key];\n        assert(entry !== undefined, 15); // Tried to get a value for a key that does not exist in the cache\n        if (entry === this.newest_) {\n            this.newest_ = /** @type {Entry} */ (entry.older);\n            if (this.newest_) {\n                this.newest_.newer = null;\n            }\n        }\n        else if (entry === this.oldest_) {\n            this.oldest_ = /** @type {Entry} */ (entry.newer);\n            if (this.oldest_) {\n                this.oldest_.older = null;\n            }\n        }\n        else {\n            entry.newer.older = entry.older;\n            entry.older.newer = entry.newer;\n        }\n        delete this.entries_[key];\n        --this.count_;\n        return entry.value_;\n    };\n    /**\n     * @return {number} Count.\n     */\n    LRUCache.prototype.getCount = function () {\n        return this.count_;\n    };\n    /**\n     * @return {Array<string>} Keys.\n     */\n    LRUCache.prototype.getKeys = function () {\n        var keys = new Array(this.count_);\n        var i = 0;\n        var entry;\n        for (entry = this.newest_; entry; entry = entry.older) {\n            keys[i++] = entry.key_;\n        }\n        return keys;\n    };\n    /**\n     * @return {Array<T>} Values.\n     */\n    LRUCache.prototype.getValues = function () {\n        var values = new Array(this.count_);\n        var i = 0;\n        var entry;\n        for (entry = this.newest_; entry; entry = entry.older) {\n            values[i++] = entry.value_;\n        }\n        return values;\n    };\n    /**\n     * @return {T} Last value.\n     */\n    LRUCache.prototype.peekLast = function () {\n        return this.oldest_.value_;\n    };\n    /**\n     * @return {string} Last key.\n     */\n    LRUCache.prototype.peekLastKey = function () {\n        return this.oldest_.key_;\n    };\n    /**\n     * Get the key of the newest item in the cache.  Throws if the cache is empty.\n     * @return {string} The newest key.\n     */\n    LRUCache.prototype.peekFirstKey = function () {\n        return this.newest_.key_;\n    };\n    /**\n     * @return {T} value Value.\n     */\n    LRUCache.prototype.pop = function () {\n        var entry = this.oldest_;\n        delete this.entries_[entry.key_];\n        if (entry.newer) {\n            entry.newer.older = null;\n        }\n        this.oldest_ = /** @type {Entry} */ (entry.newer);\n        if (!this.oldest_) {\n            this.newest_ = null;\n        }\n        --this.count_;\n        return entry.value_;\n    };\n    /**\n     * @param {string} key Key.\n     * @param {T} value Value.\n     */\n    LRUCache.prototype.replace = function (key, value) {\n        this.get(key); // update `newest_`\n        this.entries_[key].value_ = value;\n    };\n    /**\n     * @param {string} key Key.\n     * @param {T} value Value.\n     */\n    LRUCache.prototype.set = function (key, value) {\n        assert(!(key in this.entries_), 16); // Tried to set a value for a key that is used already\n        var entry = {\n            key_: key,\n            newer: null,\n            older: this.newest_,\n            value_: value,\n        };\n        if (!this.newest_) {\n            this.oldest_ = entry;\n        }\n        else {\n            this.newest_.newer = entry;\n        }\n        this.newest_ = entry;\n        this.entries_[key] = entry;\n        ++this.count_;\n    };\n    /**\n     * Set a maximum number of entries for the cache.\n     * @param {number} size Cache size.\n     * @api\n     */\n    LRUCache.prototype.setSize = function (size) {\n        this.highWaterMark = size;\n    };\n    return LRUCache;\n}());\nexport default LRUCache;\n//# sourceMappingURL=LRUCache.js.map","/**\n * @module ol/tilecoord\n */\n/**\n * An array of three numbers representing the location of a tile in a tile\n * grid. The order is `z` (zoom level), `x` (column), and `y` (row).\n * @typedef {Array<number>} TileCoord\n * @api\n */\n/**\n * @param {number} z Z.\n * @param {number} x X.\n * @param {number} y Y.\n * @param {TileCoord=} opt_tileCoord Tile coordinate.\n * @return {TileCoord} Tile coordinate.\n */\nexport function createOrUpdate(z, x, y, opt_tileCoord) {\n    if (opt_tileCoord !== undefined) {\n        opt_tileCoord[0] = z;\n        opt_tileCoord[1] = x;\n        opt_tileCoord[2] = y;\n        return opt_tileCoord;\n    }\n    else {\n        return [z, x, y];\n    }\n}\n/**\n * @param {number} z Z.\n * @param {number} x X.\n * @param {number} y Y.\n * @return {string} Key.\n */\nexport function getKeyZXY(z, x, y) {\n    return z + '/' + x + '/' + y;\n}\n/**\n * Get the key for a tile coord.\n * @param {TileCoord} tileCoord The tile coord.\n * @return {string} Key.\n */\nexport function getKey(tileCoord) {\n    return getKeyZXY(tileCoord[0], tileCoord[1], tileCoord[2]);\n}\n/**\n * Get a tile coord given a key.\n * @param {string} key The tile coord key.\n * @return {TileCoord} The tile coord.\n */\nexport function fromKey(key) {\n    return key.split('/').map(Number);\n}\n/**\n * @param {TileCoord} tileCoord Tile coord.\n * @return {number} Hash.\n */\nexport function hash(tileCoord) {\n    return (tileCoord[1] << tileCoord[0]) + tileCoord[2];\n}\n/**\n * @param {TileCoord} tileCoord Tile coordinate.\n * @param {!import(\"./tilegrid/TileGrid.js\").default} tileGrid Tile grid.\n * @return {boolean} Tile coordinate is within extent and zoom level range.\n */\nexport function withinExtentAndZ(tileCoord, tileGrid) {\n    var z = tileCoord[0];\n    var x = tileCoord[1];\n    var y = tileCoord[2];\n    if (tileGrid.getMinZoom() > z || z > tileGrid.getMaxZoom()) {\n        return false;\n    }\n    var tileRange = tileGrid.getFullTileRange(z);\n    if (!tileRange) {\n        return true;\n    }\n    else {\n        return tileRange.containsXY(x, y);\n    }\n}\n//# sourceMappingURL=tilecoord.js.map","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n/**\n * @module ol/TileCache\n */\nimport LRUCache from './structs/LRUCache.js';\nimport { fromKey, getKey } from './tilecoord.js';\nvar TileCache = /** @class */ (function (_super) {\n    __extends(TileCache, _super);\n    function TileCache() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    /**\n     * @param {!Object<string, boolean>} usedTiles Used tiles.\n     */\n    TileCache.prototype.expireCache = function (usedTiles) {\n        while (this.canExpireCache()) {\n            var tile = this.peekLast();\n            if (tile.getKey() in usedTiles) {\n                break;\n            }\n            else {\n                this.pop().release();\n            }\n        }\n    };\n    /**\n     * Prune all tiles from the cache that don't have the same z as the newest tile.\n     */\n    TileCache.prototype.pruneExceptNewestZ = function () {\n        if (this.getCount() === 0) {\n            return;\n        }\n        var key = this.peekFirstKey();\n        var tileCoord = fromKey(key);\n        var z = tileCoord[0];\n        this.forEach(function (tile) {\n            if (tile.tileCoord[0] !== z) {\n                this.remove(getKey(tile.tileCoord));\n                tile.release();\n            }\n        }.bind(this));\n    };\n    return TileCache;\n}(LRUCache));\nexport default TileCache;\n//# sourceMappingURL=TileCache.js.map","/**\n * @module ol/source/TileEventType\n */\n/**\n * @enum {string}\n */\nexport default {\n    /**\n     * Triggered when a tile starts loading.\n     * @event module:ol/source/Tile.TileSourceEvent#tileloadstart\n     * @api\n     */\n    TILELOADSTART: 'tileloadstart',\n    /**\n     * Triggered when a tile finishes loading, either when its data is loaded,\n     * or when loading was aborted because the tile is no longer needed.\n     * @event module:ol/source/Tile.TileSourceEvent#tileloadend\n     * @api\n     */\n    TILELOADEND: 'tileloadend',\n    /**\n     * Triggered if tile loading results in an error.\n     * @event module:ol/source/Tile.TileSourceEvent#tileloaderror\n     * @api\n     */\n    TILELOADERROR: 'tileloaderror',\n};\n//# sourceMappingURL=TileEventType.js.map","/**\n * @module ol/tilegrid/TileGrid\n */\nimport TileRange, { createOrUpdate as createOrUpdateTileRange, } from '../TileRange.js';\nimport { DEFAULT_TILE_SIZE } from './common.js';\nimport { assert } from '../asserts.js';\nimport { clamp } from '../math.js';\nimport { createOrUpdate, getTopLeft } from '../extent.js';\nimport { createOrUpdate as createOrUpdateTileCoord } from '../tilecoord.js';\nimport { isSorted, linearFindNearest } from '../array.js';\nimport { toSize } from '../size.js';\n/**\n * @private\n * @type {import(\"../tilecoord.js\").TileCoord}\n */\nvar tmpTileCoord = [0, 0, 0];\n/**\n * @typedef {Object} Options\n * @property {import(\"../extent.js\").Extent} [extent] Extent for the tile grid. No tiles outside this\n * extent will be requested by {@link module:ol/source/Tile} sources. When no `origin` or\n * `origins` are configured, the `origin` will be set to the top-left corner of the extent.\n * @property {number} [minZoom=0] Minimum zoom.\n * @property {import(\"../coordinate.js\").Coordinate} [origin] The tile grid origin, i.e. where the `x`\n * and `y` axes meet (`[z, 0, 0]`). Tile coordinates increase left to right and downwards. If not\n * specified, `extent` or `origins` must be provided.\n * @property {Array<import(\"../coordinate.js\").Coordinate>} [origins] Tile grid origins, i.e. where\n * the `x` and `y` axes meet (`[z, 0, 0]`), for each zoom level. If given, the array length\n * should match the length of the `resolutions` array, i.e. each resolution can have a different\n * origin. Tile coordinates increase left to right and downwards. If not specified, `extent` or\n * `origin` must be provided.\n * @property {!Array<number>} resolutions Resolutions. The array index of each resolution needs\n * to match the zoom level. This means that even if a `minZoom` is configured, the resolutions\n * array will have a length of `maxZoom + 1`.\n * @property {Array<import(\"../size.js\").Size>} [sizes] Number of tile rows and columns\n * of the grid for each zoom level. If specified the values\n * define each zoom level's extent together with the `origin` or `origins`.\n * A grid `extent` can be configured in addition, and will further limit the extent\n * for which tile requests are made by sources. If the bottom-left corner of\n * an extent is used as `origin` or `origins`, then the `y` value must be\n * negative because OpenLayers tile coordinates use the top left as the origin.\n * @property {number|import(\"../size.js\").Size} [tileSize] Tile size.\n * Default is `[256, 256]`.\n * @property {Array<import(\"../size.js\").Size>} [tileSizes] Tile sizes. If given, the array length\n * should match the length of the `resolutions` array, i.e. each resolution can have a different\n * tile size.\n */\n/**\n * @classdesc\n * Base class for setting the grid pattern for sources accessing tiled-image\n * servers.\n * @api\n */\nvar TileGrid = /** @class */ (function () {\n    /**\n     * @param {Options} options Tile grid options.\n     */\n    function TileGrid(options) {\n        /**\n         * @protected\n         * @type {number}\n         */\n        this.minZoom = options.minZoom !== undefined ? options.minZoom : 0;\n        /**\n         * @private\n         * @type {!Array<number>}\n         */\n        this.resolutions_ = options.resolutions;\n        assert(isSorted(this.resolutions_, function (a, b) {\n            return b - a;\n        }, true), 17); // `resolutions` must be sorted in descending order\n        // check if we've got a consistent zoom factor and origin\n        var zoomFactor;\n        if (!options.origins) {\n            for (var i = 0, ii = this.resolutions_.length - 1; i < ii; ++i) {\n                if (!zoomFactor) {\n                    zoomFactor = this.resolutions_[i] / this.resolutions_[i + 1];\n                }\n                else {\n                    if (this.resolutions_[i] / this.resolutions_[i + 1] !== zoomFactor) {\n                        zoomFactor = undefined;\n                        break;\n                    }\n                }\n            }\n        }\n        /**\n         * @private\n         * @type {number|undefined}\n         */\n        this.zoomFactor_ = zoomFactor;\n        /**\n         * @protected\n         * @type {number}\n         */\n        this.maxZoom = this.resolutions_.length - 1;\n        /**\n         * @private\n         * @type {import(\"../coordinate.js\").Coordinate}\n         */\n        this.origin_ = options.origin !== undefined ? options.origin : null;\n        /**\n         * @private\n         * @type {Array<import(\"../coordinate.js\").Coordinate>}\n         */\n        this.origins_ = null;\n        if (options.origins !== undefined) {\n            this.origins_ = options.origins;\n            assert(this.origins_.length == this.resolutions_.length, 20); // Number of `origins` and `resolutions` must be equal\n        }\n        var extent = options.extent;\n        if (extent !== undefined && !this.origin_ && !this.origins_) {\n            this.origin_ = getTopLeft(extent);\n        }\n        assert((!this.origin_ && this.origins_) || (this.origin_ && !this.origins_), 18); // Either `origin` or `origins` must be configured, never both\n        /**\n         * @private\n         * @type {Array<number|import(\"../size.js\").Size>}\n         */\n        this.tileSizes_ = null;\n        if (options.tileSizes !== undefined) {\n            this.tileSizes_ = options.tileSizes;\n            assert(this.tileSizes_.length == this.resolutions_.length, 19); // Number of `tileSizes` and `resolutions` must be equal\n        }\n        /**\n         * @private\n         * @type {number|import(\"../size.js\").Size}\n         */\n        this.tileSize_ =\n            options.tileSize !== undefined\n                ? options.tileSize\n                : !this.tileSizes_\n                    ? DEFAULT_TILE_SIZE\n                    : null;\n        assert((!this.tileSize_ && this.tileSizes_) ||\n            (this.tileSize_ && !this.tileSizes_), 22); // Either `tileSize` or `tileSizes` must be configured, never both\n        /**\n         * @private\n         * @type {import(\"../extent.js\").Extent}\n         */\n        this.extent_ = extent !== undefined ? extent : null;\n        /**\n         * @private\n         * @type {Array<import(\"../TileRange.js\").default>}\n         */\n        this.fullTileRanges_ = null;\n        /**\n         * @private\n         * @type {import(\"../size.js\").Size}\n         */\n        this.tmpSize_ = [0, 0];\n        if (options.sizes !== undefined) {\n            this.fullTileRanges_ = options.sizes.map(function (size, z) {\n                var tileRange = new TileRange(Math.min(0, size[0]), Math.max(size[0] - 1, -1), Math.min(0, size[1]), Math.max(size[1] - 1, -1));\n                if (extent) {\n                    var restrictedTileRange = this.getTileRangeForExtentAndZ(extent, z);\n                    tileRange.minX = Math.max(restrictedTileRange.minX, tileRange.minX);\n                    tileRange.maxX = Math.min(restrictedTileRange.maxX, tileRange.maxX);\n                    tileRange.minY = Math.max(restrictedTileRange.minY, tileRange.minY);\n                    tileRange.maxY = Math.min(restrictedTileRange.maxY, tileRange.maxY);\n                }\n                return tileRange;\n            }, this);\n        }\n        else if (extent) {\n            this.calculateTileRanges_(extent);\n        }\n    }\n    /**\n     * Call a function with each tile coordinate for a given extent and zoom level.\n     *\n     * @param {import(\"../extent.js\").Extent} extent Extent.\n     * @param {number} zoom Integer zoom level.\n     * @param {function(import(\"../tilecoord.js\").TileCoord): void} callback Function called with each tile coordinate.\n     * @api\n     */\n    TileGrid.prototype.forEachTileCoord = function (extent, zoom, callback) {\n        var tileRange = this.getTileRangeForExtentAndZ(extent, zoom);\n        for (var i = tileRange.minX, ii = tileRange.maxX; i <= ii; ++i) {\n            for (var j = tileRange.minY, jj = tileRange.maxY; j <= jj; ++j) {\n                callback([zoom, i, j]);\n            }\n        }\n    };\n    /**\n     * @param {import(\"../tilecoord.js\").TileCoord} tileCoord Tile coordinate.\n     * @param {function(number, import(\"../TileRange.js\").default): boolean} callback Callback.\n     * @param {import(\"../TileRange.js\").default=} opt_tileRange Temporary import(\"../TileRange.js\").default object.\n     * @param {import(\"../extent.js\").Extent=} opt_extent Temporary import(\"../extent.js\").Extent object.\n     * @return {boolean} Callback succeeded.\n     */\n    TileGrid.prototype.forEachTileCoordParentTileRange = function (tileCoord, callback, opt_tileRange, opt_extent) {\n        var tileRange, x, y;\n        var tileCoordExtent = null;\n        var z = tileCoord[0] - 1;\n        if (this.zoomFactor_ === 2) {\n            x = tileCoord[1];\n            y = tileCoord[2];\n        }\n        else {\n            tileCoordExtent = this.getTileCoordExtent(tileCoord, opt_extent);\n        }\n        while (z >= this.minZoom) {\n            if (this.zoomFactor_ === 2) {\n                x = Math.floor(x / 2);\n                y = Math.floor(y / 2);\n                tileRange = createOrUpdateTileRange(x, x, y, y, opt_tileRange);\n            }\n            else {\n                tileRange = this.getTileRangeForExtentAndZ(tileCoordExtent, z, opt_tileRange);\n            }\n            if (callback(z, tileRange)) {\n                return true;\n            }\n            --z;\n        }\n        return false;\n    };\n    /**\n     * Get the extent for this tile grid, if it was configured.\n     * @return {import(\"../extent.js\").Extent} Extent.\n     * @api\n     */\n    TileGrid.prototype.getExtent = function () {\n        return this.extent_;\n    };\n    /**\n     * Get the maximum zoom level for the grid.\n     * @return {number} Max zoom.\n     * @api\n     */\n    TileGrid.prototype.getMaxZoom = function () {\n        return this.maxZoom;\n    };\n    /**\n     * Get the minimum zoom level for the grid.\n     * @return {number} Min zoom.\n     * @api\n     */\n    TileGrid.prototype.getMinZoom = function () {\n        return this.minZoom;\n    };\n    /**\n     * Get the origin for the grid at the given zoom level.\n     * @param {number} z Integer zoom level.\n     * @return {import(\"../coordinate.js\").Coordinate} Origin.\n     * @api\n     */\n    TileGrid.prototype.getOrigin = function (z) {\n        if (this.origin_) {\n            return this.origin_;\n        }\n        else {\n            return this.origins_[z];\n        }\n    };\n    /**\n     * Get the resolution for the given zoom level.\n     * @param {number} z Integer zoom level.\n     * @return {number} Resolution.\n     * @api\n     */\n    TileGrid.prototype.getResolution = function (z) {\n        return this.resolutions_[z];\n    };\n    /**\n     * Get the list of resolutions for the tile grid.\n     * @return {Array<number>} Resolutions.\n     * @api\n     */\n    TileGrid.prototype.getResolutions = function () {\n        return this.resolutions_;\n    };\n    /**\n     * @param {import(\"../tilecoord.js\").TileCoord} tileCoord Tile coordinate.\n     * @param {import(\"../TileRange.js\").default=} opt_tileRange Temporary import(\"../TileRange.js\").default object.\n     * @param {import(\"../extent.js\").Extent=} opt_extent Temporary import(\"../extent.js\").Extent object.\n     * @return {import(\"../TileRange.js\").default} Tile range.\n     */\n    TileGrid.prototype.getTileCoordChildTileRange = function (tileCoord, opt_tileRange, opt_extent) {\n        if (tileCoord[0] < this.maxZoom) {\n            if (this.zoomFactor_ === 2) {\n                var minX = tileCoord[1] * 2;\n                var minY = tileCoord[2] * 2;\n                return createOrUpdateTileRange(minX, minX + 1, minY, minY + 1, opt_tileRange);\n            }\n            var tileCoordExtent = this.getTileCoordExtent(tileCoord, opt_extent);\n            return this.getTileRangeForExtentAndZ(tileCoordExtent, tileCoord[0] + 1, opt_tileRange);\n        }\n        return null;\n    };\n    /**\n     * Get the extent for a tile range.\n     * @param {number} z Integer zoom level.\n     * @param {import(\"../TileRange.js\").default} tileRange Tile range.\n     * @param {import(\"../extent.js\").Extent=} opt_extent Temporary import(\"../extent.js\").Extent object.\n     * @return {import(\"../extent.js\").Extent} Extent.\n     */\n    TileGrid.prototype.getTileRangeExtent = function (z, tileRange, opt_extent) {\n        var origin = this.getOrigin(z);\n        var resolution = this.getResolution(z);\n        var tileSize = toSize(this.getTileSize(z), this.tmpSize_);\n        var minX = origin[0] + tileRange.minX * tileSize[0] * resolution;\n        var maxX = origin[0] + (tileRange.maxX + 1) * tileSize[0] * resolution;\n        var minY = origin[1] + tileRange.minY * tileSize[1] * resolution;\n        var maxY = origin[1] + (tileRange.maxY + 1) * tileSize[1] * resolution;\n        return createOrUpdate(minX, minY, maxX, maxY, opt_extent);\n    };\n    /**\n     * Get a tile range for the given extent and integer zoom level.\n     * @param {import(\"../extent.js\").Extent} extent Extent.\n     * @param {number} z Integer zoom level.\n     * @param {import(\"../TileRange.js\").default=} opt_tileRange Temporary tile range object.\n     * @return {import(\"../TileRange.js\").default} Tile range.\n     */\n    TileGrid.prototype.getTileRangeForExtentAndZ = function (extent, z, opt_tileRange) {\n        var tileCoord = tmpTileCoord;\n        this.getTileCoordForXYAndZ_(extent[0], extent[3], z, false, tileCoord);\n        var minX = tileCoord[1];\n        var minY = tileCoord[2];\n        this.getTileCoordForXYAndZ_(extent[2], extent[1], z, true, tileCoord);\n        return createOrUpdateTileRange(minX, tileCoord[1], minY, tileCoord[2], opt_tileRange);\n    };\n    /**\n     * @param {import(\"../tilecoord.js\").TileCoord} tileCoord Tile coordinate.\n     * @return {import(\"../coordinate.js\").Coordinate} Tile center.\n     */\n    TileGrid.prototype.getTileCoordCenter = function (tileCoord) {\n        var origin = this.getOrigin(tileCoord[0]);\n        var resolution = this.getResolution(tileCoord[0]);\n        var tileSize = toSize(this.getTileSize(tileCoord[0]), this.tmpSize_);\n        return [\n            origin[0] + (tileCoord[1] + 0.5) * tileSize[0] * resolution,\n            origin[1] - (tileCoord[2] + 0.5) * tileSize[1] * resolution,\n        ];\n    };\n    /**\n     * Get the extent of a tile coordinate.\n     *\n     * @param {import(\"../tilecoord.js\").TileCoord} tileCoord Tile coordinate.\n     * @param {import(\"../extent.js\").Extent=} opt_extent Temporary extent object.\n     * @return {import(\"../extent.js\").Extent} Extent.\n     * @api\n     */\n    TileGrid.prototype.getTileCoordExtent = function (tileCoord, opt_extent) {\n        var origin = this.getOrigin(tileCoord[0]);\n        var resolution = this.getResolution(tileCoord[0]);\n        var tileSize = toSize(this.getTileSize(tileCoord[0]), this.tmpSize_);\n        var minX = origin[0] + tileCoord[1] * tileSize[0] * resolution;\n        var minY = origin[1] - (tileCoord[2] + 1) * tileSize[1] * resolution;\n        var maxX = minX + tileSize[0] * resolution;\n        var maxY = minY + tileSize[1] * resolution;\n        return createOrUpdate(minX, minY, maxX, maxY, opt_extent);\n    };\n    /**\n     * Get the tile coordinate for the given map coordinate and resolution.  This\n     * method considers that coordinates that intersect tile boundaries should be\n     * assigned the higher tile coordinate.\n     *\n     * @param {import(\"../coordinate.js\").Coordinate} coordinate Coordinate.\n     * @param {number} resolution Resolution.\n     * @param {import(\"../tilecoord.js\").TileCoord=} opt_tileCoord Destination import(\"../tilecoord.js\").TileCoord object.\n     * @return {import(\"../tilecoord.js\").TileCoord} Tile coordinate.\n     * @api\n     */\n    TileGrid.prototype.getTileCoordForCoordAndResolution = function (coordinate, resolution, opt_tileCoord) {\n        return this.getTileCoordForXYAndResolution_(coordinate[0], coordinate[1], resolution, false, opt_tileCoord);\n    };\n    /**\n     * Note that this method should not be called for resolutions that correspond\n     * to an integer zoom level.  Instead call the `getTileCoordForXYAndZ_` method.\n     * @param {number} x X.\n     * @param {number} y Y.\n     * @param {number} resolution Resolution (for a non-integer zoom level).\n     * @param {boolean} reverseIntersectionPolicy Instead of letting edge\n     *     intersections go to the higher tile coordinate, let edge intersections\n     *     go to the lower tile coordinate.\n     * @param {import(\"../tilecoord.js\").TileCoord=} opt_tileCoord Temporary import(\"../tilecoord.js\").TileCoord object.\n     * @return {import(\"../tilecoord.js\").TileCoord} Tile coordinate.\n     * @private\n     */\n    TileGrid.prototype.getTileCoordForXYAndResolution_ = function (x, y, resolution, reverseIntersectionPolicy, opt_tileCoord) {\n        var z = this.getZForResolution(resolution);\n        var scale = resolution / this.getResolution(z);\n        var origin = this.getOrigin(z);\n        var tileSize = toSize(this.getTileSize(z), this.tmpSize_);\n        var adjustX = reverseIntersectionPolicy ? 0.5 : 0;\n        var adjustY = reverseIntersectionPolicy ? 0.5 : 0;\n        var xFromOrigin = Math.floor((x - origin[0]) / resolution + adjustX);\n        var yFromOrigin = Math.floor((origin[1] - y) / resolution + adjustY);\n        var tileCoordX = (scale * xFromOrigin) / tileSize[0];\n        var tileCoordY = (scale * yFromOrigin) / tileSize[1];\n        if (reverseIntersectionPolicy) {\n            tileCoordX = Math.ceil(tileCoordX) - 1;\n            tileCoordY = Math.ceil(tileCoordY) - 1;\n        }\n        else {\n            tileCoordX = Math.floor(tileCoordX);\n            tileCoordY = Math.floor(tileCoordY);\n        }\n        return createOrUpdateTileCoord(z, tileCoordX, tileCoordY, opt_tileCoord);\n    };\n    /**\n     * Although there is repetition between this method and `getTileCoordForXYAndResolution_`,\n     * they should have separate implementations.  This method is for integer zoom\n     * levels.  The other method should only be called for resolutions corresponding\n     * to non-integer zoom levels.\n     * @param {number} x Map x coordinate.\n     * @param {number} y Map y coordinate.\n     * @param {number} z Integer zoom level.\n     * @param {boolean} reverseIntersectionPolicy Instead of letting edge\n     *     intersections go to the higher tile coordinate, let edge intersections\n     *     go to the lower tile coordinate.\n     * @param {import(\"../tilecoord.js\").TileCoord=} opt_tileCoord Temporary import(\"../tilecoord.js\").TileCoord object.\n     * @return {import(\"../tilecoord.js\").TileCoord} Tile coordinate.\n     * @private\n     */\n    TileGrid.prototype.getTileCoordForXYAndZ_ = function (x, y, z, reverseIntersectionPolicy, opt_tileCoord) {\n        var origin = this.getOrigin(z);\n        var resolution = this.getResolution(z);\n        var tileSize = toSize(this.getTileSize(z), this.tmpSize_);\n        var adjustX = reverseIntersectionPolicy ? 0.5 : 0;\n        var adjustY = reverseIntersectionPolicy ? 0.5 : 0;\n        var xFromOrigin = Math.floor((x - origin[0]) / resolution + adjustX);\n        var yFromOrigin = Math.floor((origin[1] - y) / resolution + adjustY);\n        var tileCoordX = xFromOrigin / tileSize[0];\n        var tileCoordY = yFromOrigin / tileSize[1];\n        if (reverseIntersectionPolicy) {\n            tileCoordX = Math.ceil(tileCoordX) - 1;\n            tileCoordY = Math.ceil(tileCoordY) - 1;\n        }\n        else {\n            tileCoordX = Math.floor(tileCoordX);\n            tileCoordY = Math.floor(tileCoordY);\n        }\n        return createOrUpdateTileCoord(z, tileCoordX, tileCoordY, opt_tileCoord);\n    };\n    /**\n     * Get a tile coordinate given a map coordinate and zoom level.\n     * @param {import(\"../coordinate.js\").Coordinate} coordinate Coordinate.\n     * @param {number} z Zoom level.\n     * @param {import(\"../tilecoord.js\").TileCoord=} opt_tileCoord Destination import(\"../tilecoord.js\").TileCoord object.\n     * @return {import(\"../tilecoord.js\").TileCoord} Tile coordinate.\n     * @api\n     */\n    TileGrid.prototype.getTileCoordForCoordAndZ = function (coordinate, z, opt_tileCoord) {\n        return this.getTileCoordForXYAndZ_(coordinate[0], coordinate[1], z, false, opt_tileCoord);\n    };\n    /**\n     * @param {import(\"../tilecoord.js\").TileCoord} tileCoord Tile coordinate.\n     * @return {number} Tile resolution.\n     */\n    TileGrid.prototype.getTileCoordResolution = function (tileCoord) {\n        return this.resolutions_[tileCoord[0]];\n    };\n    /**\n     * Get the tile size for a zoom level. The type of the return value matches the\n     * `tileSize` or `tileSizes` that the tile grid was configured with. To always\n     * get an `import(\"../size.js\").Size`, run the result through `import(\"../size.js\").Size.toSize()`.\n     * @param {number} z Z.\n     * @return {number|import(\"../size.js\").Size} Tile size.\n     * @api\n     */\n    TileGrid.prototype.getTileSize = function (z) {\n        if (this.tileSize_) {\n            return this.tileSize_;\n        }\n        else {\n            return this.tileSizes_[z];\n        }\n    };\n    /**\n     * @param {number} z Zoom level.\n     * @return {import(\"../TileRange.js\").default} Extent tile range for the specified zoom level.\n     */\n    TileGrid.prototype.getFullTileRange = function (z) {\n        if (!this.fullTileRanges_) {\n            return this.extent_\n                ? this.getTileRangeForExtentAndZ(this.extent_, z)\n                : null;\n        }\n        else {\n            return this.fullTileRanges_[z];\n        }\n    };\n    /**\n     * @param {number} resolution Resolution.\n     * @param {number=} opt_direction If 0, the nearest resolution will be used.\n     *     If 1, the nearest lower resolution will be used. If -1, the nearest\n     *     higher resolution will be used. Default is 0.\n     * @return {number} Z.\n     * @api\n     */\n    TileGrid.prototype.getZForResolution = function (resolution, opt_direction) {\n        var z = linearFindNearest(this.resolutions_, resolution, opt_direction || 0);\n        return clamp(z, this.minZoom, this.maxZoom);\n    };\n    /**\n     * @param {!import(\"../extent.js\").Extent} extent Extent for this tile grid.\n     * @private\n     */\n    TileGrid.prototype.calculateTileRanges_ = function (extent) {\n        var length = this.resolutions_.length;\n        var fullTileRanges = new Array(length);\n        for (var z = this.minZoom; z < length; ++z) {\n            fullTileRanges[z] = this.getTileRangeForExtentAndZ(extent, z);\n        }\n        this.fullTileRanges_ = fullTileRanges;\n    };\n    return TileGrid;\n}());\nexport default TileGrid;\n//# sourceMappingURL=TileGrid.js.map","/**\n * @module ol/tilegrid\n */\nimport Corner from './extent/Corner.js';\nimport TileGrid from './tilegrid/TileGrid.js';\nimport Units from './proj/Units.js';\nimport { DEFAULT_MAX_ZOOM, DEFAULT_TILE_SIZE } from './tilegrid/common.js';\nimport { METERS_PER_UNIT, get as getProjection } from './proj.js';\nimport { containsCoordinate, createOrUpdate, getCorner, getHeight, getWidth, } from './extent.js';\nimport { toSize } from './size.js';\n/**\n * @param {import(\"./proj/Projection.js\").default} projection Projection.\n * @return {!TileGrid} Default tile grid for the\n * passed projection.\n */\nexport function getForProjection(projection) {\n    var tileGrid = projection.getDefaultTileGrid();\n    if (!tileGrid) {\n        tileGrid = createForProjection(projection);\n        projection.setDefaultTileGrid(tileGrid);\n    }\n    return tileGrid;\n}\n/**\n * @param {TileGrid} tileGrid Tile grid.\n * @param {import(\"./tilecoord.js\").TileCoord} tileCoord Tile coordinate.\n * @param {import(\"./proj/Projection.js\").default} projection Projection.\n * @return {import(\"./tilecoord.js\").TileCoord} Tile coordinate.\n */\nexport function wrapX(tileGrid, tileCoord, projection) {\n    var z = tileCoord[0];\n    var center = tileGrid.getTileCoordCenter(tileCoord);\n    var projectionExtent = extentFromProjection(projection);\n    if (!containsCoordinate(projectionExtent, center)) {\n        var worldWidth = getWidth(projectionExtent);\n        var worldsAway = Math.ceil((projectionExtent[0] - center[0]) / worldWidth);\n        center[0] += worldWidth * worldsAway;\n        return tileGrid.getTileCoordForCoordAndZ(center, z);\n    }\n    else {\n        return tileCoord;\n    }\n}\n/**\n * @param {import(\"./extent.js\").Extent} extent Extent.\n * @param {number=} opt_maxZoom Maximum zoom level (default is\n *     DEFAULT_MAX_ZOOM).\n * @param {number|import(\"./size.js\").Size=} opt_tileSize Tile size (default uses\n *     DEFAULT_TILE_SIZE).\n * @param {import(\"./extent/Corner.js\").default=} opt_corner Extent corner (default is `'top-left'`).\n * @return {!TileGrid} TileGrid instance.\n */\nexport function createForExtent(extent, opt_maxZoom, opt_tileSize, opt_corner) {\n    var corner = opt_corner !== undefined ? opt_corner : Corner.TOP_LEFT;\n    var resolutions = resolutionsFromExtent(extent, opt_maxZoom, opt_tileSize);\n    return new TileGrid({\n        extent: extent,\n        origin: getCorner(extent, corner),\n        resolutions: resolutions,\n        tileSize: opt_tileSize,\n    });\n}\n/**\n * @typedef {Object} XYZOptions\n * @property {import(\"./extent.js\").Extent} [extent] Extent for the tile grid. The origin for an XYZ tile grid is the\n * top-left corner of the extent. If `maxResolution` is not provided the zero level of the grid is defined by the resolution\n * at which one tile fits in the provided extent. If not provided, the extent of the EPSG:3857 projection is used.\n * @property {number} [maxResolution] Resolution at level zero.\n * @property {number} [maxZoom] Maximum zoom. The default is `42`. This determines the number of levels\n * in the grid set. For example, a `maxZoom` of 21 means there are 22 levels in the grid set.\n * @property {number} [minZoom=0] Minimum zoom.\n * @property {number|import(\"./size.js\").Size} [tileSize=[256, 256]] Tile size in pixels.\n */\n/**\n * Creates a tile grid with a standard XYZ tiling scheme.\n * @param {XYZOptions=} opt_options Tile grid options.\n * @return {!TileGrid} Tile grid instance.\n * @api\n */\nexport function createXYZ(opt_options) {\n    var xyzOptions = opt_options || {};\n    var extent = xyzOptions.extent || getProjection('EPSG:3857').getExtent();\n    var gridOptions = {\n        extent: extent,\n        minZoom: xyzOptions.minZoom,\n        tileSize: xyzOptions.tileSize,\n        resolutions: resolutionsFromExtent(extent, xyzOptions.maxZoom, xyzOptions.tileSize, xyzOptions.maxResolution),\n    };\n    return new TileGrid(gridOptions);\n}\n/**\n * Create a resolutions array from an extent.  A zoom factor of 2 is assumed.\n * @param {import(\"./extent.js\").Extent} extent Extent.\n * @param {number=} opt_maxZoom Maximum zoom level (default is\n *     DEFAULT_MAX_ZOOM).\n * @param {number|import(\"./size.js\").Size=} opt_tileSize Tile size (default uses\n *     DEFAULT_TILE_SIZE).\n * @param {number=} opt_maxResolution Resolution at level zero.\n * @return {!Array<number>} Resolutions array.\n */\nfunction resolutionsFromExtent(extent, opt_maxZoom, opt_tileSize, opt_maxResolution) {\n    var maxZoom = opt_maxZoom !== undefined ? opt_maxZoom : DEFAULT_MAX_ZOOM;\n    var height = getHeight(extent);\n    var width = getWidth(extent);\n    var tileSize = toSize(opt_tileSize !== undefined ? opt_tileSize : DEFAULT_TILE_SIZE);\n    var maxResolution = opt_maxResolution > 0\n        ? opt_maxResolution\n        : Math.max(width / tileSize[0], height / tileSize[1]);\n    var length = maxZoom + 1;\n    var resolutions = new Array(length);\n    for (var z = 0; z < length; ++z) {\n        resolutions[z] = maxResolution / Math.pow(2, z);\n    }\n    return resolutions;\n}\n/**\n * @param {import(\"./proj.js\").ProjectionLike} projection Projection.\n * @param {number=} opt_maxZoom Maximum zoom level (default is\n *     DEFAULT_MAX_ZOOM).\n * @param {number|import(\"./size.js\").Size=} opt_tileSize Tile size (default uses\n *     DEFAULT_TILE_SIZE).\n * @param {import(\"./extent/Corner.js\").default=} opt_corner Extent corner (default is `'top-left'`).\n * @return {!TileGrid} TileGrid instance.\n */\nexport function createForProjection(projection, opt_maxZoom, opt_tileSize, opt_corner) {\n    var extent = extentFromProjection(projection);\n    return createForExtent(extent, opt_maxZoom, opt_tileSize, opt_corner);\n}\n/**\n * Generate a tile grid extent from a projection.  If the projection has an\n * extent, it is used.  If not, a global extent is assumed.\n * @param {import(\"./proj.js\").ProjectionLike} projection Projection.\n * @return {import(\"./extent.js\").Extent} Extent.\n */\nexport function extentFromProjection(projection) {\n    projection = getProjection(projection);\n    var extent = projection.getExtent();\n    if (!extent) {\n        var half = (180 * METERS_PER_UNIT[Units.DEGREES]) / projection.getMetersPerUnit();\n        extent = createOrUpdate(-half, -half, half, half);\n    }\n    return extent;\n}\n//# sourceMappingURL=tilegrid.js.map","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n/**\n * @module ol/source/Tile\n */\nimport Event from '../events/Event.js';\nimport Source from './Source.js';\nimport TileCache from '../TileCache.js';\nimport TileState from '../TileState.js';\nimport { abstract } from '../util.js';\nimport { assert } from '../asserts.js';\nimport { equivalent } from '../proj.js';\nimport { getKeyZXY, withinExtentAndZ } from '../tilecoord.js';\nimport { getForProjection as getTileGridForProjection, wrapX, } from '../tilegrid.js';\nimport { scale as scaleSize, toSize } from '../size.js';\n/**\n * @typedef {Object} Options\n * @property {import(\"./Source.js\").AttributionLike} [attributions]\n * @property {boolean} [attributionsCollapsible=true] Attributions are collapsible.\n * @property {number} [cacheSize]\n * @property {boolean} [opaque=false] Whether the layer is opaque.\n * @property {number} [tilePixelRatio]\n * @property {import(\"../proj.js\").ProjectionLike} [projection]\n * @property {import(\"./State.js\").default} [state]\n * @property {import(\"../tilegrid/TileGrid.js\").default} [tileGrid]\n * @property {boolean} [wrapX=true]\n * @property {number} [transition]\n * @property {string} [key]\n * @property {number} [zDirection=0]\n */\n/**\n * @classdesc\n * Abstract base class; normally only used for creating subclasses and not\n * instantiated in apps.\n * Base class for sources providing images divided into a tile grid.\n * @abstract\n * @api\n */\nvar TileSource = /** @class */ (function (_super) {\n    __extends(TileSource, _super);\n    /**\n     * @param {Options} options SourceTile source options.\n     */\n    function TileSource(options) {\n        var _this = _super.call(this, {\n            attributions: options.attributions,\n            attributionsCollapsible: options.attributionsCollapsible,\n            projection: options.projection,\n            state: options.state,\n            wrapX: options.wrapX,\n        }) || this;\n        /**\n         * @private\n         * @type {boolean}\n         */\n        _this.opaque_ = options.opaque !== undefined ? options.opaque : false;\n        /**\n         * @private\n         * @type {number}\n         */\n        _this.tilePixelRatio_ =\n            options.tilePixelRatio !== undefined ? options.tilePixelRatio : 1;\n        /**\n         * @protected\n         * @type {import(\"../tilegrid/TileGrid.js\").default}\n         */\n        _this.tileGrid = options.tileGrid !== undefined ? options.tileGrid : null;\n        var tileSize = [256, 256];\n        var tileGrid = options.tileGrid;\n        if (tileGrid) {\n            toSize(tileGrid.getTileSize(tileGrid.getMinZoom()), tileSize);\n        }\n        /**\n         * @protected\n         * @type {import(\"../TileCache.js\").default}\n         */\n        _this.tileCache = new TileCache(options.cacheSize || 0);\n        /**\n         * @protected\n         * @type {import(\"../size.js\").Size}\n         */\n        _this.tmpSize = [0, 0];\n        /**\n         * @private\n         * @type {string}\n         */\n        _this.key_ = options.key || '';\n        /**\n         * @protected\n         * @type {import(\"../Tile.js\").Options}\n         */\n        _this.tileOptions = { transition: options.transition };\n        /**\n         * zDirection hint, read by the renderer. Indicates which resolution should be used\n         * by a renderer if the views resolution does not match any resolution of the tile source.\n         * If 0, the nearest resolution will be used. If 1, the nearest lower resolution\n         * will be used. If -1, the nearest higher resolution will be used.\n         * @type {number}\n         */\n        _this.zDirection = options.zDirection ? options.zDirection : 0;\n        return _this;\n    }\n    /**\n     * @return {boolean} Can expire cache.\n     */\n    TileSource.prototype.canExpireCache = function () {\n        return this.tileCache.canExpireCache();\n    };\n    /**\n     * @param {import(\"../proj/Projection.js\").default} projection Projection.\n     * @param {!Object<string, boolean>} usedTiles Used tiles.\n     */\n    TileSource.prototype.expireCache = function (projection, usedTiles) {\n        var tileCache = this.getTileCacheForProjection(projection);\n        if (tileCache) {\n            tileCache.expireCache(usedTiles);\n        }\n    };\n    /**\n     * @param {import(\"../proj/Projection.js\").default} projection Projection.\n     * @param {number} z Zoom level.\n     * @param {import(\"../TileRange.js\").default} tileRange Tile range.\n     * @param {function(import(\"../Tile.js\").default):(boolean|void)} callback Called with each\n     *     loaded tile.  If the callback returns `false`, the tile will not be\n     *     considered loaded.\n     * @return {boolean} The tile range is fully covered with loaded tiles.\n     */\n    TileSource.prototype.forEachLoadedTile = function (projection, z, tileRange, callback) {\n        var tileCache = this.getTileCacheForProjection(projection);\n        if (!tileCache) {\n            return false;\n        }\n        var covered = true;\n        var tile, tileCoordKey, loaded;\n        for (var x = tileRange.minX; x <= tileRange.maxX; ++x) {\n            for (var y = tileRange.minY; y <= tileRange.maxY; ++y) {\n                tileCoordKey = getKeyZXY(z, x, y);\n                loaded = false;\n                if (tileCache.containsKey(tileCoordKey)) {\n                    tile = /** @type {!import(\"../Tile.js\").default} */ (tileCache.get(tileCoordKey));\n                    loaded = tile.getState() === TileState.LOADED;\n                    if (loaded) {\n                        loaded = callback(tile) !== false;\n                    }\n                }\n                if (!loaded) {\n                    covered = false;\n                }\n            }\n        }\n        return covered;\n    };\n    /**\n     * @param {import(\"../proj/Projection.js\").default} projection Projection.\n     * @return {number} Gutter.\n     */\n    TileSource.prototype.getGutterForProjection = function (projection) {\n        return 0;\n    };\n    /**\n     * Return the key to be used for all tiles in the source.\n     * @return {string} The key for all tiles.\n     * @protected\n     */\n    TileSource.prototype.getKey = function () {\n        return this.key_;\n    };\n    /**\n     * Set the value to be used as the key for all tiles in the source.\n     * @param {string} key The key for tiles.\n     * @protected\n     */\n    TileSource.prototype.setKey = function (key) {\n        if (this.key_ !== key) {\n            this.key_ = key;\n            this.changed();\n        }\n    };\n    /**\n     * @param {import(\"../proj/Projection.js\").default} projection Projection.\n     * @return {boolean} Opaque.\n     */\n    TileSource.prototype.getOpaque = function (projection) {\n        return this.opaque_;\n    };\n    /**\n     * @return {Array<number>} Resolutions.\n     */\n    TileSource.prototype.getResolutions = function () {\n        return this.tileGrid.getResolutions();\n    };\n    /**\n     * @abstract\n     * @param {number} z Tile coordinate z.\n     * @param {number} x Tile coordinate x.\n     * @param {number} y Tile coordinate y.\n     * @param {number} pixelRatio Pixel ratio.\n     * @param {import(\"../proj/Projection.js\").default} projection Projection.\n     * @return {!import(\"../Tile.js\").default} Tile.\n     */\n    TileSource.prototype.getTile = function (z, x, y, pixelRatio, projection) {\n        return abstract();\n    };\n    /**\n     * Return the tile grid of the tile source.\n     * @return {import(\"../tilegrid/TileGrid.js\").default} Tile grid.\n     * @api\n     */\n    TileSource.prototype.getTileGrid = function () {\n        return this.tileGrid;\n    };\n    /**\n     * @param {import(\"../proj/Projection.js\").default} projection Projection.\n     * @return {!import(\"../tilegrid/TileGrid.js\").default} Tile grid.\n     */\n    TileSource.prototype.getTileGridForProjection = function (projection) {\n        if (!this.tileGrid) {\n            return getTileGridForProjection(projection);\n        }\n        else {\n            return this.tileGrid;\n        }\n    };\n    /**\n     * @param {import(\"../proj/Projection.js\").default} projection Projection.\n     * @return {import(\"../TileCache.js\").default} Tile cache.\n     * @protected\n     */\n    TileSource.prototype.getTileCacheForProjection = function (projection) {\n        assert(equivalent(this.getProjection(), projection), 68 // A VectorTile source can only be rendered if it has a projection compatible with the view projection.\n        );\n        return this.tileCache;\n    };\n    /**\n     * Get the tile pixel ratio for this source. Subclasses may override this\n     * method, which is meant to return a supported pixel ratio that matches the\n     * provided `pixelRatio` as close as possible.\n     * @param {number} pixelRatio Pixel ratio.\n     * @return {number} Tile pixel ratio.\n     */\n    TileSource.prototype.getTilePixelRatio = function (pixelRatio) {\n        return this.tilePixelRatio_;\n    };\n    /**\n     * @param {number} z Z.\n     * @param {number} pixelRatio Pixel ratio.\n     * @param {import(\"../proj/Projection.js\").default} projection Projection.\n     * @return {import(\"../size.js\").Size} Tile size.\n     */\n    TileSource.prototype.getTilePixelSize = function (z, pixelRatio, projection) {\n        var tileGrid = this.getTileGridForProjection(projection);\n        var tilePixelRatio = this.getTilePixelRatio(pixelRatio);\n        var tileSize = toSize(tileGrid.getTileSize(z), this.tmpSize);\n        if (tilePixelRatio == 1) {\n            return tileSize;\n        }\n        else {\n            return scaleSize(tileSize, tilePixelRatio, this.tmpSize);\n        }\n    };\n    /**\n     * Returns a tile coordinate wrapped around the x-axis. When the tile coordinate\n     * is outside the resolution and extent range of the tile grid, `null` will be\n     * returned.\n     * @param {import(\"../tilecoord.js\").TileCoord} tileCoord Tile coordinate.\n     * @param {import(\"../proj/Projection.js\").default=} opt_projection Projection.\n     * @return {import(\"../tilecoord.js\").TileCoord} Tile coordinate to be passed to the tileUrlFunction or\n     *     null if no tile URL should be created for the passed `tileCoord`.\n     */\n    TileSource.prototype.getTileCoordForTileUrlFunction = function (tileCoord, opt_projection) {\n        var projection = opt_projection !== undefined ? opt_projection : this.getProjection();\n        var tileGrid = this.getTileGridForProjection(projection);\n        if (this.getWrapX() && projection.isGlobal()) {\n            tileCoord = wrapX(tileGrid, tileCoord, projection);\n        }\n        return withinExtentAndZ(tileCoord, tileGrid) ? tileCoord : null;\n    };\n    /**\n     * Remove all cached tiles from the source. The next render cycle will fetch new tiles.\n     * @api\n     */\n    TileSource.prototype.clear = function () {\n        this.tileCache.clear();\n    };\n    TileSource.prototype.refresh = function () {\n        this.clear();\n        _super.prototype.refresh.call(this);\n    };\n    /**\n     * Increases the cache size if needed\n     * @param {number} tileCount Minimum number of tiles needed.\n     * @param {import(\"../proj/Projection.js\").default} projection Projection.\n     */\n    TileSource.prototype.updateCacheSize = function (tileCount, projection) {\n        var tileCache = this.getTileCacheForProjection(projection);\n        if (tileCount > tileCache.highWaterMark) {\n            tileCache.highWaterMark = tileCount;\n        }\n    };\n    /**\n     * Marks a tile coord as being used, without triggering a load.\n     * @abstract\n     * @param {number} z Tile coordinate z.\n     * @param {number} x Tile coordinate x.\n     * @param {number} y Tile coordinate y.\n     * @param {import(\"../proj/Projection.js\").default} projection Projection.\n     */\n    TileSource.prototype.useTile = function (z, x, y, projection) { };\n    return TileSource;\n}(Source));\n/**\n * @classdesc\n * Events emitted by {@link module:ol/source/Tile~TileSource} instances are instances of this\n * type.\n */\nvar TileSourceEvent = /** @class */ (function (_super) {\n    __extends(TileSourceEvent, _super);\n    /**\n     * @param {string} type Type.\n     * @param {import(\"../Tile.js\").default} tile The tile.\n     */\n    function TileSourceEvent(type, tile) {\n        var _this = _super.call(this, type) || this;\n        /**\n         * The tile related to the event.\n         * @type {import(\"../Tile.js\").default}\n         * @api\n         */\n        _this.tile = tile;\n        return _this;\n    }\n    return TileSourceEvent;\n}(Event));\nexport { TileSourceEvent };\nexport default TileSource;\n//# sourceMappingURL=Tile.js.map","/**\n * @module ol/tileurlfunction\n */\nimport { assert } from './asserts.js';\nimport { modulo } from './math.js';\nimport { hash as tileCoordHash } from './tilecoord.js';\n/**\n * @param {string} template Template.\n * @param {import(\"./tilegrid/TileGrid.js\").default} tileGrid Tile grid.\n * @return {import(\"./Tile.js\").UrlFunction} Tile URL function.\n */\nexport function createFromTemplate(template, tileGrid) {\n    var zRegEx = /\\{z\\}/g;\n    var xRegEx = /\\{x\\}/g;\n    var yRegEx = /\\{y\\}/g;\n    var dashYRegEx = /\\{-y\\}/g;\n    return (\n    /**\n     * @param {import(\"./tilecoord.js\").TileCoord} tileCoord Tile Coordinate.\n     * @param {number} pixelRatio Pixel ratio.\n     * @param {import(\"./proj/Projection.js\").default} projection Projection.\n     * @return {string|undefined} Tile URL.\n     */\n    function (tileCoord, pixelRatio, projection) {\n        if (!tileCoord) {\n            return undefined;\n        }\n        else {\n            return template\n                .replace(zRegEx, tileCoord[0].toString())\n                .replace(xRegEx, tileCoord[1].toString())\n                .replace(yRegEx, tileCoord[2].toString())\n                .replace(dashYRegEx, function () {\n                var z = tileCoord[0];\n                var range = tileGrid.getFullTileRange(z);\n                assert(range, 55); // The {-y} placeholder requires a tile grid with extent\n                var y = range.getHeight() - tileCoord[2] - 1;\n                return y.toString();\n            });\n        }\n    });\n}\n/**\n * @param {Array<string>} templates Templates.\n * @param {import(\"./tilegrid/TileGrid.js\").default} tileGrid Tile grid.\n * @return {import(\"./Tile.js\").UrlFunction} Tile URL function.\n */\nexport function createFromTemplates(templates, tileGrid) {\n    var len = templates.length;\n    var tileUrlFunctions = new Array(len);\n    for (var i = 0; i < len; ++i) {\n        tileUrlFunctions[i] = createFromTemplate(templates[i], tileGrid);\n    }\n    return createFromTileUrlFunctions(tileUrlFunctions);\n}\n/**\n * @param {Array<import(\"./Tile.js\").UrlFunction>} tileUrlFunctions Tile URL Functions.\n * @return {import(\"./Tile.js\").UrlFunction} Tile URL function.\n */\nexport function createFromTileUrlFunctions(tileUrlFunctions) {\n    if (tileUrlFunctions.length === 1) {\n        return tileUrlFunctions[0];\n    }\n    return (\n    /**\n     * @param {import(\"./tilecoord.js\").TileCoord} tileCoord Tile Coordinate.\n     * @param {number} pixelRatio Pixel ratio.\n     * @param {import(\"./proj/Projection.js\").default} projection Projection.\n     * @return {string|undefined} Tile URL.\n     */\n    function (tileCoord, pixelRatio, projection) {\n        if (!tileCoord) {\n            return undefined;\n        }\n        else {\n            var h = tileCoordHash(tileCoord);\n            var index = modulo(h, tileUrlFunctions.length);\n            return tileUrlFunctions[index](tileCoord, pixelRatio, projection);\n        }\n    });\n}\n/**\n * @param {import(\"./tilecoord.js\").TileCoord} tileCoord Tile coordinate.\n * @param {number} pixelRatio Pixel ratio.\n * @param {import(\"./proj/Projection.js\").default} projection Projection.\n * @return {string|undefined} Tile URL.\n */\nexport function nullTileUrlFunction(tileCoord, pixelRatio, projection) {\n    return undefined;\n}\n/**\n * @param {string} url URL.\n * @return {Array<string>} Array of urls.\n */\nexport function expandUrl(url) {\n    var urls = [];\n    var match = /\\{([a-z])-([a-z])\\}/.exec(url);\n    if (match) {\n        // char range\n        var startCharCode = match[1].charCodeAt(0);\n        var stopCharCode = match[2].charCodeAt(0);\n        var charCode = void 0;\n        for (charCode = startCharCode; charCode <= stopCharCode; ++charCode) {\n            urls.push(url.replace(match[0], String.fromCharCode(charCode)));\n        }\n        return urls;\n    }\n    match = /\\{(\\d+)-(\\d+)\\}/.exec(url);\n    if (match) {\n        // number range\n        var stop_1 = parseInt(match[2], 10);\n        for (var i = parseInt(match[1], 10); i <= stop_1; i++) {\n            urls.push(url.replace(match[0], i.toString()));\n        }\n        return urls;\n    }\n    urls.push(url);\n    return urls;\n}\n//# sourceMappingURL=tileurlfunction.js.map","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n/**\n * @module ol/source/UrlTile\n */\nimport TileEventType from './TileEventType.js';\nimport TileSource, { TileSourceEvent } from './Tile.js';\nimport TileState from '../TileState.js';\nimport { createFromTemplates, expandUrl } from '../tileurlfunction.js';\nimport { getKeyZXY } from '../tilecoord.js';\nimport { getUid } from '../util.js';\n/**\n * @typedef {Object} Options\n * @property {import(\"./Source.js\").AttributionLike} [attributions]\n * @property {boolean} [attributionsCollapsible=true] Attributions are collapsible.\n * @property {number} [cacheSize]\n * @property {boolean} [opaque=false] Whether the layer is opaque.\n * @property {import(\"../proj.js\").ProjectionLike} [projection]\n * @property {import(\"./State.js\").default} [state]\n * @property {import(\"../tilegrid/TileGrid.js\").default} [tileGrid]\n * @property {import(\"../Tile.js\").LoadFunction} tileLoadFunction\n * @property {number} [tilePixelRatio]\n * @property {import(\"../Tile.js\").UrlFunction} [tileUrlFunction]\n * @property {string} [url]\n * @property {Array<string>} [urls]\n * @property {boolean} [wrapX=true]\n * @property {number} [transition]\n * @property {string} [key]\n * @property {number} [zDirection=0]\n */\n/**\n * @classdesc\n * Base class for sources providing tiles divided into a tile grid over http.\n *\n * @fires import(\"./Tile.js\").TileSourceEvent\n */\nvar UrlTile = /** @class */ (function (_super) {\n    __extends(UrlTile, _super);\n    /**\n     * @param {Options} options Image tile options.\n     */\n    function UrlTile(options) {\n        var _this = _super.call(this, {\n            attributions: options.attributions,\n            cacheSize: options.cacheSize,\n            opaque: options.opaque,\n            projection: options.projection,\n            state: options.state,\n            tileGrid: options.tileGrid,\n            tilePixelRatio: options.tilePixelRatio,\n            wrapX: options.wrapX,\n            transition: options.transition,\n            key: options.key,\n            attributionsCollapsible: options.attributionsCollapsible,\n            zDirection: options.zDirection,\n        }) || this;\n        /**\n         * @private\n         * @type {boolean}\n         */\n        _this.generateTileUrlFunction_ =\n            _this.tileUrlFunction === UrlTile.prototype.tileUrlFunction;\n        /**\n         * @protected\n         * @type {import(\"../Tile.js\").LoadFunction}\n         */\n        _this.tileLoadFunction = options.tileLoadFunction;\n        if (options.tileUrlFunction) {\n            _this.tileUrlFunction = options.tileUrlFunction;\n        }\n        /**\n         * @protected\n         * @type {!Array<string>|null}\n         */\n        _this.urls = null;\n        if (options.urls) {\n            _this.setUrls(options.urls);\n        }\n        else if (options.url) {\n            _this.setUrl(options.url);\n        }\n        /**\n         * @private\n         * @type {!Object<string, boolean>}\n         */\n        _this.tileLoadingKeys_ = {};\n        return _this;\n    }\n    /**\n     * Return the tile load function of the source.\n     * @return {import(\"../Tile.js\").LoadFunction} TileLoadFunction\n     * @api\n     */\n    UrlTile.prototype.getTileLoadFunction = function () {\n        return this.tileLoadFunction;\n    };\n    /**\n     * Return the tile URL function of the source.\n     * @return {import(\"../Tile.js\").UrlFunction} TileUrlFunction\n     * @api\n     */\n    UrlTile.prototype.getTileUrlFunction = function () {\n        return Object.getPrototypeOf(this).tileUrlFunction === this.tileUrlFunction\n            ? this.tileUrlFunction.bind(this)\n            : this.tileUrlFunction;\n    };\n    /**\n     * Return the URLs used for this source.\n     * When a tileUrlFunction is used instead of url or urls,\n     * null will be returned.\n     * @return {!Array<string>|null} URLs.\n     * @api\n     */\n    UrlTile.prototype.getUrls = function () {\n        return this.urls;\n    };\n    /**\n     * Handle tile change events.\n     * @param {import(\"../events/Event.js\").default} event Event.\n     * @protected\n     */\n    UrlTile.prototype.handleTileChange = function (event) {\n        var tile = /** @type {import(\"../Tile.js\").default} */ (event.target);\n        var uid = getUid(tile);\n        var tileState = tile.getState();\n        var type;\n        if (tileState == TileState.LOADING) {\n            this.tileLoadingKeys_[uid] = true;\n            type = TileEventType.TILELOADSTART;\n        }\n        else if (uid in this.tileLoadingKeys_) {\n            delete this.tileLoadingKeys_[uid];\n            type =\n                tileState == TileState.ERROR\n                    ? TileEventType.TILELOADERROR\n                    : tileState == TileState.LOADED\n                        ? TileEventType.TILELOADEND\n                        : undefined;\n        }\n        if (type != undefined) {\n            this.dispatchEvent(new TileSourceEvent(type, tile));\n        }\n    };\n    /**\n     * Set the tile load function of the source.\n     * @param {import(\"../Tile.js\").LoadFunction} tileLoadFunction Tile load function.\n     * @api\n     */\n    UrlTile.prototype.setTileLoadFunction = function (tileLoadFunction) {\n        this.tileCache.clear();\n        this.tileLoadFunction = tileLoadFunction;\n        this.changed();\n    };\n    /**\n     * Set the tile URL function of the source.\n     * @param {import(\"../Tile.js\").UrlFunction} tileUrlFunction Tile URL function.\n     * @param {string=} key Optional new tile key for the source.\n     * @api\n     */\n    UrlTile.prototype.setTileUrlFunction = function (tileUrlFunction, key) {\n        this.tileUrlFunction = tileUrlFunction;\n        this.tileCache.pruneExceptNewestZ();\n        if (typeof key !== 'undefined') {\n            this.setKey(key);\n        }\n        else {\n            this.changed();\n        }\n    };\n    /**\n     * Set the URL to use for requests.\n     * @param {string} url URL.\n     * @api\n     */\n    UrlTile.prototype.setUrl = function (url) {\n        var urls = expandUrl(url);\n        this.urls = urls;\n        this.setUrls(urls);\n    };\n    /**\n     * Set the URLs to use for requests.\n     * @param {Array<string>} urls URLs.\n     * @api\n     */\n    UrlTile.prototype.setUrls = function (urls) {\n        this.urls = urls;\n        var key = urls.join('\\n');\n        if (this.generateTileUrlFunction_) {\n            this.setTileUrlFunction(createFromTemplates(urls, this.tileGrid), key);\n        }\n        else {\n            this.setKey(key);\n        }\n    };\n    /**\n     * @param {import(\"../tilecoord.js\").TileCoord} tileCoord Tile coordinate.\n     * @param {number} pixelRatio Pixel ratio.\n     * @param {import(\"../proj/Projection.js\").default} projection Projection.\n     * @return {string|undefined} Tile URL.\n     */\n    UrlTile.prototype.tileUrlFunction = function (tileCoord, pixelRatio, projection) {\n        return undefined;\n    };\n    /**\n     * Marks a tile coord as being used, without triggering a load.\n     * @param {number} z Tile coordinate z.\n     * @param {number} x Tile coordinate x.\n     * @param {number} y Tile coordinate y.\n     */\n    UrlTile.prototype.useTile = function (z, x, y) {\n        var tileCoordKey = getKeyZXY(z, x, y);\n        if (this.tileCache.containsKey(tileCoordKey)) {\n            this.tileCache.get(tileCoordKey);\n        }\n    };\n    return UrlTile;\n}(TileSource));\nexport default UrlTile;\n//# sourceMappingURL=UrlTile.js.map","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n/**\n * @module ol/source/TileImage\n */\nimport EventType from '../events/EventType.js';\nimport ImageTile from '../ImageTile.js';\nimport ReprojTile from '../reproj/Tile.js';\nimport TileCache from '../TileCache.js';\nimport TileState from '../TileState.js';\nimport UrlTile from './UrlTile.js';\nimport { ENABLE_RASTER_REPROJECTION } from '../reproj/common.js';\nimport { IMAGE_SMOOTHING_DISABLED } from './common.js';\nimport { equivalent, get as getProjection } from '../proj.js';\nimport { getKey, getKeyZXY } from '../tilecoord.js';\nimport { getForProjection as getTileGridForProjection } from '../tilegrid.js';\nimport { getUid } from '../util.js';\n/**\n * @typedef {Object} Options\n * @property {import(\"./Source.js\").AttributionLike} [attributions] Attributions.\n * @property {boolean} [attributionsCollapsible=true] Attributions are collapsible.\n * @property {number} [cacheSize] Initial tile cache size. Will auto-grow to hold at least the number of tiles in the viewport.\n * @property {null|string} [crossOrigin] The `crossOrigin` attribute for loaded images.  Note that\n * you must provide a `crossOrigin` value if you want to access pixel data with the Canvas renderer.\n * See https://developer.mozilla.org/en-US/docs/Web/HTML/CORS_enabled_image for more detail.\n * @property {boolean} [imageSmoothing=true] Enable image smoothing.\n * @property {boolean} [opaque=false] Whether the layer is opaque.\n * @property {import(\"../proj.js\").ProjectionLike} [projection] Projection. Default is the view projection.\n * @property {number} [reprojectionErrorThreshold=0.5] Maximum allowed reprojection error (in pixels).\n * Higher values can increase reprojection performance, but decrease precision.\n * @property {import(\"./State.js\").default} [state] Source state.\n * @property {typeof import(\"../ImageTile.js\").default} [tileClass] Class used to instantiate image tiles.\n * Default is {@link module:ol/ImageTile~ImageTile}.\n * @property {import(\"../tilegrid/TileGrid.js\").default} [tileGrid] Tile grid.\n * @property {import(\"../Tile.js\").LoadFunction} [tileLoadFunction] Optional function to load a tile given a URL. The default is\n * ```js\n * function(imageTile, src) {\n *   imageTile.getImage().src = src;\n * };\n * ```\n * @property {number} [tilePixelRatio=1] The pixel ratio used by the tile service. For example, if the tile\n * service advertizes 256px by 256px tiles but actually sends 512px\n * by 512px images (for retina/hidpi devices) then `tilePixelRatio`\n * should be set to `2`.\n * @property {import(\"../Tile.js\").UrlFunction} [tileUrlFunction] Optional function to get tile URL given a tile coordinate and the projection.\n * @property {string} [url] URL template. Must include `{x}`, `{y}` or `{-y}`, and `{z}` placeholders.\n * A `{?-?}` template pattern, for example `subdomain{a-f}.domain.com`, may be\n * used instead of defining each one separately in the `urls` option.\n * @property {Array<string>} [urls] An array of URL templates.\n * @property {boolean} [wrapX] Whether to wrap the world horizontally. The default, is to\n * request out-of-bounds tiles from the server. When set to `false`, only one\n * world will be rendered. When set to `true`, tiles will be requested for one\n * world only, but they will be wrapped horizontally to render multiple worlds.\n * @property {number} [transition] Duration of the opacity transition for rendering.\n * To disable the opacity transition, pass `transition: 0`.\n * @property {string} [key] Optional tile key for proper cache fetching\n * @property {number} [zDirection=0] Indicate which resolution should be used\n * by a renderer if the view resolution does not match any resolution of the tile source.\n * If 0, the nearest resolution will be used. If 1, the nearest lower resolution\n * will be used. If -1, the nearest higher resolution will be used.\n */\n/**\n * @classdesc\n * Base class for sources providing images divided into a tile grid.\n *\n * @fires import(\"./Tile.js\").TileSourceEvent\n * @api\n */\nvar TileImage = /** @class */ (function (_super) {\n    __extends(TileImage, _super);\n    /**\n     * @param {!Options} options Image tile options.\n     */\n    function TileImage(options) {\n        var _this = _super.call(this, {\n            attributions: options.attributions,\n            cacheSize: options.cacheSize,\n            opaque: options.opaque,\n            projection: options.projection,\n            state: options.state,\n            tileGrid: options.tileGrid,\n            tileLoadFunction: options.tileLoadFunction\n                ? options.tileLoadFunction\n                : defaultTileLoadFunction,\n            tilePixelRatio: options.tilePixelRatio,\n            tileUrlFunction: options.tileUrlFunction,\n            url: options.url,\n            urls: options.urls,\n            wrapX: options.wrapX,\n            transition: options.transition,\n            key: options.key,\n            attributionsCollapsible: options.attributionsCollapsible,\n            zDirection: options.zDirection,\n        }) || this;\n        /**\n         * @protected\n         * @type {?string}\n         */\n        _this.crossOrigin =\n            options.crossOrigin !== undefined ? options.crossOrigin : null;\n        /**\n         * @protected\n         * @type {typeof ImageTile}\n         */\n        _this.tileClass =\n            options.tileClass !== undefined ? options.tileClass : ImageTile;\n        /**\n         * @protected\n         * @type {!Object<string, TileCache>}\n         */\n        _this.tileCacheForProjection = {};\n        /**\n         * @protected\n         * @type {!Object<string, import(\"../tilegrid/TileGrid.js\").default>}\n         */\n        _this.tileGridForProjection = {};\n        /**\n         * @private\n         * @type {number|undefined}\n         */\n        _this.reprojectionErrorThreshold_ = options.reprojectionErrorThreshold;\n        /**\n         * @private\n         * @type {object|undefined}\n         */\n        _this.contextOptions_ =\n            options.imageSmoothing === false ? IMAGE_SMOOTHING_DISABLED : undefined;\n        /**\n         * @private\n         * @type {boolean}\n         */\n        _this.renderReprojectionEdges_ = false;\n        return _this;\n    }\n    /**\n     * @return {boolean} Can expire cache.\n     */\n    TileImage.prototype.canExpireCache = function () {\n        if (!ENABLE_RASTER_REPROJECTION) {\n            return _super.prototype.canExpireCache.call(this);\n        }\n        if (this.tileCache.canExpireCache()) {\n            return true;\n        }\n        else {\n            for (var key in this.tileCacheForProjection) {\n                if (this.tileCacheForProjection[key].canExpireCache()) {\n                    return true;\n                }\n            }\n        }\n        return false;\n    };\n    /**\n     * @param {import(\"../proj/Projection.js\").default} projection Projection.\n     * @param {!Object<string, boolean>} usedTiles Used tiles.\n     */\n    TileImage.prototype.expireCache = function (projection, usedTiles) {\n        if (!ENABLE_RASTER_REPROJECTION) {\n            _super.prototype.expireCache.call(this, projection, usedTiles);\n            return;\n        }\n        var usedTileCache = this.getTileCacheForProjection(projection);\n        this.tileCache.expireCache(this.tileCache == usedTileCache ? usedTiles : {});\n        for (var id in this.tileCacheForProjection) {\n            var tileCache = this.tileCacheForProjection[id];\n            tileCache.expireCache(tileCache == usedTileCache ? usedTiles : {});\n        }\n    };\n    /**\n     * @return {Object|undefined} Context options.\n     */\n    TileImage.prototype.getContextOptions = function () {\n        return this.contextOptions_;\n    };\n    /**\n     * @param {import(\"../proj/Projection.js\").default} projection Projection.\n     * @return {number} Gutter.\n     */\n    TileImage.prototype.getGutterForProjection = function (projection) {\n        if (ENABLE_RASTER_REPROJECTION &&\n            this.getProjection() &&\n            projection &&\n            !equivalent(this.getProjection(), projection)) {\n            return 0;\n        }\n        else {\n            return this.getGutter();\n        }\n    };\n    /**\n     * @return {number} Gutter.\n     */\n    TileImage.prototype.getGutter = function () {\n        return 0;\n    };\n    /**\n     * Return the key to be used for all tiles in the source.\n     * @return {string} The key for all tiles.\n     * @protected\n     */\n    TileImage.prototype.getKey = function () {\n        return (_super.prototype.getKey.call(this) +\n            (this.contextOptions_ ? '\\n' + JSON.stringify(this.contextOptions_) : ''));\n    };\n    /**\n     * @param {import(\"../proj/Projection.js\").default} projection Projection.\n     * @return {boolean} Opaque.\n     */\n    TileImage.prototype.getOpaque = function (projection) {\n        if (ENABLE_RASTER_REPROJECTION &&\n            this.getProjection() &&\n            projection &&\n            !equivalent(this.getProjection(), projection)) {\n            return false;\n        }\n        else {\n            return _super.prototype.getOpaque.call(this, projection);\n        }\n    };\n    /**\n     * @param {import(\"../proj/Projection.js\").default} projection Projection.\n     * @return {!import(\"../tilegrid/TileGrid.js\").default} Tile grid.\n     */\n    TileImage.prototype.getTileGridForProjection = function (projection) {\n        if (!ENABLE_RASTER_REPROJECTION) {\n            return _super.prototype.getTileGridForProjection.call(this, projection);\n        }\n        var thisProj = this.getProjection();\n        if (this.tileGrid && (!thisProj || equivalent(thisProj, projection))) {\n            return this.tileGrid;\n        }\n        else {\n            var projKey = getUid(projection);\n            if (!(projKey in this.tileGridForProjection)) {\n                this.tileGridForProjection[projKey] = getTileGridForProjection(projection);\n            }\n            return this.tileGridForProjection[projKey];\n        }\n    };\n    /**\n     * @param {import(\"../proj/Projection.js\").default} projection Projection.\n     * @return {import(\"../TileCache.js\").default} Tile cache.\n     */\n    TileImage.prototype.getTileCacheForProjection = function (projection) {\n        if (!ENABLE_RASTER_REPROJECTION) {\n            return _super.prototype.getTileCacheForProjection.call(this, projection);\n        }\n        var thisProj = this.getProjection();\n        if (!thisProj || equivalent(thisProj, projection)) {\n            return this.tileCache;\n        }\n        else {\n            var projKey = getUid(projection);\n            if (!(projKey in this.tileCacheForProjection)) {\n                this.tileCacheForProjection[projKey] = new TileCache(this.tileCache.highWaterMark);\n            }\n            return this.tileCacheForProjection[projKey];\n        }\n    };\n    /**\n     * @param {number} z Tile coordinate z.\n     * @param {number} x Tile coordinate x.\n     * @param {number} y Tile coordinate y.\n     * @param {number} pixelRatio Pixel ratio.\n     * @param {import(\"../proj/Projection.js\").default} projection Projection.\n     * @param {string} key The key set on the tile.\n     * @return {!import(\"../Tile.js\").default} Tile.\n     * @private\n     */\n    TileImage.prototype.createTile_ = function (z, x, y, pixelRatio, projection, key) {\n        var tileCoord = [z, x, y];\n        var urlTileCoord = this.getTileCoordForTileUrlFunction(tileCoord, projection);\n        var tileUrl = urlTileCoord\n            ? this.tileUrlFunction(urlTileCoord, pixelRatio, projection)\n            : undefined;\n        var tile = new this.tileClass(tileCoord, tileUrl !== undefined ? TileState.IDLE : TileState.EMPTY, tileUrl !== undefined ? tileUrl : '', this.crossOrigin, this.tileLoadFunction, this.tileOptions);\n        tile.key = key;\n        tile.addEventListener(EventType.CHANGE, this.handleTileChange.bind(this));\n        return tile;\n    };\n    /**\n     * @param {number} z Tile coordinate z.\n     * @param {number} x Tile coordinate x.\n     * @param {number} y Tile coordinate y.\n     * @param {number} pixelRatio Pixel ratio.\n     * @param {import(\"../proj/Projection.js\").default} projection Projection.\n     * @return {!import(\"../Tile.js\").default} Tile.\n     */\n    TileImage.prototype.getTile = function (z, x, y, pixelRatio, projection) {\n        var sourceProjection = this.getProjection();\n        if (!ENABLE_RASTER_REPROJECTION ||\n            !sourceProjection ||\n            !projection ||\n            equivalent(sourceProjection, projection)) {\n            return this.getTileInternal(z, x, y, pixelRatio, sourceProjection || projection);\n        }\n        else {\n            var cache = this.getTileCacheForProjection(projection);\n            var tileCoord = [z, x, y];\n            var tile = void 0;\n            var tileCoordKey = getKey(tileCoord);\n            if (cache.containsKey(tileCoordKey)) {\n                tile = cache.get(tileCoordKey);\n            }\n            var key = this.getKey();\n            if (tile && tile.key == key) {\n                return tile;\n            }\n            else {\n                var sourceTileGrid = this.getTileGridForProjection(sourceProjection);\n                var targetTileGrid = this.getTileGridForProjection(projection);\n                var wrappedTileCoord = this.getTileCoordForTileUrlFunction(tileCoord, projection);\n                var newTile = new ReprojTile(sourceProjection, sourceTileGrid, projection, targetTileGrid, tileCoord, wrappedTileCoord, this.getTilePixelRatio(pixelRatio), this.getGutter(), function (z, x, y, pixelRatio) {\n                    return this.getTileInternal(z, x, y, pixelRatio, sourceProjection);\n                }.bind(this), this.reprojectionErrorThreshold_, this.renderReprojectionEdges_, this.contextOptions_);\n                newTile.key = key;\n                if (tile) {\n                    newTile.interimTile = tile;\n                    newTile.refreshInterimChain();\n                    cache.replace(tileCoordKey, newTile);\n                }\n                else {\n                    cache.set(tileCoordKey, newTile);\n                }\n                return newTile;\n            }\n        }\n    };\n    /**\n     * @param {number} z Tile coordinate z.\n     * @param {number} x Tile coordinate x.\n     * @param {number} y Tile coordinate y.\n     * @param {number} pixelRatio Pixel ratio.\n     * @param {!import(\"../proj/Projection.js\").default} projection Projection.\n     * @return {!import(\"../Tile.js\").default} Tile.\n     * @protected\n     */\n    TileImage.prototype.getTileInternal = function (z, x, y, pixelRatio, projection) {\n        var tile = null;\n        var tileCoordKey = getKeyZXY(z, x, y);\n        var key = this.getKey();\n        if (!this.tileCache.containsKey(tileCoordKey)) {\n            tile = this.createTile_(z, x, y, pixelRatio, projection, key);\n            this.tileCache.set(tileCoordKey, tile);\n        }\n        else {\n            tile = this.tileCache.get(tileCoordKey);\n            if (tile.key != key) {\n                // The source's params changed. If the tile has an interim tile and if we\n                // can use it then we use it. Otherwise we create a new tile.  In both\n                // cases we attempt to assign an interim tile to the new tile.\n                var interimTile = tile;\n                tile = this.createTile_(z, x, y, pixelRatio, projection, key);\n                //make the new tile the head of the list,\n                if (interimTile.getState() == TileState.IDLE) {\n                    //the old tile hasn't begun loading yet, and is now outdated, so we can simply discard it\n                    tile.interimTile = interimTile.interimTile;\n                }\n                else {\n                    tile.interimTile = interimTile;\n                }\n                tile.refreshInterimChain();\n                this.tileCache.replace(tileCoordKey, tile);\n            }\n        }\n        return tile;\n    };\n    /**\n     * Sets whether to render reprojection edges or not (usually for debugging).\n     * @param {boolean} render Render the edges.\n     * @api\n     */\n    TileImage.prototype.setRenderReprojectionEdges = function (render) {\n        if (!ENABLE_RASTER_REPROJECTION ||\n            this.renderReprojectionEdges_ == render) {\n            return;\n        }\n        this.renderReprojectionEdges_ = render;\n        for (var id in this.tileCacheForProjection) {\n            this.tileCacheForProjection[id].clear();\n        }\n        this.changed();\n    };\n    /**\n     * Sets the tile grid to use when reprojecting the tiles to the given\n     * projection instead of the default tile grid for the projection.\n     *\n     * This can be useful when the default tile grid cannot be created\n     * (e.g. projection has no extent defined) or\n     * for optimization reasons (custom tile size, resolutions, ...).\n     *\n     * @param {import(\"../proj.js\").ProjectionLike} projection Projection.\n     * @param {import(\"../tilegrid/TileGrid.js\").default} tilegrid Tile grid to use for the projection.\n     * @api\n     */\n    TileImage.prototype.setTileGridForProjection = function (projection, tilegrid) {\n        if (ENABLE_RASTER_REPROJECTION) {\n            var proj = getProjection(projection);\n            if (proj) {\n                var projKey = getUid(proj);\n                if (!(projKey in this.tileGridForProjection)) {\n                    this.tileGridForProjection[projKey] = tilegrid;\n                }\n            }\n        }\n    };\n    return TileImage;\n}(UrlTile));\n/**\n * @param {ImageTile} imageTile Image tile.\n * @param {string} src Source.\n */\nfunction defaultTileLoadFunction(imageTile, src) {\n    /** @type {HTMLImageElement|HTMLVideoElement} */ (imageTile.getImage()).src = src;\n}\nexport default TileImage;\n//# sourceMappingURL=TileImage.js.map","/**\n * @module ol/source/XYZ\n */\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport TileImage from './TileImage.js';\nimport { createXYZ, extentFromProjection } from '../tilegrid.js';\n/**\n * @typedef {Object} Options\n * @property {import(\"./Source.js\").AttributionLike} [attributions] Attributions.\n * @property {boolean} [attributionsCollapsible=true] Attributions are collapsible.\n * @property {number} [cacheSize] Initial tile cache size. Will auto-grow to hold at least the number of tiles in the viewport.\n * @property {null|string} [crossOrigin] The `crossOrigin` attribute for loaded images.  Note that\n * you must provide a `crossOrigin` value if you want to access pixel data with the Canvas renderer.\n * See https://developer.mozilla.org/en-US/docs/Web/HTML/CORS_enabled_image for more detail.\n * @property {boolean} [imageSmoothing=true] Enable image smoothing.\n * @property {boolean} [opaque=false] Whether the layer is opaque.\n * @property {import(\"../proj.js\").ProjectionLike} [projection='EPSG:3857'] Projection.\n * @property {number} [reprojectionErrorThreshold=0.5] Maximum allowed reprojection error (in pixels).\n * Higher values can increase reprojection performance, but decrease precision.\n * @property {number} [maxZoom=42] Optional max zoom level. Not used if `tileGrid` is provided.\n * @property {number} [minZoom=0] Optional min zoom level. Not used if `tileGrid` is provided.\n * @property {number} [maxResolution] Optional tile grid resolution at level zero. Not used if `tileGrid` is provided.\n * @property {import(\"../tilegrid/TileGrid.js\").default} [tileGrid] Tile grid.\n * @property {import(\"../Tile.js\").LoadFunction} [tileLoadFunction] Optional function to load a tile given a URL. The default is\n * ```js\n * function(imageTile, src) {\n *   imageTile.getImage().src = src;\n * };\n * ```\n * @property {number} [tilePixelRatio=1] The pixel ratio used by the tile service.\n * For example, if the tile service advertizes 256px by 256px tiles but actually sends 512px\n * by 512px images (for retina/hidpi devices) then `tilePixelRatio`\n * should be set to `2`.\n * @property {number|import(\"../size.js\").Size} [tileSize=[256, 256]] The tile size used by the tile service.\n * Not used if `tileGrid` is provided.\n * @property {import(\"../Tile.js\").UrlFunction} [tileUrlFunction] Optional function to get\n * tile URL given a tile coordinate and the projection.\n * Required if `url` or `urls` are not provided.\n * @property {string} [url] URL template. Must include `{x}`, `{y}` or `{-y}`,\n * and `{z}` placeholders. A `{?-?}` template pattern, for example `subdomain{a-f}.domain.com`,\n * may be used instead of defining each one separately in the `urls` option.\n * @property {Array<string>} [urls] An array of URL templates.\n * @property {boolean} [wrapX=true] Whether to wrap the world horizontally.\n * @property {number} [transition=250] Duration of the opacity transition for rendering.\n * To disable the opacity transition, pass `transition: 0`.\n * @property {number} [zDirection=0] Indicate which resolution should be used\n * by a renderer if the view resolution does not match any resolution of the tile source.\n * If 0, the nearest resolution will be used. If 1, the nearest lower resolution\n * will be used. If -1, the nearest higher resolution will be used.\n */\n/**\n * @classdesc\n * Layer source for tile data with URLs in a set XYZ format that are\n * defined in a URL template. By default, this follows the widely-used\n * Google grid where `x` 0 and `y` 0 are in the top left. Grids like\n * TMS where `x` 0 and `y` 0 are in the bottom left can be used by\n * using the `{-y}` placeholder in the URL template, so long as the\n * source does not have a custom tile grid. In this case\n * a `tileUrlFunction` can be used, such as:\n * ```js\n *  tileUrlFunction: function(coordinate) {\n *    return 'http://mapserver.com/' + coordinate[0] + '/' +\n *      coordinate[1] + '/' + (-coordinate[2] - 1) + '.png';\n *  }\n * ```\n * @api\n */\nvar XYZ = /** @class */ (function (_super) {\n    __extends(XYZ, _super);\n    /**\n     * @param {Options=} opt_options XYZ options.\n     */\n    function XYZ(opt_options) {\n        var _this = this;\n        var options = opt_options || {};\n        var projection = options.projection !== undefined ? options.projection : 'EPSG:3857';\n        var tileGrid = options.tileGrid !== undefined\n            ? options.tileGrid\n            : createXYZ({\n                extent: extentFromProjection(projection),\n                maxResolution: options.maxResolution,\n                maxZoom: options.maxZoom,\n                minZoom: options.minZoom,\n                tileSize: options.tileSize,\n            });\n        _this = _super.call(this, {\n            attributions: options.attributions,\n            cacheSize: options.cacheSize,\n            crossOrigin: options.crossOrigin,\n            imageSmoothing: options.imageSmoothing,\n            opaque: options.opaque,\n            projection: projection,\n            reprojectionErrorThreshold: options.reprojectionErrorThreshold,\n            tileGrid: tileGrid,\n            tileLoadFunction: options.tileLoadFunction,\n            tilePixelRatio: options.tilePixelRatio,\n            tileUrlFunction: options.tileUrlFunction,\n            url: options.url,\n            urls: options.urls,\n            wrapX: options.wrapX !== undefined ? options.wrapX : true,\n            transition: options.transition,\n            attributionsCollapsible: options.attributionsCollapsible,\n            zDirection: options.zDirection,\n        }) || this;\n        return _this;\n    }\n    return XYZ;\n}(TileImage));\nexport default XYZ;\n//# sourceMappingURL=XYZ.js.map","/**\n * @module ol/source/OSM\n */\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport XYZ from './XYZ.js';\n/**\n * The attribution containing a link to the OpenStreetMap Copyright and License\n * page.\n * @const\n * @type {string}\n * @api\n */\nexport var ATTRIBUTION = '&#169; ' +\n    '<a href=\"https://www.openstreetmap.org/copyright\" target=\"_blank\">OpenStreetMap</a> ' +\n    'contributors.';\n/**\n * @typedef {Object} Options\n * @property {import(\"./Source.js\").AttributionLike} [attributions] Attributions.\n * @property {number} [cacheSize] Initial tile cache size. Will auto-grow to hold at least the number of tiles in the viewport.\n * @property {null|string} [crossOrigin='anonymous'] The `crossOrigin` attribute for loaded images.  Note that\n * you must provide a `crossOrigin` value if you want to access pixel data with the Canvas renderer.\n * See https://developer.mozilla.org/en-US/docs/Web/HTML/CORS_enabled_image for more detail.\n * @property {boolean} [imageSmoothing=true] Enable image smoothing.\n * @property {number} [maxZoom=19] Max zoom.\n * @property {boolean} [opaque=true] Whether the layer is opaque.\n * @property {number} [reprojectionErrorThreshold=0.5] Maximum allowed reprojection error (in pixels).\n * Higher values can increase reprojection performance, but decrease precision.\n * @property {import(\"../Tile.js\").LoadFunction} [tileLoadFunction] Optional function to load a tile given a URL. The default is\n * ```js\n * function(imageTile, src) {\n *   imageTile.getImage().src = src;\n * };\n * ```\n * @property {number} [transition=250] Duration of the opacity transition for rendering.\n * To disable the opacity transition, pass `transition: 0`.\n * @property {string} [url='https://{a-c}.tile.openstreetmap.org/{z}/{x}/{y}.png'] URL template.\n * Must include `{x}`, `{y}` or `{-y}`, and `{z}` placeholders.\n * @property {boolean} [wrapX=true] Whether to wrap the world horizontally.\n */\n/**\n * @classdesc\n * Layer source for the OpenStreetMap tile server.\n * @api\n */\nvar OSM = /** @class */ (function (_super) {\n    __extends(OSM, _super);\n    /**\n     * @param {Options=} [opt_options] Open Street Map options.\n     */\n    function OSM(opt_options) {\n        var _this = this;\n        var options = opt_options || {};\n        var attributions;\n        if (options.attributions !== undefined) {\n            attributions = options.attributions;\n        }\n        else {\n            attributions = [ATTRIBUTION];\n        }\n        var crossOrigin = options.crossOrigin !== undefined ? options.crossOrigin : 'anonymous';\n        var url = options.url !== undefined\n            ? options.url\n            : 'https://{a-c}.tile.openstreetmap.org/{z}/{x}/{y}.png';\n        _this = _super.call(this, {\n            attributions: attributions,\n            attributionsCollapsible: false,\n            cacheSize: options.cacheSize,\n            crossOrigin: crossOrigin,\n            imageSmoothing: options.imageSmoothing,\n            maxZoom: options.maxZoom !== undefined ? options.maxZoom : 19,\n            opaque: options.opaque !== undefined ? options.opaque : true,\n            reprojectionErrorThreshold: options.reprojectionErrorThreshold,\n            tileLoadFunction: options.tileLoadFunction,\n            transition: options.transition,\n            url: url,\n            wrapX: options.wrapX,\n        }) || this;\n        return _this;\n    }\n    return OSM;\n}(XYZ));\nexport default OSM;\n//# sourceMappingURL=OSM.js.map","/**\n * @license\n * Lo-Dash 2.4.1 (Custom Build) <http://lodash.com/>\n * Build: `lodash exports=\"node\" include=\"clone,merge,isEmpty,isArray,compact,each\" -d`\n * Copyright 2012-2013 The Dojo Foundation <http://dojofoundation.org/>\n * Based on Underscore.js 1.5.2 <http://underscorejs.org/LICENSE>\n * Copyright 2009-2013 Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors\n * Available under MIT license <http://lodash.com/license>\n */\n;(function() {\n\n  /** Used to pool arrays and objects used internally */\n  var arrayPool = [];\n\n  /** Used internally to indicate various things */\n  var indicatorObject = {};\n\n  /** Used as the max size of the `arrayPool` and `objectPool` */\n  var maxPoolSize = 40;\n\n  /** Used to match regexp flags from their coerced string values */\n  var reFlags = /\\w*$/;\n\n  /** Used to detected named functions */\n  var reFuncName = /^\\s*function[ \\n\\r\\t]+\\w/;\n\n  /** Used to detect functions containing a `this` reference */\n  var reThis = /\\bthis\\b/;\n\n  /** Used to fix the JScript [[DontEnum]] bug */\n  var shadowedProps = [\n    'constructor', 'hasOwnProperty', 'isPrototypeOf', 'propertyIsEnumerable',\n    'toLocaleString', 'toString', 'valueOf'\n  ];\n\n  /** `Object#toString` result shortcuts */\n  var argsClass = '[object Arguments]',\n      arrayClass = '[object Array]',\n      boolClass = '[object Boolean]',\n      dateClass = '[object Date]',\n      errorClass = '[object Error]',\n      funcClass = '[object Function]',\n      numberClass = '[object Number]',\n      objectClass = '[object Object]',\n      regexpClass = '[object RegExp]',\n      stringClass = '[object String]';\n\n  /** Used to identify object classifications that `_.clone` supports */\n  var cloneableClasses = {};\n  cloneableClasses[funcClass] = false;\n  cloneableClasses[argsClass] = cloneableClasses[arrayClass] =\n  cloneableClasses[boolClass] = cloneableClasses[dateClass] =\n  cloneableClasses[numberClass] = cloneableClasses[objectClass] =\n  cloneableClasses[regexpClass] = cloneableClasses[stringClass] = true;\n\n  /** Used as the property descriptor for `__bindData__` */\n  var descriptor = {\n    'configurable': false,\n    'enumerable': false,\n    'value': null,\n    'writable': false\n  };\n\n  /** Used as the data object for `iteratorTemplate` */\n  var iteratorData = {\n    'args': '',\n    'array': null,\n    'bottom': '',\n    'firstArg': '',\n    'init': '',\n    'keys': null,\n    'loop': '',\n    'shadowedProps': null,\n    'support': null,\n    'top': '',\n    'useHas': false\n  };\n\n  /** Used to determine if values are of the language type Object */\n  var objectTypes = {\n    'boolean': false,\n    'function': true,\n    'object': true,\n    'number': false,\n    'string': false,\n    'undefined': false\n  };\n\n  /** Used as a reference to the global object */\n  var root = (objectTypes[typeof window] && window) || this;\n\n  /** Detect free variable `exports` */\n  var freeExports = objectTypes[typeof exports] && exports && !exports.nodeType && exports;\n\n  /** Detect free variable `module` */\n  var freeModule = objectTypes[typeof module] && module && !module.nodeType && module;\n\n  /** Detect the popular CommonJS extension `module.exports` */\n  var moduleExports = freeModule && freeModule.exports === freeExports && freeExports;\n\n  /** Detect free variable `global` from Node.js or Browserified code and use it as `root` */\n  var freeGlobal = objectTypes[typeof global] && global;\n  if (freeGlobal && (freeGlobal.global === freeGlobal || freeGlobal.window === freeGlobal)) {\n    root = freeGlobal;\n  }\n\n  /*--------------------------------------------------------------------------*/\n\n  /**\n   * Gets an array from the array pool or creates a new one if the pool is empty.\n   *\n   * @private\n   * @returns {Array} The array from the pool.\n   */\n  function getArray() {\n    return arrayPool.pop() || [];\n  }\n\n  /**\n   * Checks if `value` is a DOM node in IE < 9.\n   *\n   * @private\n   * @param {*} value The value to check.\n   * @returns {boolean} Returns `true` if the `value` is a DOM node, else `false`.\n   */\n  function isNode(value) {\n    // IE < 9 presents DOM nodes as `Object` objects except they have `toString`\n    // methods that are `typeof` \"string\" and still can coerce nodes to strings\n    return typeof value.toString != 'function' && typeof (value + '') == 'string';\n  }\n\n  /**\n   * Releases the given array back to the array pool.\n   *\n   * @private\n   * @param {Array} [array] The array to release.\n   */\n  function releaseArray(array) {\n    array.length = 0;\n    if (arrayPool.length < maxPoolSize) {\n      arrayPool.push(array);\n    }\n  }\n\n  /**\n   * Slices the `collection` from the `start` index up to, but not including,\n   * the `end` index.\n   *\n   * Note: This function is used instead of `Array#slice` to support node lists\n   * in IE < 9 and to ensure dense arrays are returned.\n   *\n   * @private\n   * @param {Array|Object|string} collection The collection to slice.\n   * @param {number} start The start index.\n   * @param {number} end The end index.\n   * @returns {Array} Returns the new array.\n   */\n  function slice(array, start, end) {\n    start || (start = 0);\n    if (typeof end == 'undefined') {\n      end = array ? array.length : 0;\n    }\n    var index = -1,\n        length = end - start || 0,\n        result = Array(length < 0 ? 0 : length);\n\n    while (++index < length) {\n      result[index] = array[start + index];\n    }\n    return result;\n  }\n\n  /*--------------------------------------------------------------------------*/\n\n  /**\n   * Used for `Array` method references.\n   *\n   * Normally `Array.prototype` would suffice, however, using an array literal\n   * avoids issues in Narwhal.\n   */\n  var arrayRef = [];\n\n  /** Used for native method references */\n  var errorProto = Error.prototype,\n      objectProto = Object.prototype,\n      stringProto = String.prototype;\n\n  /** Used to resolve the internal [[Class]] of values */\n  var toString = objectProto.toString;\n\n  /** Used to detect if a method is native */\n  var reNative = RegExp('^' +\n    String(toString)\n      .replace(/[.*+?^${}()|[\\]\\\\]/g, '\\\\$&')\n      .replace(/toString| for [^\\]]+/g, '.*?') + '$'\n  );\n\n  /** Native method shortcuts */\n  var fnToString = Function.prototype.toString,\n      getPrototypeOf = isNative(getPrototypeOf = Object.getPrototypeOf) && getPrototypeOf,\n      hasOwnProperty = objectProto.hasOwnProperty,\n      push = arrayRef.push,\n      propertyIsEnumerable = objectProto.propertyIsEnumerable,\n      unshift = arrayRef.unshift;\n\n  /** Used to set meta data on functions */\n  var defineProperty = (function() {\n    // IE 8 only accepts DOM elements\n    try {\n      var o = {},\n          func = isNative(func = Object.defineProperty) && func,\n          result = func(o, o, o) && func;\n    } catch(e) { }\n    return result;\n  }());\n\n  /* Native method shortcuts for methods with the same name as other `lodash` methods */\n  var nativeCreate = isNative(nativeCreate = Object.create) && nativeCreate,\n      nativeIsArray = isNative(nativeIsArray = Array.isArray) && nativeIsArray,\n      nativeKeys = isNative(nativeKeys = Object.keys) && nativeKeys;\n\n  /** Used to lookup a built-in constructor by [[Class]] */\n  var ctorByClass = {};\n  ctorByClass[arrayClass] = Array;\n  ctorByClass[boolClass] = Boolean;\n  ctorByClass[dateClass] = Date;\n  ctorByClass[funcClass] = Function;\n  ctorByClass[objectClass] = Object;\n  ctorByClass[numberClass] = Number;\n  ctorByClass[regexpClass] = RegExp;\n  ctorByClass[stringClass] = String;\n\n  /** Used to avoid iterating non-enumerable properties in IE < 9 */\n  var nonEnumProps = {};\n  nonEnumProps[arrayClass] = nonEnumProps[dateClass] = nonEnumProps[numberClass] = { 'constructor': true, 'toLocaleString': true, 'toString': true, 'valueOf': true };\n  nonEnumProps[boolClass] = nonEnumProps[stringClass] = { 'constructor': true, 'toString': true, 'valueOf': true };\n  nonEnumProps[errorClass] = nonEnumProps[funcClass] = nonEnumProps[regexpClass] = { 'constructor': true, 'toString': true };\n  nonEnumProps[objectClass] = { 'constructor': true };\n\n  (function() {\n    var length = shadowedProps.length;\n    while (length--) {\n      var key = shadowedProps[length];\n      for (var className in nonEnumProps) {\n        if (hasOwnProperty.call(nonEnumProps, className) && !hasOwnProperty.call(nonEnumProps[className], key)) {\n          nonEnumProps[className][key] = false;\n        }\n      }\n    }\n  }());\n\n  /*--------------------------------------------------------------------------*/\n\n  /**\n   * Creates a `lodash` object which wraps the given value to enable intuitive\n   * method chaining.\n   *\n   * In addition to Lo-Dash methods, wrappers also have the following `Array` methods:\n   * `concat`, `join`, `pop`, `push`, `reverse`, `shift`, `slice`, `sort`, `splice`,\n   * and `unshift`\n   *\n   * Chaining is supported in custom builds as long as the `value` method is\n   * implicitly or explicitly included in the build.\n   *\n   * The chainable wrapper functions are:\n   * `after`, `assign`, `bind`, `bindAll`, `bindKey`, `chain`, `compact`,\n   * `compose`, `concat`, `countBy`, `create`, `createCallback`, `curry`,\n   * `debounce`, `defaults`, `defer`, `delay`, `difference`, `filter`, `flatten`,\n   * `forEach`, `forEachRight`, `forIn`, `forInRight`, `forOwn`, `forOwnRight`,\n   * `functions`, `groupBy`, `indexBy`, `initial`, `intersection`, `invert`,\n   * `invoke`, `keys`, `map`, `max`, `memoize`, `merge`, `min`, `object`, `omit`,\n   * `once`, `pairs`, `partial`, `partialRight`, `pick`, `pluck`, `pull`, `push`,\n   * `range`, `reject`, `remove`, `rest`, `reverse`, `shuffle`, `slice`, `sort`,\n   * `sortBy`, `splice`, `tap`, `throttle`, `times`, `toArray`, `transform`,\n   * `union`, `uniq`, `unshift`, `unzip`, `values`, `where`, `without`, `wrap`,\n   * and `zip`\n   *\n   * The non-chainable wrapper functions are:\n   * `clone`, `cloneDeep`, `contains`, `escape`, `every`, `find`, `findIndex`,\n   * `findKey`, `findLast`, `findLastIndex`, `findLastKey`, `has`, `identity`,\n   * `indexOf`, `isArguments`, `isArray`, `isBoolean`, `isDate`, `isElement`,\n   * `isEmpty`, `isEqual`, `isFinite`, `isFunction`, `isNaN`, `isNull`, `isNumber`,\n   * `isObject`, `isPlainObject`, `isRegExp`, `isString`, `isUndefined`, `join`,\n   * `lastIndexOf`, `mixin`, `noConflict`, `parseInt`, `pop`, `random`, `reduce`,\n   * `reduceRight`, `result`, `shift`, `size`, `some`, `sortedIndex`, `runInContext`,\n   * `template`, `unescape`, `uniqueId`, and `value`\n   *\n   * The wrapper functions `first` and `last` return wrapped values when `n` is\n   * provided, otherwise they return unwrapped values.\n   *\n   * Explicit chaining can be enabled by using the `_.chain` method.\n   *\n   * @name _\n   * @constructor\n   * @category Chaining\n   * @param {*} value The value to wrap in a `lodash` instance.\n   * @returns {Object} Returns a `lodash` instance.\n   * @example\n   *\n   * var wrapped = _([1, 2, 3]);\n   *\n   * // returns an unwrapped value\n   * wrapped.reduce(function(sum, num) {\n   *   return sum + num;\n   * });\n   * // => 6\n   *\n   * // returns a wrapped value\n   * var squares = wrapped.map(function(num) {\n   *   return num * num;\n   * });\n   *\n   * _.isArray(squares);\n   * // => false\n   *\n   * _.isArray(squares.value());\n   * // => true\n   */\n  function lodash() {\n    // no operation performed\n  }\n\n  /**\n   * An object used to flag environments features.\n   *\n   * @static\n   * @memberOf _\n   * @type Object\n   */\n  var support = lodash.support = {};\n\n  (function() {\n    var ctor = function() { this.x = 1; },\n        object = { '0': 1, 'length': 1 },\n        props = [];\n\n    ctor.prototype = { 'valueOf': 1, 'y': 1 };\n    for (var key in new ctor) { props.push(key); }\n    for (key in arguments) { }\n\n    /**\n     * Detect if an `arguments` object's [[Class]] is resolvable (all but Firefox < 4, IE < 9).\n     *\n     * @memberOf _.support\n     * @type boolean\n     */\n    support.argsClass = toString.call(arguments) == argsClass;\n\n    /**\n     * Detect if `arguments` objects are `Object` objects (all but Narwhal and Opera < 10.5).\n     *\n     * @memberOf _.support\n     * @type boolean\n     */\n    support.argsObject = arguments.constructor == Object && !(arguments instanceof Array);\n\n    /**\n     * Detect if `name` or `message` properties of `Error.prototype` are\n     * enumerable by default. (IE < 9, Safari < 5.1)\n     *\n     * @memberOf _.support\n     * @type boolean\n     */\n    support.enumErrorProps = propertyIsEnumerable.call(errorProto, 'message') || propertyIsEnumerable.call(errorProto, 'name');\n\n    /**\n     * Detect if `prototype` properties are enumerable by default.\n     *\n     * Firefox < 3.6, Opera > 9.50 - Opera < 11.60, and Safari < 5.1\n     * (if the prototype or a property on the prototype has been set)\n     * incorrectly sets a function's `prototype` property [[Enumerable]]\n     * value to `true`.\n     *\n     * @memberOf _.support\n     * @type boolean\n     */\n    support.enumPrototypes = propertyIsEnumerable.call(ctor, 'prototype');\n\n    /**\n     * Detect if functions can be decompiled by `Function#toString`\n     * (all but PS3 and older Opera mobile browsers & avoided in Windows 8 apps).\n     *\n     * @memberOf _.support\n     * @type boolean\n     */\n    support.funcDecomp = !isNative(root.WinRTError) && reThis.test(function() { return this; });\n\n    /**\n     * Detect if `Function#name` is supported (all but IE).\n     *\n     * @memberOf _.support\n     * @type boolean\n     */\n    support.funcNames = typeof Function.name == 'string';\n\n    /**\n     * Detect if `arguments` object indexes are non-enumerable\n     * (Firefox < 4, IE < 9, PhantomJS, Safari < 5.1).\n     *\n     * @memberOf _.support\n     * @type boolean\n     */\n    support.nonEnumArgs = key != 0;\n\n    /**\n     * Detect if properties shadowing those on `Object.prototype` are non-enumerable.\n     *\n     * In IE < 9 an objects own properties, shadowing non-enumerable ones, are\n     * made non-enumerable as well (a.k.a the JScript [[DontEnum]] bug).\n     *\n     * @memberOf _.support\n     * @type boolean\n     */\n    support.nonEnumShadows = !/valueOf/.test(props);\n\n    /**\n     * Detect if own properties are iterated after inherited properties (all but IE < 9).\n     *\n     * @memberOf _.support\n     * @type boolean\n     */\n    support.ownLast = props[0] != 'x';\n\n    /**\n     * Detect if `Array#shift` and `Array#splice` augment array-like objects correctly.\n     *\n     * Firefox < 10, IE compatibility mode, and IE < 9 have buggy Array `shift()`\n     * and `splice()` functions that fail to remove the last element, `value[0]`,\n     * of array-like objects even though the `length` property is set to `0`.\n     * The `shift()` method is buggy in IE 8 compatibility mode, while `splice()`\n     * is buggy regardless of mode in IE < 9 and buggy in compatibility mode in IE 9.\n     *\n     * @memberOf _.support\n     * @type boolean\n     */\n    support.spliceObjects = (arrayRef.splice.call(object, 0, 1), !object[0]);\n\n    /**\n     * Detect lack of support for accessing string characters by index.\n     *\n     * IE < 8 can't access characters by index and IE 8 can only access\n     * characters by index on string literals.\n     *\n     * @memberOf _.support\n     * @type boolean\n     */\n    support.unindexedChars = ('x'[0] + Object('x')[0]) != 'xx';\n\n    /**\n     * Detect if a DOM node's [[Class]] is resolvable (all but IE < 9)\n     * and that the JS engine errors when attempting to coerce an object to\n     * a string without a `toString` function.\n     *\n     * @memberOf _.support\n     * @type boolean\n     */\n    try {\n      support.nodeClass = !(toString.call(document) == objectClass && !({ 'toString': 0 } + ''));\n    } catch(e) {\n      support.nodeClass = true;\n    }\n  }(1));\n\n  /*--------------------------------------------------------------------------*/\n\n  /**\n   * The template used to create iterator functions.\n   *\n   * @private\n   * @param {Object} data The data object used to populate the text.\n   * @returns {string} Returns the interpolated text.\n   */\n  var iteratorTemplate = function(obj) {\n\n    var __p = 'var index, iterable = ' +\n    (obj.firstArg) +\n    ', result = ' +\n    (obj.init) +\n    ';\\nif (!iterable) return result;\\n' +\n    (obj.top) +\n    ';';\n     if (obj.array) {\n    __p += '\\nvar length = iterable.length; index = -1;\\nif (' +\n    (obj.array) +\n    ') {  ';\n     if (support.unindexedChars) {\n    __p += '\\n  if (isString(iterable)) {\\n    iterable = iterable.split(\\'\\')\\n  }  ';\n     }\n    __p += '\\n  while (++index < length) {\\n    ' +\n    (obj.loop) +\n    ';\\n  }\\n}\\nelse {  ';\n     } else if (support.nonEnumArgs) {\n    __p += '\\n  var length = iterable.length; index = -1;\\n  if (length && isArguments(iterable)) {\\n    while (++index < length) {\\n      index += \\'\\';\\n      ' +\n    (obj.loop) +\n    ';\\n    }\\n  } else {  ';\n     }\n\n     if (support.enumPrototypes) {\n    __p += '\\n  var skipProto = typeof iterable == \\'function\\';\\n  ';\n     }\n\n     if (support.enumErrorProps) {\n    __p += '\\n  var skipErrorProps = iterable === errorProto || iterable instanceof Error;\\n  ';\n     }\n\n        var conditions = [];    if (support.enumPrototypes) { conditions.push('!(skipProto && index == \"prototype\")'); }    if (support.enumErrorProps)  { conditions.push('!(skipErrorProps && (index == \"message\" || index == \"name\"))'); }\n\n     if (obj.useHas && obj.keys) {\n    __p += '\\n  var ownIndex = -1,\\n      ownProps = objectTypes[typeof iterable] && keys(iterable),\\n      length = ownProps ? ownProps.length : 0;\\n\\n  while (++ownIndex < length) {\\n    index = ownProps[ownIndex];\\n';\n        if (conditions.length) {\n    __p += '    if (' +\n    (conditions.join(' && ')) +\n    ') {\\n  ';\n     }\n    __p +=\n    (obj.loop) +\n    ';    ';\n     if (conditions.length) {\n    __p += '\\n    }';\n     }\n    __p += '\\n  }  ';\n     } else {\n    __p += '\\n  for (index in iterable) {\\n';\n        if (obj.useHas) { conditions.push(\"hasOwnProperty.call(iterable, index)\"); }    if (conditions.length) {\n    __p += '    if (' +\n    (conditions.join(' && ')) +\n    ') {\\n  ';\n     }\n    __p +=\n    (obj.loop) +\n    ';    ';\n     if (conditions.length) {\n    __p += '\\n    }';\n     }\n    __p += '\\n  }    ';\n     if (support.nonEnumShadows) {\n    __p += '\\n\\n  if (iterable !== objectProto) {\\n    var ctor = iterable.constructor,\\n        isProto = iterable === (ctor && ctor.prototype),\\n        className = iterable === stringProto ? stringClass : iterable === errorProto ? errorClass : toString.call(iterable),\\n        nonEnum = nonEnumProps[className];\\n      ';\n     for (k = 0; k < 7; k++) {\n    __p += '\\n    index = \\'' +\n    (obj.shadowedProps[k]) +\n    '\\';\\n    if ((!(isProto && nonEnum[index]) && hasOwnProperty.call(iterable, index))';\n            if (!obj.useHas) {\n    __p += ' || (!nonEnum[index] && iterable[index] !== objectProto[index])';\n     }\n    __p += ') {\\n      ' +\n    (obj.loop) +\n    ';\\n    }      ';\n     }\n    __p += '\\n  }    ';\n     }\n\n     }\n\n     if (obj.array || support.nonEnumArgs) {\n    __p += '\\n}';\n     }\n    __p +=\n    (obj.bottom) +\n    ';\\nreturn result';\n\n    return __p\n  };\n\n  /*--------------------------------------------------------------------------*/\n\n  /**\n   * The base implementation of `_.bind` that creates the bound function and\n   * sets its meta data.\n   *\n   * @private\n   * @param {Array} bindData The bind data array.\n   * @returns {Function} Returns the new bound function.\n   */\n  function baseBind(bindData) {\n    var func = bindData[0],\n        partialArgs = bindData[2],\n        thisArg = bindData[4];\n\n    function bound() {\n      // `Function#bind` spec\n      // http://es5.github.io/#x15.3.4.5\n      if (partialArgs) {\n        // avoid `arguments` object deoptimizations by using `slice` instead\n        // of `Array.prototype.slice.call` and not assigning `arguments` to a\n        // variable as a ternary expression\n        var args = slice(partialArgs);\n        push.apply(args, arguments);\n      }\n      // mimic the constructor's `return` behavior\n      // http://es5.github.io/#x13.2.2\n      if (this instanceof bound) {\n        // ensure `new bound` is an instance of `func`\n        var thisBinding = baseCreate(func.prototype),\n            result = func.apply(thisBinding, args || arguments);\n        return isObject(result) ? result : thisBinding;\n      }\n      return func.apply(thisArg, args || arguments);\n    }\n    setBindData(bound, bindData);\n    return bound;\n  }\n\n  /**\n   * The base implementation of `_.clone` without argument juggling or support\n   * for `thisArg` binding.\n   *\n   * @private\n   * @param {*} value The value to clone.\n   * @param {boolean} [isDeep=false] Specify a deep clone.\n   * @param {Function} [callback] The function to customize cloning values.\n   * @param {Array} [stackA=[]] Tracks traversed source objects.\n   * @param {Array} [stackB=[]] Associates clones with source counterparts.\n   * @returns {*} Returns the cloned value.\n   */\n  function baseClone(value, isDeep, callback, stackA, stackB) {\n    if (callback) {\n      var result = callback(value);\n      if (typeof result != 'undefined') {\n        return result;\n      }\n    }\n    // inspect [[Class]]\n    var isObj = isObject(value);\n    if (isObj) {\n      var className = toString.call(value);\n      if (!cloneableClasses[className] || (!support.nodeClass && isNode(value))) {\n        return value;\n      }\n      var ctor = ctorByClass[className];\n      switch (className) {\n        case boolClass:\n        case dateClass:\n          return new ctor(+value);\n\n        case numberClass:\n        case stringClass:\n          return new ctor(value);\n\n        case regexpClass:\n          result = ctor(value.source, reFlags.exec(value));\n          result.lastIndex = value.lastIndex;\n          return result;\n      }\n    } else {\n      return value;\n    }\n    var isArr = isArray(value);\n    if (isDeep) {\n      // check for circular references and return corresponding clone\n      var initedStack = !stackA;\n      stackA || (stackA = getArray());\n      stackB || (stackB = getArray());\n\n      var length = stackA.length;\n      while (length--) {\n        if (stackA[length] == value) {\n          return stackB[length];\n        }\n      }\n      result = isArr ? ctor(value.length) : {};\n    }\n    else {\n      result = isArr ? slice(value) : assign({}, value);\n    }\n    // add array properties assigned by `RegExp#exec`\n    if (isArr) {\n      if (hasOwnProperty.call(value, 'index')) {\n        result.index = value.index;\n      }\n      if (hasOwnProperty.call(value, 'input')) {\n        result.input = value.input;\n      }\n    }\n    // exit for shallow clone\n    if (!isDeep) {\n      return result;\n    }\n    // add the source value to the stack of traversed objects\n    // and associate it with its clone\n    stackA.push(value);\n    stackB.push(result);\n\n    // recursively populate clone (susceptible to call stack limits)\n    (isArr ? baseEach : forOwn)(value, function(objValue, key) {\n      result[key] = baseClone(objValue, isDeep, callback, stackA, stackB);\n    });\n\n    if (initedStack) {\n      releaseArray(stackA);\n      releaseArray(stackB);\n    }\n    return result;\n  }\n\n  /**\n   * The base implementation of `_.create` without support for assigning\n   * properties to the created object.\n   *\n   * @private\n   * @param {Object} prototype The object to inherit from.\n   * @returns {Object} Returns the new object.\n   */\n  function baseCreate(prototype, properties) {\n    return isObject(prototype) ? nativeCreate(prototype) : {};\n  }\n  // fallback for browsers without `Object.create`\n  if (!nativeCreate) {\n    baseCreate = (function() {\n      function Object() {}\n      return function(prototype) {\n        if (isObject(prototype)) {\n          Object.prototype = prototype;\n          var result = new Object;\n          Object.prototype = null;\n        }\n        return result || root.Object();\n      };\n    }());\n  }\n\n  /**\n   * The base implementation of `_.createCallback` without support for creating\n   * \"_.pluck\" or \"_.where\" style callbacks.\n   *\n   * @private\n   * @param {*} [func=identity] The value to convert to a callback.\n   * @param {*} [thisArg] The `this` binding of the created callback.\n   * @param {number} [argCount] The number of arguments the callback accepts.\n   * @returns {Function} Returns a callback function.\n   */\n  function baseCreateCallback(func, thisArg, argCount) {\n    if (typeof func != 'function') {\n      return identity;\n    }\n    // exit early for no `thisArg` or already bound by `Function#bind`\n    if (typeof thisArg == 'undefined' || !('prototype' in func)) {\n      return func;\n    }\n    var bindData = func.__bindData__;\n    if (typeof bindData == 'undefined') {\n      if (support.funcNames) {\n        bindData = !func.name;\n      }\n      bindData = bindData || !support.funcDecomp;\n      if (!bindData) {\n        var source = fnToString.call(func);\n        if (!support.funcNames) {\n          bindData = !reFuncName.test(source);\n        }\n        if (!bindData) {\n          // checks if `func` references the `this` keyword and stores the result\n          bindData = reThis.test(source);\n          setBindData(func, bindData);\n        }\n      }\n    }\n    // exit early if there are no `this` references or `func` is bound\n    if (bindData === false || (bindData !== true && bindData[1] & 1)) {\n      return func;\n    }\n    switch (argCount) {\n      case 1: return function(value) {\n        return func.call(thisArg, value);\n      };\n      case 2: return function(a, b) {\n        return func.call(thisArg, a, b);\n      };\n      case 3: return function(value, index, collection) {\n        return func.call(thisArg, value, index, collection);\n      };\n      case 4: return function(accumulator, value, index, collection) {\n        return func.call(thisArg, accumulator, value, index, collection);\n      };\n    }\n    return bind(func, thisArg);\n  }\n\n  /**\n   * The base implementation of `createWrapper` that creates the wrapper and\n   * sets its meta data.\n   *\n   * @private\n   * @param {Array} bindData The bind data array.\n   * @returns {Function} Returns the new function.\n   */\n  function baseCreateWrapper(bindData) {\n    var func = bindData[0],\n        bitmask = bindData[1],\n        partialArgs = bindData[2],\n        partialRightArgs = bindData[3],\n        thisArg = bindData[4],\n        arity = bindData[5];\n\n    var isBind = bitmask & 1,\n        isBindKey = bitmask & 2,\n        isCurry = bitmask & 4,\n        isCurryBound = bitmask & 8,\n        key = func;\n\n    function bound() {\n      var thisBinding = isBind ? thisArg : this;\n      if (partialArgs) {\n        var args = slice(partialArgs);\n        push.apply(args, arguments);\n      }\n      if (partialRightArgs || isCurry) {\n        args || (args = slice(arguments));\n        if (partialRightArgs) {\n          push.apply(args, partialRightArgs);\n        }\n        if (isCurry && args.length < arity) {\n          bitmask |= 16 & ~32;\n          return baseCreateWrapper([func, (isCurryBound ? bitmask : bitmask & ~3), args, null, thisArg, arity]);\n        }\n      }\n      args || (args = arguments);\n      if (isBindKey) {\n        func = thisBinding[key];\n      }\n      if (this instanceof bound) {\n        thisBinding = baseCreate(func.prototype);\n        var result = func.apply(thisBinding, args);\n        return isObject(result) ? result : thisBinding;\n      }\n      return func.apply(thisBinding, args);\n    }\n    setBindData(bound, bindData);\n    return bound;\n  }\n\n  /**\n   * The base implementation of `_.merge` without argument juggling or support\n   * for `thisArg` binding.\n   *\n   * @private\n   * @param {Object} object The destination object.\n   * @param {Object} source The source object.\n   * @param {Function} [callback] The function to customize merging properties.\n   * @param {Array} [stackA=[]] Tracks traversed source objects.\n   * @param {Array} [stackB=[]] Associates values with source counterparts.\n   */\n  function baseMerge(object, source, callback, stackA, stackB) {\n    (isArray(source) ? forEach : forOwn)(source, function(source, key) {\n      var found,\n          isArr,\n          result = source,\n          value = object[key];\n\n      if (source && ((isArr = isArray(source)) || isPlainObject(source))) {\n        // avoid merging previously merged cyclic sources\n        var stackLength = stackA.length;\n        while (stackLength--) {\n          if ((found = stackA[stackLength] == source)) {\n            value = stackB[stackLength];\n            break;\n          }\n        }\n        if (!found) {\n          var isShallow;\n          if (callback) {\n            result = callback(value, source);\n            if ((isShallow = typeof result != 'undefined')) {\n              value = result;\n            }\n          }\n          if (!isShallow) {\n            value = isArr\n              ? (isArray(value) ? value : [])\n              : (isPlainObject(value) ? value : {});\n          }\n          // add `source` and associated `value` to the stack of traversed objects\n          stackA.push(source);\n          stackB.push(value);\n\n          // recursively merge objects and arrays (susceptible to call stack limits)\n          if (!isShallow) {\n            baseMerge(value, source, callback, stackA, stackB);\n          }\n        }\n      }\n      else {\n        if (callback) {\n          result = callback(value, source);\n          if (typeof result == 'undefined') {\n            result = source;\n          }\n        }\n        if (typeof result != 'undefined') {\n          value = result;\n        }\n      }\n      object[key] = value;\n    });\n  }\n\n  /**\n   * Creates a function that, when called, either curries or invokes `func`\n   * with an optional `this` binding and partially applied arguments.\n   *\n   * @private\n   * @param {Function|string} func The function or method name to reference.\n   * @param {number} bitmask The bitmask of method flags to compose.\n   *  The bitmask may be composed of the following flags:\n   *  1 - `_.bind`\n   *  2 - `_.bindKey`\n   *  4 - `_.curry`\n   *  8 - `_.curry` (bound)\n   *  16 - `_.partial`\n   *  32 - `_.partialRight`\n   * @param {Array} [partialArgs] An array of arguments to prepend to those\n   *  provided to the new function.\n   * @param {Array} [partialRightArgs] An array of arguments to append to those\n   *  provided to the new function.\n   * @param {*} [thisArg] The `this` binding of `func`.\n   * @param {number} [arity] The arity of `func`.\n   * @returns {Function} Returns the new function.\n   */\n  function createWrapper(func, bitmask, partialArgs, partialRightArgs, thisArg, arity) {\n    var isBind = bitmask & 1,\n        isBindKey = bitmask & 2,\n        isCurry = bitmask & 4,\n        isCurryBound = bitmask & 8,\n        isPartial = bitmask & 16,\n        isPartialRight = bitmask & 32;\n\n    if (!isBindKey && !isFunction(func)) {\n      throw new TypeError;\n    }\n    if (isPartial && !partialArgs.length) {\n      bitmask &= ~16;\n      isPartial = partialArgs = false;\n    }\n    if (isPartialRight && !partialRightArgs.length) {\n      bitmask &= ~32;\n      isPartialRight = partialRightArgs = false;\n    }\n    var bindData = func && func.__bindData__;\n    if (bindData && bindData !== true) {\n      // clone `bindData`\n      bindData = slice(bindData);\n      if (bindData[2]) {\n        bindData[2] = slice(bindData[2]);\n      }\n      if (bindData[3]) {\n        bindData[3] = slice(bindData[3]);\n      }\n      // set `thisBinding` is not previously bound\n      if (isBind && !(bindData[1] & 1)) {\n        bindData[4] = thisArg;\n      }\n      // set if previously bound but not currently (subsequent curried functions)\n      if (!isBind && bindData[1] & 1) {\n        bitmask |= 8;\n      }\n      // set curried arity if not yet set\n      if (isCurry && !(bindData[1] & 4)) {\n        bindData[5] = arity;\n      }\n      // append partial left arguments\n      if (isPartial) {\n        push.apply(bindData[2] || (bindData[2] = []), partialArgs);\n      }\n      // append partial right arguments\n      if (isPartialRight) {\n        unshift.apply(bindData[3] || (bindData[3] = []), partialRightArgs);\n      }\n      // merge flags\n      bindData[1] |= bitmask;\n      return createWrapper.apply(null, bindData);\n    }\n    // fast path for `_.bind`\n    var creater = (bitmask == 1 || bitmask === 17) ? baseBind : baseCreateWrapper;\n    return creater([func, bitmask, partialArgs, partialRightArgs, thisArg, arity]);\n  }\n\n  /**\n   * Creates compiled iteration functions.\n   *\n   * @private\n   * @param {...Object} [options] The compile options object(s).\n   * @param {string} [options.array] Code to determine if the iterable is an array or array-like.\n   * @param {boolean} [options.useHas] Specify using `hasOwnProperty` checks in the object loop.\n   * @param {Function} [options.keys] A reference to `_.keys` for use in own property iteration.\n   * @param {string} [options.args] A comma separated string of iteration function arguments.\n   * @param {string} [options.top] Code to execute before the iteration branches.\n   * @param {string} [options.loop] Code to execute in the object loop.\n   * @param {string} [options.bottom] Code to execute after the iteration branches.\n   * @returns {Function} Returns the compiled function.\n   */\n  function createIterator() {\n    // data properties\n    iteratorData.shadowedProps = shadowedProps;\n\n    // iterator options\n    iteratorData.array = iteratorData.bottom = iteratorData.loop = iteratorData.top = '';\n    iteratorData.init = 'iterable';\n    iteratorData.useHas = true;\n\n    // merge options into a template data object\n    for (var object, index = 0; object = arguments[index]; index++) {\n      for (var key in object) {\n        iteratorData[key] = object[key];\n      }\n    }\n    var args = iteratorData.args;\n    iteratorData.firstArg = /^[^,]+/.exec(args)[0];\n\n    // create the function factory\n    var factory = Function(\n        'baseCreateCallback, errorClass, errorProto, hasOwnProperty, ' +\n        'indicatorObject, isArguments, isArray, isString, keys, objectProto, ' +\n        'objectTypes, nonEnumProps, stringClass, stringProto, toString',\n      'return function(' + args + ') {\\n' + iteratorTemplate(iteratorData) + '\\n}'\n    );\n\n    // return the compiled function\n    return factory(\n      baseCreateCallback, errorClass, errorProto, hasOwnProperty,\n      indicatorObject, isArguments, isArray, isString, iteratorData.keys, objectProto,\n      objectTypes, nonEnumProps, stringClass, stringProto, toString\n    );\n  }\n\n  /**\n   * Checks if `value` is a native function.\n   *\n   * @private\n   * @param {*} value The value to check.\n   * @returns {boolean} Returns `true` if the `value` is a native function, else `false`.\n   */\n  function isNative(value) {\n    return typeof value == 'function' && reNative.test(value);\n  }\n\n  /**\n   * Sets `this` binding data on a given function.\n   *\n   * @private\n   * @param {Function} func The function to set data on.\n   * @param {Array} value The data array to set.\n   */\n  var setBindData = !defineProperty ? noop : function(func, value) {\n    descriptor.value = value;\n    defineProperty(func, '__bindData__', descriptor);\n  };\n\n  /**\n   * A fallback implementation of `isPlainObject` which checks if a given value\n   * is an object created by the `Object` constructor, assuming objects created\n   * by the `Object` constructor have no inherited enumerable properties and that\n   * there are no `Object.prototype` extensions.\n   *\n   * @private\n   * @param {*} value The value to check.\n   * @returns {boolean} Returns `true` if `value` is a plain object, else `false`.\n   */\n  function shimIsPlainObject(value) {\n    var ctor,\n        result;\n\n    // avoid non Object objects, `arguments` objects, and DOM elements\n    if (!(value && toString.call(value) == objectClass) ||\n        (ctor = value.constructor, isFunction(ctor) && !(ctor instanceof ctor)) ||\n        (!support.argsClass && isArguments(value)) ||\n        (!support.nodeClass && isNode(value))) {\n      return false;\n    }\n    // IE < 9 iterates inherited properties before own properties. If the first\n    // iterated property is an object's own property then there are no inherited\n    // enumerable properties.\n    if (support.ownLast) {\n      forIn(value, function(value, key, object) {\n        result = hasOwnProperty.call(object, key);\n        return false;\n      });\n      return result !== false;\n    }\n    // In most environments an object's own properties are iterated before\n    // its inherited properties. If the last iterated property is an object's\n    // own property then there are no inherited enumerable properties.\n    forIn(value, function(value, key) {\n      result = key;\n    });\n    return typeof result == 'undefined' || hasOwnProperty.call(value, result);\n  }\n\n  /*--------------------------------------------------------------------------*/\n\n  /**\n   * Checks if `value` is an `arguments` object.\n   *\n   * @static\n   * @memberOf _\n   * @category Objects\n   * @param {*} value The value to check.\n   * @returns {boolean} Returns `true` if the `value` is an `arguments` object, else `false`.\n   * @example\n   *\n   * (function() { return _.isArguments(arguments); })(1, 2, 3);\n   * // => true\n   *\n   * _.isArguments([1, 2, 3]);\n   * // => false\n   */\n  function isArguments(value) {\n    return value && typeof value == 'object' && typeof value.length == 'number' &&\n      toString.call(value) == argsClass || false;\n  }\n  // fallback for browsers that can't detect `arguments` objects by [[Class]]\n  if (!support.argsClass) {\n    isArguments = function(value) {\n      return value && typeof value == 'object' && typeof value.length == 'number' &&\n        hasOwnProperty.call(value, 'callee') && !propertyIsEnumerable.call(value, 'callee') || false;\n    };\n  }\n\n  /**\n   * Checks if `value` is an array.\n   *\n   * @static\n   * @memberOf _\n   * @type Function\n   * @category Objects\n   * @param {*} value The value to check.\n   * @returns {boolean} Returns `true` if the `value` is an array, else `false`.\n   * @example\n   *\n   * (function() { return _.isArray(arguments); })();\n   * // => false\n   *\n   * _.isArray([1, 2, 3]);\n   * // => true\n   */\n  var isArray = nativeIsArray || function(value) {\n    return value && typeof value == 'object' && typeof value.length == 'number' &&\n      toString.call(value) == arrayClass || false;\n  };\n\n  /**\n   * A fallback implementation of `Object.keys` which produces an array of the\n   * given object's own enumerable property names.\n   *\n   * @private\n   * @type Function\n   * @param {Object} object The object to inspect.\n   * @returns {Array} Returns an array of property names.\n   */\n  var shimKeys = createIterator({\n    'args': 'object',\n    'init': '[]',\n    'top': 'if (!(objectTypes[typeof object])) return result',\n    'loop': 'result.push(index)'\n  });\n\n  /**\n   * Creates an array composed of the own enumerable property names of an object.\n   *\n   * @static\n   * @memberOf _\n   * @category Objects\n   * @param {Object} object The object to inspect.\n   * @returns {Array} Returns an array of property names.\n   * @example\n   *\n   * _.keys({ 'one': 1, 'two': 2, 'three': 3 });\n   * // => ['one', 'two', 'three'] (property order is not guaranteed across environments)\n   */\n  var keys = !nativeKeys ? shimKeys : function(object) {\n    if (!isObject(object)) {\n      return [];\n    }\n    if ((support.enumPrototypes && typeof object == 'function') ||\n        (support.nonEnumArgs && object.length && isArguments(object))) {\n      return shimKeys(object);\n    }\n    return nativeKeys(object);\n  };\n\n  /** Reusable iterator options shared by `each`, `forIn`, and `forOwn` */\n  var eachIteratorOptions = {\n    'args': 'collection, callback, thisArg',\n    'top': \"callback = callback && typeof thisArg == 'undefined' ? callback : baseCreateCallback(callback, thisArg, 3)\",\n    'array': \"typeof length == 'number'\",\n    'keys': keys,\n    'loop': 'if (callback(iterable[index], index, collection) === false) return result'\n  };\n\n  /** Reusable iterator options for `assign` and `defaults` */\n  var defaultsIteratorOptions = {\n    'args': 'object, source, guard',\n    'top':\n      'var args = arguments,\\n' +\n      '    argsIndex = 0,\\n' +\n      \"    argsLength = typeof guard == 'number' ? 2 : args.length;\\n\" +\n      'while (++argsIndex < argsLength) {\\n' +\n      '  iterable = args[argsIndex];\\n' +\n      '  if (iterable && objectTypes[typeof iterable]) {',\n    'keys': keys,\n    'loop': \"if (typeof result[index] == 'undefined') result[index] = iterable[index]\",\n    'bottom': '  }\\n}'\n  };\n\n  /** Reusable iterator options for `forIn` and `forOwn` */\n  var forOwnIteratorOptions = {\n    'top': 'if (!objectTypes[typeof iterable]) return result;\\n' + eachIteratorOptions.top,\n    'array': false\n  };\n\n  /**\n   * A function compiled to iterate `arguments` objects, arrays, objects, and\n   * strings consistenly across environments, executing the callback for each\n   * element in the collection. The callback is bound to `thisArg` and invoked\n   * with three arguments; (value, index|key, collection). Callbacks may exit\n   * iteration early by explicitly returning `false`.\n   *\n   * @private\n   * @type Function\n   * @param {Array|Object|string} collection The collection to iterate over.\n   * @param {Function} [callback=identity] The function called per iteration.\n   * @param {*} [thisArg] The `this` binding of `callback`.\n   * @returns {Array|Object|string} Returns `collection`.\n   */\n  var baseEach = createIterator(eachIteratorOptions);\n\n  /*--------------------------------------------------------------------------*/\n\n  /**\n   * Assigns own enumerable properties of source object(s) to the destination\n   * object. Subsequent sources will overwrite property assignments of previous\n   * sources. If a callback is provided it will be executed to produce the\n   * assigned values. The callback is bound to `thisArg` and invoked with two\n   * arguments; (objectValue, sourceValue).\n   *\n   * @static\n   * @memberOf _\n   * @type Function\n   * @alias extend\n   * @category Objects\n   * @param {Object} object The destination object.\n   * @param {...Object} [source] The source objects.\n   * @param {Function} [callback] The function to customize assigning values.\n   * @param {*} [thisArg] The `this` binding of `callback`.\n   * @returns {Object} Returns the destination object.\n   * @example\n   *\n   * _.assign({ 'name': 'fred' }, { 'employer': 'slate' });\n   * // => { 'name': 'fred', 'employer': 'slate' }\n   *\n   * var defaults = _.partialRight(_.assign, function(a, b) {\n   *   return typeof a == 'undefined' ? b : a;\n   * });\n   *\n   * var object = { 'name': 'barney' };\n   * defaults(object, { 'name': 'fred', 'employer': 'slate' });\n   * // => { 'name': 'barney', 'employer': 'slate' }\n   */\n  var assign = createIterator(defaultsIteratorOptions, {\n    'top':\n      defaultsIteratorOptions.top.replace(';',\n        ';\\n' +\n        \"if (argsLength > 3 && typeof args[argsLength - 2] == 'function') {\\n\" +\n        '  var callback = baseCreateCallback(args[--argsLength - 1], args[argsLength--], 2);\\n' +\n        \"} else if (argsLength > 2 && typeof args[argsLength - 1] == 'function') {\\n\" +\n        '  callback = args[--argsLength];\\n' +\n        '}'\n      ),\n    'loop': 'result[index] = callback ? callback(result[index], iterable[index]) : iterable[index]'\n  });\n\n  /**\n   * Creates a clone of `value`. If `isDeep` is `true` nested objects will also\n   * be cloned, otherwise they will be assigned by reference. If a callback\n   * is provided it will be executed to produce the cloned values. If the\n   * callback returns `undefined` cloning will be handled by the method instead.\n   * The callback is bound to `thisArg` and invoked with one argument; (value).\n   *\n   * @static\n   * @memberOf _\n   * @category Objects\n   * @param {*} value The value to clone.\n   * @param {boolean} [isDeep=false] Specify a deep clone.\n   * @param {Function} [callback] The function to customize cloning values.\n   * @param {*} [thisArg] The `this` binding of `callback`.\n   * @returns {*} Returns the cloned value.\n   * @example\n   *\n   * var characters = [\n   *   { 'name': 'barney', 'age': 36 },\n   *   { 'name': 'fred',   'age': 40 }\n   * ];\n   *\n   * var shallow = _.clone(characters);\n   * shallow[0] === characters[0];\n   * // => true\n   *\n   * var deep = _.clone(characters, true);\n   * deep[0] === characters[0];\n   * // => false\n   *\n   * _.mixin({\n   *   'clone': _.partialRight(_.clone, function(value) {\n   *     return _.isElement(value) ? value.cloneNode(false) : undefined;\n   *   })\n   * });\n   *\n   * var clone = _.clone(document.body);\n   * clone.childNodes.length;\n   * // => 0\n   */\n  function clone(value, isDeep, callback, thisArg) {\n    // allows working with \"Collections\" methods without using their `index`\n    // and `collection` arguments for `isDeep` and `callback`\n    if (typeof isDeep != 'boolean' && isDeep != null) {\n      thisArg = callback;\n      callback = isDeep;\n      isDeep = false;\n    }\n    return baseClone(value, isDeep, typeof callback == 'function' && baseCreateCallback(callback, thisArg, 1));\n  }\n\n  /**\n   * Iterates over own and inherited enumerable properties of an object,\n   * executing the callback for each property. The callback is bound to `thisArg`\n   * and invoked with three arguments; (value, key, object). Callbacks may exit\n   * iteration early by explicitly returning `false`.\n   *\n   * @static\n   * @memberOf _\n   * @type Function\n   * @category Objects\n   * @param {Object} object The object to iterate over.\n   * @param {Function} [callback=identity] The function called per iteration.\n   * @param {*} [thisArg] The `this` binding of `callback`.\n   * @returns {Object} Returns `object`.\n   * @example\n   *\n   * function Shape() {\n   *   this.x = 0;\n   *   this.y = 0;\n   * }\n   *\n   * Shape.prototype.move = function(x, y) {\n   *   this.x += x;\n   *   this.y += y;\n   * };\n   *\n   * _.forIn(new Shape, function(value, key) {\n   *   console.log(key);\n   * });\n   * // => logs 'x', 'y', and 'move' (property order is not guaranteed across environments)\n   */\n  var forIn = createIterator(eachIteratorOptions, forOwnIteratorOptions, {\n    'useHas': false\n  });\n\n  /**\n   * Iterates over own enumerable properties of an object, executing the callback\n   * for each property. The callback is bound to `thisArg` and invoked with three\n   * arguments; (value, key, object). Callbacks may exit iteration early by\n   * explicitly returning `false`.\n   *\n   * @static\n   * @memberOf _\n   * @type Function\n   * @category Objects\n   * @param {Object} object The object to iterate over.\n   * @param {Function} [callback=identity] The function called per iteration.\n   * @param {*} [thisArg] The `this` binding of `callback`.\n   * @returns {Object} Returns `object`.\n   * @example\n   *\n   * _.forOwn({ '0': 'zero', '1': 'one', 'length': 2 }, function(num, key) {\n   *   console.log(key);\n   * });\n   * // => logs '0', '1', and 'length' (property order is not guaranteed across environments)\n   */\n  var forOwn = createIterator(eachIteratorOptions, forOwnIteratorOptions);\n\n  /**\n   * Checks if `value` is empty. Arrays, strings, or `arguments` objects with a\n   * length of `0` and objects with no own enumerable properties are considered\n   * \"empty\".\n   *\n   * @static\n   * @memberOf _\n   * @category Objects\n   * @param {Array|Object|string} value The value to inspect.\n   * @returns {boolean} Returns `true` if the `value` is empty, else `false`.\n   * @example\n   *\n   * _.isEmpty([1, 2, 3]);\n   * // => false\n   *\n   * _.isEmpty({});\n   * // => true\n   *\n   * _.isEmpty('');\n   * // => true\n   */\n  function isEmpty(value) {\n    var result = true;\n    if (!value) {\n      return result;\n    }\n    var className = toString.call(value),\n        length = value.length;\n\n    if ((className == arrayClass || className == stringClass ||\n        (support.argsClass ? className == argsClass : isArguments(value))) ||\n        (className == objectClass && typeof length == 'number' && isFunction(value.splice))) {\n      return !length;\n    }\n    forOwn(value, function() {\n      return (result = false);\n    });\n    return result;\n  }\n\n  /**\n   * Checks if `value` is a function.\n   *\n   * @static\n   * @memberOf _\n   * @category Objects\n   * @param {*} value The value to check.\n   * @returns {boolean} Returns `true` if the `value` is a function, else `false`.\n   * @example\n   *\n   * _.isFunction(_);\n   * // => true\n   */\n  function isFunction(value) {\n    return typeof value == 'function';\n  }\n  // fallback for older versions of Chrome and Safari\n  if (isFunction(/x/)) {\n    isFunction = function(value) {\n      return typeof value == 'function' && toString.call(value) == funcClass;\n    };\n  }\n\n  /**\n   * Checks if `value` is the language type of Object.\n   * (e.g. arrays, functions, objects, regexes, `new Number(0)`, and `new String('')`)\n   *\n   * @static\n   * @memberOf _\n   * @category Objects\n   * @param {*} value The value to check.\n   * @returns {boolean} Returns `true` if the `value` is an object, else `false`.\n   * @example\n   *\n   * _.isObject({});\n   * // => true\n   *\n   * _.isObject([1, 2, 3]);\n   * // => true\n   *\n   * _.isObject(1);\n   * // => false\n   */\n  function isObject(value) {\n    // check if the value is the ECMAScript language type of Object\n    // http://es5.github.io/#x8\n    // and avoid a V8 bug\n    // http://code.google.com/p/v8/issues/detail?id=2291\n    return !!(value && objectTypes[typeof value]);\n  }\n\n  /**\n   * Checks if `value` is an object created by the `Object` constructor.\n   *\n   * @static\n   * @memberOf _\n   * @category Objects\n   * @param {*} value The value to check.\n   * @returns {boolean} Returns `true` if `value` is a plain object, else `false`.\n   * @example\n   *\n   * function Shape() {\n   *   this.x = 0;\n   *   this.y = 0;\n   * }\n   *\n   * _.isPlainObject(new Shape);\n   * // => false\n   *\n   * _.isPlainObject([1, 2, 3]);\n   * // => false\n   *\n   * _.isPlainObject({ 'x': 0, 'y': 0 });\n   * // => true\n   */\n  var isPlainObject = !getPrototypeOf ? shimIsPlainObject : function(value) {\n    if (!(value && toString.call(value) == objectClass) || (!support.argsClass && isArguments(value))) {\n      return false;\n    }\n    var valueOf = value.valueOf,\n        objProto = isNative(valueOf) && (objProto = getPrototypeOf(valueOf)) && getPrototypeOf(objProto);\n\n    return objProto\n      ? (value == objProto || getPrototypeOf(value) == objProto)\n      : shimIsPlainObject(value);\n  };\n\n  /**\n   * Checks if `value` is a string.\n   *\n   * @static\n   * @memberOf _\n   * @category Objects\n   * @param {*} value The value to check.\n   * @returns {boolean} Returns `true` if the `value` is a string, else `false`.\n   * @example\n   *\n   * _.isString('fred');\n   * // => true\n   */\n  function isString(value) {\n    return typeof value == 'string' ||\n      value && typeof value == 'object' && toString.call(value) == stringClass || false;\n  }\n\n  /**\n   * Recursively merges own enumerable properties of the source object(s), that\n   * don't resolve to `undefined` into the destination object. Subsequent sources\n   * will overwrite property assignments of previous sources. If a callback is\n   * provided it will be executed to produce the merged values of the destination\n   * and source properties. If the callback returns `undefined` merging will\n   * be handled by the method instead. The callback is bound to `thisArg` and\n   * invoked with two arguments; (objectValue, sourceValue).\n   *\n   * @static\n   * @memberOf _\n   * @category Objects\n   * @param {Object} object The destination object.\n   * @param {...Object} [source] The source objects.\n   * @param {Function} [callback] The function to customize merging properties.\n   * @param {*} [thisArg] The `this` binding of `callback`.\n   * @returns {Object} Returns the destination object.\n   * @example\n   *\n   * var names = {\n   *   'characters': [\n   *     { 'name': 'barney' },\n   *     { 'name': 'fred' }\n   *   ]\n   * };\n   *\n   * var ages = {\n   *   'characters': [\n   *     { 'age': 36 },\n   *     { 'age': 40 }\n   *   ]\n   * };\n   *\n   * _.merge(names, ages);\n   * // => { 'characters': [{ 'name': 'barney', 'age': 36 }, { 'name': 'fred', 'age': 40 }] }\n   *\n   * var food = {\n   *   'fruits': ['apple'],\n   *   'vegetables': ['beet']\n   * };\n   *\n   * var otherFood = {\n   *   'fruits': ['banana'],\n   *   'vegetables': ['carrot']\n   * };\n   *\n   * _.merge(food, otherFood, function(a, b) {\n   *   return _.isArray(a) ? a.concat(b) : undefined;\n   * });\n   * // => { 'fruits': ['apple', 'banana'], 'vegetables': ['beet', 'carrot] }\n   */\n  function merge(object) {\n    var args = arguments,\n        length = 2;\n\n    if (!isObject(object)) {\n      return object;\n    }\n    // allows working with `_.reduce` and `_.reduceRight` without using\n    // their `index` and `collection` arguments\n    if (typeof args[2] != 'number') {\n      length = args.length;\n    }\n    if (length > 3 && typeof args[length - 2] == 'function') {\n      var callback = baseCreateCallback(args[--length - 1], args[length--], 2);\n    } else if (length > 2 && typeof args[length - 1] == 'function') {\n      callback = args[--length];\n    }\n    var sources = slice(arguments, 1, length),\n        index = -1,\n        stackA = getArray(),\n        stackB = getArray();\n\n    while (++index < length) {\n      baseMerge(object, sources[index], callback, stackA, stackB);\n    }\n    releaseArray(stackA);\n    releaseArray(stackB);\n    return object;\n  }\n\n  /*--------------------------------------------------------------------------*/\n\n  /**\n   * Iterates over elements of a collection, executing the callback for each\n   * element. The callback is bound to `thisArg` and invoked with three arguments;\n   * (value, index|key, collection). Callbacks may exit iteration early by\n   * explicitly returning `false`.\n   *\n   * Note: As with other \"Collections\" methods, objects with a `length` property\n   * are iterated like arrays. To avoid this behavior `_.forIn` or `_.forOwn`\n   * may be used for object iteration.\n   *\n   * @static\n   * @memberOf _\n   * @alias each\n   * @category Collections\n   * @param {Array|Object|string} collection The collection to iterate over.\n   * @param {Function} [callback=identity] The function called per iteration.\n   * @param {*} [thisArg] The `this` binding of `callback`.\n   * @returns {Array|Object|string} Returns `collection`.\n   * @example\n   *\n   * _([1, 2, 3]).forEach(function(num) { console.log(num); }).join(',');\n   * // => logs each number and returns '1,2,3'\n   *\n   * _.forEach({ 'one': 1, 'two': 2, 'three': 3 }, function(num) { console.log(num); });\n   * // => logs each number and returns the object (property order is not guaranteed across environments)\n   */\n  function forEach(collection, callback, thisArg) {\n    if (callback && typeof thisArg == 'undefined' && isArray(collection)) {\n      var index = -1,\n          length = collection.length;\n\n      while (++index < length) {\n        if (callback(collection[index], index, collection) === false) {\n          break;\n        }\n      }\n    } else {\n      baseEach(collection, callback, thisArg);\n    }\n    return collection;\n  }\n\n  /*--------------------------------------------------------------------------*/\n\n  /**\n   * Creates an array with all falsey values removed. The values `false`, `null`,\n   * `0`, `\"\"`, `undefined`, and `NaN` are all falsey.\n   *\n   * @static\n   * @memberOf _\n   * @category Arrays\n   * @param {Array} array The array to compact.\n   * @returns {Array} Returns a new array of filtered values.\n   * @example\n   *\n   * _.compact([0, 1, false, 2, '', 3]);\n   * // => [1, 2, 3]\n   */\n  function compact(array) {\n    var index = -1,\n        length = array ? array.length : 0,\n        result = [];\n\n    while (++index < length) {\n      var value = array[index];\n      if (value) {\n        result.push(value);\n      }\n    }\n    return result;\n  }\n\n  /*--------------------------------------------------------------------------*/\n\n  /**\n   * Creates a function that, when called, invokes `func` with the `this`\n   * binding of `thisArg` and prepends any additional `bind` arguments to those\n   * provided to the bound function.\n   *\n   * @static\n   * @memberOf _\n   * @category Functions\n   * @param {Function} func The function to bind.\n   * @param {*} [thisArg] The `this` binding of `func`.\n   * @param {...*} [arg] Arguments to be partially applied.\n   * @returns {Function} Returns the new bound function.\n   * @example\n   *\n   * var func = function(greeting) {\n   *   return greeting + ' ' + this.name;\n   * };\n   *\n   * func = _.bind(func, { 'name': 'fred' }, 'hi');\n   * func();\n   * // => 'hi fred'\n   */\n  function bind(func, thisArg) {\n    return arguments.length > 2\n      ? createWrapper(func, 17, slice(arguments, 2), null, thisArg)\n      : createWrapper(func, 1, null, null, thisArg);\n  }\n\n  /*--------------------------------------------------------------------------*/\n\n  /**\n   * This method returns the first argument provided to it.\n   *\n   * @static\n   * @memberOf _\n   * @category Utilities\n   * @param {*} value Any value.\n   * @returns {*} Returns `value`.\n   * @example\n   *\n   * var object = { 'name': 'fred' };\n   * _.identity(object) === object;\n   * // => true\n   */\n  function identity(value) {\n    return value;\n  }\n\n  /**\n   * A no-operation function.\n   *\n   * @static\n   * @memberOf _\n   * @category Utilities\n   * @example\n   *\n   * var object = { 'name': 'fred' };\n   * _.noop(object) === undefined;\n   * // => true\n   */\n  function noop() {\n    // no operation performed\n  }\n\n  /*--------------------------------------------------------------------------*/\n\n  lodash.assign = assign;\n  lodash.bind = bind;\n  lodash.compact = compact;\n  lodash.forEach = forEach;\n  lodash.forIn = forIn;\n  lodash.forOwn = forOwn;\n  lodash.keys = keys;\n  lodash.merge = merge;\n\n  lodash.each = forEach;\n  lodash.extend = assign;\n\n  /*--------------------------------------------------------------------------*/\n\n  // add functions that return unwrapped values when chaining\n  lodash.clone = clone;\n  lodash.identity = identity;\n  lodash.isArguments = isArguments;\n  lodash.isArray = isArray;\n  lodash.isEmpty = isEmpty;\n  lodash.isFunction = isFunction;\n  lodash.isObject = isObject;\n  lodash.isPlainObject = isPlainObject;\n  lodash.isString = isString;\n  lodash.noop = noop;\n\n  /*--------------------------------------------------------------------------*/\n\n  /**\n   * The semantic version number.\n   *\n   * @static\n   * @memberOf _\n   * @type string\n   */\n  lodash.VERSION = '2.4.1';\n\n  /*--------------------------------------------------------------------------*/\n\n  if (freeExports && freeModule) {\n    // in Node.js or RingoJS\n    if (moduleExports) {\n      (freeModule.exports = lodash)._ = lodash;\n    }\n\n  }\n\n}.call(this));\n","module.exports.RADIUS = 6378137;\nmodule.exports.FLATTENING = 1/298.257223563;\nmodule.exports.POLAR_RADIUS = 6356752.3142;\n","var wgs84 = require('wgs84');\n\nmodule.exports.geometry = geometry;\nmodule.exports.ring = ringArea;\n\nfunction geometry(_) {\n    if (_.type === 'Polygon') return polygonArea(_.coordinates);\n    else if (_.type === 'MultiPolygon') {\n        var area = 0;\n        for (var i = 0; i < _.coordinates.length; i++) {\n            area += polygonArea(_.coordinates[i]);\n        }\n        return area;\n    } else {\n        return null;\n    }\n}\n\nfunction polygonArea(coords) {\n    var area = 0;\n    if (coords && coords.length > 0) {\n        area += Math.abs(ringArea(coords[0]));\n        for (var i = 1; i < coords.length; i++) {\n            area -= Math.abs(ringArea(coords[i]));\n        }\n    }\n    return area;\n}\n\n/**\n * Calculate the approximate area of the polygon were it projected onto\n *     the earth.  Note that this area will be positive if ring is oriented\n *     clockwise, otherwise it will be negative.\n *\n * Reference:\n * Robert. G. Chamberlain and William H. Duquette, \"Some Algorithms for\n *     Polygons on a Sphere\", JPL Publication 07-03, Jet Propulsion\n *     Laboratory, Pasadena, CA, June 2007 http://trs-new.jpl.nasa.gov/dspace/handle/2014/40409\n *\n * Returns:\n * {float} The approximate signed geodesic area of the polygon in square\n *     meters.\n */\n\nfunction ringArea(coords) {\n    var area = 0;\n\n    if (coords.length > 2) {\n        var p1, p2;\n        for (var i = 0; i < coords.length - 1; i++) {\n            p1 = coords[i];\n            p2 = coords[i + 1];\n            area += rad(p2[0] - p1[0]) * (2 + Math.sin(rad(p1[1])) + Math.sin(rad(p2[1])));\n        }\n\n        area = area * wgs84.RADIUS * wgs84.RADIUS / 2;\n    }\n\n    return area;\n}\n\nfunction rad(_) {\n    return _ * Math.PI / 180;\n}\n","var geojsonArea = require('geojson-area');\n\nmodule.exports = rewind;\n\nfunction rewind(gj, outer) {\n    switch ((gj && gj.type) || null) {\n        case 'FeatureCollection':\n            gj.features = gj.features.map(curryOuter(rewind, outer));\n            return gj;\n        case 'Feature':\n            gj.geometry = rewind(gj.geometry, outer);\n            return gj;\n        case 'Polygon':\n        case 'MultiPolygon':\n            return correct(gj, outer);\n        default:\n            return gj;\n    }\n}\n\nfunction curryOuter(a, b) {\n    return function(_) { return a(_, b); };\n}\n\nfunction correct(_, outer) {\n    if (_.type === 'Polygon') {\n        _.coordinates = correctRings(_.coordinates, outer);\n    } else if (_.type === 'MultiPolygon') {\n        _.coordinates = _.coordinates.map(curryOuter(correctRings, outer));\n    }\n    return _;\n}\n\nfunction correctRings(_, outer) {\n    outer = !!outer;\n    _[0] = wind(_[0], !outer);\n    for (var i = 1; i < _.length; i++) {\n        _[i] = wind(_[i], outer);\n    }\n    return _;\n}\n\nfunction wind(_, dir) {\n    return cw(_) === dir ? _ : _.reverse();\n}\n\nfunction cw(_) {\n    return geojsonArea.ring(_) >= 0;\n}\n","var _ = require(\"./lodash.custom.js\");\nvar rewind = require(\"geojson-rewind\");\n\n// see https://wiki.openstreetmap.org/wiki/Overpass_turbo/Polygon_Features\nvar polygonFeatures = {};\nrequire(\"osm-polygon-features\").forEach(function(tags) {\n  if (tags.polygon === \"all\")\n    polygonFeatures[tags.key] = true;\n  else {\n    var list = (tags.polygon === \"whitelist\") ? \"included_values\" : \"excluded_values\",\n        tagValuesObj = {};\n    tags.values.forEach(function(value) { tagValuesObj[value] = true; });\n    polygonFeatures[tags.key] = {};\n    polygonFeatures[tags.key][list] = tagValuesObj;\n  }\n});\n\nvar osmtogeojson = {};\n\nosmtogeojson = function( data, options ) {\n\n  options = _.merge(\n    {\n      verbose: false,\n      flatProperties: false,\n      uninterestingTags: {\n        \"source\": true,\n        \"source_ref\": true,\n        \"source:ref\": true,\n        \"history\": true,\n        \"attribution\": true,\n        \"created_by\": true,\n        \"tiger:county\": true,\n        \"tiger:tlid\": true,\n        \"tiger:upload_uuid\": true\n      },\n      polygonFeatures: polygonFeatures,\n    },\n    options\n  );\n\n  var result;\n  if ( ((typeof XMLDocument !== \"undefined\") && data instanceof XMLDocument ||\n        (typeof XMLDocument === \"undefined\") && data.childNodes) )\n    result = _osmXML2geoJSON(data);\n  else\n    result = _overpassJSON2geoJSON(data);\n  return result;\n\n  function _overpassJSON2geoJSON(json) {\n    // sort elements\n    var nodes = new Array();\n    var ways  = new Array();\n    var rels  = new Array();\n    // helper functions\n    function centerGeometry(object) {\n      var pseudoNode = _.clone(object);\n      pseudoNode.lat = object.center.lat;\n      pseudoNode.lon = object.center.lon;\n      pseudoNode.__is_center_placeholder = true;\n      nodes.push(pseudoNode);\n    }\n    function boundsGeometry(object) {\n      var pseudoWay = _.clone(object);\n      pseudoWay.nodes = [];\n      function addPseudoNode(lat,lon,i) {\n        var pseudoNode = {\n          type:\"node\",\n          id:  \"_\"+pseudoWay.type+\"/\"+pseudoWay.id+\"bounds\"+i,\n          lat: lat,\n          lon: lon\n        }\n        pseudoWay.nodes.push(pseudoNode.id);\n        nodes.push(pseudoNode);\n      }\n      addPseudoNode(pseudoWay.bounds.minlat,pseudoWay.bounds.minlon,1);\n      addPseudoNode(pseudoWay.bounds.maxlat,pseudoWay.bounds.minlon,2);\n      addPseudoNode(pseudoWay.bounds.maxlat,pseudoWay.bounds.maxlon,3);\n      addPseudoNode(pseudoWay.bounds.minlat,pseudoWay.bounds.maxlon,4);\n      pseudoWay.nodes.push(pseudoWay.nodes[0]);\n      pseudoWay.__is_bounds_placeholder = true;\n      ways.push(pseudoWay);\n    }\n    function fullGeometryWay(way) {\n      function addFullGeometryNode(lat,lon,id) {\n        var geometryNode = {\n          type:\"node\",\n          id:  id,\n          lat: lat,\n          lon: lon,\n          __is_uninteresting: true\n        }\n        nodes.push(geometryNode);\n      }\n      if (!_.isArray(way.nodes)) {\n        way.nodes = way.geometry.map(function(nd) {\n          if (nd !== null) // have to skip ref-less nodes\n            return \"_anonymous@\"+nd.lat+\"/\"+nd.lon;\n          else\n            return \"_anonymous@unknown_location\";\n        });\n      }\n      way.geometry.forEach(function(nd, i) {\n        if (nd) {\n          addFullGeometryNode(\n            nd.lat,\n            nd.lon,\n            way.nodes[i]\n          );\n        }\n      });\n    }\n    function fullGeometryRelation(rel) {\n      function addFullGeometryNode(lat,lon,id) {\n        var geometryNode = {\n          type:\"node\",\n          id:  id,\n          lat: lat,\n          lon: lon\n        }\n        nodes.push(geometryNode);\n      }\n      function addFullGeometryWay(geometry,id) {\n        // shared multipolygon ways cannot be defined multiple times with the same id.\n        if (ways.some(function (way) { // todo: this is slow :(\n          return way.type == \"way\" && way.id == id;\n        })) return;\n        var geometryWay = {\n          type: \"way\",\n          id:   id,\n          nodes:[]\n        }\n        function addFullGeometryWayPseudoNode(lat,lon) {\n          // todo? do not save the same pseudo node multiple times\n          var geometryPseudoNode = {\n            type:\"node\",\n            id:  \"_anonymous@\"+lat+\"/\"+lon,\n            lat: lat,\n            lon: lon,\n            __is_uninteresting: true\n          }\n          geometryWay.nodes.push(geometryPseudoNode.id);\n          nodes.push(geometryPseudoNode);\n        }\n        geometry.forEach(function(nd) {\n          if (nd) {\n            addFullGeometryWayPseudoNode(\n              nd.lat,\n              nd.lon\n            );\n          } else {\n            geometryWay.nodes.push(undefined);\n          }\n        });\n        ways.push(geometryWay);\n      }\n      rel.members.forEach(function(member, i) {\n        if (member.type == \"node\") {\n          if (member.lat) {\n            addFullGeometryNode(\n              member.lat,\n              member.lon,\n              member.ref\n            );\n          }\n        } else if (member.type == \"way\") {\n          if (member.geometry) {\n            member.ref = \"_fullGeom\"+member.ref;\n            addFullGeometryWay(\n              member.geometry,\n              member.ref\n            );\n          }\n        }\n      });\n    }\n    // create copies of individual json objects to make sure the original data doesn't get altered\n    // todo: cloning is slow: see if this can be done differently!\n    for (var i=0;i<json.elements.length;i++) {\n      switch (json.elements[i].type) {\n      case \"node\":\n        var node = json.elements[i];\n        nodes.push(node);\n      break;\n      case \"way\":\n        var way = _.clone(json.elements[i]);\n        way.nodes = _.clone(way.nodes);\n        ways.push(way);\n        if (way.center)\n          centerGeometry(way);\n        if (way.geometry)\n          fullGeometryWay(way);\n        else if (way.bounds)\n          boundsGeometry(way);\n      break;\n      case \"relation\":\n        var rel = _.clone(json.elements[i]);\n        rel.members = _.clone(rel.members);\n        rels.push(rel);\n        var has_full_geometry = rel.members && rel.members.some(function (member) {\n          return member.type == \"node\" && member.lat ||\n                 member.type == \"way\"  && member.geometry && member.geometry.length > 0\n        });\n        if (rel.center)\n          centerGeometry(rel);\n        if (has_full_geometry)\n          fullGeometryRelation(rel);\n        else if (rel.bounds)\n          boundsGeometry(rel);\n      break;\n      default:\n      // type=area (from coord-query) is an example for this case.\n      }\n    }\n    return _convert2geoJSON(nodes,ways,rels);\n  }\n  function _osmXML2geoJSON(xml) {\n    // sort elements\n    var nodes = new Array();\n    var ways  = new Array();\n    var rels  = new Array();\n    // helper function\n    function copy_attribute( x, o, attr ) {\n      if (x.hasAttribute(attr))\n        o[attr] = x.getAttribute(attr);\n    }\n    function centerGeometry(object, centroid) {\n      var pseudoNode = _.clone(object);\n      copy_attribute(centroid, pseudoNode, 'lat');\n      copy_attribute(centroid, pseudoNode, 'lon');\n      pseudoNode.__is_center_placeholder = true;\n      nodes.push(pseudoNode);\n    }\n    function boundsGeometry(object, bounds) {\n      var pseudoWay = _.clone(object);\n      pseudoWay.nodes = [];\n      function addPseudoNode(lat,lon,i) {\n        var pseudoNode = {\n          type:\"node\",\n          id:  \"_\"+pseudoWay.type+\"/\"+pseudoWay.id+\"bounds\"+i,\n          lat: lat,\n          lon: lon\n        }\n        pseudoWay.nodes.push(pseudoNode.id);\n        nodes.push(pseudoNode);\n      }\n      addPseudoNode(bounds.getAttribute('minlat'),bounds.getAttribute('minlon'),1);\n      addPseudoNode(bounds.getAttribute('maxlat'),bounds.getAttribute('minlon'),2);\n      addPseudoNode(bounds.getAttribute('maxlat'),bounds.getAttribute('maxlon'),3);\n      addPseudoNode(bounds.getAttribute('minlat'),bounds.getAttribute('maxlon'),4);\n      pseudoWay.nodes.push(pseudoWay.nodes[0]);\n      pseudoWay.__is_bounds_placeholder = true;\n      ways.push(pseudoWay);\n    }\n    function fullGeometryWay(way, nds) {\n      function addFullGeometryNode(lat,lon,id) {\n        var geometryNode = {\n          type:\"node\",\n          id:  id,\n          lat: lat,\n          lon: lon,\n          __is_uninteresting: true\n        }\n        nodes.push(geometryNode);\n        return geometryNode.id;\n      }\n      if (!_.isArray(way.nodes)) {\n        way.nodes = [];\n        _.each( nds, function( nd, i ) {\n          way.nodes.push(\"_anonymous@\"+nd.getAttribute('lat')+\"/\"+nd.getAttribute('lon'));\n        });\n      }\n      _.each( nds, function( nd, i ) {\n        if (nd.getAttribute('lat')) {\n          addFullGeometryNode(\n            nd.getAttribute('lat'),\n            nd.getAttribute('lon'),\n            way.nodes[i]\n          );\n        }\n      });\n    }\n    function fullGeometryRelation(rel, members) {\n      function addFullGeometryNode(lat,lon,id) {\n        var geometryNode = {\n          type:\"node\",\n          id:  id,\n          lat: lat,\n          lon: lon\n        }\n        nodes.push(geometryNode);\n      }\n      function addFullGeometryWay(nds,id) {\n        // shared multipolygon ways cannot be defined multiple times with the same id.\n        if (ways.some(function (way) { // todo: this is slow :(\n          return way.type == \"way\" && way.id == id;\n        })) return;\n        var geometryWay = {\n          type: \"way\",\n          id:   id,\n          nodes:[]\n        }\n        function addFullGeometryWayPseudoNode(lat,lon) {\n          // todo? do not save the same pseudo node multiple times\n          var geometryPseudoNode = {\n            type:\"node\",\n            id:  \"_anonymous@\"+lat+\"/\"+lon,\n            lat: lat,\n            lon: lon,\n            __is_uninteresting: true\n          }\n          geometryWay.nodes.push(geometryPseudoNode.id);\n          nodes.push(geometryPseudoNode);\n        }\n        _.each(nds, function(nd) {\n          if (nd.getAttribute('lat')) {\n            addFullGeometryWayPseudoNode(\n              nd.getAttribute('lat'),\n              nd.getAttribute('lon')\n            );\n          } else {\n            geometryWay.nodes.push(undefined);\n          }\n        });\n        ways.push(geometryWay);\n      }\n      _.each( members, function( member, i ) {\n        if (rel.members[i].type == \"node\") {\n          if (member.getAttribute('lat')) {\n            addFullGeometryNode(\n              member.getAttribute('lat'),\n              member.getAttribute('lon'),\n              rel.members[i].ref\n            );\n          }\n        } else if (rel.members[i].type == \"way\") {\n          if (member.getElementsByTagName('nd').length > 0) {\n            rel.members[i].ref = \"_fullGeom\"+rel.members[i].ref;\n            addFullGeometryWay(\n              member.getElementsByTagName('nd'),\n              rel.members[i].ref\n            );\n          }\n        }\n      });\n    }\n    // nodes\n    _.each( xml.getElementsByTagName('node'), function( node, i ) {\n      var tags = {};\n      _.each( node.getElementsByTagName('tag'), function( tag ) {\n        tags[tag.getAttribute('k')] = tag.getAttribute('v');\n      });\n      var nodeObject = {\n        'type': 'node'\n      };\n      copy_attribute( node, nodeObject, 'id' );\n      copy_attribute( node, nodeObject, 'lat' );\n      copy_attribute( node, nodeObject, 'lon' );\n      copy_attribute( node, nodeObject, 'version' );\n      copy_attribute( node, nodeObject, 'timestamp' );\n      copy_attribute( node, nodeObject, 'changeset' );\n      copy_attribute( node, nodeObject, 'uid' );\n      copy_attribute( node, nodeObject, 'user' );\n      if (!_.isEmpty(tags))\n        nodeObject.tags = tags;\n      nodes.push(nodeObject);\n    });\n    // ways\n    var centroid,bounds;\n    _.each( xml.getElementsByTagName('way'), function( way, i ) {\n      var tags = {};\n      var wnodes = [];\n      _.each( way.getElementsByTagName('tag'), function( tag ) {\n        tags[tag.getAttribute('k')] = tag.getAttribute('v');\n      });\n      var has_full_geometry = false;\n      _.each( way.getElementsByTagName('nd'), function( nd, i ) {\n        var id;\n        if (id = nd.getAttribute('ref'))\n          wnodes[i] = id;\n        if (!has_full_geometry && nd.getAttribute('lat'))\n          has_full_geometry = true;\n      });\n      var wayObject = {\n        \"type\": \"way\"\n      };\n      copy_attribute( way, wayObject, 'id' );\n      copy_attribute( way, wayObject, 'version' );\n      copy_attribute( way, wayObject, 'timestamp' );\n      copy_attribute( way, wayObject, 'changeset' );\n      copy_attribute( way, wayObject, 'uid' );\n      copy_attribute( way, wayObject, 'user' );\n      if (wnodes.length > 0)\n        wayObject.nodes = wnodes;\n      if (!_.isEmpty(tags))\n        wayObject.tags = tags;\n      if (centroid = way.getElementsByTagName('center')[0])\n        centerGeometry(wayObject,centroid);\n      if (has_full_geometry)\n        fullGeometryWay(wayObject, way.getElementsByTagName('nd'));\n      else if (bounds = way.getElementsByTagName('bounds')[0])\n        boundsGeometry(wayObject,bounds);\n      ways.push(wayObject);\n    });\n    // relations\n    _.each( xml.getElementsByTagName('relation'), function( relation, i ) {\n      var tags = {};\n      var members = [];\n      _.each( relation.getElementsByTagName('tag'), function( tag ) {\n        tags[tag.getAttribute('k')] = tag.getAttribute('v');\n      });\n      var has_full_geometry = false;\n      _.each( relation.getElementsByTagName('member'), function( member, i ) {\n        members[i] = {};\n        copy_attribute( member, members[i], 'ref' );\n        copy_attribute( member, members[i], 'role' );\n        copy_attribute( member, members[i], 'type' );\n        if (!has_full_geometry &&\n             (members[i].type == 'node' && member.getAttribute('lat')) ||\n             (members[i].type == 'way'  && member.getElementsByTagName('nd').length>0) )\n          has_full_geometry = true;\n      });\n      var relObject = {\n        \"type\": \"relation\"\n      }\n      copy_attribute( relation, relObject, 'id' );\n      copy_attribute( relation, relObject, 'version' );\n      copy_attribute( relation, relObject, 'timestamp' );\n      copy_attribute( relation, relObject, 'changeset' );\n      copy_attribute( relation, relObject, 'uid' );\n      copy_attribute( relation, relObject, 'user' );\n      if (members.length > 0)\n        relObject.members = members;\n      if (!_.isEmpty(tags))\n        relObject.tags = tags;\n      if (centroid = relation.getElementsByTagName('center')[0])\n        centerGeometry(relObject,centroid);\n      if (has_full_geometry)\n        fullGeometryRelation(relObject, relation.getElementsByTagName('member'));\n      else if (bounds = relation.getElementsByTagName('bounds')[0])\n        boundsGeometry(relObject,bounds);\n      rels.push(relObject);\n    });\n    return _convert2geoJSON(nodes,ways,rels);\n  }\n  function _convert2geoJSON(nodes,ways,rels) {\n\n    // helper function that checks if there are any tags other than \"created_by\", \"source\", etc. or any tag provided in ignore_tags\n    function has_interesting_tags(t, ignore_tags) {\n      if (typeof ignore_tags !== \"object\")\n        ignore_tags={};\n      if (typeof options.uninterestingTags === \"function\")\n        return !options.uninterestingTags(t, ignore_tags);\n      for (var k in t)\n        if (!(options.uninterestingTags[k]===true) &&\n            !(ignore_tags[k]===true || ignore_tags[k]===t[k]))\n          return true;\n      return false;\n    };\n    // helper function to extract meta information\n    function build_meta_information(object) {\n      var res = {\n        \"timestamp\": object.timestamp,\n        \"version\": object.version,\n        \"changeset\": object.changeset,\n        \"user\": object.user,\n        \"uid\": object.uid\n      };\n      for (var k in res)\n        if (res[k] === undefined)\n          delete res[k];\n      return res;\n    }\n\n    // some data processing (e.g. filter nodes only used for ways)\n    var nodeids = new Object();\n    for (var i=0;i<nodes.length;i++) {\n      if (nodes[i].lat === undefined) {\n        if (options.verbose) console.warn('Node',nodes[i].type+'/'+nodes[i].id,'ignored because it has no coordinates');\n        continue; // ignore nodes without coordinates (e.g. returned by an ids_only query)\n      }\n      nodeids[nodes[i].id] = nodes[i];\n    }\n    var poinids = new Object();\n    for (var i=0;i<nodes.length;i++) {\n      if (typeof nodes[i].tags != 'undefined' &&\n          has_interesting_tags(nodes[i].tags)) // this checks if the node has any tags other than \"created_by\"\n        poinids[nodes[i].id] = true;\n    }\n    for (var i=0;i<rels.length;i++) {\n      if (!_.isArray(rels[i].members)) {\n        if (options.verbose) console.warn('Relation',rels[i].type+'/'+rels[i].id,'ignored because it has no members');\n        continue; // ignore relations without members (e.g. returned by an ids_only query)\n      }\n      for (var j=0;j<rels[i].members.length;j++) {\n        if (rels[i].members[j].type == \"node\")\n          poinids[rels[i].members[j].ref] = true;\n      }\n    }\n    var wayids = new Object();\n    var waynids = new Object();\n    for (var i=0;i<ways.length;i++) {\n      if (!_.isArray(ways[i].nodes)) {\n        if (options.verbose) console.warn('Way',ways[i].type+'/'+ways[i].id,'ignored because it has no nodes');\n        continue; // ignore ways without nodes (e.g. returned by an ids_only query)\n      }\n      wayids[ways[i].id] = ways[i];\n      for (var j=0;j<ways[i].nodes.length;j++) {\n        waynids[ways[i].nodes[j]] = true;\n        ways[i].nodes[j] = nodeids[ways[i].nodes[j]];\n      }\n    }\n    var pois = new Array();\n    for (var i=0;i<nodes.length;i++) {\n      if (((!waynids[nodes[i].id]) ||\n          (poinids[nodes[i].id])) &&\n          !nodes[i].__is_uninteresting)\n        pois.push(nodes[i]);\n    }\n    var relids = new Array();\n    for (var i=0;i<rels.length;i++) {\n      if (!_.isArray(rels[i].members)) {\n        if (options.verbose) console.warn('Relation',rels[i].type+'/'+rels[i].id,'ignored because it has no members');\n        continue; // ignore relations without members (e.g. returned by an ids_only query)\n      }\n      relids[rels[i].id] = rels[i];\n    }\n    var relsmap = {node: {}, way: {}, relation: {}};\n    for (var i=0;i<rels.length;i++) {\n      if (!_.isArray(rels[i].members)) {\n        if (options.verbose) console.warn('Relation',rels[i].type+'/'+rels[i].id,'ignored because it has no members');\n        continue; // ignore relations without members (e.g. returned by an ids_only query)\n      }\n      for (var j=0;j<rels[i].members.length;j++) {\n        var m_type = rels[i].members[j].type;\n        var m_ref = rels[i].members[j].ref;\n        if (typeof m_ref !== \"number\") {\n          // de-namespace full geometry content\n          m_ref = m_ref.replace(\"_fullGeom\", \"\");\n        }\n        if (!relsmap[m_type]) {\n          if (options.verbose) console.warn('Relation',rels[i].type+'/'+rels[i].id,'member',m_type+'/'+m_ref,'ignored because it has an invalid type');\n          continue;\n        }\n        if (typeof relsmap[m_type][m_ref] === \"undefined\")\n          relsmap[m_type][m_ref] = [];\n        relsmap[m_type][m_ref].push({\n          \"role\" : rels[i].members[j].role,\n          \"rel\" : rels[i].id,\n          \"reltags\" : rels[i].tags,\n        });\n      }\n    }\n    // construct geojson\n    var geojson;\n    var geojsonnodes = {\n      \"type\"     : \"FeatureCollection\",\n      \"features\" : new Array()};\n    for (i=0;i<pois.length;i++) {\n      if (typeof pois[i].lon == \"undefined\" || typeof pois[i].lat == \"undefined\") {\n        if (options.verbose) console.warn('POI',pois[i].type+'/'+pois[i].id,'ignored because it lacks coordinates');\n        continue; // lon and lat are required for showing a point\n      }\n      var feature = {\n        \"type\"       : \"Feature\",\n        \"id\"         : pois[i].type+\"/\"+pois[i].id,\n        \"properties\" : {\n          \"type\" : pois[i].type,\n          \"id\"   : pois[i].id,\n          \"tags\" : pois[i].tags || {},\n          \"relations\" : relsmap[\"node\"][pois[i].id] || [],\n          \"meta\": build_meta_information(pois[i])\n        },\n        \"geometry\"   : {\n          \"type\" : \"Point\",\n          \"coordinates\" : [+pois[i].lon, +pois[i].lat],\n        }\n      };\n      if (pois[i].__is_center_placeholder)\n        feature.properties[\"geometry\"] = \"center\";\n      geojsonnodes.features.push(feature);\n    }\n    var geojsonlines = {\n      \"type\"     : \"FeatureCollection\",\n      \"features\" : new Array()};\n    var geojsonpolygons = {\n      \"type\"     : \"FeatureCollection\",\n      \"features\" : new Array()};\n    // process multipolygons\n    for (var i=0;i<rels.length;i++) {\n      if ((typeof rels[i].tags != \"undefined\") &&\n          (rels[i].tags[\"type\"] == \"multipolygon\" || rels[i].tags[\"type\"] == \"boundary\")) {\n        if (!_.isArray(rels[i].members)) {\n          if (options.verbose) console.warn('Multipolygon',rels[i].type+'/'+rels[i].id,'ignored because it has no members');\n          continue; // ignore relations without members (e.g. returned by an ids_only query)\n        }\n        var outer_count = 0;\n        for (var j=0;j<rels[i].members.length;j++)\n          if (rels[i].members[j].role == \"outer\")\n            outer_count++;\n          else if (options.verbose && rels[i].members[j].role != \"inner\")\n            console.warn('Multipolygon',rels[i].type+'/'+rels[i].id,'member',rels[i].members[j].type+'/'+rels[i].members[j].ref,'ignored because it has an invalid role: \"' + rels[i].members[j].role + '\"');\n        rels[i].members.forEach(function(m) {\n          if (wayids[m.ref]) {\n            // this even works in the following corner case:\n            // a multipolygon amenity=xxx with outer line tagged amenity=yyy\n            // see https://github.com/tyrasd/osmtogeojson/issues/7\n            if (m.role===\"outer\" && !has_interesting_tags(wayids[m.ref].tags,rels[i].tags))\n              wayids[m.ref].is_multipolygon_outline = true;\n            if (m.role===\"inner\" && !has_interesting_tags(wayids[m.ref].tags))\n              wayids[m.ref].is_multipolygon_outline = true;\n          }\n        });\n        if (outer_count == 0) {\n          if (options.verbose) console.warn('Multipolygon relation',rels[i].type+'/'+rels[i].id,'ignored because it has no outer ways');\n          continue; // ignore multipolygons without outer ways\n        }\n        var simple_mp = false;\n        var mp_geometry = '';\n        if (outer_count == 1 && !has_interesting_tags(rels[i].tags, {\"type\":true}))\n          simple_mp = true;\n        var feature = null;\n        if (!simple_mp) {\n          feature = construct_multipolygon(rels[i], rels[i]);\n        } else {\n          // simple multipolygon\n          var outer_way = rels[i].members.filter(function(m) {return m.role === \"outer\";})[0];\n          outer_way = wayids[outer_way.ref];\n          if (outer_way === undefined) {\n            if (options.verbose) console.warn('Multipolygon relation',rels[i].type+'/'+rels[i].id,'ignored because outer way', outer_way.type+'/'+outer_way.ref,'is missing');\n            continue; // abort if outer way object is not present\n          }\n          outer_way.is_multipolygon_outline = true;\n          feature = construct_multipolygon(outer_way, rels[i]);\n        }\n        if (feature === false) {\n          if (options.verbose) console.warn('Multipolygon relation',rels[i].type+'/'+rels[i].id,'ignored because it has invalid geometry');\n          continue; // abort if feature could not be constructed\n        }\n        geojsonpolygons.features.push(feature);\n        function construct_multipolygon(tag_object, rel) {\n          var is_tainted = false;\n          var mp_geometry = simple_mp ? 'way' : 'relation',\n              mp_id = typeof tag_object.id === \"number\" ? tag_object.id : +(tag_object.id.replace(\"_fullGeom\", \"\"));\n          // prepare mp members\n          var members;\n          members = rel.members.filter(function(m) {return m.type === \"way\";});\n          members = members.map(function(m) {\n            var way = wayids[m.ref];\n            if (way === undefined) { // check for missing ways\n              if (options.verbose) console.warn('Multipolygon', mp_geometry+'/'+mp_id, 'tainted by a missing way', m.type+'/'+m.ref);\n              is_tainted = true;\n              return;\n            }\n            return { // TODO: this is slow! :(\n              id: m.ref,\n              role: m.role || \"outer\",\n              way: way,\n              nodes: way.nodes.filter(function(n) {\n                if (n !== undefined)\n                  return true;\n                is_tainted = true;\n                if (options.verbose) console.warn('Multipolygon', mp_geometry+'/'+mp_id,  'tainted by a way', m.type+'/'+m.ref, 'with a missing node');\n                return false;\n              })\n            };\n          });\n          members = _.compact(members);\n          // construct outer and inner rings\n          var outers, inners;\n          function join(ways) {\n            var _first = function(arr) {return arr[0]};\n            var _last  = function(arr) {return arr[arr.length-1]};\n            // stolen from iD/relation.js\n            var joined = [], current, first, last, i, how, what;\n            while (ways.length) {\n              current = ways.pop().nodes.slice();\n              joined.push(current);\n              while (ways.length && _first(current) !== _last(current)) {\n                first = _first(current);\n                last  = _last(current);\n                for (i = 0; i < ways.length; i++) {\n                  what = ways[i].nodes;\n                  if (last === _first(what)) {\n                    how  = current.push;\n                    what = what.slice(1);\n                    break;\n                  } else if (last === _last(what)) {\n                    how  = current.push;\n                    what = what.slice(0, -1).reverse();\n                    break;\n                  } else if (first == _last(what)) {\n                    how  = current.unshift;\n                    what = what.slice(0, -1);\n                    break;\n                  } else if (first == _first(what)) {\n                    how  = current.unshift;\n                    what = what.slice(1).reverse();\n                    break;\n                  } else {\n                    what = how = null;\n                  }\n                }\n                if (!what) {\n                  if (options.verbose) console.warn('Multipolygon', mp_geometry+'/'+mp_id, 'contains unclosed ring geometry');\n                  break; // Invalid geometry (dangling way, unclosed ring)\n                }\n                ways.splice(i, 1);\n                how.apply(current, what);\n              }\n            }\n            return joined;\n          }\n          outers = join(members.filter(function(m) {return m.role===\"outer\";}));\n          inners = join(members.filter(function(m) {return m.role===\"inner\";}));\n          // sort rings\n          var mp;\n          function findOuter(inner) {\n            var polygonIntersectsPolygon = function(outer, inner) {\n              for (var i=0; i<inner.length; i++)\n                if (pointInPolygon(inner[i], outer))\n                  return true;\n              return false;\n            }\n            var mapCoordinates = function(from) {\n              return from.map(function(n) {\n                return [+n.lat,+n.lon];\n              });\n            }\n            // stolen from iD/geo.js,\n            // based on https://github.com/substack/point-in-polygon,\n            // ray-casting algorithm based on http://www.ecse.rpi.edu/Homepages/wrf/Research/Short_Notes/pnpoly.html\n            var pointInPolygon = function(point, polygon) {\n              var x = point[0], y = point[1], inside = false;\n              for (var i = 0, j = polygon.length - 1; i < polygon.length; j = i++) {\n                var xi = polygon[i][0], yi = polygon[i][1];\n                var xj = polygon[j][0], yj = polygon[j][1];\n                var intersect = ((yi > y) != (yj > y)) &&\n                  (x < (xj - xi) * (y - yi) / (yj - yi) + xi);\n                if (intersect) inside = !inside;\n              }\n              return inside;\n            };\n            // stolen from iD/relation.js\n            var o, outer;\n            // todo: all this coordinate mapping makes this unneccesarily slow.\n            // see the \"todo: this is slow! :(\" above.\n            inner = mapCoordinates(inner);\n            /*for (o = 0; o < outers.length; o++) {\n              outer = mapCoordinates(outers[o]);\n              if (polygonContainsPolygon(outer, inner))\n                return o;\n            }*/\n            for (o = 0; o < outers.length; o++) {\n              outer = mapCoordinates(outers[o]);\n              if (polygonIntersectsPolygon(outer, inner))\n                return o;\n            }\n          }\n          mp = outers.map(function(o) {return [o];});\n          for (var j=0; j<inners.length; j++) {\n            var o = findOuter(inners[j]);\n            if (o !== undefined)\n              mp[o].push(inners[j]);\n            else\n              if (options.verbose) console.warn('Multipolygon', mp_geometry+'/'+mp_id, 'contains an inner ring with no containing outer');\n              // so, no outer ring for this inner ring is found.\n              // We're going to ignore holes in empty space.\n              ;\n          }\n          // sanitize mp-coordinates (remove empty clusters or rings, {lat,lon,...} to [lon,lat]\n          var mp_coords = [];\n          mp_coords = _.compact(mp.map(function(cluster) {\n            var cl = _.compact(cluster.map(function(ring) {\n              if (ring.length < 4) { // todo: is this correct: ring.length < 4 ?\n                if (options.verbose) console.warn('Multipolygon', mp_geometry+'/'+mp_id, 'contains a ring with less than four nodes');\n                return;\n              }\n              return _.compact(ring.map(function(node) {\n                return [+node.lon,+node.lat];\n              }));\n            }));\n            if (cl.length == 0) {\n              if (options.verbose) console.warn('Multipolygon', mp_geometry+'/'+mp_id, 'contains an empty ring cluster');\n              return;\n            }\n            return cl;\n          }));\n\n          if (mp_coords.length == 0) {\n            if (options.verbose) console.warn('Multipolygon', mp_geometry+'/'+mp_id, 'contains no coordinates');\n            return false; // ignore multipolygons without coordinates\n          }\n          var mp_type = \"MultiPolygon\";\n          if (mp_coords.length === 1) {\n            mp_type = \"Polygon\";\n            mp_coords = mp_coords[0];\n          }\n          // mp parsed, now construct the geoJSON\n          var feature = {\n            \"type\"       : \"Feature\",\n            \"id\"         : tag_object.type+\"/\"+mp_id,\n            \"properties\" : {\n              \"type\" : tag_object.type,\n              \"id\"   : mp_id,\n              \"tags\" : tag_object.tags || {},\n              \"relations\" :  relsmap[tag_object.type][tag_object.id] || [],\n              \"meta\": build_meta_information(tag_object)\n            },\n            \"geometry\"   : {\n              \"type\" : mp_type,\n              \"coordinates\" : mp_coords,\n            }\n          }\n          if (is_tainted) {\n            if (options.verbose) console.warn('Multipolygon', mp_geometry+'/'+mp_id, 'is tainted');\n            feature.properties[\"tainted\"] = true;\n          }\n          return feature;\n        }\n      }\n    }\n    // process lines and polygons\n    for (var i=0;i<ways.length;i++) {\n      if (!_.isArray(ways[i].nodes)) {\n        if (options.verbose) console.warn('Way',ways[i].type+'/'+ways[i].id,'ignored because it has no nodes');\n        continue; // ignore ways without nodes (e.g. returned by an ids_only query)\n      }\n      if (ways[i].is_multipolygon_outline)\n        continue; // ignore ways which are already rendered as (part of) a multipolygon\n      if (typeof ways[i].id !== \"number\") {\n        // remove full geometry namespace for output\n        ways[i].id = +ways[i].id.replace(\"_fullGeom\", \"\");\n      }\n      ways[i].tainted = false;\n      ways[i].hidden = false;\n      var coords = new Array();\n      for (j=0;j<ways[i].nodes.length;j++) {\n        if (typeof ways[i].nodes[j] == \"object\")\n          coords.push([+ways[i].nodes[j].lon, +ways[i].nodes[j].lat]);\n        else {\n          if (options.verbose) console.warn('Way',ways[i].type+'/'+ways[i].id,'is tainted by an invalid node');\n          ways[i].tainted = true;\n        }\n      }\n      if (coords.length <= 1) { // invalid way geometry\n        if (options.verbose) console.warn('Way',ways[i].type+'/'+ways[i].id,'ignored because it contains too few nodes');\n        continue;\n      }\n      var way_type = \"LineString\"; // default\n      if (typeof ways[i].nodes[0] != \"undefined\" && // way has its nodes loaded\n        ways[i].nodes[0] === ways[i].nodes[ways[i].nodes.length-1] && // ... and forms a closed ring\n        (\n          typeof ways[i].tags != \"undefined\" && // ... and has tags\n          _isPolygonFeature(ways[i].tags) // ... and tags say it is a polygon\n          || // or is a placeholder for a bounds geometry\n          ways[i].__is_bounds_placeholder\n        )\n      ) {\n        way_type = \"Polygon\";\n        coords = [coords];\n      }\n      var feature = {\n        \"type\"       : \"Feature\",\n        \"id\"         : ways[i].type+\"/\"+ways[i].id,\n        \"properties\" : {\n          \"type\" : ways[i].type,\n          \"id\"   : ways[i].id,\n          \"tags\" : ways[i].tags || {},\n          \"relations\" : relsmap[\"way\"][ways[i].id] || [],\n          \"meta\": build_meta_information(ways[i])\n        },\n        \"geometry\"   : {\n          \"type\" : way_type,\n          \"coordinates\" : coords,\n        }\n      }\n      if (ways[i].tainted) {\n        if (options.verbose) console.warn('Way',ways[i].type+'/'+ways[i].id,'is tainted');\n        feature.properties[\"tainted\"] = true;\n      }\n      if (ways[i].__is_bounds_placeholder)\n        feature.properties[\"geometry\"] = \"bounds\";\n      if (way_type == \"LineString\")\n        geojsonlines.features.push(feature);\n      else\n        geojsonpolygons.features.push(feature);\n    }\n\n    geojson = {\n      \"type\": \"FeatureCollection\",\n      \"features\": []\n    };\n    geojson.features = geojson.features.concat(geojsonpolygons.features);\n    geojson.features = geojson.features.concat(geojsonlines.features);\n    geojson.features = geojson.features.concat(geojsonnodes.features);\n    // optionally, flatten properties\n    if (options.flatProperties) {\n      geojson.features.forEach(function(f) {\n        f.properties = _.merge(\n          f.properties.meta,\n          f.properties.tags,\n          {id: f.properties.type+\"/\"+f.properties.id}\n        );\n      });\n    }\n    // fix polygon winding\n    geojson = rewind(geojson, true /*remove for geojson-rewind >0.1.0*/);\n    return geojson;\n  }\n  function _isPolygonFeature( tags ) {\n    var polygonFeatures = options.polygonFeatures;\n    if (typeof polygonFeatures === \"function\")\n      return polygonFeatures(tags);\n    // explicitely tagged non-areas\n    if ( tags['area'] === 'no' )\n      return false;\n    // assuming that a typical OSM way has in average less tags than\n    // the polygonFeatures list, this way around should be faster\n    for ( var key in tags ) {\n      var val = tags[key];\n      var pfk = polygonFeatures[key];\n      // continue with next if tag is unknown or not \"categorizing\"\n      if ( typeof pfk === 'undefined' )\n        continue;\n      // continue with next if tag is explicitely un-set (\"building=no\")\n      if ( val === 'no' )\n        continue;\n      // check polygon features for: general acceptance, included or excluded values\n      if ( pfk === true )\n        return true;\n      if ( pfk.included_values && pfk.included_values[val] === true )\n        return true;\n      if ( pfk.excluded_values && pfk.excluded_values[val] !== true )\n        return true;\n    }\n    // if no tags matched, this ain't no area.\n    return false;\n  }\n};\n\n// for backwards compatibility\nosmtogeojson.toGeojson = osmtogeojson;\n\nmodule.exports = osmtogeojson;\n","[\n    {\n        \"key\": \"building\",\n        \"polygon\": \"all\"\n    },\n    {\n        \"key\": \"highway\",\n        \"polygon\": \"whitelist\",\n        \"values\": [\n            \"services\",\n            \"rest_area\",\n            \"escape\",\n            \"elevator\"\n        ]\n    },\n    {\n        \"key\": \"natural\",\n        \"polygon\": \"blacklist\",\n        \"values\": [\n            \"coastline\",\n            \"cliff\",\n            \"ridge\",\n            \"arete\",\n            \"tree_row\"\n        ]\n    },\n    {\n        \"key\": \"landuse\",\n        \"polygon\": \"all\"\n    },\n    {\n        \"key\": \"waterway\",\n        \"polygon\": \"whitelist\",\n        \"values\": [\n            \"riverbank\",\n            \"dock\",\n            \"boatyard\",\n            \"dam\"\n        ]\n    },\n    {\n        \"key\": \"amenity\",\n        \"polygon\": \"all\"\n    },\n    {\n        \"key\": \"leisure\",\n        \"polygon\": \"all\"\n    },\n    {\n        \"key\": \"barrier\",\n        \"polygon\": \"whitelist\",\n        \"values\": [\n            \"city_wall\",\n            \"ditch\",\n            \"hedge\",\n            \"retaining_wall\",\n            \"wall\",\n            \"spikes\"\n        ]\n    },\n    {\n        \"key\": \"railway\",\n        \"polygon\": \"whitelist\",\n        \"values\": [\n            \"station\",\n            \"turntable\",\n            \"roundhouse\",\n            \"platform\"\n        ]\n    },\n    {\n        \"key\": \"area\",\n        \"polygon\": \"all\"\n    },\n    {\n        \"key\": \"boundary\",\n        \"polygon\": \"all\"\n    },\n    {\n        \"key\": \"man_made\",\n        \"polygon\": \"blacklist\",\n        \"values\": [\n            \"cutline\",\n            \"embankment\",\n            \"pipeline\"\n        ]\n    },\n    {\n        \"key\": \"power\",\n        \"polygon\": \"whitelist\",\n        \"values\": [\n            \"plant\",\n            \"substation\",\n            \"generator\",\n            \"transformer\"\n        ]\n    },\n    {\n        \"key\": \"place\",\n        \"polygon\": \"all\"\n    },\n    {\n        \"key\": \"shop\",\n        \"polygon\": \"all\"\n    },\n    {\n        \"key\": \"aeroway\",\n        \"polygon\": \"blacklist\",\n        \"values\": [\n            \"taxiway\"\n        ]\n    },\n    {\n        \"key\": \"tourism\",\n        \"polygon\": \"all\"\n    },\n    {\n        \"key\": \"historic\",\n        \"polygon\": \"all\"\n    },\n    {\n        \"key\": \"public_transport\",\n        \"polygon\": \"all\"\n    },\n    {\n        \"key\": \"office\",\n        \"polygon\": \"all\"\n    },\n    {\n        \"key\": \"building:part\",\n        \"polygon\": \"all\"\n    },\n    {\n        \"key\": \"military\",\n        \"polygon\": \"all\"\n    },\n    {\n        \"key\": \"ruins\",\n        \"polygon\": \"all\"\n    },\n    {\n        \"key\": \"area:highway\",\n        \"polygon\": \"all\"\n    },\n    {\n        \"key\": \"craft\",\n        \"polygon\": \"all\"\n    },\n    {\n        \"key\": \"golf\",\n        \"polygon\": \"all\"\n    },\n    {\n        \"key\": \"indoor\",\n        \"polygon\": \"all\"\n    }\n]\n","var osmtogeojson = require('osmtogeojson'),\n    querystring = require('querystring'),\n    request = require('request'),\n    concat = require('concat-stream'),\n    JSONStream = require('JSONStream'),\n    xmldom = require('xmldom')\n\nmodule.exports = function(query, cb, options) {\n    var contentType;\n    options = options || {};\n\n    var toGeoJSON = function(data) {\n        var geojson;\n\n        geojson = osmtogeojson(data, {\n            flatProperties: options.flatProperties || false\n        });\n        cb(undefined, geojson);\n    };\n\n    var handleXml = function (data) {\n        var parser = new xmldom.DOMParser();\n        var doc = parser.parseFromString(data);\n        toGeoJSON(doc);\n    }\n\n    var reqOptions = {\n        headers: {\n            'content-type': 'application/x-www-form-urlencoded'\n        },\n        body: querystring.stringify({ data: query })\n    };\n\n    var r;\n\n    if (!global.window) {\n        r = request.post(options.overpassUrl || 'https://overpass-api.de/api/interpreter', reqOptions);\n\n        r\n            .on('response', function(response) {\n                if (response.statusCode != 200) {\n                    r.abort();\n                    return cb({\n                        message: 'Request failed: HTTP ' + response.statusCode,\n                        statusCode: response.statusCode\n                    });\n                }\n                contentType = response.headers['content-type'];\n\n                if (contentType.indexOf('json') >= 0) {\n                    r.pipe(JSONStream.parse())\n                        .on('data', toGeoJSON)\n                        .on('error', cb);\n                } else if (contentType.indexOf('xml') >= 0) {\n                    var body = '';\n                    r.on('data', function (chunk) { body += chunk; })\n                        .on('end', function() { handleXml(body); });\n                } else {\n                    cb({\n                        message: 'Unknown Content-Type \"' + contentType + '\" in response'\n                    });\n                }\n            })\n            .on('error', cb);\n    } else {\n        r = request.post(options.overpassUrl || 'https://overpass-api.de/api/interpreter', reqOptions, \n            function (error, response, body) {\n                if (!error && response.statusCode === 200) {\n                    toGeoJSON(JSON.parse(body));\n                } else if (error) {\n                    cb(error);\n                } else if (response) {\n                    cb({\n                        message: 'Request failed: HTTP ' + response.statusCode,\n                        statusCode: response.statusCode\n                    });\n                } else {\n                    cb({\n                        message: 'Unknown error.',\n                    });\n                }\n            });\n    }\n\n    return r;\n};\n","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n'use strict';\n\n// If obj.hasOwnProperty has been overridden, then calling\n// obj.hasOwnProperty(prop) will break.\n// See: https://github.com/joyent/node/issues/1707\nfunction hasOwnProperty(obj, prop) {\n  return Object.prototype.hasOwnProperty.call(obj, prop);\n}\n\nmodule.exports = function(qs, sep, eq, options) {\n  sep = sep || '&';\n  eq = eq || '=';\n  var obj = {};\n\n  if (typeof qs !== 'string' || qs.length === 0) {\n    return obj;\n  }\n\n  var regexp = /\\+/g;\n  qs = qs.split(sep);\n\n  var maxKeys = 1000;\n  if (options && typeof options.maxKeys === 'number') {\n    maxKeys = options.maxKeys;\n  }\n\n  var len = qs.length;\n  // maxKeys <= 0 means that we should not limit keys count\n  if (maxKeys > 0 && len > maxKeys) {\n    len = maxKeys;\n  }\n\n  for (var i = 0; i < len; ++i) {\n    var x = qs[i].replace(regexp, '%20'),\n        idx = x.indexOf(eq),\n        kstr, vstr, k, v;\n\n    if (idx >= 0) {\n      kstr = x.substr(0, idx);\n      vstr = x.substr(idx + 1);\n    } else {\n      kstr = x;\n      vstr = '';\n    }\n\n    k = decodeURIComponent(kstr);\n    v = decodeURIComponent(vstr);\n\n    if (!hasOwnProperty(obj, k)) {\n      obj[k] = v;\n    } else if (isArray(obj[k])) {\n      obj[k].push(v);\n    } else {\n      obj[k] = [obj[k], v];\n    }\n  }\n\n  return obj;\n};\n\nvar isArray = Array.isArray || function (xs) {\n  return Object.prototype.toString.call(xs) === '[object Array]';\n};\n","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n'use strict';\n\nvar stringifyPrimitive = function(v) {\n  switch (typeof v) {\n    case 'string':\n      return v;\n\n    case 'boolean':\n      return v ? 'true' : 'false';\n\n    case 'number':\n      return isFinite(v) ? v : '';\n\n    default:\n      return '';\n  }\n};\n\nmodule.exports = function(obj, sep, eq, name) {\n  sep = sep || '&';\n  eq = eq || '=';\n  if (obj === null) {\n    obj = undefined;\n  }\n\n  if (typeof obj === 'object') {\n    return map(objectKeys(obj), function(k) {\n      var ks = encodeURIComponent(stringifyPrimitive(k)) + eq;\n      if (isArray(obj[k])) {\n        return map(obj[k], function(v) {\n          return ks + encodeURIComponent(stringifyPrimitive(v));\n        }).join(sep);\n      } else {\n        return ks + encodeURIComponent(stringifyPrimitive(obj[k]));\n      }\n    }).join(sep);\n\n  }\n\n  if (!name) return '';\n  return encodeURIComponent(stringifyPrimitive(name)) + eq +\n         encodeURIComponent(stringifyPrimitive(obj));\n};\n\nvar isArray = Array.isArray || function (xs) {\n  return Object.prototype.toString.call(xs) === '[object Array]';\n};\n\nfunction map (xs, f) {\n  if (xs.map) return xs.map(f);\n  var res = [];\n  for (var i = 0; i < xs.length; i++) {\n    res.push(f(xs[i], i));\n  }\n  return res;\n}\n\nvar objectKeys = Object.keys || function (obj) {\n  var res = [];\n  for (var key in obj) {\n    if (Object.prototype.hasOwnProperty.call(obj, key)) res.push(key);\n  }\n  return res;\n};\n","var win;\n\nif (typeof window !== \"undefined\") {\n    win = window;\n} else if (typeof global !== \"undefined\") {\n    win = global;\n} else if (typeof self !== \"undefined\"){\n    win = self;\n} else {\n    win = {};\n}\n\nmodule.exports = win;\n","module.exports = isFunction\n\nvar toString = Object.prototype.toString\n\nfunction isFunction (fn) {\n  if (!fn) {\n    return false\n  }\n  var string = toString.call(fn)\n  return string === '[object Function]' ||\n    (typeof fn === 'function' && string !== '[object RegExp]') ||\n    (typeof window !== 'undefined' &&\n     // IE8 and below\n     (fn === window.setTimeout ||\n      fn === window.alert ||\n      fn === window.confirm ||\n      fn === window.prompt))\n};\n","\"use strict\";\nvar window = require(\"global/window\")\nvar isFunction = require(\"is-function\")\nvar parseHeaders = require(\"parse-headers\")\nvar xtend = require(\"xtend\")\n\nmodule.exports = createXHR\n// Allow use of default import syntax in TypeScript\nmodule.exports.default = createXHR;\ncreateXHR.XMLHttpRequest = window.XMLHttpRequest || noop\ncreateXHR.XDomainRequest = \"withCredentials\" in (new createXHR.XMLHttpRequest()) ? createXHR.XMLHttpRequest : window.XDomainRequest\n\nforEachArray([\"get\", \"put\", \"post\", \"patch\", \"head\", \"delete\"], function(method) {\n    createXHR[method === \"delete\" ? \"del\" : method] = function(uri, options, callback) {\n        options = initParams(uri, options, callback)\n        options.method = method.toUpperCase()\n        return _createXHR(options)\n    }\n})\n\nfunction forEachArray(array, iterator) {\n    for (var i = 0; i < array.length; i++) {\n        iterator(array[i])\n    }\n}\n\nfunction isEmpty(obj){\n    for(var i in obj){\n        if(obj.hasOwnProperty(i)) return false\n    }\n    return true\n}\n\nfunction initParams(uri, options, callback) {\n    var params = uri\n\n    if (isFunction(options)) {\n        callback = options\n        if (typeof uri === \"string\") {\n            params = {uri:uri}\n        }\n    } else {\n        params = xtend(options, {uri: uri})\n    }\n\n    params.callback = callback\n    return params\n}\n\nfunction createXHR(uri, options, callback) {\n    options = initParams(uri, options, callback)\n    return _createXHR(options)\n}\n\nfunction _createXHR(options) {\n    if(typeof options.callback === \"undefined\"){\n        throw new Error(\"callback argument missing\")\n    }\n\n    var called = false\n    var callback = function cbOnce(err, response, body){\n        if(!called){\n            called = true\n            options.callback(err, response, body)\n        }\n    }\n\n    function readystatechange() {\n        if (xhr.readyState === 4) {\n            setTimeout(loadFunc, 0)\n        }\n    }\n\n    function getBody() {\n        // Chrome with requestType=blob throws errors arround when even testing access to responseText\n        var body = undefined\n\n        if (xhr.response) {\n            body = xhr.response\n        } else {\n            body = xhr.responseText || getXml(xhr)\n        }\n\n        if (isJson) {\n            try {\n                body = JSON.parse(body)\n            } catch (e) {}\n        }\n\n        return body\n    }\n\n    function errorFunc(evt) {\n        clearTimeout(timeoutTimer)\n        if(!(evt instanceof Error)){\n            evt = new Error(\"\" + (evt || \"Unknown XMLHttpRequest Error\") )\n        }\n        evt.statusCode = 0\n        return callback(evt, failureResponse)\n    }\n\n    // will load the data & process the response in a special response object\n    function loadFunc() {\n        if (aborted) return\n        var status\n        clearTimeout(timeoutTimer)\n        if(options.useXDR && xhr.status===undefined) {\n            //IE8 CORS GET successful response doesn't have a status field, but body is fine\n            status = 200\n        } else {\n            status = (xhr.status === 1223 ? 204 : xhr.status)\n        }\n        var response = failureResponse\n        var err = null\n\n        if (status !== 0){\n            response = {\n                body: getBody(),\n                statusCode: status,\n                method: method,\n                headers: {},\n                url: uri,\n                rawRequest: xhr\n            }\n            if(xhr.getAllResponseHeaders){ //remember xhr can in fact be XDR for CORS in IE\n                response.headers = parseHeaders(xhr.getAllResponseHeaders())\n            }\n        } else {\n            err = new Error(\"Internal XMLHttpRequest Error\")\n        }\n        return callback(err, response, response.body)\n    }\n\n    var xhr = options.xhr || null\n\n    if (!xhr) {\n        if (options.cors || options.useXDR) {\n            xhr = new createXHR.XDomainRequest()\n        }else{\n            xhr = new createXHR.XMLHttpRequest()\n        }\n    }\n\n    var key\n    var aborted\n    var uri = xhr.url = options.uri || options.url\n    var method = xhr.method = options.method || \"GET\"\n    var body = options.body || options.data\n    var headers = xhr.headers = options.headers || {}\n    var sync = !!options.sync\n    var isJson = false\n    var timeoutTimer\n    var failureResponse = {\n        body: undefined,\n        headers: {},\n        statusCode: 0,\n        method: method,\n        url: uri,\n        rawRequest: xhr\n    }\n\n    if (\"json\" in options && options.json !== false) {\n        isJson = true\n        headers[\"accept\"] || headers[\"Accept\"] || (headers[\"Accept\"] = \"application/json\") //Don't override existing accept header declared by user\n        if (method !== \"GET\" && method !== \"HEAD\") {\n            headers[\"content-type\"] || headers[\"Content-Type\"] || (headers[\"Content-Type\"] = \"application/json\") //Don't override existing accept header declared by user\n            body = JSON.stringify(options.json === true ? body : options.json)\n        }\n    }\n\n    xhr.onreadystatechange = readystatechange\n    xhr.onload = loadFunc\n    xhr.onerror = errorFunc\n    // IE9 must have onprogress be set to a unique function.\n    xhr.onprogress = function () {\n        // IE must die\n    }\n    xhr.onabort = function(){\n        aborted = true;\n    }\n    xhr.ontimeout = errorFunc\n    xhr.open(method, uri, !sync, options.username, options.password)\n    //has to be after open\n    if(!sync) {\n        xhr.withCredentials = !!options.withCredentials\n    }\n    // Cannot set timeout with sync request\n    // not setting timeout on the xhr object, because of old webkits etc. not handling that correctly\n    // both npm's request and jquery 1.x use this kind of timeout, so this is being consistent\n    if (!sync && options.timeout > 0 ) {\n        timeoutTimer = setTimeout(function(){\n            if (aborted) return\n            aborted = true//IE9 may still call readystatechange\n            xhr.abort(\"timeout\")\n            var e = new Error(\"XMLHttpRequest timeout\")\n            e.code = \"ETIMEDOUT\"\n            errorFunc(e)\n        }, options.timeout )\n    }\n\n    if (xhr.setRequestHeader) {\n        for(key in headers){\n            if(headers.hasOwnProperty(key)){\n                xhr.setRequestHeader(key, headers[key])\n            }\n        }\n    } else if (options.headers && !isEmpty(options.headers)) {\n        throw new Error(\"Headers cannot be set on an XDomainRequest object\")\n    }\n\n    if (\"responseType\" in options) {\n        xhr.responseType = options.responseType\n    }\n\n    if (\"beforeSend\" in options &&\n        typeof options.beforeSend === \"function\"\n    ) {\n        options.beforeSend(xhr)\n    }\n\n    // Microsoft Edge browser sends \"undefined\" when send is called with undefined value.\n    // XMLHttpRequest spec says to pass null as body to indicate no body\n    // See https://github.com/naugtur/xhr/issues/100.\n    xhr.send(body || null)\n\n    return xhr\n\n\n}\n\nfunction getXml(xhr) {\n    // xhr.responseXML will throw Exception \"InvalidStateError\" or \"DOMException\"\n    // See https://developer.mozilla.org/en-US/docs/Web/API/XMLHttpRequest/responseXML.\n    try {\n        if (xhr.responseType === \"document\") {\n            return xhr.responseXML\n        }\n        var firefoxBugTakenEffect = xhr.responseXML && xhr.responseXML.documentElement.nodeName === \"parsererror\"\n        if (xhr.responseType === \"\" && !firefoxBugTakenEffect) {\n            return xhr.responseXML\n        }\n    } catch (e) {}\n\n    return null\n}\n\nfunction noop() {}\n","var trim = function(string) {\n  return string.replace(/^\\s+|\\s+$/g, '');\n}\n  , isArray = function(arg) {\n      return Object.prototype.toString.call(arg) === '[object Array]';\n    }\n\nmodule.exports = function (headers) {\n  if (!headers)\n    return {}\n\n  var result = {}\n\n  var headersArr = trim(headers).split('\\n')\n\n  for (var i = 0; i < headersArr.length; i++) {\n    var row = headersArr[i]\n    var index = row.indexOf(':')\n    , key = trim(row.slice(0, index)).toLowerCase()\n    , value = trim(row.slice(index + 1))\n\n    if (typeof(result[key]) === 'undefined') {\n      result[key] = value\n    } else if (isArray(result[key])) {\n      result[key].push(value)\n    } else {\n      result[key] = [ result[key], value ]\n    }\n  }\n\n  return result\n}\n","module.exports = extend\n\nvar hasOwnProperty = Object.prototype.hasOwnProperty;\n\nfunction extend() {\n    var target = {}\n\n    for (var i = 0; i < arguments.length; i++) {\n        var source = arguments[i]\n\n        for (var key in source) {\n            if (hasOwnProperty.call(source, key)) {\n                target[key] = source[key]\n            }\n        }\n    }\n\n    return target\n}\n","var undefined = (void 0); // Paranoia\n\n// Beyond this value, index getters/setters (i.e. array[0], array[1]) are so slow to\n// create, and consume so much memory, that the browser appears frozen.\nvar MAX_ARRAY_LENGTH = 1e5;\n\n// Approximations of internal ECMAScript conversion functions\nvar ECMAScript = (function() {\n  // Stash a copy in case other scripts modify these\n  var opts = Object.prototype.toString,\n      ophop = Object.prototype.hasOwnProperty;\n\n  return {\n    // Class returns internal [[Class]] property, used to avoid cross-frame instanceof issues:\n    Class: function(v) { return opts.call(v).replace(/^\\[object *|\\]$/g, ''); },\n    HasProperty: function(o, p) { return p in o; },\n    HasOwnProperty: function(o, p) { return ophop.call(o, p); },\n    IsCallable: function(o) { return typeof o === 'function'; },\n    ToInt32: function(v) { return v >> 0; },\n    ToUint32: function(v) { return v >>> 0; }\n  };\n}());\n\n// Snapshot intrinsics\nvar LN2 = Math.LN2,\n    abs = Math.abs,\n    floor = Math.floor,\n    log = Math.log,\n    min = Math.min,\n    pow = Math.pow,\n    round = Math.round;\n\n// ES5: lock down object properties\nfunction configureProperties(obj) {\n  if (getOwnPropNames && defineProp) {\n    var props = getOwnPropNames(obj), i;\n    for (i = 0; i < props.length; i += 1) {\n      defineProp(obj, props[i], {\n        value: obj[props[i]],\n        writable: false,\n        enumerable: false,\n        configurable: false\n      });\n    }\n  }\n}\n\n// emulate ES5 getter/setter API using legacy APIs\n// http://blogs.msdn.com/b/ie/archive/2010/09/07/transitioning-existing-code-to-the-es5-getter-setter-apis.aspx\n// (second clause tests for Object.defineProperty() in IE<9 that only supports extending DOM prototypes, but\n// note that IE<9 does not support __defineGetter__ or __defineSetter__ so it just renders the method harmless)\nvar defineProp\nif (Object.defineProperty && (function() {\n      try {\n        Object.defineProperty({}, 'x', {});\n        return true;\n      } catch (e) {\n        return false;\n      }\n    })()) {\n  defineProp = Object.defineProperty;\n} else {\n  defineProp = function(o, p, desc) {\n    if (!o === Object(o)) throw new TypeError(\"Object.defineProperty called on non-object\");\n    if (ECMAScript.HasProperty(desc, 'get') && Object.prototype.__defineGetter__) { Object.prototype.__defineGetter__.call(o, p, desc.get); }\n    if (ECMAScript.HasProperty(desc, 'set') && Object.prototype.__defineSetter__) { Object.prototype.__defineSetter__.call(o, p, desc.set); }\n    if (ECMAScript.HasProperty(desc, 'value')) { o[p] = desc.value; }\n    return o;\n  };\n}\n\nvar getOwnPropNames = Object.getOwnPropertyNames || function (o) {\n  if (o !== Object(o)) throw new TypeError(\"Object.getOwnPropertyNames called on non-object\");\n  var props = [], p;\n  for (p in o) {\n    if (ECMAScript.HasOwnProperty(o, p)) {\n      props.push(p);\n    }\n  }\n  return props;\n};\n\n// ES5: Make obj[index] an alias for obj._getter(index)/obj._setter(index, value)\n// for index in 0 ... obj.length\nfunction makeArrayAccessors(obj) {\n  if (!defineProp) { return; }\n\n  if (obj.length > MAX_ARRAY_LENGTH) throw new RangeError(\"Array too large for polyfill\");\n\n  function makeArrayAccessor(index) {\n    defineProp(obj, index, {\n      'get': function() { return obj._getter(index); },\n      'set': function(v) { obj._setter(index, v); },\n      enumerable: true,\n      configurable: false\n    });\n  }\n\n  var i;\n  for (i = 0; i < obj.length; i += 1) {\n    makeArrayAccessor(i);\n  }\n}\n\n// Internal conversion functions:\n//    pack<Type>()   - take a number (interpreted as Type), output a byte array\n//    unpack<Type>() - take a byte array, output a Type-like number\n\nfunction as_signed(value, bits) { var s = 32 - bits; return (value << s) >> s; }\nfunction as_unsigned(value, bits) { var s = 32 - bits; return (value << s) >>> s; }\n\nfunction packI8(n) { return [n & 0xff]; }\nfunction unpackI8(bytes) { return as_signed(bytes[0], 8); }\n\nfunction packU8(n) { return [n & 0xff]; }\nfunction unpackU8(bytes) { return as_unsigned(bytes[0], 8); }\n\nfunction packU8Clamped(n) { n = round(Number(n)); return [n < 0 ? 0 : n > 0xff ? 0xff : n & 0xff]; }\n\nfunction packI16(n) { return [(n >> 8) & 0xff, n & 0xff]; }\nfunction unpackI16(bytes) { return as_signed(bytes[0] << 8 | bytes[1], 16); }\n\nfunction packU16(n) { return [(n >> 8) & 0xff, n & 0xff]; }\nfunction unpackU16(bytes) { return as_unsigned(bytes[0] << 8 | bytes[1], 16); }\n\nfunction packI32(n) { return [(n >> 24) & 0xff, (n >> 16) & 0xff, (n >> 8) & 0xff, n & 0xff]; }\nfunction unpackI32(bytes) { return as_signed(bytes[0] << 24 | bytes[1] << 16 | bytes[2] << 8 | bytes[3], 32); }\n\nfunction packU32(n) { return [(n >> 24) & 0xff, (n >> 16) & 0xff, (n >> 8) & 0xff, n & 0xff]; }\nfunction unpackU32(bytes) { return as_unsigned(bytes[0] << 24 | bytes[1] << 16 | bytes[2] << 8 | bytes[3], 32); }\n\nfunction packIEEE754(v, ebits, fbits) {\n\n  var bias = (1 << (ebits - 1)) - 1,\n      s, e, f, ln,\n      i, bits, str, bytes;\n\n  function roundToEven(n) {\n    var w = floor(n), f = n - w;\n    if (f < 0.5)\n      return w;\n    if (f > 0.5)\n      return w + 1;\n    return w % 2 ? w + 1 : w;\n  }\n\n  // Compute sign, exponent, fraction\n  if (v !== v) {\n    // NaN\n    // http://dev.w3.org/2006/webapi/WebIDL/#es-type-mapping\n    e = (1 << ebits) - 1; f = pow(2, fbits - 1); s = 0;\n  } else if (v === Infinity || v === -Infinity) {\n    e = (1 << ebits) - 1; f = 0; s = (v < 0) ? 1 : 0;\n  } else if (v === 0) {\n    e = 0; f = 0; s = (1 / v === -Infinity) ? 1 : 0;\n  } else {\n    s = v < 0;\n    v = abs(v);\n\n    if (v >= pow(2, 1 - bias)) {\n      e = min(floor(log(v) / LN2), 1023);\n      f = roundToEven(v / pow(2, e) * pow(2, fbits));\n      if (f / pow(2, fbits) >= 2) {\n        e = e + 1;\n        f = 1;\n      }\n      if (e > bias) {\n        // Overflow\n        e = (1 << ebits) - 1;\n        f = 0;\n      } else {\n        // Normalized\n        e = e + bias;\n        f = f - pow(2, fbits);\n      }\n    } else {\n      // Denormalized\n      e = 0;\n      f = roundToEven(v / pow(2, 1 - bias - fbits));\n    }\n  }\n\n  // Pack sign, exponent, fraction\n  bits = [];\n  for (i = fbits; i; i -= 1) { bits.push(f % 2 ? 1 : 0); f = floor(f / 2); }\n  for (i = ebits; i; i -= 1) { bits.push(e % 2 ? 1 : 0); e = floor(e / 2); }\n  bits.push(s ? 1 : 0);\n  bits.reverse();\n  str = bits.join('');\n\n  // Bits to bytes\n  bytes = [];\n  while (str.length) {\n    bytes.push(parseInt(str.substring(0, 8), 2));\n    str = str.substring(8);\n  }\n  return bytes;\n}\n\nfunction unpackIEEE754(bytes, ebits, fbits) {\n\n  // Bytes to bits\n  var bits = [], i, j, b, str,\n      bias, s, e, f;\n\n  for (i = bytes.length; i; i -= 1) {\n    b = bytes[i - 1];\n    for (j = 8; j; j -= 1) {\n      bits.push(b % 2 ? 1 : 0); b = b >> 1;\n    }\n  }\n  bits.reverse();\n  str = bits.join('');\n\n  // Unpack sign, exponent, fraction\n  bias = (1 << (ebits - 1)) - 1;\n  s = parseInt(str.substring(0, 1), 2) ? -1 : 1;\n  e = parseInt(str.substring(1, 1 + ebits), 2);\n  f = parseInt(str.substring(1 + ebits), 2);\n\n  // Produce number\n  if (e === (1 << ebits) - 1) {\n    return f !== 0 ? NaN : s * Infinity;\n  } else if (e > 0) {\n    // Normalized\n    return s * pow(2, e - bias) * (1 + f / pow(2, fbits));\n  } else if (f !== 0) {\n    // Denormalized\n    return s * pow(2, -(bias - 1)) * (f / pow(2, fbits));\n  } else {\n    return s < 0 ? -0 : 0;\n  }\n}\n\nfunction unpackF64(b) { return unpackIEEE754(b, 11, 52); }\nfunction packF64(v) { return packIEEE754(v, 11, 52); }\nfunction unpackF32(b) { return unpackIEEE754(b, 8, 23); }\nfunction packF32(v) { return packIEEE754(v, 8, 23); }\n\n\n//\n// 3 The ArrayBuffer Type\n//\n\n(function() {\n\n  /** @constructor */\n  var ArrayBuffer = function ArrayBuffer(length) {\n    length = ECMAScript.ToInt32(length);\n    if (length < 0) throw new RangeError('ArrayBuffer size is not a small enough positive integer');\n\n    this.byteLength = length;\n    this._bytes = [];\n    this._bytes.length = length;\n\n    var i;\n    for (i = 0; i < this.byteLength; i += 1) {\n      this._bytes[i] = 0;\n    }\n\n    configureProperties(this);\n  };\n\n  exports.ArrayBuffer = exports.ArrayBuffer || ArrayBuffer;\n\n  //\n  // 4 The ArrayBufferView Type\n  //\n\n  // NOTE: this constructor is not exported\n  /** @constructor */\n  var ArrayBufferView = function ArrayBufferView() {\n    //this.buffer = null;\n    //this.byteOffset = 0;\n    //this.byteLength = 0;\n  };\n\n  //\n  // 5 The Typed Array View Types\n  //\n\n  function makeConstructor(bytesPerElement, pack, unpack) {\n    // Each TypedArray type requires a distinct constructor instance with\n    // identical logic, which this produces.\n\n    var ctor;\n    ctor = function(buffer, byteOffset, length) {\n      var array, sequence, i, s;\n\n      if (!arguments.length || typeof arguments[0] === 'number') {\n        // Constructor(unsigned long length)\n        this.length = ECMAScript.ToInt32(arguments[0]);\n        if (length < 0) throw new RangeError('ArrayBufferView size is not a small enough positive integer');\n\n        this.byteLength = this.length * this.BYTES_PER_ELEMENT;\n        this.buffer = new ArrayBuffer(this.byteLength);\n        this.byteOffset = 0;\n      } else if (typeof arguments[0] === 'object' && arguments[0].constructor === ctor) {\n        // Constructor(TypedArray array)\n        array = arguments[0];\n\n        this.length = array.length;\n        this.byteLength = this.length * this.BYTES_PER_ELEMENT;\n        this.buffer = new ArrayBuffer(this.byteLength);\n        this.byteOffset = 0;\n\n        for (i = 0; i < this.length; i += 1) {\n          this._setter(i, array._getter(i));\n        }\n      } else if (typeof arguments[0] === 'object' &&\n                 !(arguments[0] instanceof ArrayBuffer || ECMAScript.Class(arguments[0]) === 'ArrayBuffer')) {\n        // Constructor(sequence<type> array)\n        sequence = arguments[0];\n\n        this.length = ECMAScript.ToUint32(sequence.length);\n        this.byteLength = this.length * this.BYTES_PER_ELEMENT;\n        this.buffer = new ArrayBuffer(this.byteLength);\n        this.byteOffset = 0;\n\n        for (i = 0; i < this.length; i += 1) {\n          s = sequence[i];\n          this._setter(i, Number(s));\n        }\n      } else if (typeof arguments[0] === 'object' &&\n                 (arguments[0] instanceof ArrayBuffer || ECMAScript.Class(arguments[0]) === 'ArrayBuffer')) {\n        // Constructor(ArrayBuffer buffer,\n        //             optional unsigned long byteOffset, optional unsigned long length)\n        this.buffer = buffer;\n\n        this.byteOffset = ECMAScript.ToUint32(byteOffset);\n        if (this.byteOffset > this.buffer.byteLength) {\n          throw new RangeError(\"byteOffset out of range\");\n        }\n\n        if (this.byteOffset % this.BYTES_PER_ELEMENT) {\n          // The given byteOffset must be a multiple of the element\n          // size of the specific type, otherwise an exception is raised.\n          throw new RangeError(\"ArrayBuffer length minus the byteOffset is not a multiple of the element size.\");\n        }\n\n        if (arguments.length < 3) {\n          this.byteLength = this.buffer.byteLength - this.byteOffset;\n\n          if (this.byteLength % this.BYTES_PER_ELEMENT) {\n            throw new RangeError(\"length of buffer minus byteOffset not a multiple of the element size\");\n          }\n          this.length = this.byteLength / this.BYTES_PER_ELEMENT;\n        } else {\n          this.length = ECMAScript.ToUint32(length);\n          this.byteLength = this.length * this.BYTES_PER_ELEMENT;\n        }\n\n        if ((this.byteOffset + this.byteLength) > this.buffer.byteLength) {\n          throw new RangeError(\"byteOffset and length reference an area beyond the end of the buffer\");\n        }\n      } else {\n        throw new TypeError(\"Unexpected argument type(s)\");\n      }\n\n      this.constructor = ctor;\n\n      configureProperties(this);\n      makeArrayAccessors(this);\n    };\n\n    ctor.prototype = new ArrayBufferView();\n    ctor.prototype.BYTES_PER_ELEMENT = bytesPerElement;\n    ctor.prototype._pack = pack;\n    ctor.prototype._unpack = unpack;\n    ctor.BYTES_PER_ELEMENT = bytesPerElement;\n\n    // getter type (unsigned long index);\n    ctor.prototype._getter = function(index) {\n      if (arguments.length < 1) throw new SyntaxError(\"Not enough arguments\");\n\n      index = ECMAScript.ToUint32(index);\n      if (index >= this.length) {\n        return undefined;\n      }\n\n      var bytes = [], i, o;\n      for (i = 0, o = this.byteOffset + index * this.BYTES_PER_ELEMENT;\n           i < this.BYTES_PER_ELEMENT;\n           i += 1, o += 1) {\n        bytes.push(this.buffer._bytes[o]);\n      }\n      return this._unpack(bytes);\n    };\n\n    // NONSTANDARD: convenience alias for getter: type get(unsigned long index);\n    ctor.prototype.get = ctor.prototype._getter;\n\n    // setter void (unsigned long index, type value);\n    ctor.prototype._setter = function(index, value) {\n      if (arguments.length < 2) throw new SyntaxError(\"Not enough arguments\");\n\n      index = ECMAScript.ToUint32(index);\n      if (index >= this.length) {\n        return undefined;\n      }\n\n      var bytes = this._pack(value), i, o;\n      for (i = 0, o = this.byteOffset + index * this.BYTES_PER_ELEMENT;\n           i < this.BYTES_PER_ELEMENT;\n           i += 1, o += 1) {\n        this.buffer._bytes[o] = bytes[i];\n      }\n    };\n\n    // void set(TypedArray array, optional unsigned long offset);\n    // void set(sequence<type> array, optional unsigned long offset);\n    ctor.prototype.set = function(index, value) {\n      if (arguments.length < 1) throw new SyntaxError(\"Not enough arguments\");\n      var array, sequence, offset, len,\n          i, s, d,\n          byteOffset, byteLength, tmp;\n\n      if (typeof arguments[0] === 'object' && arguments[0].constructor === this.constructor) {\n        // void set(TypedArray array, optional unsigned long offset);\n        array = arguments[0];\n        offset = ECMAScript.ToUint32(arguments[1]);\n\n        if (offset + array.length > this.length) {\n          throw new RangeError(\"Offset plus length of array is out of range\");\n        }\n\n        byteOffset = this.byteOffset + offset * this.BYTES_PER_ELEMENT;\n        byteLength = array.length * this.BYTES_PER_ELEMENT;\n\n        if (array.buffer === this.buffer) {\n          tmp = [];\n          for (i = 0, s = array.byteOffset; i < byteLength; i += 1, s += 1) {\n            tmp[i] = array.buffer._bytes[s];\n          }\n          for (i = 0, d = byteOffset; i < byteLength; i += 1, d += 1) {\n            this.buffer._bytes[d] = tmp[i];\n          }\n        } else {\n          for (i = 0, s = array.byteOffset, d = byteOffset;\n               i < byteLength; i += 1, s += 1, d += 1) {\n            this.buffer._bytes[d] = array.buffer._bytes[s];\n          }\n        }\n      } else if (typeof arguments[0] === 'object' && typeof arguments[0].length !== 'undefined') {\n        // void set(sequence<type> array, optional unsigned long offset);\n        sequence = arguments[0];\n        len = ECMAScript.ToUint32(sequence.length);\n        offset = ECMAScript.ToUint32(arguments[1]);\n\n        if (offset + len > this.length) {\n          throw new RangeError(\"Offset plus length of array is out of range\");\n        }\n\n        for (i = 0; i < len; i += 1) {\n          s = sequence[i];\n          this._setter(offset + i, Number(s));\n        }\n      } else {\n        throw new TypeError(\"Unexpected argument type(s)\");\n      }\n    };\n\n    // TypedArray subarray(long begin, optional long end);\n    ctor.prototype.subarray = function(start, end) {\n      function clamp(v, min, max) { return v < min ? min : v > max ? max : v; }\n\n      start = ECMAScript.ToInt32(start);\n      end = ECMAScript.ToInt32(end);\n\n      if (arguments.length < 1) { start = 0; }\n      if (arguments.length < 2) { end = this.length; }\n\n      if (start < 0) { start = this.length + start; }\n      if (end < 0) { end = this.length + end; }\n\n      start = clamp(start, 0, this.length);\n      end = clamp(end, 0, this.length);\n\n      var len = end - start;\n      if (len < 0) {\n        len = 0;\n      }\n\n      return new this.constructor(\n        this.buffer, this.byteOffset + start * this.BYTES_PER_ELEMENT, len);\n    };\n\n    return ctor;\n  }\n\n  var Int8Array = makeConstructor(1, packI8, unpackI8);\n  var Uint8Array = makeConstructor(1, packU8, unpackU8);\n  var Uint8ClampedArray = makeConstructor(1, packU8Clamped, unpackU8);\n  var Int16Array = makeConstructor(2, packI16, unpackI16);\n  var Uint16Array = makeConstructor(2, packU16, unpackU16);\n  var Int32Array = makeConstructor(4, packI32, unpackI32);\n  var Uint32Array = makeConstructor(4, packU32, unpackU32);\n  var Float32Array = makeConstructor(4, packF32, unpackF32);\n  var Float64Array = makeConstructor(8, packF64, unpackF64);\n\n  exports.Int8Array = exports.Int8Array || Int8Array;\n  exports.Uint8Array = exports.Uint8Array || Uint8Array;\n  exports.Uint8ClampedArray = exports.Uint8ClampedArray || Uint8ClampedArray;\n  exports.Int16Array = exports.Int16Array || Int16Array;\n  exports.Uint16Array = exports.Uint16Array || Uint16Array;\n  exports.Int32Array = exports.Int32Array || Int32Array;\n  exports.Uint32Array = exports.Uint32Array || Uint32Array;\n  exports.Float32Array = exports.Float32Array || Float32Array;\n  exports.Float64Array = exports.Float64Array || Float64Array;\n}());\n\n//\n// 6 The DataView View Type\n//\n\n(function() {\n  function r(array, index) {\n    return ECMAScript.IsCallable(array.get) ? array.get(index) : array[index];\n  }\n\n  var IS_BIG_ENDIAN = (function() {\n    var u16array = new(exports.Uint16Array)([0x1234]),\n        u8array = new(exports.Uint8Array)(u16array.buffer);\n    return r(u8array, 0) === 0x12;\n  }());\n\n  // Constructor(ArrayBuffer buffer,\n  //             optional unsigned long byteOffset,\n  //             optional unsigned long byteLength)\n  /** @constructor */\n  var DataView = function DataView(buffer, byteOffset, byteLength) {\n    if (arguments.length === 0) {\n      buffer = new exports.ArrayBuffer(0);\n    } else if (!(buffer instanceof exports.ArrayBuffer || ECMAScript.Class(buffer) === 'ArrayBuffer')) {\n      throw new TypeError(\"TypeError\");\n    }\n\n    this.buffer = buffer || new exports.ArrayBuffer(0);\n\n    this.byteOffset = ECMAScript.ToUint32(byteOffset);\n    if (this.byteOffset > this.buffer.byteLength) {\n      throw new RangeError(\"byteOffset out of range\");\n    }\n\n    if (arguments.length < 3) {\n      this.byteLength = this.buffer.byteLength - this.byteOffset;\n    } else {\n      this.byteLength = ECMAScript.ToUint32(byteLength);\n    }\n\n    if ((this.byteOffset + this.byteLength) > this.buffer.byteLength) {\n      throw new RangeError(\"byteOffset and length reference an area beyond the end of the buffer\");\n    }\n\n    configureProperties(this);\n  };\n\n  function makeGetter(arrayType) {\n    return function(byteOffset, littleEndian) {\n\n      byteOffset = ECMAScript.ToUint32(byteOffset);\n\n      if (byteOffset + arrayType.BYTES_PER_ELEMENT > this.byteLength) {\n        throw new RangeError(\"Array index out of range\");\n      }\n      byteOffset += this.byteOffset;\n\n      var uint8Array = new exports.Uint8Array(this.buffer, byteOffset, arrayType.BYTES_PER_ELEMENT),\n          bytes = [], i;\n      for (i = 0; i < arrayType.BYTES_PER_ELEMENT; i += 1) {\n        bytes.push(r(uint8Array, i));\n      }\n\n      if (Boolean(littleEndian) === Boolean(IS_BIG_ENDIAN)) {\n        bytes.reverse();\n      }\n\n      return r(new arrayType(new exports.Uint8Array(bytes).buffer), 0);\n    };\n  }\n\n  DataView.prototype.getUint8 = makeGetter(exports.Uint8Array);\n  DataView.prototype.getInt8 = makeGetter(exports.Int8Array);\n  DataView.prototype.getUint16 = makeGetter(exports.Uint16Array);\n  DataView.prototype.getInt16 = makeGetter(exports.Int16Array);\n  DataView.prototype.getUint32 = makeGetter(exports.Uint32Array);\n  DataView.prototype.getInt32 = makeGetter(exports.Int32Array);\n  DataView.prototype.getFloat32 = makeGetter(exports.Float32Array);\n  DataView.prototype.getFloat64 = makeGetter(exports.Float64Array);\n\n  function makeSetter(arrayType) {\n    return function(byteOffset, value, littleEndian) {\n\n      byteOffset = ECMAScript.ToUint32(byteOffset);\n      if (byteOffset + arrayType.BYTES_PER_ELEMENT > this.byteLength) {\n        throw new RangeError(\"Array index out of range\");\n      }\n\n      // Get bytes\n      var typeArray = new arrayType([value]),\n          byteArray = new exports.Uint8Array(typeArray.buffer),\n          bytes = [], i, byteView;\n\n      for (i = 0; i < arrayType.BYTES_PER_ELEMENT; i += 1) {\n        bytes.push(r(byteArray, i));\n      }\n\n      // Flip if necessary\n      if (Boolean(littleEndian) === Boolean(IS_BIG_ENDIAN)) {\n        bytes.reverse();\n      }\n\n      // Write them\n      byteView = new exports.Uint8Array(this.buffer, byteOffset, arrayType.BYTES_PER_ELEMENT);\n      byteView.set(bytes);\n    };\n  }\n\n  DataView.prototype.setUint8 = makeSetter(exports.Uint8Array);\n  DataView.prototype.setInt8 = makeSetter(exports.Int8Array);\n  DataView.prototype.setUint16 = makeSetter(exports.Uint16Array);\n  DataView.prototype.setInt16 = makeSetter(exports.Int16Array);\n  DataView.prototype.setUint32 = makeSetter(exports.Uint32Array);\n  DataView.prototype.setInt32 = makeSetter(exports.Int32Array);\n  DataView.prototype.setFloat32 = makeSetter(exports.Float32Array);\n  DataView.prototype.setFloat64 = makeSetter(exports.Float64Array);\n\n  exports.DataView = exports.DataView || DataView;\n\n}());\n","'use strict'\n\nexports.byteLength = byteLength\nexports.toByteArray = toByteArray\nexports.fromByteArray = fromByteArray\n\nvar lookup = []\nvar revLookup = []\nvar Arr = typeof Uint8Array !== 'undefined' ? Uint8Array : Array\n\nvar code = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/'\nfor (var i = 0, len = code.length; i < len; ++i) {\n  lookup[i] = code[i]\n  revLookup[code.charCodeAt(i)] = i\n}\n\n// Support decoding URL-safe base64 strings, as Node.js does.\n// See: https://en.wikipedia.org/wiki/Base64#URL_applications\nrevLookup['-'.charCodeAt(0)] = 62\nrevLookup['_'.charCodeAt(0)] = 63\n\nfunction getLens (b64) {\n  var len = b64.length\n\n  if (len % 4 > 0) {\n    throw new Error('Invalid string. Length must be a multiple of 4')\n  }\n\n  // Trim off extra bytes after placeholder bytes are found\n  // See: https://github.com/beatgammit/base64-js/issues/42\n  var validLen = b64.indexOf('=')\n  if (validLen === -1) validLen = len\n\n  var placeHoldersLen = validLen === len\n    ? 0\n    : 4 - (validLen % 4)\n\n  return [validLen, placeHoldersLen]\n}\n\n// base64 is 4/3 + up to two characters of the original data\nfunction byteLength (b64) {\n  var lens = getLens(b64)\n  var validLen = lens[0]\n  var placeHoldersLen = lens[1]\n  return ((validLen + placeHoldersLen) * 3 / 4) - placeHoldersLen\n}\n\nfunction _byteLength (b64, validLen, placeHoldersLen) {\n  return ((validLen + placeHoldersLen) * 3 / 4) - placeHoldersLen\n}\n\nfunction toByteArray (b64) {\n  var tmp\n  var lens = getLens(b64)\n  var validLen = lens[0]\n  var placeHoldersLen = lens[1]\n\n  var arr = new Arr(_byteLength(b64, validLen, placeHoldersLen))\n\n  var curByte = 0\n\n  // if there are placeholders, only get up to the last complete 4 chars\n  var len = placeHoldersLen > 0\n    ? validLen - 4\n    : validLen\n\n  var i\n  for (i = 0; i < len; i += 4) {\n    tmp =\n      (revLookup[b64.charCodeAt(i)] << 18) |\n      (revLookup[b64.charCodeAt(i + 1)] << 12) |\n      (revLookup[b64.charCodeAt(i + 2)] << 6) |\n      revLookup[b64.charCodeAt(i + 3)]\n    arr[curByte++] = (tmp >> 16) & 0xFF\n    arr[curByte++] = (tmp >> 8) & 0xFF\n    arr[curByte++] = tmp & 0xFF\n  }\n\n  if (placeHoldersLen === 2) {\n    tmp =\n      (revLookup[b64.charCodeAt(i)] << 2) |\n      (revLookup[b64.charCodeAt(i + 1)] >> 4)\n    arr[curByte++] = tmp & 0xFF\n  }\n\n  if (placeHoldersLen === 1) {\n    tmp =\n      (revLookup[b64.charCodeAt(i)] << 10) |\n      (revLookup[b64.charCodeAt(i + 1)] << 4) |\n      (revLookup[b64.charCodeAt(i + 2)] >> 2)\n    arr[curByte++] = (tmp >> 8) & 0xFF\n    arr[curByte++] = tmp & 0xFF\n  }\n\n  return arr\n}\n\nfunction tripletToBase64 (num) {\n  return lookup[num >> 18 & 0x3F] +\n    lookup[num >> 12 & 0x3F] +\n    lookup[num >> 6 & 0x3F] +\n    lookup[num & 0x3F]\n}\n\nfunction encodeChunk (uint8, start, end) {\n  var tmp\n  var output = []\n  for (var i = start; i < end; i += 3) {\n    tmp =\n      ((uint8[i] << 16) & 0xFF0000) +\n      ((uint8[i + 1] << 8) & 0xFF00) +\n      (uint8[i + 2] & 0xFF)\n    output.push(tripletToBase64(tmp))\n  }\n  return output.join('')\n}\n\nfunction fromByteArray (uint8) {\n  var tmp\n  var len = uint8.length\n  var extraBytes = len % 3 // if we have 1 byte left, pad 2 bytes\n  var parts = []\n  var maxChunkLength = 16383 // must be multiple of 3\n\n  // go through the array every three bytes, we'll deal with trailing stuff later\n  for (var i = 0, len2 = len - extraBytes; i < len2; i += maxChunkLength) {\n    parts.push(encodeChunk(uint8, i, (i + maxChunkLength) > len2 ? len2 : (i + maxChunkLength)))\n  }\n\n  // pad the end with zeros, but make sure to not forget the extra bytes\n  if (extraBytes === 1) {\n    tmp = uint8[len - 1]\n    parts.push(\n      lookup[tmp >> 2] +\n      lookup[(tmp << 4) & 0x3F] +\n      '=='\n    )\n  } else if (extraBytes === 2) {\n    tmp = (uint8[len - 2] << 8) + uint8[len - 1]\n    parts.push(\n      lookup[tmp >> 10] +\n      lookup[(tmp >> 4) & 0x3F] +\n      lookup[(tmp << 2) & 0x3F] +\n      '='\n    )\n  }\n\n  return parts.join('')\n}\n","/*!\n * The buffer module from node.js, for the browser.\n *\n * @author   Feross Aboukhadijeh <https://feross.org>\n * @license  MIT\n */\n/* eslint-disable no-proto */\n\n'use strict'\n\nvar base64 = require('base64-js')\nvar ieee754 = require('ieee754')\nvar customInspectSymbol =\n  (typeof Symbol === 'function' && typeof Symbol['for'] === 'function') // eslint-disable-line dot-notation\n    ? Symbol['for']('nodejs.util.inspect.custom') // eslint-disable-line dot-notation\n    : null\n\nexports.Buffer = Buffer\nexports.SlowBuffer = SlowBuffer\nexports.INSPECT_MAX_BYTES = 50\n\nvar K_MAX_LENGTH = 0x7fffffff\nexports.kMaxLength = K_MAX_LENGTH\n\n/**\n * If `Buffer.TYPED_ARRAY_SUPPORT`:\n *   === true    Use Uint8Array implementation (fastest)\n *   === false   Print warning and recommend using `buffer` v4.x which has an Object\n *               implementation (most compatible, even IE6)\n *\n * Browsers that support typed arrays are IE 10+, Firefox 4+, Chrome 7+, Safari 5.1+,\n * Opera 11.6+, iOS 4.2+.\n *\n * We report that the browser does not support typed arrays if the are not subclassable\n * using __proto__. Firefox 4-29 lacks support for adding new properties to `Uint8Array`\n * (See: https://bugzilla.mozilla.org/show_bug.cgi?id=695438). IE 10 lacks support\n * for __proto__ and has a buggy typed array implementation.\n */\nBuffer.TYPED_ARRAY_SUPPORT = typedArraySupport()\n\nif (!Buffer.TYPED_ARRAY_SUPPORT && typeof console !== 'undefined' &&\n    typeof console.error === 'function') {\n  console.error(\n    'This browser lacks typed array (Uint8Array) support which is required by ' +\n    '`buffer` v5.x. Use `buffer` v4.x if you require old browser support.'\n  )\n}\n\nfunction typedArraySupport () {\n  // Can typed array instances can be augmented?\n  try {\n    var arr = new Uint8Array(1)\n    var proto = { foo: function () { return 42 } }\n    Object.setPrototypeOf(proto, Uint8Array.prototype)\n    Object.setPrototypeOf(arr, proto)\n    return arr.foo() === 42\n  } catch (e) {\n    return false\n  }\n}\n\nObject.defineProperty(Buffer.prototype, 'parent', {\n  enumerable: true,\n  get: function () {\n    if (!Buffer.isBuffer(this)) return undefined\n    return this.buffer\n  }\n})\n\nObject.defineProperty(Buffer.prototype, 'offset', {\n  enumerable: true,\n  get: function () {\n    if (!Buffer.isBuffer(this)) return undefined\n    return this.byteOffset\n  }\n})\n\nfunction createBuffer (length) {\n  if (length > K_MAX_LENGTH) {\n    throw new RangeError('The value \"' + length + '\" is invalid for option \"size\"')\n  }\n  // Return an augmented `Uint8Array` instance\n  var buf = new Uint8Array(length)\n  Object.setPrototypeOf(buf, Buffer.prototype)\n  return buf\n}\n\n/**\n * The Buffer constructor returns instances of `Uint8Array` that have their\n * prototype changed to `Buffer.prototype`. Furthermore, `Buffer` is a subclass of\n * `Uint8Array`, so the returned instances will have all the node `Buffer` methods\n * and the `Uint8Array` methods. Square bracket notation works as expected -- it\n * returns a single octet.\n *\n * The `Uint8Array` prototype remains unmodified.\n */\n\nfunction Buffer (arg, encodingOrOffset, length) {\n  // Common case.\n  if (typeof arg === 'number') {\n    if (typeof encodingOrOffset === 'string') {\n      throw new TypeError(\n        'The \"string\" argument must be of type string. Received type number'\n      )\n    }\n    return allocUnsafe(arg)\n  }\n  return from(arg, encodingOrOffset, length)\n}\n\nBuffer.poolSize = 8192 // not used by this implementation\n\nfunction from (value, encodingOrOffset, length) {\n  if (typeof value === 'string') {\n    return fromString(value, encodingOrOffset)\n  }\n\n  if (ArrayBuffer.isView(value)) {\n    return fromArrayView(value)\n  }\n\n  if (value == null) {\n    throw new TypeError(\n      'The first argument must be one of type string, Buffer, ArrayBuffer, Array, ' +\n      'or Array-like Object. Received type ' + (typeof value)\n    )\n  }\n\n  if (isInstance(value, ArrayBuffer) ||\n      (value && isInstance(value.buffer, ArrayBuffer))) {\n    return fromArrayBuffer(value, encodingOrOffset, length)\n  }\n\n  if (typeof SharedArrayBuffer !== 'undefined' &&\n      (isInstance(value, SharedArrayBuffer) ||\n      (value && isInstance(value.buffer, SharedArrayBuffer)))) {\n    return fromArrayBuffer(value, encodingOrOffset, length)\n  }\n\n  if (typeof value === 'number') {\n    throw new TypeError(\n      'The \"value\" argument must not be of type number. Received type number'\n    )\n  }\n\n  var valueOf = value.valueOf && value.valueOf()\n  if (valueOf != null && valueOf !== value) {\n    return Buffer.from(valueOf, encodingOrOffset, length)\n  }\n\n  var b = fromObject(value)\n  if (b) return b\n\n  if (typeof Symbol !== 'undefined' && Symbol.toPrimitive != null &&\n      typeof value[Symbol.toPrimitive] === 'function') {\n    return Buffer.from(\n      value[Symbol.toPrimitive]('string'), encodingOrOffset, length\n    )\n  }\n\n  throw new TypeError(\n    'The first argument must be one of type string, Buffer, ArrayBuffer, Array, ' +\n    'or Array-like Object. Received type ' + (typeof value)\n  )\n}\n\n/**\n * Functionally equivalent to Buffer(arg, encoding) but throws a TypeError\n * if value is a number.\n * Buffer.from(str[, encoding])\n * Buffer.from(array)\n * Buffer.from(buffer)\n * Buffer.from(arrayBuffer[, byteOffset[, length]])\n **/\nBuffer.from = function (value, encodingOrOffset, length) {\n  return from(value, encodingOrOffset, length)\n}\n\n// Note: Change prototype *after* Buffer.from is defined to workaround Chrome bug:\n// https://github.com/feross/buffer/pull/148\nObject.setPrototypeOf(Buffer.prototype, Uint8Array.prototype)\nObject.setPrototypeOf(Buffer, Uint8Array)\n\nfunction assertSize (size) {\n  if (typeof size !== 'number') {\n    throw new TypeError('\"size\" argument must be of type number')\n  } else if (size < 0) {\n    throw new RangeError('The value \"' + size + '\" is invalid for option \"size\"')\n  }\n}\n\nfunction alloc (size, fill, encoding) {\n  assertSize(size)\n  if (size <= 0) {\n    return createBuffer(size)\n  }\n  if (fill !== undefined) {\n    // Only pay attention to encoding if it's a string. This\n    // prevents accidentally sending in a number that would\n    // be interpreted as a start offset.\n    return typeof encoding === 'string'\n      ? createBuffer(size).fill(fill, encoding)\n      : createBuffer(size).fill(fill)\n  }\n  return createBuffer(size)\n}\n\n/**\n * Creates a new filled Buffer instance.\n * alloc(size[, fill[, encoding]])\n **/\nBuffer.alloc = function (size, fill, encoding) {\n  return alloc(size, fill, encoding)\n}\n\nfunction allocUnsafe (size) {\n  assertSize(size)\n  return createBuffer(size < 0 ? 0 : checked(size) | 0)\n}\n\n/**\n * Equivalent to Buffer(num), by default creates a non-zero-filled Buffer instance.\n * */\nBuffer.allocUnsafe = function (size) {\n  return allocUnsafe(size)\n}\n/**\n * Equivalent to SlowBuffer(num), by default creates a non-zero-filled Buffer instance.\n */\nBuffer.allocUnsafeSlow = function (size) {\n  return allocUnsafe(size)\n}\n\nfunction fromString (string, encoding) {\n  if (typeof encoding !== 'string' || encoding === '') {\n    encoding = 'utf8'\n  }\n\n  if (!Buffer.isEncoding(encoding)) {\n    throw new TypeError('Unknown encoding: ' + encoding)\n  }\n\n  var length = byteLength(string, encoding) | 0\n  var buf = createBuffer(length)\n\n  var actual = buf.write(string, encoding)\n\n  if (actual !== length) {\n    // Writing a hex string, for example, that contains invalid characters will\n    // cause everything after the first invalid character to be ignored. (e.g.\n    // 'abxxcd' will be treated as 'ab')\n    buf = buf.slice(0, actual)\n  }\n\n  return buf\n}\n\nfunction fromArrayLike (array) {\n  var length = array.length < 0 ? 0 : checked(array.length) | 0\n  var buf = createBuffer(length)\n  for (var i = 0; i < length; i += 1) {\n    buf[i] = array[i] & 255\n  }\n  return buf\n}\n\nfunction fromArrayView (arrayView) {\n  if (isInstance(arrayView, Uint8Array)) {\n    var copy = new Uint8Array(arrayView)\n    return fromArrayBuffer(copy.buffer, copy.byteOffset, copy.byteLength)\n  }\n  return fromArrayLike(arrayView)\n}\n\nfunction fromArrayBuffer (array, byteOffset, length) {\n  if (byteOffset < 0 || array.byteLength < byteOffset) {\n    throw new RangeError('\"offset\" is outside of buffer bounds')\n  }\n\n  if (array.byteLength < byteOffset + (length || 0)) {\n    throw new RangeError('\"length\" is outside of buffer bounds')\n  }\n\n  var buf\n  if (byteOffset === undefined && length === undefined) {\n    buf = new Uint8Array(array)\n  } else if (length === undefined) {\n    buf = new Uint8Array(array, byteOffset)\n  } else {\n    buf = new Uint8Array(array, byteOffset, length)\n  }\n\n  // Return an augmented `Uint8Array` instance\n  Object.setPrototypeOf(buf, Buffer.prototype)\n\n  return buf\n}\n\nfunction fromObject (obj) {\n  if (Buffer.isBuffer(obj)) {\n    var len = checked(obj.length) | 0\n    var buf = createBuffer(len)\n\n    if (buf.length === 0) {\n      return buf\n    }\n\n    obj.copy(buf, 0, 0, len)\n    return buf\n  }\n\n  if (obj.length !== undefined) {\n    if (typeof obj.length !== 'number' || numberIsNaN(obj.length)) {\n      return createBuffer(0)\n    }\n    return fromArrayLike(obj)\n  }\n\n  if (obj.type === 'Buffer' && Array.isArray(obj.data)) {\n    return fromArrayLike(obj.data)\n  }\n}\n\nfunction checked (length) {\n  // Note: cannot use `length < K_MAX_LENGTH` here because that fails when\n  // length is NaN (which is otherwise coerced to zero.)\n  if (length >= K_MAX_LENGTH) {\n    throw new RangeError('Attempt to allocate Buffer larger than maximum ' +\n                         'size: 0x' + K_MAX_LENGTH.toString(16) + ' bytes')\n  }\n  return length | 0\n}\n\nfunction SlowBuffer (length) {\n  if (+length != length) { // eslint-disable-line eqeqeq\n    length = 0\n  }\n  return Buffer.alloc(+length)\n}\n\nBuffer.isBuffer = function isBuffer (b) {\n  return b != null && b._isBuffer === true &&\n    b !== Buffer.prototype // so Buffer.isBuffer(Buffer.prototype) will be false\n}\n\nBuffer.compare = function compare (a, b) {\n  if (isInstance(a, Uint8Array)) a = Buffer.from(a, a.offset, a.byteLength)\n  if (isInstance(b, Uint8Array)) b = Buffer.from(b, b.offset, b.byteLength)\n  if (!Buffer.isBuffer(a) || !Buffer.isBuffer(b)) {\n    throw new TypeError(\n      'The \"buf1\", \"buf2\" arguments must be one of type Buffer or Uint8Array'\n    )\n  }\n\n  if (a === b) return 0\n\n  var x = a.length\n  var y = b.length\n\n  for (var i = 0, len = Math.min(x, y); i < len; ++i) {\n    if (a[i] !== b[i]) {\n      x = a[i]\n      y = b[i]\n      break\n    }\n  }\n\n  if (x < y) return -1\n  if (y < x) return 1\n  return 0\n}\n\nBuffer.isEncoding = function isEncoding (encoding) {\n  switch (String(encoding).toLowerCase()) {\n    case 'hex':\n    case 'utf8':\n    case 'utf-8':\n    case 'ascii':\n    case 'latin1':\n    case 'binary':\n    case 'base64':\n    case 'ucs2':\n    case 'ucs-2':\n    case 'utf16le':\n    case 'utf-16le':\n      return true\n    default:\n      return false\n  }\n}\n\nBuffer.concat = function concat (list, length) {\n  if (!Array.isArray(list)) {\n    throw new TypeError('\"list\" argument must be an Array of Buffers')\n  }\n\n  if (list.length === 0) {\n    return Buffer.alloc(0)\n  }\n\n  var i\n  if (length === undefined) {\n    length = 0\n    for (i = 0; i < list.length; ++i) {\n      length += list[i].length\n    }\n  }\n\n  var buffer = Buffer.allocUnsafe(length)\n  var pos = 0\n  for (i = 0; i < list.length; ++i) {\n    var buf = list[i]\n    if (isInstance(buf, Uint8Array)) {\n      if (pos + buf.length > buffer.length) {\n        Buffer.from(buf).copy(buffer, pos)\n      } else {\n        Uint8Array.prototype.set.call(\n          buffer,\n          buf,\n          pos\n        )\n      }\n    } else if (!Buffer.isBuffer(buf)) {\n      throw new TypeError('\"list\" argument must be an Array of Buffers')\n    } else {\n      buf.copy(buffer, pos)\n    }\n    pos += buf.length\n  }\n  return buffer\n}\n\nfunction byteLength (string, encoding) {\n  if (Buffer.isBuffer(string)) {\n    return string.length\n  }\n  if (ArrayBuffer.isView(string) || isInstance(string, ArrayBuffer)) {\n    return string.byteLength\n  }\n  if (typeof string !== 'string') {\n    throw new TypeError(\n      'The \"string\" argument must be one of type string, Buffer, or ArrayBuffer. ' +\n      'Received type ' + typeof string\n    )\n  }\n\n  var len = string.length\n  var mustMatch = (arguments.length > 2 && arguments[2] === true)\n  if (!mustMatch && len === 0) return 0\n\n  // Use a for loop to avoid recursion\n  var loweredCase = false\n  for (;;) {\n    switch (encoding) {\n      case 'ascii':\n      case 'latin1':\n      case 'binary':\n        return len\n      case 'utf8':\n      case 'utf-8':\n        return utf8ToBytes(string).length\n      case 'ucs2':\n      case 'ucs-2':\n      case 'utf16le':\n      case 'utf-16le':\n        return len * 2\n      case 'hex':\n        return len >>> 1\n      case 'base64':\n        return base64ToBytes(string).length\n      default:\n        if (loweredCase) {\n          return mustMatch ? -1 : utf8ToBytes(string).length // assume utf8\n        }\n        encoding = ('' + encoding).toLowerCase()\n        loweredCase = true\n    }\n  }\n}\nBuffer.byteLength = byteLength\n\nfunction slowToString (encoding, start, end) {\n  var loweredCase = false\n\n  // No need to verify that \"this.length <= MAX_UINT32\" since it's a read-only\n  // property of a typed array.\n\n  // This behaves neither like String nor Uint8Array in that we set start/end\n  // to their upper/lower bounds if the value passed is out of range.\n  // undefined is handled specially as per ECMA-262 6th Edition,\n  // Section 13.3.3.7 Runtime Semantics: KeyedBindingInitialization.\n  if (start === undefined || start < 0) {\n    start = 0\n  }\n  // Return early if start > this.length. Done here to prevent potential uint32\n  // coercion fail below.\n  if (start > this.length) {\n    return ''\n  }\n\n  if (end === undefined || end > this.length) {\n    end = this.length\n  }\n\n  if (end <= 0) {\n    return ''\n  }\n\n  // Force coercion to uint32. This will also coerce falsey/NaN values to 0.\n  end >>>= 0\n  start >>>= 0\n\n  if (end <= start) {\n    return ''\n  }\n\n  if (!encoding) encoding = 'utf8'\n\n  while (true) {\n    switch (encoding) {\n      case 'hex':\n        return hexSlice(this, start, end)\n\n      case 'utf8':\n      case 'utf-8':\n        return utf8Slice(this, start, end)\n\n      case 'ascii':\n        return asciiSlice(this, start, end)\n\n      case 'latin1':\n      case 'binary':\n        return latin1Slice(this, start, end)\n\n      case 'base64':\n        return base64Slice(this, start, end)\n\n      case 'ucs2':\n      case 'ucs-2':\n      case 'utf16le':\n      case 'utf-16le':\n        return utf16leSlice(this, start, end)\n\n      default:\n        if (loweredCase) throw new TypeError('Unknown encoding: ' + encoding)\n        encoding = (encoding + '').toLowerCase()\n        loweredCase = true\n    }\n  }\n}\n\n// This property is used by `Buffer.isBuffer` (and the `is-buffer` npm package)\n// to detect a Buffer instance. It's not possible to use `instanceof Buffer`\n// reliably in a browserify context because there could be multiple different\n// copies of the 'buffer' package in use. This method works even for Buffer\n// instances that were created from another copy of the `buffer` package.\n// See: https://github.com/feross/buffer/issues/154\nBuffer.prototype._isBuffer = true\n\nfunction swap (b, n, m) {\n  var i = b[n]\n  b[n] = b[m]\n  b[m] = i\n}\n\nBuffer.prototype.swap16 = function swap16 () {\n  var len = this.length\n  if (len % 2 !== 0) {\n    throw new RangeError('Buffer size must be a multiple of 16-bits')\n  }\n  for (var i = 0; i < len; i += 2) {\n    swap(this, i, i + 1)\n  }\n  return this\n}\n\nBuffer.prototype.swap32 = function swap32 () {\n  var len = this.length\n  if (len % 4 !== 0) {\n    throw new RangeError('Buffer size must be a multiple of 32-bits')\n  }\n  for (var i = 0; i < len; i += 4) {\n    swap(this, i, i + 3)\n    swap(this, i + 1, i + 2)\n  }\n  return this\n}\n\nBuffer.prototype.swap64 = function swap64 () {\n  var len = this.length\n  if (len % 8 !== 0) {\n    throw new RangeError('Buffer size must be a multiple of 64-bits')\n  }\n  for (var i = 0; i < len; i += 8) {\n    swap(this, i, i + 7)\n    swap(this, i + 1, i + 6)\n    swap(this, i + 2, i + 5)\n    swap(this, i + 3, i + 4)\n  }\n  return this\n}\n\nBuffer.prototype.toString = function toString () {\n  var length = this.length\n  if (length === 0) return ''\n  if (arguments.length === 0) return utf8Slice(this, 0, length)\n  return slowToString.apply(this, arguments)\n}\n\nBuffer.prototype.toLocaleString = Buffer.prototype.toString\n\nBuffer.prototype.equals = function equals (b) {\n  if (!Buffer.isBuffer(b)) throw new TypeError('Argument must be a Buffer')\n  if (this === b) return true\n  return Buffer.compare(this, b) === 0\n}\n\nBuffer.prototype.inspect = function inspect () {\n  var str = ''\n  var max = exports.INSPECT_MAX_BYTES\n  str = this.toString('hex', 0, max).replace(/(.{2})/g, '$1 ').trim()\n  if (this.length > max) str += ' ... '\n  return '<Buffer ' + str + '>'\n}\nif (customInspectSymbol) {\n  Buffer.prototype[customInspectSymbol] = Buffer.prototype.inspect\n}\n\nBuffer.prototype.compare = function compare (target, start, end, thisStart, thisEnd) {\n  if (isInstance(target, Uint8Array)) {\n    target = Buffer.from(target, target.offset, target.byteLength)\n  }\n  if (!Buffer.isBuffer(target)) {\n    throw new TypeError(\n      'The \"target\" argument must be one of type Buffer or Uint8Array. ' +\n      'Received type ' + (typeof target)\n    )\n  }\n\n  if (start === undefined) {\n    start = 0\n  }\n  if (end === undefined) {\n    end = target ? target.length : 0\n  }\n  if (thisStart === undefined) {\n    thisStart = 0\n  }\n  if (thisEnd === undefined) {\n    thisEnd = this.length\n  }\n\n  if (start < 0 || end > target.length || thisStart < 0 || thisEnd > this.length) {\n    throw new RangeError('out of range index')\n  }\n\n  if (thisStart >= thisEnd && start >= end) {\n    return 0\n  }\n  if (thisStart >= thisEnd) {\n    return -1\n  }\n  if (start >= end) {\n    return 1\n  }\n\n  start >>>= 0\n  end >>>= 0\n  thisStart >>>= 0\n  thisEnd >>>= 0\n\n  if (this === target) return 0\n\n  var x = thisEnd - thisStart\n  var y = end - start\n  var len = Math.min(x, y)\n\n  var thisCopy = this.slice(thisStart, thisEnd)\n  var targetCopy = target.slice(start, end)\n\n  for (var i = 0; i < len; ++i) {\n    if (thisCopy[i] !== targetCopy[i]) {\n      x = thisCopy[i]\n      y = targetCopy[i]\n      break\n    }\n  }\n\n  if (x < y) return -1\n  if (y < x) return 1\n  return 0\n}\n\n// Finds either the first index of `val` in `buffer` at offset >= `byteOffset`,\n// OR the last index of `val` in `buffer` at offset <= `byteOffset`.\n//\n// Arguments:\n// - buffer - a Buffer to search\n// - val - a string, Buffer, or number\n// - byteOffset - an index into `buffer`; will be clamped to an int32\n// - encoding - an optional encoding, relevant is val is a string\n// - dir - true for indexOf, false for lastIndexOf\nfunction bidirectionalIndexOf (buffer, val, byteOffset, encoding, dir) {\n  // Empty buffer means no match\n  if (buffer.length === 0) return -1\n\n  // Normalize byteOffset\n  if (typeof byteOffset === 'string') {\n    encoding = byteOffset\n    byteOffset = 0\n  } else if (byteOffset > 0x7fffffff) {\n    byteOffset = 0x7fffffff\n  } else if (byteOffset < -0x80000000) {\n    byteOffset = -0x80000000\n  }\n  byteOffset = +byteOffset // Coerce to Number.\n  if (numberIsNaN(byteOffset)) {\n    // byteOffset: it it's undefined, null, NaN, \"foo\", etc, search whole buffer\n    byteOffset = dir ? 0 : (buffer.length - 1)\n  }\n\n  // Normalize byteOffset: negative offsets start from the end of the buffer\n  if (byteOffset < 0) byteOffset = buffer.length + byteOffset\n  if (byteOffset >= buffer.length) {\n    if (dir) return -1\n    else byteOffset = buffer.length - 1\n  } else if (byteOffset < 0) {\n    if (dir) byteOffset = 0\n    else return -1\n  }\n\n  // Normalize val\n  if (typeof val === 'string') {\n    val = Buffer.from(val, encoding)\n  }\n\n  // Finally, search either indexOf (if dir is true) or lastIndexOf\n  if (Buffer.isBuffer(val)) {\n    // Special case: looking for empty string/buffer always fails\n    if (val.length === 0) {\n      return -1\n    }\n    return arrayIndexOf(buffer, val, byteOffset, encoding, dir)\n  } else if (typeof val === 'number') {\n    val = val & 0xFF // Search for a byte value [0-255]\n    if (typeof Uint8Array.prototype.indexOf === 'function') {\n      if (dir) {\n        return Uint8Array.prototype.indexOf.call(buffer, val, byteOffset)\n      } else {\n        return Uint8Array.prototype.lastIndexOf.call(buffer, val, byteOffset)\n      }\n    }\n    return arrayIndexOf(buffer, [val], byteOffset, encoding, dir)\n  }\n\n  throw new TypeError('val must be string, number or Buffer')\n}\n\nfunction arrayIndexOf (arr, val, byteOffset, encoding, dir) {\n  var indexSize = 1\n  var arrLength = arr.length\n  var valLength = val.length\n\n  if (encoding !== undefined) {\n    encoding = String(encoding).toLowerCase()\n    if (encoding === 'ucs2' || encoding === 'ucs-2' ||\n        encoding === 'utf16le' || encoding === 'utf-16le') {\n      if (arr.length < 2 || val.length < 2) {\n        return -1\n      }\n      indexSize = 2\n      arrLength /= 2\n      valLength /= 2\n      byteOffset /= 2\n    }\n  }\n\n  function read (buf, i) {\n    if (indexSize === 1) {\n      return buf[i]\n    } else {\n      return buf.readUInt16BE(i * indexSize)\n    }\n  }\n\n  var i\n  if (dir) {\n    var foundIndex = -1\n    for (i = byteOffset; i < arrLength; i++) {\n      if (read(arr, i) === read(val, foundIndex === -1 ? 0 : i - foundIndex)) {\n        if (foundIndex === -1) foundIndex = i\n        if (i - foundIndex + 1 === valLength) return foundIndex * indexSize\n      } else {\n        if (foundIndex !== -1) i -= i - foundIndex\n        foundIndex = -1\n      }\n    }\n  } else {\n    if (byteOffset + valLength > arrLength) byteOffset = arrLength - valLength\n    for (i = byteOffset; i >= 0; i--) {\n      var found = true\n      for (var j = 0; j < valLength; j++) {\n        if (read(arr, i + j) !== read(val, j)) {\n          found = false\n          break\n        }\n      }\n      if (found) return i\n    }\n  }\n\n  return -1\n}\n\nBuffer.prototype.includes = function includes (val, byteOffset, encoding) {\n  return this.indexOf(val, byteOffset, encoding) !== -1\n}\n\nBuffer.prototype.indexOf = function indexOf (val, byteOffset, encoding) {\n  return bidirectionalIndexOf(this, val, byteOffset, encoding, true)\n}\n\nBuffer.prototype.lastIndexOf = function lastIndexOf (val, byteOffset, encoding) {\n  return bidirectionalIndexOf(this, val, byteOffset, encoding, false)\n}\n\nfunction hexWrite (buf, string, offset, length) {\n  offset = Number(offset) || 0\n  var remaining = buf.length - offset\n  if (!length) {\n    length = remaining\n  } else {\n    length = Number(length)\n    if (length > remaining) {\n      length = remaining\n    }\n  }\n\n  var strLen = string.length\n\n  if (length > strLen / 2) {\n    length = strLen / 2\n  }\n  for (var i = 0; i < length; ++i) {\n    var parsed = parseInt(string.substr(i * 2, 2), 16)\n    if (numberIsNaN(parsed)) return i\n    buf[offset + i] = parsed\n  }\n  return i\n}\n\nfunction utf8Write (buf, string, offset, length) {\n  return blitBuffer(utf8ToBytes(string, buf.length - offset), buf, offset, length)\n}\n\nfunction asciiWrite (buf, string, offset, length) {\n  return blitBuffer(asciiToBytes(string), buf, offset, length)\n}\n\nfunction base64Write (buf, string, offset, length) {\n  return blitBuffer(base64ToBytes(string), buf, offset, length)\n}\n\nfunction ucs2Write (buf, string, offset, length) {\n  return blitBuffer(utf16leToBytes(string, buf.length - offset), buf, offset, length)\n}\n\nBuffer.prototype.write = function write (string, offset, length, encoding) {\n  // Buffer#write(string)\n  if (offset === undefined) {\n    encoding = 'utf8'\n    length = this.length\n    offset = 0\n  // Buffer#write(string, encoding)\n  } else if (length === undefined && typeof offset === 'string') {\n    encoding = offset\n    length = this.length\n    offset = 0\n  // Buffer#write(string, offset[, length][, encoding])\n  } else if (isFinite(offset)) {\n    offset = offset >>> 0\n    if (isFinite(length)) {\n      length = length >>> 0\n      if (encoding === undefined) encoding = 'utf8'\n    } else {\n      encoding = length\n      length = undefined\n    }\n  } else {\n    throw new Error(\n      'Buffer.write(string, encoding, offset[, length]) is no longer supported'\n    )\n  }\n\n  var remaining = this.length - offset\n  if (length === undefined || length > remaining) length = remaining\n\n  if ((string.length > 0 && (length < 0 || offset < 0)) || offset > this.length) {\n    throw new RangeError('Attempt to write outside buffer bounds')\n  }\n\n  if (!encoding) encoding = 'utf8'\n\n  var loweredCase = false\n  for (;;) {\n    switch (encoding) {\n      case 'hex':\n        return hexWrite(this, string, offset, length)\n\n      case 'utf8':\n      case 'utf-8':\n        return utf8Write(this, string, offset, length)\n\n      case 'ascii':\n      case 'latin1':\n      case 'binary':\n        return asciiWrite(this, string, offset, length)\n\n      case 'base64':\n        // Warning: maxLength not taken into account in base64Write\n        return base64Write(this, string, offset, length)\n\n      case 'ucs2':\n      case 'ucs-2':\n      case 'utf16le':\n      case 'utf-16le':\n        return ucs2Write(this, string, offset, length)\n\n      default:\n        if (loweredCase) throw new TypeError('Unknown encoding: ' + encoding)\n        encoding = ('' + encoding).toLowerCase()\n        loweredCase = true\n    }\n  }\n}\n\nBuffer.prototype.toJSON = function toJSON () {\n  return {\n    type: 'Buffer',\n    data: Array.prototype.slice.call(this._arr || this, 0)\n  }\n}\n\nfunction base64Slice (buf, start, end) {\n  if (start === 0 && end === buf.length) {\n    return base64.fromByteArray(buf)\n  } else {\n    return base64.fromByteArray(buf.slice(start, end))\n  }\n}\n\nfunction utf8Slice (buf, start, end) {\n  end = Math.min(buf.length, end)\n  var res = []\n\n  var i = start\n  while (i < end) {\n    var firstByte = buf[i]\n    var codePoint = null\n    var bytesPerSequence = (firstByte > 0xEF)\n      ? 4\n      : (firstByte > 0xDF)\n          ? 3\n          : (firstByte > 0xBF)\n              ? 2\n              : 1\n\n    if (i + bytesPerSequence <= end) {\n      var secondByte, thirdByte, fourthByte, tempCodePoint\n\n      switch (bytesPerSequence) {\n        case 1:\n          if (firstByte < 0x80) {\n            codePoint = firstByte\n          }\n          break\n        case 2:\n          secondByte = buf[i + 1]\n          if ((secondByte & 0xC0) === 0x80) {\n            tempCodePoint = (firstByte & 0x1F) << 0x6 | (secondByte & 0x3F)\n            if (tempCodePoint > 0x7F) {\n              codePoint = tempCodePoint\n            }\n          }\n          break\n        case 3:\n          secondByte = buf[i + 1]\n          thirdByte = buf[i + 2]\n          if ((secondByte & 0xC0) === 0x80 && (thirdByte & 0xC0) === 0x80) {\n            tempCodePoint = (firstByte & 0xF) << 0xC | (secondByte & 0x3F) << 0x6 | (thirdByte & 0x3F)\n            if (tempCodePoint > 0x7FF && (tempCodePoint < 0xD800 || tempCodePoint > 0xDFFF)) {\n              codePoint = tempCodePoint\n            }\n          }\n          break\n        case 4:\n          secondByte = buf[i + 1]\n          thirdByte = buf[i + 2]\n          fourthByte = buf[i + 3]\n          if ((secondByte & 0xC0) === 0x80 && (thirdByte & 0xC0) === 0x80 && (fourthByte & 0xC0) === 0x80) {\n            tempCodePoint = (firstByte & 0xF) << 0x12 | (secondByte & 0x3F) << 0xC | (thirdByte & 0x3F) << 0x6 | (fourthByte & 0x3F)\n            if (tempCodePoint > 0xFFFF && tempCodePoint < 0x110000) {\n              codePoint = tempCodePoint\n            }\n          }\n      }\n    }\n\n    if (codePoint === null) {\n      // we did not generate a valid codePoint so insert a\n      // replacement char (U+FFFD) and advance only 1 byte\n      codePoint = 0xFFFD\n      bytesPerSequence = 1\n    } else if (codePoint > 0xFFFF) {\n      // encode to utf16 (surrogate pair dance)\n      codePoint -= 0x10000\n      res.push(codePoint >>> 10 & 0x3FF | 0xD800)\n      codePoint = 0xDC00 | codePoint & 0x3FF\n    }\n\n    res.push(codePoint)\n    i += bytesPerSequence\n  }\n\n  return decodeCodePointsArray(res)\n}\n\n// Based on http://stackoverflow.com/a/22747272/680742, the browser with\n// the lowest limit is Chrome, with 0x10000 args.\n// We go 1 magnitude less, for safety\nvar MAX_ARGUMENTS_LENGTH = 0x1000\n\nfunction decodeCodePointsArray (codePoints) {\n  var len = codePoints.length\n  if (len <= MAX_ARGUMENTS_LENGTH) {\n    return String.fromCharCode.apply(String, codePoints) // avoid extra slice()\n  }\n\n  // Decode in chunks to avoid \"call stack size exceeded\".\n  var res = ''\n  var i = 0\n  while (i < len) {\n    res += String.fromCharCode.apply(\n      String,\n      codePoints.slice(i, i += MAX_ARGUMENTS_LENGTH)\n    )\n  }\n  return res\n}\n\nfunction asciiSlice (buf, start, end) {\n  var ret = ''\n  end = Math.min(buf.length, end)\n\n  for (var i = start; i < end; ++i) {\n    ret += String.fromCharCode(buf[i] & 0x7F)\n  }\n  return ret\n}\n\nfunction latin1Slice (buf, start, end) {\n  var ret = ''\n  end = Math.min(buf.length, end)\n\n  for (var i = start; i < end; ++i) {\n    ret += String.fromCharCode(buf[i])\n  }\n  return ret\n}\n\nfunction hexSlice (buf, start, end) {\n  var len = buf.length\n\n  if (!start || start < 0) start = 0\n  if (!end || end < 0 || end > len) end = len\n\n  var out = ''\n  for (var i = start; i < end; ++i) {\n    out += hexSliceLookupTable[buf[i]]\n  }\n  return out\n}\n\nfunction utf16leSlice (buf, start, end) {\n  var bytes = buf.slice(start, end)\n  var res = ''\n  // If bytes.length is odd, the last 8 bits must be ignored (same as node.js)\n  for (var i = 0; i < bytes.length - 1; i += 2) {\n    res += String.fromCharCode(bytes[i] + (bytes[i + 1] * 256))\n  }\n  return res\n}\n\nBuffer.prototype.slice = function slice (start, end) {\n  var len = this.length\n  start = ~~start\n  end = end === undefined ? len : ~~end\n\n  if (start < 0) {\n    start += len\n    if (start < 0) start = 0\n  } else if (start > len) {\n    start = len\n  }\n\n  if (end < 0) {\n    end += len\n    if (end < 0) end = 0\n  } else if (end > len) {\n    end = len\n  }\n\n  if (end < start) end = start\n\n  var newBuf = this.subarray(start, end)\n  // Return an augmented `Uint8Array` instance\n  Object.setPrototypeOf(newBuf, Buffer.prototype)\n\n  return newBuf\n}\n\n/*\n * Need to make sure that buffer isn't trying to write out of bounds.\n */\nfunction checkOffset (offset, ext, length) {\n  if ((offset % 1) !== 0 || offset < 0) throw new RangeError('offset is not uint')\n  if (offset + ext > length) throw new RangeError('Trying to access beyond buffer length')\n}\n\nBuffer.prototype.readUintLE =\nBuffer.prototype.readUIntLE = function readUIntLE (offset, byteLength, noAssert) {\n  offset = offset >>> 0\n  byteLength = byteLength >>> 0\n  if (!noAssert) checkOffset(offset, byteLength, this.length)\n\n  var val = this[offset]\n  var mul = 1\n  var i = 0\n  while (++i < byteLength && (mul *= 0x100)) {\n    val += this[offset + i] * mul\n  }\n\n  return val\n}\n\nBuffer.prototype.readUintBE =\nBuffer.prototype.readUIntBE = function readUIntBE (offset, byteLength, noAssert) {\n  offset = offset >>> 0\n  byteLength = byteLength >>> 0\n  if (!noAssert) {\n    checkOffset(offset, byteLength, this.length)\n  }\n\n  var val = this[offset + --byteLength]\n  var mul = 1\n  while (byteLength > 0 && (mul *= 0x100)) {\n    val += this[offset + --byteLength] * mul\n  }\n\n  return val\n}\n\nBuffer.prototype.readUint8 =\nBuffer.prototype.readUInt8 = function readUInt8 (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 1, this.length)\n  return this[offset]\n}\n\nBuffer.prototype.readUint16LE =\nBuffer.prototype.readUInt16LE = function readUInt16LE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  return this[offset] | (this[offset + 1] << 8)\n}\n\nBuffer.prototype.readUint16BE =\nBuffer.prototype.readUInt16BE = function readUInt16BE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  return (this[offset] << 8) | this[offset + 1]\n}\n\nBuffer.prototype.readUint32LE =\nBuffer.prototype.readUInt32LE = function readUInt32LE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return ((this[offset]) |\n      (this[offset + 1] << 8) |\n      (this[offset + 2] << 16)) +\n      (this[offset + 3] * 0x1000000)\n}\n\nBuffer.prototype.readUint32BE =\nBuffer.prototype.readUInt32BE = function readUInt32BE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return (this[offset] * 0x1000000) +\n    ((this[offset + 1] << 16) |\n    (this[offset + 2] << 8) |\n    this[offset + 3])\n}\n\nBuffer.prototype.readIntLE = function readIntLE (offset, byteLength, noAssert) {\n  offset = offset >>> 0\n  byteLength = byteLength >>> 0\n  if (!noAssert) checkOffset(offset, byteLength, this.length)\n\n  var val = this[offset]\n  var mul = 1\n  var i = 0\n  while (++i < byteLength && (mul *= 0x100)) {\n    val += this[offset + i] * mul\n  }\n  mul *= 0x80\n\n  if (val >= mul) val -= Math.pow(2, 8 * byteLength)\n\n  return val\n}\n\nBuffer.prototype.readIntBE = function readIntBE (offset, byteLength, noAssert) {\n  offset = offset >>> 0\n  byteLength = byteLength >>> 0\n  if (!noAssert) checkOffset(offset, byteLength, this.length)\n\n  var i = byteLength\n  var mul = 1\n  var val = this[offset + --i]\n  while (i > 0 && (mul *= 0x100)) {\n    val += this[offset + --i] * mul\n  }\n  mul *= 0x80\n\n  if (val >= mul) val -= Math.pow(2, 8 * byteLength)\n\n  return val\n}\n\nBuffer.prototype.readInt8 = function readInt8 (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 1, this.length)\n  if (!(this[offset] & 0x80)) return (this[offset])\n  return ((0xff - this[offset] + 1) * -1)\n}\n\nBuffer.prototype.readInt16LE = function readInt16LE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  var val = this[offset] | (this[offset + 1] << 8)\n  return (val & 0x8000) ? val | 0xFFFF0000 : val\n}\n\nBuffer.prototype.readInt16BE = function readInt16BE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  var val = this[offset + 1] | (this[offset] << 8)\n  return (val & 0x8000) ? val | 0xFFFF0000 : val\n}\n\nBuffer.prototype.readInt32LE = function readInt32LE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return (this[offset]) |\n    (this[offset + 1] << 8) |\n    (this[offset + 2] << 16) |\n    (this[offset + 3] << 24)\n}\n\nBuffer.prototype.readInt32BE = function readInt32BE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return (this[offset] << 24) |\n    (this[offset + 1] << 16) |\n    (this[offset + 2] << 8) |\n    (this[offset + 3])\n}\n\nBuffer.prototype.readFloatLE = function readFloatLE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 4, this.length)\n  return ieee754.read(this, offset, true, 23, 4)\n}\n\nBuffer.prototype.readFloatBE = function readFloatBE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 4, this.length)\n  return ieee754.read(this, offset, false, 23, 4)\n}\n\nBuffer.prototype.readDoubleLE = function readDoubleLE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 8, this.length)\n  return ieee754.read(this, offset, true, 52, 8)\n}\n\nBuffer.prototype.readDoubleBE = function readDoubleBE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 8, this.length)\n  return ieee754.read(this, offset, false, 52, 8)\n}\n\nfunction checkInt (buf, value, offset, ext, max, min) {\n  if (!Buffer.isBuffer(buf)) throw new TypeError('\"buffer\" argument must be a Buffer instance')\n  if (value > max || value < min) throw new RangeError('\"value\" argument is out of bounds')\n  if (offset + ext > buf.length) throw new RangeError('Index out of range')\n}\n\nBuffer.prototype.writeUintLE =\nBuffer.prototype.writeUIntLE = function writeUIntLE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  byteLength = byteLength >>> 0\n  if (!noAssert) {\n    var maxBytes = Math.pow(2, 8 * byteLength) - 1\n    checkInt(this, value, offset, byteLength, maxBytes, 0)\n  }\n\n  var mul = 1\n  var i = 0\n  this[offset] = value & 0xFF\n  while (++i < byteLength && (mul *= 0x100)) {\n    this[offset + i] = (value / mul) & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeUintBE =\nBuffer.prototype.writeUIntBE = function writeUIntBE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  byteLength = byteLength >>> 0\n  if (!noAssert) {\n    var maxBytes = Math.pow(2, 8 * byteLength) - 1\n    checkInt(this, value, offset, byteLength, maxBytes, 0)\n  }\n\n  var i = byteLength - 1\n  var mul = 1\n  this[offset + i] = value & 0xFF\n  while (--i >= 0 && (mul *= 0x100)) {\n    this[offset + i] = (value / mul) & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeUint8 =\nBuffer.prototype.writeUInt8 = function writeUInt8 (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) checkInt(this, value, offset, 1, 0xff, 0)\n  this[offset] = (value & 0xff)\n  return offset + 1\n}\n\nBuffer.prototype.writeUint16LE =\nBuffer.prototype.writeUInt16LE = function writeUInt16LE (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0xffff, 0)\n  this[offset] = (value & 0xff)\n  this[offset + 1] = (value >>> 8)\n  return offset + 2\n}\n\nBuffer.prototype.writeUint16BE =\nBuffer.prototype.writeUInt16BE = function writeUInt16BE (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0xffff, 0)\n  this[offset] = (value >>> 8)\n  this[offset + 1] = (value & 0xff)\n  return offset + 2\n}\n\nBuffer.prototype.writeUint32LE =\nBuffer.prototype.writeUInt32LE = function writeUInt32LE (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0xffffffff, 0)\n  this[offset + 3] = (value >>> 24)\n  this[offset + 2] = (value >>> 16)\n  this[offset + 1] = (value >>> 8)\n  this[offset] = (value & 0xff)\n  return offset + 4\n}\n\nBuffer.prototype.writeUint32BE =\nBuffer.prototype.writeUInt32BE = function writeUInt32BE (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0xffffffff, 0)\n  this[offset] = (value >>> 24)\n  this[offset + 1] = (value >>> 16)\n  this[offset + 2] = (value >>> 8)\n  this[offset + 3] = (value & 0xff)\n  return offset + 4\n}\n\nBuffer.prototype.writeIntLE = function writeIntLE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) {\n    var limit = Math.pow(2, (8 * byteLength) - 1)\n\n    checkInt(this, value, offset, byteLength, limit - 1, -limit)\n  }\n\n  var i = 0\n  var mul = 1\n  var sub = 0\n  this[offset] = value & 0xFF\n  while (++i < byteLength && (mul *= 0x100)) {\n    if (value < 0 && sub === 0 && this[offset + i - 1] !== 0) {\n      sub = 1\n    }\n    this[offset + i] = ((value / mul) >> 0) - sub & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeIntBE = function writeIntBE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) {\n    var limit = Math.pow(2, (8 * byteLength) - 1)\n\n    checkInt(this, value, offset, byteLength, limit - 1, -limit)\n  }\n\n  var i = byteLength - 1\n  var mul = 1\n  var sub = 0\n  this[offset + i] = value & 0xFF\n  while (--i >= 0 && (mul *= 0x100)) {\n    if (value < 0 && sub === 0 && this[offset + i + 1] !== 0) {\n      sub = 1\n    }\n    this[offset + i] = ((value / mul) >> 0) - sub & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeInt8 = function writeInt8 (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) checkInt(this, value, offset, 1, 0x7f, -0x80)\n  if (value < 0) value = 0xff + value + 1\n  this[offset] = (value & 0xff)\n  return offset + 1\n}\n\nBuffer.prototype.writeInt16LE = function writeInt16LE (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0x7fff, -0x8000)\n  this[offset] = (value & 0xff)\n  this[offset + 1] = (value >>> 8)\n  return offset + 2\n}\n\nBuffer.prototype.writeInt16BE = function writeInt16BE (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0x7fff, -0x8000)\n  this[offset] = (value >>> 8)\n  this[offset + 1] = (value & 0xff)\n  return offset + 2\n}\n\nBuffer.prototype.writeInt32LE = function writeInt32LE (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0x7fffffff, -0x80000000)\n  this[offset] = (value & 0xff)\n  this[offset + 1] = (value >>> 8)\n  this[offset + 2] = (value >>> 16)\n  this[offset + 3] = (value >>> 24)\n  return offset + 4\n}\n\nBuffer.prototype.writeInt32BE = function writeInt32BE (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0x7fffffff, -0x80000000)\n  if (value < 0) value = 0xffffffff + value + 1\n  this[offset] = (value >>> 24)\n  this[offset + 1] = (value >>> 16)\n  this[offset + 2] = (value >>> 8)\n  this[offset + 3] = (value & 0xff)\n  return offset + 4\n}\n\nfunction checkIEEE754 (buf, value, offset, ext, max, min) {\n  if (offset + ext > buf.length) throw new RangeError('Index out of range')\n  if (offset < 0) throw new RangeError('Index out of range')\n}\n\nfunction writeFloat (buf, value, offset, littleEndian, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) {\n    checkIEEE754(buf, value, offset, 4, 3.4028234663852886e+38, -3.4028234663852886e+38)\n  }\n  ieee754.write(buf, value, offset, littleEndian, 23, 4)\n  return offset + 4\n}\n\nBuffer.prototype.writeFloatLE = function writeFloatLE (value, offset, noAssert) {\n  return writeFloat(this, value, offset, true, noAssert)\n}\n\nBuffer.prototype.writeFloatBE = function writeFloatBE (value, offset, noAssert) {\n  return writeFloat(this, value, offset, false, noAssert)\n}\n\nfunction writeDouble (buf, value, offset, littleEndian, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) {\n    checkIEEE754(buf, value, offset, 8, 1.7976931348623157E+308, -1.7976931348623157E+308)\n  }\n  ieee754.write(buf, value, offset, littleEndian, 52, 8)\n  return offset + 8\n}\n\nBuffer.prototype.writeDoubleLE = function writeDoubleLE (value, offset, noAssert) {\n  return writeDouble(this, value, offset, true, noAssert)\n}\n\nBuffer.prototype.writeDoubleBE = function writeDoubleBE (value, offset, noAssert) {\n  return writeDouble(this, value, offset, false, noAssert)\n}\n\n// copy(targetBuffer, targetStart=0, sourceStart=0, sourceEnd=buffer.length)\nBuffer.prototype.copy = function copy (target, targetStart, start, end) {\n  if (!Buffer.isBuffer(target)) throw new TypeError('argument should be a Buffer')\n  if (!start) start = 0\n  if (!end && end !== 0) end = this.length\n  if (targetStart >= target.length) targetStart = target.length\n  if (!targetStart) targetStart = 0\n  if (end > 0 && end < start) end = start\n\n  // Copy 0 bytes; we're done\n  if (end === start) return 0\n  if (target.length === 0 || this.length === 0) return 0\n\n  // Fatal error conditions\n  if (targetStart < 0) {\n    throw new RangeError('targetStart out of bounds')\n  }\n  if (start < 0 || start >= this.length) throw new RangeError('Index out of range')\n  if (end < 0) throw new RangeError('sourceEnd out of bounds')\n\n  // Are we oob?\n  if (end > this.length) end = this.length\n  if (target.length - targetStart < end - start) {\n    end = target.length - targetStart + start\n  }\n\n  var len = end - start\n\n  if (this === target && typeof Uint8Array.prototype.copyWithin === 'function') {\n    // Use built-in when available, missing from IE11\n    this.copyWithin(targetStart, start, end)\n  } else {\n    Uint8Array.prototype.set.call(\n      target,\n      this.subarray(start, end),\n      targetStart\n    )\n  }\n\n  return len\n}\n\n// Usage:\n//    buffer.fill(number[, offset[, end]])\n//    buffer.fill(buffer[, offset[, end]])\n//    buffer.fill(string[, offset[, end]][, encoding])\nBuffer.prototype.fill = function fill (val, start, end, encoding) {\n  // Handle string cases:\n  if (typeof val === 'string') {\n    if (typeof start === 'string') {\n      encoding = start\n      start = 0\n      end = this.length\n    } else if (typeof end === 'string') {\n      encoding = end\n      end = this.length\n    }\n    if (encoding !== undefined && typeof encoding !== 'string') {\n      throw new TypeError('encoding must be a string')\n    }\n    if (typeof encoding === 'string' && !Buffer.isEncoding(encoding)) {\n      throw new TypeError('Unknown encoding: ' + encoding)\n    }\n    if (val.length === 1) {\n      var code = val.charCodeAt(0)\n      if ((encoding === 'utf8' && code < 128) ||\n          encoding === 'latin1') {\n        // Fast path: If `val` fits into a single byte, use that numeric value.\n        val = code\n      }\n    }\n  } else if (typeof val === 'number') {\n    val = val & 255\n  } else if (typeof val === 'boolean') {\n    val = Number(val)\n  }\n\n  // Invalid ranges are not set to a default, so can range check early.\n  if (start < 0 || this.length < start || this.length < end) {\n    throw new RangeError('Out of range index')\n  }\n\n  if (end <= start) {\n    return this\n  }\n\n  start = start >>> 0\n  end = end === undefined ? this.length : end >>> 0\n\n  if (!val) val = 0\n\n  var i\n  if (typeof val === 'number') {\n    for (i = start; i < end; ++i) {\n      this[i] = val\n    }\n  } else {\n    var bytes = Buffer.isBuffer(val)\n      ? val\n      : Buffer.from(val, encoding)\n    var len = bytes.length\n    if (len === 0) {\n      throw new TypeError('The value \"' + val +\n        '\" is invalid for argument \"value\"')\n    }\n    for (i = 0; i < end - start; ++i) {\n      this[i + start] = bytes[i % len]\n    }\n  }\n\n  return this\n}\n\n// HELPER FUNCTIONS\n// ================\n\nvar INVALID_BASE64_RE = /[^+/0-9A-Za-z-_]/g\n\nfunction base64clean (str) {\n  // Node takes equal signs as end of the Base64 encoding\n  str = str.split('=')[0]\n  // Node strips out invalid characters like \\n and \\t from the string, base64-js does not\n  str = str.trim().replace(INVALID_BASE64_RE, '')\n  // Node converts strings with length < 2 to ''\n  if (str.length < 2) return ''\n  // Node allows for non-padded base64 strings (missing trailing ===), base64-js does not\n  while (str.length % 4 !== 0) {\n    str = str + '='\n  }\n  return str\n}\n\nfunction utf8ToBytes (string, units) {\n  units = units || Infinity\n  var codePoint\n  var length = string.length\n  var leadSurrogate = null\n  var bytes = []\n\n  for (var i = 0; i < length; ++i) {\n    codePoint = string.charCodeAt(i)\n\n    // is surrogate component\n    if (codePoint > 0xD7FF && codePoint < 0xE000) {\n      // last char was a lead\n      if (!leadSurrogate) {\n        // no lead yet\n        if (codePoint > 0xDBFF) {\n          // unexpected trail\n          if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n          continue\n        } else if (i + 1 === length) {\n          // unpaired lead\n          if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n          continue\n        }\n\n        // valid lead\n        leadSurrogate = codePoint\n\n        continue\n      }\n\n      // 2 leads in a row\n      if (codePoint < 0xDC00) {\n        if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n        leadSurrogate = codePoint\n        continue\n      }\n\n      // valid surrogate pair\n      codePoint = (leadSurrogate - 0xD800 << 10 | codePoint - 0xDC00) + 0x10000\n    } else if (leadSurrogate) {\n      // valid bmp char, but last char was a lead\n      if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n    }\n\n    leadSurrogate = null\n\n    // encode utf8\n    if (codePoint < 0x80) {\n      if ((units -= 1) < 0) break\n      bytes.push(codePoint)\n    } else if (codePoint < 0x800) {\n      if ((units -= 2) < 0) break\n      bytes.push(\n        codePoint >> 0x6 | 0xC0,\n        codePoint & 0x3F | 0x80\n      )\n    } else if (codePoint < 0x10000) {\n      if ((units -= 3) < 0) break\n      bytes.push(\n        codePoint >> 0xC | 0xE0,\n        codePoint >> 0x6 & 0x3F | 0x80,\n        codePoint & 0x3F | 0x80\n      )\n    } else if (codePoint < 0x110000) {\n      if ((units -= 4) < 0) break\n      bytes.push(\n        codePoint >> 0x12 | 0xF0,\n        codePoint >> 0xC & 0x3F | 0x80,\n        codePoint >> 0x6 & 0x3F | 0x80,\n        codePoint & 0x3F | 0x80\n      )\n    } else {\n      throw new Error('Invalid code point')\n    }\n  }\n\n  return bytes\n}\n\nfunction asciiToBytes (str) {\n  var byteArray = []\n  for (var i = 0; i < str.length; ++i) {\n    // Node's code seems to be doing this and not & 0x7F..\n    byteArray.push(str.charCodeAt(i) & 0xFF)\n  }\n  return byteArray\n}\n\nfunction utf16leToBytes (str, units) {\n  var c, hi, lo\n  var byteArray = []\n  for (var i = 0; i < str.length; ++i) {\n    if ((units -= 2) < 0) break\n\n    c = str.charCodeAt(i)\n    hi = c >> 8\n    lo = c % 256\n    byteArray.push(lo)\n    byteArray.push(hi)\n  }\n\n  return byteArray\n}\n\nfunction base64ToBytes (str) {\n  return base64.toByteArray(base64clean(str))\n}\n\nfunction blitBuffer (src, dst, offset, length) {\n  for (var i = 0; i < length; ++i) {\n    if ((i + offset >= dst.length) || (i >= src.length)) break\n    dst[i + offset] = src[i]\n  }\n  return i\n}\n\n// ArrayBuffer or Uint8Array objects from other contexts (i.e. iframes) do not pass\n// the `instanceof` check but they should be treated as of that type.\n// See: https://github.com/feross/buffer/issues/166\nfunction isInstance (obj, type) {\n  return obj instanceof type ||\n    (obj != null && obj.constructor != null && obj.constructor.name != null &&\n      obj.constructor.name === type.name)\n}\nfunction numberIsNaN (obj) {\n  // For IE11 support\n  return obj !== obj // eslint-disable-line no-self-compare\n}\n\n// Create lookup table for `toString('hex')`\n// See: https://github.com/feross/buffer/issues/219\nvar hexSliceLookupTable = (function () {\n  var alphabet = '0123456789abcdef'\n  var table = new Array(256)\n  for (var i = 0; i < 16; ++i) {\n    var i16 = i * 16\n    for (var j = 0; j < 16; ++j) {\n      table[i16 + j] = alphabet[i] + alphabet[j]\n    }\n  }\n  return table\n})()\n","/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */\nexports.read = function (buffer, offset, isLE, mLen, nBytes) {\n  var e, m\n  var eLen = (nBytes * 8) - mLen - 1\n  var eMax = (1 << eLen) - 1\n  var eBias = eMax >> 1\n  var nBits = -7\n  var i = isLE ? (nBytes - 1) : 0\n  var d = isLE ? -1 : 1\n  var s = buffer[offset + i]\n\n  i += d\n\n  e = s & ((1 << (-nBits)) - 1)\n  s >>= (-nBits)\n  nBits += eLen\n  for (; nBits > 0; e = (e * 256) + buffer[offset + i], i += d, nBits -= 8) {}\n\n  m = e & ((1 << (-nBits)) - 1)\n  e >>= (-nBits)\n  nBits += mLen\n  for (; nBits > 0; m = (m * 256) + buffer[offset + i], i += d, nBits -= 8) {}\n\n  if (e === 0) {\n    e = 1 - eBias\n  } else if (e === eMax) {\n    return m ? NaN : ((s ? -1 : 1) * Infinity)\n  } else {\n    m = m + Math.pow(2, mLen)\n    e = e - eBias\n  }\n  return (s ? -1 : 1) * m * Math.pow(2, e - mLen)\n}\n\nexports.write = function (buffer, value, offset, isLE, mLen, nBytes) {\n  var e, m, c\n  var eLen = (nBytes * 8) - mLen - 1\n  var eMax = (1 << eLen) - 1\n  var eBias = eMax >> 1\n  var rt = (mLen === 23 ? Math.pow(2, -24) - Math.pow(2, -77) : 0)\n  var i = isLE ? 0 : (nBytes - 1)\n  var d = isLE ? 1 : -1\n  var s = value < 0 || (value === 0 && 1 / value < 0) ? 1 : 0\n\n  value = Math.abs(value)\n\n  if (isNaN(value) || value === Infinity) {\n    m = isNaN(value) ? 1 : 0\n    e = eMax\n  } else {\n    e = Math.floor(Math.log(value) / Math.LN2)\n    if (value * (c = Math.pow(2, -e)) < 1) {\n      e--\n      c *= 2\n    }\n    if (e + eBias >= 1) {\n      value += rt / c\n    } else {\n      value += rt * Math.pow(2, 1 - eBias)\n    }\n    if (value * c >= 2) {\n      e++\n      c /= 2\n    }\n\n    if (e + eBias >= eMax) {\n      m = 0\n      e = eMax\n    } else if (e + eBias >= 1) {\n      m = ((value * c) - 1) * Math.pow(2, mLen)\n      e = e + eBias\n    } else {\n      m = value * Math.pow(2, eBias - 1) * Math.pow(2, mLen)\n      e = 0\n    }\n  }\n\n  for (; mLen >= 8; buffer[offset + i] = m & 0xff, i += d, m /= 256, mLen -= 8) {}\n\n  e = (e << mLen) | m\n  eLen += mLen\n  for (; eLen > 0; buffer[offset + i] = e & 0xff, i += d, e /= 256, eLen -= 8) {}\n\n  buffer[offset + i - d] |= s * 128\n}\n","// shim for using process in browser\nvar process = module.exports = {};\n\n// cached from whatever global is present so that test runners that stub it\n// don't break things.  But we need to wrap it in a try catch in case it is\n// wrapped in strict mode code which doesn't define any globals.  It's inside a\n// function because try/catches deoptimize in certain engines.\n\nvar cachedSetTimeout;\nvar cachedClearTimeout;\n\nfunction defaultSetTimout() {\n    throw new Error('setTimeout has not been defined');\n}\nfunction defaultClearTimeout () {\n    throw new Error('clearTimeout has not been defined');\n}\n(function () {\n    try {\n        if (typeof setTimeout === 'function') {\n            cachedSetTimeout = setTimeout;\n        } else {\n            cachedSetTimeout = defaultSetTimout;\n        }\n    } catch (e) {\n        cachedSetTimeout = defaultSetTimout;\n    }\n    try {\n        if (typeof clearTimeout === 'function') {\n            cachedClearTimeout = clearTimeout;\n        } else {\n            cachedClearTimeout = defaultClearTimeout;\n        }\n    } catch (e) {\n        cachedClearTimeout = defaultClearTimeout;\n    }\n} ())\nfunction runTimeout(fun) {\n    if (cachedSetTimeout === setTimeout) {\n        //normal enviroments in sane situations\n        return setTimeout(fun, 0);\n    }\n    // if setTimeout wasn't available but was latter defined\n    if ((cachedSetTimeout === defaultSetTimout || !cachedSetTimeout) && setTimeout) {\n        cachedSetTimeout = setTimeout;\n        return setTimeout(fun, 0);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedSetTimeout(fun, 0);\n    } catch(e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't trust the global object when called normally\n            return cachedSetTimeout.call(null, fun, 0);\n        } catch(e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error\n            return cachedSetTimeout.call(this, fun, 0);\n        }\n    }\n\n\n}\nfunction runClearTimeout(marker) {\n    if (cachedClearTimeout === clearTimeout) {\n        //normal enviroments in sane situations\n        return clearTimeout(marker);\n    }\n    // if clearTimeout wasn't available but was latter defined\n    if ((cachedClearTimeout === defaultClearTimeout || !cachedClearTimeout) && clearTimeout) {\n        cachedClearTimeout = clearTimeout;\n        return clearTimeout(marker);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedClearTimeout(marker);\n    } catch (e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't  trust the global object when called normally\n            return cachedClearTimeout.call(null, marker);\n        } catch (e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error.\n            // Some versions of I.E. have different rules for clearTimeout vs setTimeout\n            return cachedClearTimeout.call(this, marker);\n        }\n    }\n\n\n\n}\nvar queue = [];\nvar draining = false;\nvar currentQueue;\nvar queueIndex = -1;\n\nfunction cleanUpNextTick() {\n    if (!draining || !currentQueue) {\n        return;\n    }\n    draining = false;\n    if (currentQueue.length) {\n        queue = currentQueue.concat(queue);\n    } else {\n        queueIndex = -1;\n    }\n    if (queue.length) {\n        drainQueue();\n    }\n}\n\nfunction drainQueue() {\n    if (draining) {\n        return;\n    }\n    var timeout = runTimeout(cleanUpNextTick);\n    draining = true;\n\n    var len = queue.length;\n    while(len) {\n        currentQueue = queue;\n        queue = [];\n        while (++queueIndex < len) {\n            if (currentQueue) {\n                currentQueue[queueIndex].run();\n            }\n        }\n        queueIndex = -1;\n        len = queue.length;\n    }\n    currentQueue = null;\n    draining = false;\n    runClearTimeout(timeout);\n}\n\nprocess.nextTick = function (fun) {\n    var args = new Array(arguments.length - 1);\n    if (arguments.length > 1) {\n        for (var i = 1; i < arguments.length; i++) {\n            args[i - 1] = arguments[i];\n        }\n    }\n    queue.push(new Item(fun, args));\n    if (queue.length === 1 && !draining) {\n        runTimeout(drainQueue);\n    }\n};\n\n// v8 likes predictible objects\nfunction Item(fun, array) {\n    this.fun = fun;\n    this.array = array;\n}\nItem.prototype.run = function () {\n    this.fun.apply(null, this.array);\n};\nprocess.title = 'browser';\nprocess.browser = true;\nprocess.env = {};\nprocess.argv = [];\nprocess.version = ''; // empty string to avoid regexp issues\nprocess.versions = {};\n\nfunction noop() {}\n\nprocess.on = noop;\nprocess.addListener = noop;\nprocess.once = noop;\nprocess.off = noop;\nprocess.removeListener = noop;\nprocess.removeAllListeners = noop;\nprocess.emit = noop;\nprocess.prependListener = noop;\nprocess.prependOnceListener = noop;\n\nprocess.listeners = function (name) { return [] }\n\nprocess.binding = function (name) {\n    throw new Error('process.binding is not supported');\n};\n\nprocess.cwd = function () { return '/' };\nprocess.chdir = function (dir) {\n    throw new Error('process.chdir is not supported');\n};\nprocess.umask = function() { return 0; };\n","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n'use strict';\n\nvar R = typeof Reflect === 'object' ? Reflect : null\nvar ReflectApply = R && typeof R.apply === 'function'\n  ? R.apply\n  : function ReflectApply(target, receiver, args) {\n    return Function.prototype.apply.call(target, receiver, args);\n  }\n\nvar ReflectOwnKeys\nif (R && typeof R.ownKeys === 'function') {\n  ReflectOwnKeys = R.ownKeys\n} else if (Object.getOwnPropertySymbols) {\n  ReflectOwnKeys = function ReflectOwnKeys(target) {\n    return Object.getOwnPropertyNames(target)\n      .concat(Object.getOwnPropertySymbols(target));\n  };\n} else {\n  ReflectOwnKeys = function ReflectOwnKeys(target) {\n    return Object.getOwnPropertyNames(target);\n  };\n}\n\nfunction ProcessEmitWarning(warning) {\n  if (console && console.warn) console.warn(warning);\n}\n\nvar NumberIsNaN = Number.isNaN || function NumberIsNaN(value) {\n  return value !== value;\n}\n\nfunction EventEmitter() {\n  EventEmitter.init.call(this);\n}\nmodule.exports = EventEmitter;\nmodule.exports.once = once;\n\n// Backwards-compat with node 0.10.x\nEventEmitter.EventEmitter = EventEmitter;\n\nEventEmitter.prototype._events = undefined;\nEventEmitter.prototype._eventsCount = 0;\nEventEmitter.prototype._maxListeners = undefined;\n\n// By default EventEmitters will print a warning if more than 10 listeners are\n// added to it. This is a useful default which helps finding memory leaks.\nvar defaultMaxListeners = 10;\n\nfunction checkListener(listener) {\n  if (typeof listener !== 'function') {\n    throw new TypeError('The \"listener\" argument must be of type Function. Received type ' + typeof listener);\n  }\n}\n\nObject.defineProperty(EventEmitter, 'defaultMaxListeners', {\n  enumerable: true,\n  get: function() {\n    return defaultMaxListeners;\n  },\n  set: function(arg) {\n    if (typeof arg !== 'number' || arg < 0 || NumberIsNaN(arg)) {\n      throw new RangeError('The value of \"defaultMaxListeners\" is out of range. It must be a non-negative number. Received ' + arg + '.');\n    }\n    defaultMaxListeners = arg;\n  }\n});\n\nEventEmitter.init = function() {\n\n  if (this._events === undefined ||\n      this._events === Object.getPrototypeOf(this)._events) {\n    this._events = Object.create(null);\n    this._eventsCount = 0;\n  }\n\n  this._maxListeners = this._maxListeners || undefined;\n};\n\n// Obviously not all Emitters should be limited to 10. This function allows\n// that to be increased. Set to zero for unlimited.\nEventEmitter.prototype.setMaxListeners = function setMaxListeners(n) {\n  if (typeof n !== 'number' || n < 0 || NumberIsNaN(n)) {\n    throw new RangeError('The value of \"n\" is out of range. It must be a non-negative number. Received ' + n + '.');\n  }\n  this._maxListeners = n;\n  return this;\n};\n\nfunction _getMaxListeners(that) {\n  if (that._maxListeners === undefined)\n    return EventEmitter.defaultMaxListeners;\n  return that._maxListeners;\n}\n\nEventEmitter.prototype.getMaxListeners = function getMaxListeners() {\n  return _getMaxListeners(this);\n};\n\nEventEmitter.prototype.emit = function emit(type) {\n  var args = [];\n  for (var i = 1; i < arguments.length; i++) args.push(arguments[i]);\n  var doError = (type === 'error');\n\n  var events = this._events;\n  if (events !== undefined)\n    doError = (doError && events.error === undefined);\n  else if (!doError)\n    return false;\n\n  // If there is no 'error' event listener then throw.\n  if (doError) {\n    var er;\n    if (args.length > 0)\n      er = args[0];\n    if (er instanceof Error) {\n      // Note: The comments on the `throw` lines are intentional, they show\n      // up in Node's output if this results in an unhandled exception.\n      throw er; // Unhandled 'error' event\n    }\n    // At least give some kind of context to the user\n    var err = new Error('Unhandled error.' + (er ? ' (' + er.message + ')' : ''));\n    err.context = er;\n    throw err; // Unhandled 'error' event\n  }\n\n  var handler = events[type];\n\n  if (handler === undefined)\n    return false;\n\n  if (typeof handler === 'function') {\n    ReflectApply(handler, this, args);\n  } else {\n    var len = handler.length;\n    var listeners = arrayClone(handler, len);\n    for (var i = 0; i < len; ++i)\n      ReflectApply(listeners[i], this, args);\n  }\n\n  return true;\n};\n\nfunction _addListener(target, type, listener, prepend) {\n  var m;\n  var events;\n  var existing;\n\n  checkListener(listener);\n\n  events = target._events;\n  if (events === undefined) {\n    events = target._events = Object.create(null);\n    target._eventsCount = 0;\n  } else {\n    // To avoid recursion in the case that type === \"newListener\"! Before\n    // adding it to the listeners, first emit \"newListener\".\n    if (events.newListener !== undefined) {\n      target.emit('newListener', type,\n                  listener.listener ? listener.listener : listener);\n\n      // Re-assign `events` because a newListener handler could have caused the\n      // this._events to be assigned to a new object\n      events = target._events;\n    }\n    existing = events[type];\n  }\n\n  if (existing === undefined) {\n    // Optimize the case of one listener. Don't need the extra array object.\n    existing = events[type] = listener;\n    ++target._eventsCount;\n  } else {\n    if (typeof existing === 'function') {\n      // Adding the second element, need to change to array.\n      existing = events[type] =\n        prepend ? [listener, existing] : [existing, listener];\n      // If we've already got an array, just append.\n    } else if (prepend) {\n      existing.unshift(listener);\n    } else {\n      existing.push(listener);\n    }\n\n    // Check for listener leak\n    m = _getMaxListeners(target);\n    if (m > 0 && existing.length > m && !existing.warned) {\n      existing.warned = true;\n      // No error code for this since it is a Warning\n      // eslint-disable-next-line no-restricted-syntax\n      var w = new Error('Possible EventEmitter memory leak detected. ' +\n                          existing.length + ' ' + String(type) + ' listeners ' +\n                          'added. Use emitter.setMaxListeners() to ' +\n                          'increase limit');\n      w.name = 'MaxListenersExceededWarning';\n      w.emitter = target;\n      w.type = type;\n      w.count = existing.length;\n      ProcessEmitWarning(w);\n    }\n  }\n\n  return target;\n}\n\nEventEmitter.prototype.addListener = function addListener(type, listener) {\n  return _addListener(this, type, listener, false);\n};\n\nEventEmitter.prototype.on = EventEmitter.prototype.addListener;\n\nEventEmitter.prototype.prependListener =\n    function prependListener(type, listener) {\n      return _addListener(this, type, listener, true);\n    };\n\nfunction onceWrapper() {\n  if (!this.fired) {\n    this.target.removeListener(this.type, this.wrapFn);\n    this.fired = true;\n    if (arguments.length === 0)\n      return this.listener.call(this.target);\n    return this.listener.apply(this.target, arguments);\n  }\n}\n\nfunction _onceWrap(target, type, listener) {\n  var state = { fired: false, wrapFn: undefined, target: target, type: type, listener: listener };\n  var wrapped = onceWrapper.bind(state);\n  wrapped.listener = listener;\n  state.wrapFn = wrapped;\n  return wrapped;\n}\n\nEventEmitter.prototype.once = function once(type, listener) {\n  checkListener(listener);\n  this.on(type, _onceWrap(this, type, listener));\n  return this;\n};\n\nEventEmitter.prototype.prependOnceListener =\n    function prependOnceListener(type, listener) {\n      checkListener(listener);\n      this.prependListener(type, _onceWrap(this, type, listener));\n      return this;\n    };\n\n// Emits a 'removeListener' event if and only if the listener was removed.\nEventEmitter.prototype.removeListener =\n    function removeListener(type, listener) {\n      var list, events, position, i, originalListener;\n\n      checkListener(listener);\n\n      events = this._events;\n      if (events === undefined)\n        return this;\n\n      list = events[type];\n      if (list === undefined)\n        return this;\n\n      if (list === listener || list.listener === listener) {\n        if (--this._eventsCount === 0)\n          this._events = Object.create(null);\n        else {\n          delete events[type];\n          if (events.removeListener)\n            this.emit('removeListener', type, list.listener || listener);\n        }\n      } else if (typeof list !== 'function') {\n        position = -1;\n\n        for (i = list.length - 1; i >= 0; i--) {\n          if (list[i] === listener || list[i].listener === listener) {\n            originalListener = list[i].listener;\n            position = i;\n            break;\n          }\n        }\n\n        if (position < 0)\n          return this;\n\n        if (position === 0)\n          list.shift();\n        else {\n          spliceOne(list, position);\n        }\n\n        if (list.length === 1)\n          events[type] = list[0];\n\n        if (events.removeListener !== undefined)\n          this.emit('removeListener', type, originalListener || listener);\n      }\n\n      return this;\n    };\n\nEventEmitter.prototype.off = EventEmitter.prototype.removeListener;\n\nEventEmitter.prototype.removeAllListeners =\n    function removeAllListeners(type) {\n      var listeners, events, i;\n\n      events = this._events;\n      if (events === undefined)\n        return this;\n\n      // not listening for removeListener, no need to emit\n      if (events.removeListener === undefined) {\n        if (arguments.length === 0) {\n          this._events = Object.create(null);\n          this._eventsCount = 0;\n        } else if (events[type] !== undefined) {\n          if (--this._eventsCount === 0)\n            this._events = Object.create(null);\n          else\n            delete events[type];\n        }\n        return this;\n      }\n\n      // emit removeListener for all listeners on all events\n      if (arguments.length === 0) {\n        var keys = Object.keys(events);\n        var key;\n        for (i = 0; i < keys.length; ++i) {\n          key = keys[i];\n          if (key === 'removeListener') continue;\n          this.removeAllListeners(key);\n        }\n        this.removeAllListeners('removeListener');\n        this._events = Object.create(null);\n        this._eventsCount = 0;\n        return this;\n      }\n\n      listeners = events[type];\n\n      if (typeof listeners === 'function') {\n        this.removeListener(type, listeners);\n      } else if (listeners !== undefined) {\n        // LIFO order\n        for (i = listeners.length - 1; i >= 0; i--) {\n          this.removeListener(type, listeners[i]);\n        }\n      }\n\n      return this;\n    };\n\nfunction _listeners(target, type, unwrap) {\n  var events = target._events;\n\n  if (events === undefined)\n    return [];\n\n  var evlistener = events[type];\n  if (evlistener === undefined)\n    return [];\n\n  if (typeof evlistener === 'function')\n    return unwrap ? [evlistener.listener || evlistener] : [evlistener];\n\n  return unwrap ?\n    unwrapListeners(evlistener) : arrayClone(evlistener, evlistener.length);\n}\n\nEventEmitter.prototype.listeners = function listeners(type) {\n  return _listeners(this, type, true);\n};\n\nEventEmitter.prototype.rawListeners = function rawListeners(type) {\n  return _listeners(this, type, false);\n};\n\nEventEmitter.listenerCount = function(emitter, type) {\n  if (typeof emitter.listenerCount === 'function') {\n    return emitter.listenerCount(type);\n  } else {\n    return listenerCount.call(emitter, type);\n  }\n};\n\nEventEmitter.prototype.listenerCount = listenerCount;\nfunction listenerCount(type) {\n  var events = this._events;\n\n  if (events !== undefined) {\n    var evlistener = events[type];\n\n    if (typeof evlistener === 'function') {\n      return 1;\n    } else if (evlistener !== undefined) {\n      return evlistener.length;\n    }\n  }\n\n  return 0;\n}\n\nEventEmitter.prototype.eventNames = function eventNames() {\n  return this._eventsCount > 0 ? ReflectOwnKeys(this._events) : [];\n};\n\nfunction arrayClone(arr, n) {\n  var copy = new Array(n);\n  for (var i = 0; i < n; ++i)\n    copy[i] = arr[i];\n  return copy;\n}\n\nfunction spliceOne(list, index) {\n  for (; index + 1 < list.length; index++)\n    list[index] = list[index + 1];\n  list.pop();\n}\n\nfunction unwrapListeners(arr) {\n  var ret = new Array(arr.length);\n  for (var i = 0; i < ret.length; ++i) {\n    ret[i] = arr[i].listener || arr[i];\n  }\n  return ret;\n}\n\nfunction once(emitter, name) {\n  return new Promise(function (resolve, reject) {\n    function errorListener(err) {\n      emitter.removeListener(name, resolver);\n      reject(err);\n    }\n\n    function resolver() {\n      if (typeof emitter.removeListener === 'function') {\n        emitter.removeListener('error', errorListener);\n      }\n      resolve([].slice.call(arguments));\n    };\n\n    eventTargetAgnosticAddListener(emitter, name, resolver, { once: true });\n    if (name !== 'error') {\n      addErrorHandlerIfEventEmitter(emitter, errorListener, { once: true });\n    }\n  });\n}\n\nfunction addErrorHandlerIfEventEmitter(emitter, handler, flags) {\n  if (typeof emitter.on === 'function') {\n    eventTargetAgnosticAddListener(emitter, 'error', handler, flags);\n  }\n}\n\nfunction eventTargetAgnosticAddListener(emitter, name, listener, flags) {\n  if (typeof emitter.on === 'function') {\n    if (flags.once) {\n      emitter.once(name, listener);\n    } else {\n      emitter.on(name, listener);\n    }\n  } else if (typeof emitter.addEventListener === 'function') {\n    // EventTarget does not have `error` event semantics like Node\n    // EventEmitters, we do not listen for `error` events here.\n    emitter.addEventListener(name, function wrapListener(arg) {\n      // IE does not have builtin `{ once: true }` support so we\n      // have to do it manually.\n      if (flags.once) {\n        emitter.removeEventListener(name, wrapListener);\n      }\n      listener(arg);\n    });\n  } else {\n    throw new TypeError('The \"emitter\" argument must be of type EventEmitter. Received type ' + typeof emitter);\n  }\n}\n","'use strict';\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nvar _require = require('buffer'),\n    Buffer = _require.Buffer;\n\nvar _require2 = require('util'),\n    inspect = _require2.inspect;\n\nvar custom = inspect && inspect.custom || 'inspect';\n\nfunction copyBuffer(src, target, offset) {\n  Buffer.prototype.copy.call(src, target, offset);\n}\n\nmodule.exports =\n/*#__PURE__*/\nfunction () {\n  function BufferList() {\n    _classCallCheck(this, BufferList);\n\n    this.head = null;\n    this.tail = null;\n    this.length = 0;\n  }\n\n  _createClass(BufferList, [{\n    key: \"push\",\n    value: function push(v) {\n      var entry = {\n        data: v,\n        next: null\n      };\n      if (this.length > 0) this.tail.next = entry;else this.head = entry;\n      this.tail = entry;\n      ++this.length;\n    }\n  }, {\n    key: \"unshift\",\n    value: function unshift(v) {\n      var entry = {\n        data: v,\n        next: this.head\n      };\n      if (this.length === 0) this.tail = entry;\n      this.head = entry;\n      ++this.length;\n    }\n  }, {\n    key: \"shift\",\n    value: function shift() {\n      if (this.length === 0) return;\n      var ret = this.head.data;\n      if (this.length === 1) this.head = this.tail = null;else this.head = this.head.next;\n      --this.length;\n      return ret;\n    }\n  }, {\n    key: \"clear\",\n    value: function clear() {\n      this.head = this.tail = null;\n      this.length = 0;\n    }\n  }, {\n    key: \"join\",\n    value: function join(s) {\n      if (this.length === 0) return '';\n      var p = this.head;\n      var ret = '' + p.data;\n\n      while (p = p.next) {\n        ret += s + p.data;\n      }\n\n      return ret;\n    }\n  }, {\n    key: \"concat\",\n    value: function concat(n) {\n      if (this.length === 0) return Buffer.alloc(0);\n      var ret = Buffer.allocUnsafe(n >>> 0);\n      var p = this.head;\n      var i = 0;\n\n      while (p) {\n        copyBuffer(p.data, ret, i);\n        i += p.data.length;\n        p = p.next;\n      }\n\n      return ret;\n    } // Consumes a specified amount of bytes or characters from the buffered data.\n\n  }, {\n    key: \"consume\",\n    value: function consume(n, hasStrings) {\n      var ret;\n\n      if (n < this.head.data.length) {\n        // `slice` is the same for buffers and strings.\n        ret = this.head.data.slice(0, n);\n        this.head.data = this.head.data.slice(n);\n      } else if (n === this.head.data.length) {\n        // First chunk is a perfect match.\n        ret = this.shift();\n      } else {\n        // Result spans more than one buffer.\n        ret = hasStrings ? this._getString(n) : this._getBuffer(n);\n      }\n\n      return ret;\n    }\n  }, {\n    key: \"first\",\n    value: function first() {\n      return this.head.data;\n    } // Consumes a specified amount of characters from the buffered data.\n\n  }, {\n    key: \"_getString\",\n    value: function _getString(n) {\n      var p = this.head;\n      var c = 1;\n      var ret = p.data;\n      n -= ret.length;\n\n      while (p = p.next) {\n        var str = p.data;\n        var nb = n > str.length ? str.length : n;\n        if (nb === str.length) ret += str;else ret += str.slice(0, n);\n        n -= nb;\n\n        if (n === 0) {\n          if (nb === str.length) {\n            ++c;\n            if (p.next) this.head = p.next;else this.head = this.tail = null;\n          } else {\n            this.head = p;\n            p.data = str.slice(nb);\n          }\n\n          break;\n        }\n\n        ++c;\n      }\n\n      this.length -= c;\n      return ret;\n    } // Consumes a specified amount of bytes from the buffered data.\n\n  }, {\n    key: \"_getBuffer\",\n    value: function _getBuffer(n) {\n      var ret = Buffer.allocUnsafe(n);\n      var p = this.head;\n      var c = 1;\n      p.data.copy(ret);\n      n -= p.data.length;\n\n      while (p = p.next) {\n        var buf = p.data;\n        var nb = n > buf.length ? buf.length : n;\n        buf.copy(ret, ret.length - n, 0, nb);\n        n -= nb;\n\n        if (n === 0) {\n          if (nb === buf.length) {\n            ++c;\n            if (p.next) this.head = p.next;else this.head = this.tail = null;\n          } else {\n            this.head = p;\n            p.data = buf.slice(nb);\n          }\n\n          break;\n        }\n\n        ++c;\n      }\n\n      this.length -= c;\n      return ret;\n    } // Make sure the linked list only shows the minimal necessary information.\n\n  }, {\n    key: custom,\n    value: function value(_, options) {\n      return inspect(this, _objectSpread({}, options, {\n        // Only inspect one level.\n        depth: 0,\n        // It should not recurse.\n        customInspect: false\n      }));\n    }\n  }]);\n\n  return BufferList;\n}();","'use strict'; // undocumented cb() API, needed for core, not for public API\n\nfunction destroy(err, cb) {\n  var _this = this;\n\n  var readableDestroyed = this._readableState && this._readableState.destroyed;\n  var writableDestroyed = this._writableState && this._writableState.destroyed;\n\n  if (readableDestroyed || writableDestroyed) {\n    if (cb) {\n      cb(err);\n    } else if (err) {\n      if (!this._writableState) {\n        process.nextTick(emitErrorNT, this, err);\n      } else if (!this._writableState.errorEmitted) {\n        this._writableState.errorEmitted = true;\n        process.nextTick(emitErrorNT, this, err);\n      }\n    }\n\n    return this;\n  } // we set destroyed to true before firing error callbacks in order\n  // to make it re-entrance safe in case destroy() is called within callbacks\n\n\n  if (this._readableState) {\n    this._readableState.destroyed = true;\n  } // if this is a duplex stream mark the writable part as destroyed as well\n\n\n  if (this._writableState) {\n    this._writableState.destroyed = true;\n  }\n\n  this._destroy(err || null, function (err) {\n    if (!cb && err) {\n      if (!_this._writableState) {\n        process.nextTick(emitErrorAndCloseNT, _this, err);\n      } else if (!_this._writableState.errorEmitted) {\n        _this._writableState.errorEmitted = true;\n        process.nextTick(emitErrorAndCloseNT, _this, err);\n      } else {\n        process.nextTick(emitCloseNT, _this);\n      }\n    } else if (cb) {\n      process.nextTick(emitCloseNT, _this);\n      cb(err);\n    } else {\n      process.nextTick(emitCloseNT, _this);\n    }\n  });\n\n  return this;\n}\n\nfunction emitErrorAndCloseNT(self, err) {\n  emitErrorNT(self, err);\n  emitCloseNT(self);\n}\n\nfunction emitCloseNT(self) {\n  if (self._writableState && !self._writableState.emitClose) return;\n  if (self._readableState && !self._readableState.emitClose) return;\n  self.emit('close');\n}\n\nfunction undestroy() {\n  if (this._readableState) {\n    this._readableState.destroyed = false;\n    this._readableState.reading = false;\n    this._readableState.ended = false;\n    this._readableState.endEmitted = false;\n  }\n\n  if (this._writableState) {\n    this._writableState.destroyed = false;\n    this._writableState.ended = false;\n    this._writableState.ending = false;\n    this._writableState.finalCalled = false;\n    this._writableState.prefinished = false;\n    this._writableState.finished = false;\n    this._writableState.errorEmitted = false;\n  }\n}\n\nfunction emitErrorNT(self, err) {\n  self.emit('error', err);\n}\n\nfunction errorOrDestroy(stream, err) {\n  // We have tests that rely on errors being emitted\n  // in the same tick, so changing this is semver major.\n  // For now when you opt-in to autoDestroy we allow\n  // the error to be emitted nextTick. In a future\n  // semver major update we should change the default to this.\n  var rState = stream._readableState;\n  var wState = stream._writableState;\n  if (rState && rState.autoDestroy || wState && wState.autoDestroy) stream.destroy(err);else stream.emit('error', err);\n}\n\nmodule.exports = {\n  destroy: destroy,\n  undestroy: undestroy,\n  errorOrDestroy: errorOrDestroy\n};","'use strict';\n\nfunction _inheritsLoose(subClass, superClass) { subClass.prototype = Object.create(superClass.prototype); subClass.prototype.constructor = subClass; subClass.__proto__ = superClass; }\n\nvar codes = {};\n\nfunction createErrorType(code, message, Base) {\n  if (!Base) {\n    Base = Error;\n  }\n\n  function getMessage(arg1, arg2, arg3) {\n    if (typeof message === 'string') {\n      return message;\n    } else {\n      return message(arg1, arg2, arg3);\n    }\n  }\n\n  var NodeError =\n  /*#__PURE__*/\n  function (_Base) {\n    _inheritsLoose(NodeError, _Base);\n\n    function NodeError(arg1, arg2, arg3) {\n      return _Base.call(this, getMessage(arg1, arg2, arg3)) || this;\n    }\n\n    return NodeError;\n  }(Base);\n\n  NodeError.prototype.name = Base.name;\n  NodeError.prototype.code = code;\n  codes[code] = NodeError;\n} // https://github.com/nodejs/node/blob/v10.8.0/lib/internal/errors.js\n\n\nfunction oneOf(expected, thing) {\n  if (Array.isArray(expected)) {\n    var len = expected.length;\n    expected = expected.map(function (i) {\n      return String(i);\n    });\n\n    if (len > 2) {\n      return \"one of \".concat(thing, \" \").concat(expected.slice(0, len - 1).join(', '), \", or \") + expected[len - 1];\n    } else if (len === 2) {\n      return \"one of \".concat(thing, \" \").concat(expected[0], \" or \").concat(expected[1]);\n    } else {\n      return \"of \".concat(thing, \" \").concat(expected[0]);\n    }\n  } else {\n    return \"of \".concat(thing, \" \").concat(String(expected));\n  }\n} // https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String/startsWith\n\n\nfunction startsWith(str, search, pos) {\n  return str.substr(!pos || pos < 0 ? 0 : +pos, search.length) === search;\n} // https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String/endsWith\n\n\nfunction endsWith(str, search, this_len) {\n  if (this_len === undefined || this_len > str.length) {\n    this_len = str.length;\n  }\n\n  return str.substring(this_len - search.length, this_len) === search;\n} // https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String/includes\n\n\nfunction includes(str, search, start) {\n  if (typeof start !== 'number') {\n    start = 0;\n  }\n\n  if (start + search.length > str.length) {\n    return false;\n  } else {\n    return str.indexOf(search, start) !== -1;\n  }\n}\n\ncreateErrorType('ERR_INVALID_OPT_VALUE', function (name, value) {\n  return 'The value \"' + value + '\" is invalid for option \"' + name + '\"';\n}, TypeError);\ncreateErrorType('ERR_INVALID_ARG_TYPE', function (name, expected, actual) {\n  // determiner: 'must be' or 'must not be'\n  var determiner;\n\n  if (typeof expected === 'string' && startsWith(expected, 'not ')) {\n    determiner = 'must not be';\n    expected = expected.replace(/^not /, '');\n  } else {\n    determiner = 'must be';\n  }\n\n  var msg;\n\n  if (endsWith(name, ' argument')) {\n    // For cases like 'first argument'\n    msg = \"The \".concat(name, \" \").concat(determiner, \" \").concat(oneOf(expected, 'type'));\n  } else {\n    var type = includes(name, '.') ? 'property' : 'argument';\n    msg = \"The \\\"\".concat(name, \"\\\" \").concat(type, \" \").concat(determiner, \" \").concat(oneOf(expected, 'type'));\n  }\n\n  msg += \". Received type \".concat(typeof actual);\n  return msg;\n}, TypeError);\ncreateErrorType('ERR_STREAM_PUSH_AFTER_EOF', 'stream.push() after EOF');\ncreateErrorType('ERR_METHOD_NOT_IMPLEMENTED', function (name) {\n  return 'The ' + name + ' method is not implemented';\n});\ncreateErrorType('ERR_STREAM_PREMATURE_CLOSE', 'Premature close');\ncreateErrorType('ERR_STREAM_DESTROYED', function (name) {\n  return 'Cannot call ' + name + ' after a stream was destroyed';\n});\ncreateErrorType('ERR_MULTIPLE_CALLBACK', 'Callback called multiple times');\ncreateErrorType('ERR_STREAM_CANNOT_PIPE', 'Cannot pipe, not readable');\ncreateErrorType('ERR_STREAM_WRITE_AFTER_END', 'write after end');\ncreateErrorType('ERR_STREAM_NULL_VALUES', 'May not write null values to stream', TypeError);\ncreateErrorType('ERR_UNKNOWN_ENCODING', function (arg) {\n  return 'Unknown encoding: ' + arg;\n}, TypeError);\ncreateErrorType('ERR_STREAM_UNSHIFT_AFTER_END_EVENT', 'stream.unshift() after end event');\nmodule.exports.codes = codes;\n","'use strict';\n\nvar ERR_INVALID_OPT_VALUE = require('../../../errors').codes.ERR_INVALID_OPT_VALUE;\n\nfunction highWaterMarkFrom(options, isDuplex, duplexKey) {\n  return options.highWaterMark != null ? options.highWaterMark : isDuplex ? options[duplexKey] : null;\n}\n\nfunction getHighWaterMark(state, options, duplexKey, isDuplex) {\n  var hwm = highWaterMarkFrom(options, isDuplex, duplexKey);\n\n  if (hwm != null) {\n    if (!(isFinite(hwm) && Math.floor(hwm) === hwm) || hwm < 0) {\n      var name = isDuplex ? duplexKey : 'highWaterMark';\n      throw new ERR_INVALID_OPT_VALUE(name, hwm);\n    }\n\n    return Math.floor(hwm);\n  } // Default value\n\n\n  return state.objectMode ? 16 : 16 * 1024;\n}\n\nmodule.exports = {\n  getHighWaterMark: getHighWaterMark\n};","if (typeof Object.create === 'function') {\n  // implementation from standard node.js 'util' module\n  module.exports = function inherits(ctor, superCtor) {\n    if (superCtor) {\n      ctor.super_ = superCtor\n      ctor.prototype = Object.create(superCtor.prototype, {\n        constructor: {\n          value: ctor,\n          enumerable: false,\n          writable: true,\n          configurable: true\n        }\n      })\n    }\n  };\n} else {\n  // old school shim for old browsers\n  module.exports = function inherits(ctor, superCtor) {\n    if (superCtor) {\n      ctor.super_ = superCtor\n      var TempCtor = function () {}\n      TempCtor.prototype = superCtor.prototype\n      ctor.prototype = new TempCtor()\n      ctor.prototype.constructor = ctor\n    }\n  }\n}\n","\n/**\n * Module exports.\n */\n\nmodule.exports = deprecate;\n\n/**\n * Mark that a method should not be used.\n * Returns a modified function which warns once by default.\n *\n * If `localStorage.noDeprecation = true` is set, then it is a no-op.\n *\n * If `localStorage.throwDeprecation = true` is set, then deprecated functions\n * will throw an Error when invoked.\n *\n * If `localStorage.traceDeprecation = true` is set, then deprecated functions\n * will invoke `console.trace()` instead of `console.error()`.\n *\n * @param {Function} fn - the function to deprecate\n * @param {String} msg - the string to print to the console when `fn` is invoked\n * @returns {Function} a new \"deprecated\" version of `fn`\n * @api public\n */\n\nfunction deprecate (fn, msg) {\n  if (config('noDeprecation')) {\n    return fn;\n  }\n\n  var warned = false;\n  function deprecated() {\n    if (!warned) {\n      if (config('throwDeprecation')) {\n        throw new Error(msg);\n      } else if (config('traceDeprecation')) {\n        console.trace(msg);\n      } else {\n        console.warn(msg);\n      }\n      warned = true;\n    }\n    return fn.apply(this, arguments);\n  }\n\n  return deprecated;\n}\n\n/**\n * Checks `localStorage` for boolean values for the given `name`.\n *\n * @param {String} name\n * @returns {Boolean}\n * @api private\n */\n\nfunction config (name) {\n  // accessing global.localStorage can trigger a DOMException in sandboxed iframes\n  try {\n    if (!global.localStorage) return false;\n  } catch (_) {\n    return false;\n  }\n  var val = global.localStorage[name];\n  if (null == val) return false;\n  return String(val).toLowerCase() === 'true';\n}\n","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n// A bit simpler than readable streams.\n// Implement an async ._write(chunk, encoding, cb), and it'll handle all\n// the drain event emission and buffering.\n'use strict';\n\nmodule.exports = Writable;\n/* <replacement> */\n\nfunction WriteReq(chunk, encoding, cb) {\n  this.chunk = chunk;\n  this.encoding = encoding;\n  this.callback = cb;\n  this.next = null;\n} // It seems a linked list but it is not\n// there will be only 2 of these for each stream\n\n\nfunction CorkedRequest(state) {\n  var _this = this;\n\n  this.next = null;\n  this.entry = null;\n\n  this.finish = function () {\n    onCorkedFinish(_this, state);\n  };\n}\n/* </replacement> */\n\n/*<replacement>*/\n\n\nvar Duplex;\n/*</replacement>*/\n\nWritable.WritableState = WritableState;\n/*<replacement>*/\n\nvar internalUtil = {\n  deprecate: require('util-deprecate')\n};\n/*</replacement>*/\n\n/*<replacement>*/\n\nvar Stream = require('./internal/streams/stream');\n/*</replacement>*/\n\n\nvar Buffer = require('buffer').Buffer;\n\nvar OurUint8Array = global.Uint8Array || function () {};\n\nfunction _uint8ArrayToBuffer(chunk) {\n  return Buffer.from(chunk);\n}\n\nfunction _isUint8Array(obj) {\n  return Buffer.isBuffer(obj) || obj instanceof OurUint8Array;\n}\n\nvar destroyImpl = require('./internal/streams/destroy');\n\nvar _require = require('./internal/streams/state'),\n    getHighWaterMark = _require.getHighWaterMark;\n\nvar _require$codes = require('../errors').codes,\n    ERR_INVALID_ARG_TYPE = _require$codes.ERR_INVALID_ARG_TYPE,\n    ERR_METHOD_NOT_IMPLEMENTED = _require$codes.ERR_METHOD_NOT_IMPLEMENTED,\n    ERR_MULTIPLE_CALLBACK = _require$codes.ERR_MULTIPLE_CALLBACK,\n    ERR_STREAM_CANNOT_PIPE = _require$codes.ERR_STREAM_CANNOT_PIPE,\n    ERR_STREAM_DESTROYED = _require$codes.ERR_STREAM_DESTROYED,\n    ERR_STREAM_NULL_VALUES = _require$codes.ERR_STREAM_NULL_VALUES,\n    ERR_STREAM_WRITE_AFTER_END = _require$codes.ERR_STREAM_WRITE_AFTER_END,\n    ERR_UNKNOWN_ENCODING = _require$codes.ERR_UNKNOWN_ENCODING;\n\nvar errorOrDestroy = destroyImpl.errorOrDestroy;\n\nrequire('inherits')(Writable, Stream);\n\nfunction nop() {}\n\nfunction WritableState(options, stream, isDuplex) {\n  Duplex = Duplex || require('./_stream_duplex');\n  options = options || {}; // Duplex streams are both readable and writable, but share\n  // the same options object.\n  // However, some cases require setting options to different\n  // values for the readable and the writable sides of the duplex stream,\n  // e.g. options.readableObjectMode vs. options.writableObjectMode, etc.\n\n  if (typeof isDuplex !== 'boolean') isDuplex = stream instanceof Duplex; // object stream flag to indicate whether or not this stream\n  // contains buffers or objects.\n\n  this.objectMode = !!options.objectMode;\n  if (isDuplex) this.objectMode = this.objectMode || !!options.writableObjectMode; // the point at which write() starts returning false\n  // Note: 0 is a valid value, means that we always return false if\n  // the entire buffer is not flushed immediately on write()\n\n  this.highWaterMark = getHighWaterMark(this, options, 'writableHighWaterMark', isDuplex); // if _final has been called\n\n  this.finalCalled = false; // drain event flag.\n\n  this.needDrain = false; // at the start of calling end()\n\n  this.ending = false; // when end() has been called, and returned\n\n  this.ended = false; // when 'finish' is emitted\n\n  this.finished = false; // has it been destroyed\n\n  this.destroyed = false; // should we decode strings into buffers before passing to _write?\n  // this is here so that some node-core streams can optimize string\n  // handling at a lower level.\n\n  var noDecode = options.decodeStrings === false;\n  this.decodeStrings = !noDecode; // Crypto is kind of old and crusty.  Historically, its default string\n  // encoding is 'binary' so we have to make this configurable.\n  // Everything else in the universe uses 'utf8', though.\n\n  this.defaultEncoding = options.defaultEncoding || 'utf8'; // not an actual buffer we keep track of, but a measurement\n  // of how much we're waiting to get pushed to some underlying\n  // socket or file.\n\n  this.length = 0; // a flag to see when we're in the middle of a write.\n\n  this.writing = false; // when true all writes will be buffered until .uncork() call\n\n  this.corked = 0; // a flag to be able to tell if the onwrite cb is called immediately,\n  // or on a later tick.  We set this to true at first, because any\n  // actions that shouldn't happen until \"later\" should generally also\n  // not happen before the first write call.\n\n  this.sync = true; // a flag to know if we're processing previously buffered items, which\n  // may call the _write() callback in the same tick, so that we don't\n  // end up in an overlapped onwrite situation.\n\n  this.bufferProcessing = false; // the callback that's passed to _write(chunk,cb)\n\n  this.onwrite = function (er) {\n    onwrite(stream, er);\n  }; // the callback that the user supplies to write(chunk,encoding,cb)\n\n\n  this.writecb = null; // the amount that is being written when _write is called.\n\n  this.writelen = 0;\n  this.bufferedRequest = null;\n  this.lastBufferedRequest = null; // number of pending user-supplied write callbacks\n  // this must be 0 before 'finish' can be emitted\n\n  this.pendingcb = 0; // emit prefinish if the only thing we're waiting for is _write cbs\n  // This is relevant for synchronous Transform streams\n\n  this.prefinished = false; // True if the error was already emitted and should not be thrown again\n\n  this.errorEmitted = false; // Should close be emitted on destroy. Defaults to true.\n\n  this.emitClose = options.emitClose !== false; // Should .destroy() be called after 'finish' (and potentially 'end')\n\n  this.autoDestroy = !!options.autoDestroy; // count buffered requests\n\n  this.bufferedRequestCount = 0; // allocate the first CorkedRequest, there is always\n  // one allocated and free to use, and we maintain at most two\n\n  this.corkedRequestsFree = new CorkedRequest(this);\n}\n\nWritableState.prototype.getBuffer = function getBuffer() {\n  var current = this.bufferedRequest;\n  var out = [];\n\n  while (current) {\n    out.push(current);\n    current = current.next;\n  }\n\n  return out;\n};\n\n(function () {\n  try {\n    Object.defineProperty(WritableState.prototype, 'buffer', {\n      get: internalUtil.deprecate(function writableStateBufferGetter() {\n        return this.getBuffer();\n      }, '_writableState.buffer is deprecated. Use _writableState.getBuffer ' + 'instead.', 'DEP0003')\n    });\n  } catch (_) {}\n})(); // Test _writableState for inheritance to account for Duplex streams,\n// whose prototype chain only points to Readable.\n\n\nvar realHasInstance;\n\nif (typeof Symbol === 'function' && Symbol.hasInstance && typeof Function.prototype[Symbol.hasInstance] === 'function') {\n  realHasInstance = Function.prototype[Symbol.hasInstance];\n  Object.defineProperty(Writable, Symbol.hasInstance, {\n    value: function value(object) {\n      if (realHasInstance.call(this, object)) return true;\n      if (this !== Writable) return false;\n      return object && object._writableState instanceof WritableState;\n    }\n  });\n} else {\n  realHasInstance = function realHasInstance(object) {\n    return object instanceof this;\n  };\n}\n\nfunction Writable(options) {\n  Duplex = Duplex || require('./_stream_duplex'); // Writable ctor is applied to Duplexes, too.\n  // `realHasInstance` is necessary because using plain `instanceof`\n  // would return false, as no `_writableState` property is attached.\n  // Trying to use the custom `instanceof` for Writable here will also break the\n  // Node.js LazyTransform implementation, which has a non-trivial getter for\n  // `_writableState` that would lead to infinite recursion.\n  // Checking for a Stream.Duplex instance is faster here instead of inside\n  // the WritableState constructor, at least with V8 6.5\n\n  var isDuplex = this instanceof Duplex;\n  if (!isDuplex && !realHasInstance.call(Writable, this)) return new Writable(options);\n  this._writableState = new WritableState(options, this, isDuplex); // legacy.\n\n  this.writable = true;\n\n  if (options) {\n    if (typeof options.write === 'function') this._write = options.write;\n    if (typeof options.writev === 'function') this._writev = options.writev;\n    if (typeof options.destroy === 'function') this._destroy = options.destroy;\n    if (typeof options.final === 'function') this._final = options.final;\n  }\n\n  Stream.call(this);\n} // Otherwise people can pipe Writable streams, which is just wrong.\n\n\nWritable.prototype.pipe = function () {\n  errorOrDestroy(this, new ERR_STREAM_CANNOT_PIPE());\n};\n\nfunction writeAfterEnd(stream, cb) {\n  var er = new ERR_STREAM_WRITE_AFTER_END(); // TODO: defer error events consistently everywhere, not just the cb\n\n  errorOrDestroy(stream, er);\n  process.nextTick(cb, er);\n} // Checks that a user-supplied chunk is valid, especially for the particular\n// mode the stream is in. Currently this means that `null` is never accepted\n// and undefined/non-string values are only allowed in object mode.\n\n\nfunction validChunk(stream, state, chunk, cb) {\n  var er;\n\n  if (chunk === null) {\n    er = new ERR_STREAM_NULL_VALUES();\n  } else if (typeof chunk !== 'string' && !state.objectMode) {\n    er = new ERR_INVALID_ARG_TYPE('chunk', ['string', 'Buffer'], chunk);\n  }\n\n  if (er) {\n    errorOrDestroy(stream, er);\n    process.nextTick(cb, er);\n    return false;\n  }\n\n  return true;\n}\n\nWritable.prototype.write = function (chunk, encoding, cb) {\n  var state = this._writableState;\n  var ret = false;\n\n  var isBuf = !state.objectMode && _isUint8Array(chunk);\n\n  if (isBuf && !Buffer.isBuffer(chunk)) {\n    chunk = _uint8ArrayToBuffer(chunk);\n  }\n\n  if (typeof encoding === 'function') {\n    cb = encoding;\n    encoding = null;\n  }\n\n  if (isBuf) encoding = 'buffer';else if (!encoding) encoding = state.defaultEncoding;\n  if (typeof cb !== 'function') cb = nop;\n  if (state.ending) writeAfterEnd(this, cb);else if (isBuf || validChunk(this, state, chunk, cb)) {\n    state.pendingcb++;\n    ret = writeOrBuffer(this, state, isBuf, chunk, encoding, cb);\n  }\n  return ret;\n};\n\nWritable.prototype.cork = function () {\n  this._writableState.corked++;\n};\n\nWritable.prototype.uncork = function () {\n  var state = this._writableState;\n\n  if (state.corked) {\n    state.corked--;\n    if (!state.writing && !state.corked && !state.bufferProcessing && state.bufferedRequest) clearBuffer(this, state);\n  }\n};\n\nWritable.prototype.setDefaultEncoding = function setDefaultEncoding(encoding) {\n  // node::ParseEncoding() requires lower case.\n  if (typeof encoding === 'string') encoding = encoding.toLowerCase();\n  if (!(['hex', 'utf8', 'utf-8', 'ascii', 'binary', 'base64', 'ucs2', 'ucs-2', 'utf16le', 'utf-16le', 'raw'].indexOf((encoding + '').toLowerCase()) > -1)) throw new ERR_UNKNOWN_ENCODING(encoding);\n  this._writableState.defaultEncoding = encoding;\n  return this;\n};\n\nObject.defineProperty(Writable.prototype, 'writableBuffer', {\n  // making it explicit this property is not enumerable\n  // because otherwise some prototype manipulation in\n  // userland will fail\n  enumerable: false,\n  get: function get() {\n    return this._writableState && this._writableState.getBuffer();\n  }\n});\n\nfunction decodeChunk(state, chunk, encoding) {\n  if (!state.objectMode && state.decodeStrings !== false && typeof chunk === 'string') {\n    chunk = Buffer.from(chunk, encoding);\n  }\n\n  return chunk;\n}\n\nObject.defineProperty(Writable.prototype, 'writableHighWaterMark', {\n  // making it explicit this property is not enumerable\n  // because otherwise some prototype manipulation in\n  // userland will fail\n  enumerable: false,\n  get: function get() {\n    return this._writableState.highWaterMark;\n  }\n}); // if we're already writing something, then just put this\n// in the queue, and wait our turn.  Otherwise, call _write\n// If we return false, then we need a drain event, so set that flag.\n\nfunction writeOrBuffer(stream, state, isBuf, chunk, encoding, cb) {\n  if (!isBuf) {\n    var newChunk = decodeChunk(state, chunk, encoding);\n\n    if (chunk !== newChunk) {\n      isBuf = true;\n      encoding = 'buffer';\n      chunk = newChunk;\n    }\n  }\n\n  var len = state.objectMode ? 1 : chunk.length;\n  state.length += len;\n  var ret = state.length < state.highWaterMark; // we must ensure that previous needDrain will not be reset to false.\n\n  if (!ret) state.needDrain = true;\n\n  if (state.writing || state.corked) {\n    var last = state.lastBufferedRequest;\n    state.lastBufferedRequest = {\n      chunk: chunk,\n      encoding: encoding,\n      isBuf: isBuf,\n      callback: cb,\n      next: null\n    };\n\n    if (last) {\n      last.next = state.lastBufferedRequest;\n    } else {\n      state.bufferedRequest = state.lastBufferedRequest;\n    }\n\n    state.bufferedRequestCount += 1;\n  } else {\n    doWrite(stream, state, false, len, chunk, encoding, cb);\n  }\n\n  return ret;\n}\n\nfunction doWrite(stream, state, writev, len, chunk, encoding, cb) {\n  state.writelen = len;\n  state.writecb = cb;\n  state.writing = true;\n  state.sync = true;\n  if (state.destroyed) state.onwrite(new ERR_STREAM_DESTROYED('write'));else if (writev) stream._writev(chunk, state.onwrite);else stream._write(chunk, encoding, state.onwrite);\n  state.sync = false;\n}\n\nfunction onwriteError(stream, state, sync, er, cb) {\n  --state.pendingcb;\n\n  if (sync) {\n    // defer the callback if we are being called synchronously\n    // to avoid piling up things on the stack\n    process.nextTick(cb, er); // this can emit finish, and it will always happen\n    // after error\n\n    process.nextTick(finishMaybe, stream, state);\n    stream._writableState.errorEmitted = true;\n    errorOrDestroy(stream, er);\n  } else {\n    // the caller expect this to happen before if\n    // it is async\n    cb(er);\n    stream._writableState.errorEmitted = true;\n    errorOrDestroy(stream, er); // this can emit finish, but finish must\n    // always follow error\n\n    finishMaybe(stream, state);\n  }\n}\n\nfunction onwriteStateUpdate(state) {\n  state.writing = false;\n  state.writecb = null;\n  state.length -= state.writelen;\n  state.writelen = 0;\n}\n\nfunction onwrite(stream, er) {\n  var state = stream._writableState;\n  var sync = state.sync;\n  var cb = state.writecb;\n  if (typeof cb !== 'function') throw new ERR_MULTIPLE_CALLBACK();\n  onwriteStateUpdate(state);\n  if (er) onwriteError(stream, state, sync, er, cb);else {\n    // Check if we're actually ready to finish, but don't emit yet\n    var finished = needFinish(state) || stream.destroyed;\n\n    if (!finished && !state.corked && !state.bufferProcessing && state.bufferedRequest) {\n      clearBuffer(stream, state);\n    }\n\n    if (sync) {\n      process.nextTick(afterWrite, stream, state, finished, cb);\n    } else {\n      afterWrite(stream, state, finished, cb);\n    }\n  }\n}\n\nfunction afterWrite(stream, state, finished, cb) {\n  if (!finished) onwriteDrain(stream, state);\n  state.pendingcb--;\n  cb();\n  finishMaybe(stream, state);\n} // Must force callback to be called on nextTick, so that we don't\n// emit 'drain' before the write() consumer gets the 'false' return\n// value, and has a chance to attach a 'drain' listener.\n\n\nfunction onwriteDrain(stream, state) {\n  if (state.length === 0 && state.needDrain) {\n    state.needDrain = false;\n    stream.emit('drain');\n  }\n} // if there's something in the buffer waiting, then process it\n\n\nfunction clearBuffer(stream, state) {\n  state.bufferProcessing = true;\n  var entry = state.bufferedRequest;\n\n  if (stream._writev && entry && entry.next) {\n    // Fast case, write everything using _writev()\n    var l = state.bufferedRequestCount;\n    var buffer = new Array(l);\n    var holder = state.corkedRequestsFree;\n    holder.entry = entry;\n    var count = 0;\n    var allBuffers = true;\n\n    while (entry) {\n      buffer[count] = entry;\n      if (!entry.isBuf) allBuffers = false;\n      entry = entry.next;\n      count += 1;\n    }\n\n    buffer.allBuffers = allBuffers;\n    doWrite(stream, state, true, state.length, buffer, '', holder.finish); // doWrite is almost always async, defer these to save a bit of time\n    // as the hot path ends with doWrite\n\n    state.pendingcb++;\n    state.lastBufferedRequest = null;\n\n    if (holder.next) {\n      state.corkedRequestsFree = holder.next;\n      holder.next = null;\n    } else {\n      state.corkedRequestsFree = new CorkedRequest(state);\n    }\n\n    state.bufferedRequestCount = 0;\n  } else {\n    // Slow case, write chunks one-by-one\n    while (entry) {\n      var chunk = entry.chunk;\n      var encoding = entry.encoding;\n      var cb = entry.callback;\n      var len = state.objectMode ? 1 : chunk.length;\n      doWrite(stream, state, false, len, chunk, encoding, cb);\n      entry = entry.next;\n      state.bufferedRequestCount--; // if we didn't call the onwrite immediately, then\n      // it means that we need to wait until it does.\n      // also, that means that the chunk and cb are currently\n      // being processed, so move the buffer counter past them.\n\n      if (state.writing) {\n        break;\n      }\n    }\n\n    if (entry === null) state.lastBufferedRequest = null;\n  }\n\n  state.bufferedRequest = entry;\n  state.bufferProcessing = false;\n}\n\nWritable.prototype._write = function (chunk, encoding, cb) {\n  cb(new ERR_METHOD_NOT_IMPLEMENTED('_write()'));\n};\n\nWritable.prototype._writev = null;\n\nWritable.prototype.end = function (chunk, encoding, cb) {\n  var state = this._writableState;\n\n  if (typeof chunk === 'function') {\n    cb = chunk;\n    chunk = null;\n    encoding = null;\n  } else if (typeof encoding === 'function') {\n    cb = encoding;\n    encoding = null;\n  }\n\n  if (chunk !== null && chunk !== undefined) this.write(chunk, encoding); // .end() fully uncorks\n\n  if (state.corked) {\n    state.corked = 1;\n    this.uncork();\n  } // ignore unnecessary end() calls.\n\n\n  if (!state.ending) endWritable(this, state, cb);\n  return this;\n};\n\nObject.defineProperty(Writable.prototype, 'writableLength', {\n  // making it explicit this property is not enumerable\n  // because otherwise some prototype manipulation in\n  // userland will fail\n  enumerable: false,\n  get: function get() {\n    return this._writableState.length;\n  }\n});\n\nfunction needFinish(state) {\n  return state.ending && state.length === 0 && state.bufferedRequest === null && !state.finished && !state.writing;\n}\n\nfunction callFinal(stream, state) {\n  stream._final(function (err) {\n    state.pendingcb--;\n\n    if (err) {\n      errorOrDestroy(stream, err);\n    }\n\n    state.prefinished = true;\n    stream.emit('prefinish');\n    finishMaybe(stream, state);\n  });\n}\n\nfunction prefinish(stream, state) {\n  if (!state.prefinished && !state.finalCalled) {\n    if (typeof stream._final === 'function' && !state.destroyed) {\n      state.pendingcb++;\n      state.finalCalled = true;\n      process.nextTick(callFinal, stream, state);\n    } else {\n      state.prefinished = true;\n      stream.emit('prefinish');\n    }\n  }\n}\n\nfunction finishMaybe(stream, state) {\n  var need = needFinish(state);\n\n  if (need) {\n    prefinish(stream, state);\n\n    if (state.pendingcb === 0) {\n      state.finished = true;\n      stream.emit('finish');\n\n      if (state.autoDestroy) {\n        // In case of duplex streams we need a way to detect\n        // if the readable side is ready for autoDestroy as well\n        var rState = stream._readableState;\n\n        if (!rState || rState.autoDestroy && rState.endEmitted) {\n          stream.destroy();\n        }\n      }\n    }\n  }\n\n  return need;\n}\n\nfunction endWritable(stream, state, cb) {\n  state.ending = true;\n  finishMaybe(stream, state);\n\n  if (cb) {\n    if (state.finished) process.nextTick(cb);else stream.once('finish', cb);\n  }\n\n  state.ended = true;\n  stream.writable = false;\n}\n\nfunction onCorkedFinish(corkReq, state, err) {\n  var entry = corkReq.entry;\n  corkReq.entry = null;\n\n  while (entry) {\n    var cb = entry.callback;\n    state.pendingcb--;\n    cb(err);\n    entry = entry.next;\n  } // reuse the free corkReq.\n\n\n  state.corkedRequestsFree.next = corkReq;\n}\n\nObject.defineProperty(Writable.prototype, 'destroyed', {\n  // making it explicit this property is not enumerable\n  // because otherwise some prototype manipulation in\n  // userland will fail\n  enumerable: false,\n  get: function get() {\n    if (this._writableState === undefined) {\n      return false;\n    }\n\n    return this._writableState.destroyed;\n  },\n  set: function set(value) {\n    // we ignore the value if the stream\n    // has not been initialized yet\n    if (!this._writableState) {\n      return;\n    } // backward compatibility, the user is explicitly\n    // managing destroyed\n\n\n    this._writableState.destroyed = value;\n  }\n});\nWritable.prototype.destroy = destroyImpl.destroy;\nWritable.prototype._undestroy = destroyImpl.undestroy;\n\nWritable.prototype._destroy = function (err, cb) {\n  cb(err);\n};","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n// a duplex stream is just a stream that is both readable and writable.\n// Since JS doesn't have multiple prototypal inheritance, this class\n// prototypally inherits from Readable, and then parasitically from\n// Writable.\n'use strict';\n/*<replacement>*/\n\nvar objectKeys = Object.keys || function (obj) {\n  var keys = [];\n\n  for (var key in obj) {\n    keys.push(key);\n  }\n\n  return keys;\n};\n/*</replacement>*/\n\n\nmodule.exports = Duplex;\n\nvar Readable = require('./_stream_readable');\n\nvar Writable = require('./_stream_writable');\n\nrequire('inherits')(Duplex, Readable);\n\n{\n  // Allow the keys array to be GC'ed.\n  var keys = objectKeys(Writable.prototype);\n\n  for (var v = 0; v < keys.length; v++) {\n    var method = keys[v];\n    if (!Duplex.prototype[method]) Duplex.prototype[method] = Writable.prototype[method];\n  }\n}\n\nfunction Duplex(options) {\n  if (!(this instanceof Duplex)) return new Duplex(options);\n  Readable.call(this, options);\n  Writable.call(this, options);\n  this.allowHalfOpen = true;\n\n  if (options) {\n    if (options.readable === false) this.readable = false;\n    if (options.writable === false) this.writable = false;\n\n    if (options.allowHalfOpen === false) {\n      this.allowHalfOpen = false;\n      this.once('end', onend);\n    }\n  }\n}\n\nObject.defineProperty(Duplex.prototype, 'writableHighWaterMark', {\n  // making it explicit this property is not enumerable\n  // because otherwise some prototype manipulation in\n  // userland will fail\n  enumerable: false,\n  get: function get() {\n    return this._writableState.highWaterMark;\n  }\n});\nObject.defineProperty(Duplex.prototype, 'writableBuffer', {\n  // making it explicit this property is not enumerable\n  // because otherwise some prototype manipulation in\n  // userland will fail\n  enumerable: false,\n  get: function get() {\n    return this._writableState && this._writableState.getBuffer();\n  }\n});\nObject.defineProperty(Duplex.prototype, 'writableLength', {\n  // making it explicit this property is not enumerable\n  // because otherwise some prototype manipulation in\n  // userland will fail\n  enumerable: false,\n  get: function get() {\n    return this._writableState.length;\n  }\n}); // the no-half-open enforcer\n\nfunction onend() {\n  // If the writable side ended, then we're ok.\n  if (this._writableState.ended) return; // no more data can be written.\n  // But allow more writes to happen in this tick.\n\n  process.nextTick(onEndNT, this);\n}\n\nfunction onEndNT(self) {\n  self.end();\n}\n\nObject.defineProperty(Duplex.prototype, 'destroyed', {\n  // making it explicit this property is not enumerable\n  // because otherwise some prototype manipulation in\n  // userland will fail\n  enumerable: false,\n  get: function get() {\n    if (this._readableState === undefined || this._writableState === undefined) {\n      return false;\n    }\n\n    return this._readableState.destroyed && this._writableState.destroyed;\n  },\n  set: function set(value) {\n    // we ignore the value if the stream\n    // has not been initialized yet\n    if (this._readableState === undefined || this._writableState === undefined) {\n      return;\n    } // backward compatibility, the user is explicitly\n    // managing destroyed\n\n\n    this._readableState.destroyed = value;\n    this._writableState.destroyed = value;\n  }\n});","/*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */\n/* eslint-disable node/no-deprecated-api */\nvar buffer = require('buffer')\nvar Buffer = buffer.Buffer\n\n// alternative to using Object.keys for old browsers\nfunction copyProps (src, dst) {\n  for (var key in src) {\n    dst[key] = src[key]\n  }\n}\nif (Buffer.from && Buffer.alloc && Buffer.allocUnsafe && Buffer.allocUnsafeSlow) {\n  module.exports = buffer\n} else {\n  // Copy properties from require('buffer')\n  copyProps(buffer, exports)\n  exports.Buffer = SafeBuffer\n}\n\nfunction SafeBuffer (arg, encodingOrOffset, length) {\n  return Buffer(arg, encodingOrOffset, length)\n}\n\nSafeBuffer.prototype = Object.create(Buffer.prototype)\n\n// Copy static methods from Buffer\ncopyProps(Buffer, SafeBuffer)\n\nSafeBuffer.from = function (arg, encodingOrOffset, length) {\n  if (typeof arg === 'number') {\n    throw new TypeError('Argument must not be a number')\n  }\n  return Buffer(arg, encodingOrOffset, length)\n}\n\nSafeBuffer.alloc = function (size, fill, encoding) {\n  if (typeof size !== 'number') {\n    throw new TypeError('Argument must be a number')\n  }\n  var buf = Buffer(size)\n  if (fill !== undefined) {\n    if (typeof encoding === 'string') {\n      buf.fill(fill, encoding)\n    } else {\n      buf.fill(fill)\n    }\n  } else {\n    buf.fill(0)\n  }\n  return buf\n}\n\nSafeBuffer.allocUnsafe = function (size) {\n  if (typeof size !== 'number') {\n    throw new TypeError('Argument must be a number')\n  }\n  return Buffer(size)\n}\n\nSafeBuffer.allocUnsafeSlow = function (size) {\n  if (typeof size !== 'number') {\n    throw new TypeError('Argument must be a number')\n  }\n  return buffer.SlowBuffer(size)\n}\n","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n'use strict';\n\n/*<replacement>*/\n\nvar Buffer = require('safe-buffer').Buffer;\n/*</replacement>*/\n\nvar isEncoding = Buffer.isEncoding || function (encoding) {\n  encoding = '' + encoding;\n  switch (encoding && encoding.toLowerCase()) {\n    case 'hex':case 'utf8':case 'utf-8':case 'ascii':case 'binary':case 'base64':case 'ucs2':case 'ucs-2':case 'utf16le':case 'utf-16le':case 'raw':\n      return true;\n    default:\n      return false;\n  }\n};\n\nfunction _normalizeEncoding(enc) {\n  if (!enc) return 'utf8';\n  var retried;\n  while (true) {\n    switch (enc) {\n      case 'utf8':\n      case 'utf-8':\n        return 'utf8';\n      case 'ucs2':\n      case 'ucs-2':\n      case 'utf16le':\n      case 'utf-16le':\n        return 'utf16le';\n      case 'latin1':\n      case 'binary':\n        return 'latin1';\n      case 'base64':\n      case 'ascii':\n      case 'hex':\n        return enc;\n      default:\n        if (retried) return; // undefined\n        enc = ('' + enc).toLowerCase();\n        retried = true;\n    }\n  }\n};\n\n// Do not cache `Buffer.isEncoding` when checking encoding names as some\n// modules monkey-patch it to support additional encodings\nfunction normalizeEncoding(enc) {\n  var nenc = _normalizeEncoding(enc);\n  if (typeof nenc !== 'string' && (Buffer.isEncoding === isEncoding || !isEncoding(enc))) throw new Error('Unknown encoding: ' + enc);\n  return nenc || enc;\n}\n\n// StringDecoder provides an interface for efficiently splitting a series of\n// buffers into a series of JS strings without breaking apart multi-byte\n// characters.\nexports.StringDecoder = StringDecoder;\nfunction StringDecoder(encoding) {\n  this.encoding = normalizeEncoding(encoding);\n  var nb;\n  switch (this.encoding) {\n    case 'utf16le':\n      this.text = utf16Text;\n      this.end = utf16End;\n      nb = 4;\n      break;\n    case 'utf8':\n      this.fillLast = utf8FillLast;\n      nb = 4;\n      break;\n    case 'base64':\n      this.text = base64Text;\n      this.end = base64End;\n      nb = 3;\n      break;\n    default:\n      this.write = simpleWrite;\n      this.end = simpleEnd;\n      return;\n  }\n  this.lastNeed = 0;\n  this.lastTotal = 0;\n  this.lastChar = Buffer.allocUnsafe(nb);\n}\n\nStringDecoder.prototype.write = function (buf) {\n  if (buf.length === 0) return '';\n  var r;\n  var i;\n  if (this.lastNeed) {\n    r = this.fillLast(buf);\n    if (r === undefined) return '';\n    i = this.lastNeed;\n    this.lastNeed = 0;\n  } else {\n    i = 0;\n  }\n  if (i < buf.length) return r ? r + this.text(buf, i) : this.text(buf, i);\n  return r || '';\n};\n\nStringDecoder.prototype.end = utf8End;\n\n// Returns only complete characters in a Buffer\nStringDecoder.prototype.text = utf8Text;\n\n// Attempts to complete a partial non-UTF-8 character using bytes from a Buffer\nStringDecoder.prototype.fillLast = function (buf) {\n  if (this.lastNeed <= buf.length) {\n    buf.copy(this.lastChar, this.lastTotal - this.lastNeed, 0, this.lastNeed);\n    return this.lastChar.toString(this.encoding, 0, this.lastTotal);\n  }\n  buf.copy(this.lastChar, this.lastTotal - this.lastNeed, 0, buf.length);\n  this.lastNeed -= buf.length;\n};\n\n// Checks the type of a UTF-8 byte, whether it's ASCII, a leading byte, or a\n// continuation byte. If an invalid byte is detected, -2 is returned.\nfunction utf8CheckByte(byte) {\n  if (byte <= 0x7F) return 0;else if (byte >> 5 === 0x06) return 2;else if (byte >> 4 === 0x0E) return 3;else if (byte >> 3 === 0x1E) return 4;\n  return byte >> 6 === 0x02 ? -1 : -2;\n}\n\n// Checks at most 3 bytes at the end of a Buffer in order to detect an\n// incomplete multi-byte UTF-8 character. The total number of bytes (2, 3, or 4)\n// needed to complete the UTF-8 character (if applicable) are returned.\nfunction utf8CheckIncomplete(self, buf, i) {\n  var j = buf.length - 1;\n  if (j < i) return 0;\n  var nb = utf8CheckByte(buf[j]);\n  if (nb >= 0) {\n    if (nb > 0) self.lastNeed = nb - 1;\n    return nb;\n  }\n  if (--j < i || nb === -2) return 0;\n  nb = utf8CheckByte(buf[j]);\n  if (nb >= 0) {\n    if (nb > 0) self.lastNeed = nb - 2;\n    return nb;\n  }\n  if (--j < i || nb === -2) return 0;\n  nb = utf8CheckByte(buf[j]);\n  if (nb >= 0) {\n    if (nb > 0) {\n      if (nb === 2) nb = 0;else self.lastNeed = nb - 3;\n    }\n    return nb;\n  }\n  return 0;\n}\n\n// Validates as many continuation bytes for a multi-byte UTF-8 character as\n// needed or are available. If we see a non-continuation byte where we expect\n// one, we \"replace\" the validated continuation bytes we've seen so far with\n// a single UTF-8 replacement character ('\\ufffd'), to match v8's UTF-8 decoding\n// behavior. The continuation byte check is included three times in the case\n// where all of the continuation bytes for a character exist in the same buffer.\n// It is also done this way as a slight performance increase instead of using a\n// loop.\nfunction utf8CheckExtraBytes(self, buf, p) {\n  if ((buf[0] & 0xC0) !== 0x80) {\n    self.lastNeed = 0;\n    return '\\ufffd';\n  }\n  if (self.lastNeed > 1 && buf.length > 1) {\n    if ((buf[1] & 0xC0) !== 0x80) {\n      self.lastNeed = 1;\n      return '\\ufffd';\n    }\n    if (self.lastNeed > 2 && buf.length > 2) {\n      if ((buf[2] & 0xC0) !== 0x80) {\n        self.lastNeed = 2;\n        return '\\ufffd';\n      }\n    }\n  }\n}\n\n// Attempts to complete a multi-byte UTF-8 character using bytes from a Buffer.\nfunction utf8FillLast(buf) {\n  var p = this.lastTotal - this.lastNeed;\n  var r = utf8CheckExtraBytes(this, buf, p);\n  if (r !== undefined) return r;\n  if (this.lastNeed <= buf.length) {\n    buf.copy(this.lastChar, p, 0, this.lastNeed);\n    return this.lastChar.toString(this.encoding, 0, this.lastTotal);\n  }\n  buf.copy(this.lastChar, p, 0, buf.length);\n  this.lastNeed -= buf.length;\n}\n\n// Returns all complete UTF-8 characters in a Buffer. If the Buffer ended on a\n// partial character, the character's bytes are buffered until the required\n// number of bytes are available.\nfunction utf8Text(buf, i) {\n  var total = utf8CheckIncomplete(this, buf, i);\n  if (!this.lastNeed) return buf.toString('utf8', i);\n  this.lastTotal = total;\n  var end = buf.length - (total - this.lastNeed);\n  buf.copy(this.lastChar, 0, end);\n  return buf.toString('utf8', i, end);\n}\n\n// For UTF-8, a replacement character is added when ending on a partial\n// character.\nfunction utf8End(buf) {\n  var r = buf && buf.length ? this.write(buf) : '';\n  if (this.lastNeed) return r + '\\ufffd';\n  return r;\n}\n\n// UTF-16LE typically needs two bytes per character, but even if we have an even\n// number of bytes available, we need to check if we end on a leading/high\n// surrogate. In that case, we need to wait for the next two bytes in order to\n// decode the last character properly.\nfunction utf16Text(buf, i) {\n  if ((buf.length - i) % 2 === 0) {\n    var r = buf.toString('utf16le', i);\n    if (r) {\n      var c = r.charCodeAt(r.length - 1);\n      if (c >= 0xD800 && c <= 0xDBFF) {\n        this.lastNeed = 2;\n        this.lastTotal = 4;\n        this.lastChar[0] = buf[buf.length - 2];\n        this.lastChar[1] = buf[buf.length - 1];\n        return r.slice(0, -1);\n      }\n    }\n    return r;\n  }\n  this.lastNeed = 1;\n  this.lastTotal = 2;\n  this.lastChar[0] = buf[buf.length - 1];\n  return buf.toString('utf16le', i, buf.length - 1);\n}\n\n// For UTF-16LE we do not explicitly append special replacement characters if we\n// end on a partial character, we simply let v8 handle that.\nfunction utf16End(buf) {\n  var r = buf && buf.length ? this.write(buf) : '';\n  if (this.lastNeed) {\n    var end = this.lastTotal - this.lastNeed;\n    return r + this.lastChar.toString('utf16le', 0, end);\n  }\n  return r;\n}\n\nfunction base64Text(buf, i) {\n  var n = (buf.length - i) % 3;\n  if (n === 0) return buf.toString('base64', i);\n  this.lastNeed = 3 - n;\n  this.lastTotal = 3;\n  if (n === 1) {\n    this.lastChar[0] = buf[buf.length - 1];\n  } else {\n    this.lastChar[0] = buf[buf.length - 2];\n    this.lastChar[1] = buf[buf.length - 1];\n  }\n  return buf.toString('base64', i, buf.length - n);\n}\n\nfunction base64End(buf) {\n  var r = buf && buf.length ? this.write(buf) : '';\n  if (this.lastNeed) return r + this.lastChar.toString('base64', 0, 3 - this.lastNeed);\n  return r;\n}\n\n// Pass bytes on through for single-byte encodings (e.g. ascii, latin1, hex)\nfunction simpleWrite(buf) {\n  return buf.toString(this.encoding);\n}\n\nfunction simpleEnd(buf) {\n  return buf && buf.length ? this.write(buf) : '';\n}","// Ported from https://github.com/mafintosh/end-of-stream with\n// permission from the author, Mathias Buus (@mafintosh).\n'use strict';\n\nvar ERR_STREAM_PREMATURE_CLOSE = require('../../../errors').codes.ERR_STREAM_PREMATURE_CLOSE;\n\nfunction once(callback) {\n  var called = false;\n  return function () {\n    if (called) return;\n    called = true;\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    callback.apply(this, args);\n  };\n}\n\nfunction noop() {}\n\nfunction isRequest(stream) {\n  return stream.setHeader && typeof stream.abort === 'function';\n}\n\nfunction eos(stream, opts, callback) {\n  if (typeof opts === 'function') return eos(stream, null, opts);\n  if (!opts) opts = {};\n  callback = once(callback || noop);\n  var readable = opts.readable || opts.readable !== false && stream.readable;\n  var writable = opts.writable || opts.writable !== false && stream.writable;\n\n  var onlegacyfinish = function onlegacyfinish() {\n    if (!stream.writable) onfinish();\n  };\n\n  var writableEnded = stream._writableState && stream._writableState.finished;\n\n  var onfinish = function onfinish() {\n    writable = false;\n    writableEnded = true;\n    if (!readable) callback.call(stream);\n  };\n\n  var readableEnded = stream._readableState && stream._readableState.endEmitted;\n\n  var onend = function onend() {\n    readable = false;\n    readableEnded = true;\n    if (!writable) callback.call(stream);\n  };\n\n  var onerror = function onerror(err) {\n    callback.call(stream, err);\n  };\n\n  var onclose = function onclose() {\n    var err;\n\n    if (readable && !readableEnded) {\n      if (!stream._readableState || !stream._readableState.ended) err = new ERR_STREAM_PREMATURE_CLOSE();\n      return callback.call(stream, err);\n    }\n\n    if (writable && !writableEnded) {\n      if (!stream._writableState || !stream._writableState.ended) err = new ERR_STREAM_PREMATURE_CLOSE();\n      return callback.call(stream, err);\n    }\n  };\n\n  var onrequest = function onrequest() {\n    stream.req.on('finish', onfinish);\n  };\n\n  if (isRequest(stream)) {\n    stream.on('complete', onfinish);\n    stream.on('abort', onclose);\n    if (stream.req) onrequest();else stream.on('request', onrequest);\n  } else if (writable && !stream._writableState) {\n    // legacy streams\n    stream.on('end', onlegacyfinish);\n    stream.on('close', onlegacyfinish);\n  }\n\n  stream.on('end', onend);\n  stream.on('finish', onfinish);\n  if (opts.error !== false) stream.on('error', onerror);\n  stream.on('close', onclose);\n  return function () {\n    stream.removeListener('complete', onfinish);\n    stream.removeListener('abort', onclose);\n    stream.removeListener('request', onrequest);\n    if (stream.req) stream.req.removeListener('finish', onfinish);\n    stream.removeListener('end', onlegacyfinish);\n    stream.removeListener('close', onlegacyfinish);\n    stream.removeListener('finish', onfinish);\n    stream.removeListener('end', onend);\n    stream.removeListener('error', onerror);\n    stream.removeListener('close', onclose);\n  };\n}\n\nmodule.exports = eos;","'use strict';\n\nvar _Object$setPrototypeO;\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nvar finished = require('./end-of-stream');\n\nvar kLastResolve = Symbol('lastResolve');\nvar kLastReject = Symbol('lastReject');\nvar kError = Symbol('error');\nvar kEnded = Symbol('ended');\nvar kLastPromise = Symbol('lastPromise');\nvar kHandlePromise = Symbol('handlePromise');\nvar kStream = Symbol('stream');\n\nfunction createIterResult(value, done) {\n  return {\n    value: value,\n    done: done\n  };\n}\n\nfunction readAndResolve(iter) {\n  var resolve = iter[kLastResolve];\n\n  if (resolve !== null) {\n    var data = iter[kStream].read(); // we defer if data is null\n    // we can be expecting either 'end' or\n    // 'error'\n\n    if (data !== null) {\n      iter[kLastPromise] = null;\n      iter[kLastResolve] = null;\n      iter[kLastReject] = null;\n      resolve(createIterResult(data, false));\n    }\n  }\n}\n\nfunction onReadable(iter) {\n  // we wait for the next tick, because it might\n  // emit an error with process.nextTick\n  process.nextTick(readAndResolve, iter);\n}\n\nfunction wrapForNext(lastPromise, iter) {\n  return function (resolve, reject) {\n    lastPromise.then(function () {\n      if (iter[kEnded]) {\n        resolve(createIterResult(undefined, true));\n        return;\n      }\n\n      iter[kHandlePromise](resolve, reject);\n    }, reject);\n  };\n}\n\nvar AsyncIteratorPrototype = Object.getPrototypeOf(function () {});\nvar ReadableStreamAsyncIteratorPrototype = Object.setPrototypeOf((_Object$setPrototypeO = {\n  get stream() {\n    return this[kStream];\n  },\n\n  next: function next() {\n    var _this = this;\n\n    // if we have detected an error in the meanwhile\n    // reject straight away\n    var error = this[kError];\n\n    if (error !== null) {\n      return Promise.reject(error);\n    }\n\n    if (this[kEnded]) {\n      return Promise.resolve(createIterResult(undefined, true));\n    }\n\n    if (this[kStream].destroyed) {\n      // We need to defer via nextTick because if .destroy(err) is\n      // called, the error will be emitted via nextTick, and\n      // we cannot guarantee that there is no error lingering around\n      // waiting to be emitted.\n      return new Promise(function (resolve, reject) {\n        process.nextTick(function () {\n          if (_this[kError]) {\n            reject(_this[kError]);\n          } else {\n            resolve(createIterResult(undefined, true));\n          }\n        });\n      });\n    } // if we have multiple next() calls\n    // we will wait for the previous Promise to finish\n    // this logic is optimized to support for await loops,\n    // where next() is only called once at a time\n\n\n    var lastPromise = this[kLastPromise];\n    var promise;\n\n    if (lastPromise) {\n      promise = new Promise(wrapForNext(lastPromise, this));\n    } else {\n      // fast path needed to support multiple this.push()\n      // without triggering the next() queue\n      var data = this[kStream].read();\n\n      if (data !== null) {\n        return Promise.resolve(createIterResult(data, false));\n      }\n\n      promise = new Promise(this[kHandlePromise]);\n    }\n\n    this[kLastPromise] = promise;\n    return promise;\n  }\n}, _defineProperty(_Object$setPrototypeO, Symbol.asyncIterator, function () {\n  return this;\n}), _defineProperty(_Object$setPrototypeO, \"return\", function _return() {\n  var _this2 = this;\n\n  // destroy(err, cb) is a private API\n  // we can guarantee we have that here, because we control the\n  // Readable class this is attached to\n  return new Promise(function (resolve, reject) {\n    _this2[kStream].destroy(null, function (err) {\n      if (err) {\n        reject(err);\n        return;\n      }\n\n      resolve(createIterResult(undefined, true));\n    });\n  });\n}), _Object$setPrototypeO), AsyncIteratorPrototype);\n\nvar createReadableStreamAsyncIterator = function createReadableStreamAsyncIterator(stream) {\n  var _Object$create;\n\n  var iterator = Object.create(ReadableStreamAsyncIteratorPrototype, (_Object$create = {}, _defineProperty(_Object$create, kStream, {\n    value: stream,\n    writable: true\n  }), _defineProperty(_Object$create, kLastResolve, {\n    value: null,\n    writable: true\n  }), _defineProperty(_Object$create, kLastReject, {\n    value: null,\n    writable: true\n  }), _defineProperty(_Object$create, kError, {\n    value: null,\n    writable: true\n  }), _defineProperty(_Object$create, kEnded, {\n    value: stream._readableState.endEmitted,\n    writable: true\n  }), _defineProperty(_Object$create, kHandlePromise, {\n    value: function value(resolve, reject) {\n      var data = iterator[kStream].read();\n\n      if (data) {\n        iterator[kLastPromise] = null;\n        iterator[kLastResolve] = null;\n        iterator[kLastReject] = null;\n        resolve(createIterResult(data, false));\n      } else {\n        iterator[kLastResolve] = resolve;\n        iterator[kLastReject] = reject;\n      }\n    },\n    writable: true\n  }), _Object$create));\n  iterator[kLastPromise] = null;\n  finished(stream, function (err) {\n    if (err && err.code !== 'ERR_STREAM_PREMATURE_CLOSE') {\n      var reject = iterator[kLastReject]; // reject if we are waiting for data in the Promise\n      // returned by next() and store the error\n\n      if (reject !== null) {\n        iterator[kLastPromise] = null;\n        iterator[kLastResolve] = null;\n        iterator[kLastReject] = null;\n        reject(err);\n      }\n\n      iterator[kError] = err;\n      return;\n    }\n\n    var resolve = iterator[kLastResolve];\n\n    if (resolve !== null) {\n      iterator[kLastPromise] = null;\n      iterator[kLastResolve] = null;\n      iterator[kLastReject] = null;\n      resolve(createIterResult(undefined, true));\n    }\n\n    iterator[kEnded] = true;\n  });\n  stream.on('readable', onReadable.bind(null, iterator));\n  return iterator;\n};\n\nmodule.exports = createReadableStreamAsyncIterator;","module.exports = function () {\n  throw new Error('Readable.from is not available in the browser')\n};\n","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n'use strict';\n\nmodule.exports = Readable;\n/*<replacement>*/\n\nvar Duplex;\n/*</replacement>*/\n\nReadable.ReadableState = ReadableState;\n/*<replacement>*/\n\nvar EE = require('events').EventEmitter;\n\nvar EElistenerCount = function EElistenerCount(emitter, type) {\n  return emitter.listeners(type).length;\n};\n/*</replacement>*/\n\n/*<replacement>*/\n\n\nvar Stream = require('./internal/streams/stream');\n/*</replacement>*/\n\n\nvar Buffer = require('buffer').Buffer;\n\nvar OurUint8Array = global.Uint8Array || function () {};\n\nfunction _uint8ArrayToBuffer(chunk) {\n  return Buffer.from(chunk);\n}\n\nfunction _isUint8Array(obj) {\n  return Buffer.isBuffer(obj) || obj instanceof OurUint8Array;\n}\n/*<replacement>*/\n\n\nvar debugUtil = require('util');\n\nvar debug;\n\nif (debugUtil && debugUtil.debuglog) {\n  debug = debugUtil.debuglog('stream');\n} else {\n  debug = function debug() {};\n}\n/*</replacement>*/\n\n\nvar BufferList = require('./internal/streams/buffer_list');\n\nvar destroyImpl = require('./internal/streams/destroy');\n\nvar _require = require('./internal/streams/state'),\n    getHighWaterMark = _require.getHighWaterMark;\n\nvar _require$codes = require('../errors').codes,\n    ERR_INVALID_ARG_TYPE = _require$codes.ERR_INVALID_ARG_TYPE,\n    ERR_STREAM_PUSH_AFTER_EOF = _require$codes.ERR_STREAM_PUSH_AFTER_EOF,\n    ERR_METHOD_NOT_IMPLEMENTED = _require$codes.ERR_METHOD_NOT_IMPLEMENTED,\n    ERR_STREAM_UNSHIFT_AFTER_END_EVENT = _require$codes.ERR_STREAM_UNSHIFT_AFTER_END_EVENT; // Lazy loaded to improve the startup performance.\n\n\nvar StringDecoder;\nvar createReadableStreamAsyncIterator;\nvar from;\n\nrequire('inherits')(Readable, Stream);\n\nvar errorOrDestroy = destroyImpl.errorOrDestroy;\nvar kProxyEvents = ['error', 'close', 'destroy', 'pause', 'resume'];\n\nfunction prependListener(emitter, event, fn) {\n  // Sadly this is not cacheable as some libraries bundle their own\n  // event emitter implementation with them.\n  if (typeof emitter.prependListener === 'function') return emitter.prependListener(event, fn); // This is a hack to make sure that our error handler is attached before any\n  // userland ones.  NEVER DO THIS. This is here only because this code needs\n  // to continue to work with older versions of Node.js that do not include\n  // the prependListener() method. The goal is to eventually remove this hack.\n\n  if (!emitter._events || !emitter._events[event]) emitter.on(event, fn);else if (Array.isArray(emitter._events[event])) emitter._events[event].unshift(fn);else emitter._events[event] = [fn, emitter._events[event]];\n}\n\nfunction ReadableState(options, stream, isDuplex) {\n  Duplex = Duplex || require('./_stream_duplex');\n  options = options || {}; // Duplex streams are both readable and writable, but share\n  // the same options object.\n  // However, some cases require setting options to different\n  // values for the readable and the writable sides of the duplex stream.\n  // These options can be provided separately as readableXXX and writableXXX.\n\n  if (typeof isDuplex !== 'boolean') isDuplex = stream instanceof Duplex; // object stream flag. Used to make read(n) ignore n and to\n  // make all the buffer merging and length checks go away\n\n  this.objectMode = !!options.objectMode;\n  if (isDuplex) this.objectMode = this.objectMode || !!options.readableObjectMode; // the point at which it stops calling _read() to fill the buffer\n  // Note: 0 is a valid value, means \"don't call _read preemptively ever\"\n\n  this.highWaterMark = getHighWaterMark(this, options, 'readableHighWaterMark', isDuplex); // A linked list is used to store data chunks instead of an array because the\n  // linked list can remove elements from the beginning faster than\n  // array.shift()\n\n  this.buffer = new BufferList();\n  this.length = 0;\n  this.pipes = null;\n  this.pipesCount = 0;\n  this.flowing = null;\n  this.ended = false;\n  this.endEmitted = false;\n  this.reading = false; // a flag to be able to tell if the event 'readable'/'data' is emitted\n  // immediately, or on a later tick.  We set this to true at first, because\n  // any actions that shouldn't happen until \"later\" should generally also\n  // not happen before the first read call.\n\n  this.sync = true; // whenever we return null, then we set a flag to say\n  // that we're awaiting a 'readable' event emission.\n\n  this.needReadable = false;\n  this.emittedReadable = false;\n  this.readableListening = false;\n  this.resumeScheduled = false;\n  this.paused = true; // Should close be emitted on destroy. Defaults to true.\n\n  this.emitClose = options.emitClose !== false; // Should .destroy() be called after 'end' (and potentially 'finish')\n\n  this.autoDestroy = !!options.autoDestroy; // has it been destroyed\n\n  this.destroyed = false; // Crypto is kind of old and crusty.  Historically, its default string\n  // encoding is 'binary' so we have to make this configurable.\n  // Everything else in the universe uses 'utf8', though.\n\n  this.defaultEncoding = options.defaultEncoding || 'utf8'; // the number of writers that are awaiting a drain event in .pipe()s\n\n  this.awaitDrain = 0; // if true, a maybeReadMore has been scheduled\n\n  this.readingMore = false;\n  this.decoder = null;\n  this.encoding = null;\n\n  if (options.encoding) {\n    if (!StringDecoder) StringDecoder = require('string_decoder/').StringDecoder;\n    this.decoder = new StringDecoder(options.encoding);\n    this.encoding = options.encoding;\n  }\n}\n\nfunction Readable(options) {\n  Duplex = Duplex || require('./_stream_duplex');\n  if (!(this instanceof Readable)) return new Readable(options); // Checking for a Stream.Duplex instance is faster here instead of inside\n  // the ReadableState constructor, at least with V8 6.5\n\n  var isDuplex = this instanceof Duplex;\n  this._readableState = new ReadableState(options, this, isDuplex); // legacy\n\n  this.readable = true;\n\n  if (options) {\n    if (typeof options.read === 'function') this._read = options.read;\n    if (typeof options.destroy === 'function') this._destroy = options.destroy;\n  }\n\n  Stream.call(this);\n}\n\nObject.defineProperty(Readable.prototype, 'destroyed', {\n  // making it explicit this property is not enumerable\n  // because otherwise some prototype manipulation in\n  // userland will fail\n  enumerable: false,\n  get: function get() {\n    if (this._readableState === undefined) {\n      return false;\n    }\n\n    return this._readableState.destroyed;\n  },\n  set: function set(value) {\n    // we ignore the value if the stream\n    // has not been initialized yet\n    if (!this._readableState) {\n      return;\n    } // backward compatibility, the user is explicitly\n    // managing destroyed\n\n\n    this._readableState.destroyed = value;\n  }\n});\nReadable.prototype.destroy = destroyImpl.destroy;\nReadable.prototype._undestroy = destroyImpl.undestroy;\n\nReadable.prototype._destroy = function (err, cb) {\n  cb(err);\n}; // Manually shove something into the read() buffer.\n// This returns true if the highWaterMark has not been hit yet,\n// similar to how Writable.write() returns true if you should\n// write() some more.\n\n\nReadable.prototype.push = function (chunk, encoding) {\n  var state = this._readableState;\n  var skipChunkCheck;\n\n  if (!state.objectMode) {\n    if (typeof chunk === 'string') {\n      encoding = encoding || state.defaultEncoding;\n\n      if (encoding !== state.encoding) {\n        chunk = Buffer.from(chunk, encoding);\n        encoding = '';\n      }\n\n      skipChunkCheck = true;\n    }\n  } else {\n    skipChunkCheck = true;\n  }\n\n  return readableAddChunk(this, chunk, encoding, false, skipChunkCheck);\n}; // Unshift should *always* be something directly out of read()\n\n\nReadable.prototype.unshift = function (chunk) {\n  return readableAddChunk(this, chunk, null, true, false);\n};\n\nfunction readableAddChunk(stream, chunk, encoding, addToFront, skipChunkCheck) {\n  debug('readableAddChunk', chunk);\n  var state = stream._readableState;\n\n  if (chunk === null) {\n    state.reading = false;\n    onEofChunk(stream, state);\n  } else {\n    var er;\n    if (!skipChunkCheck) er = chunkInvalid(state, chunk);\n\n    if (er) {\n      errorOrDestroy(stream, er);\n    } else if (state.objectMode || chunk && chunk.length > 0) {\n      if (typeof chunk !== 'string' && !state.objectMode && Object.getPrototypeOf(chunk) !== Buffer.prototype) {\n        chunk = _uint8ArrayToBuffer(chunk);\n      }\n\n      if (addToFront) {\n        if (state.endEmitted) errorOrDestroy(stream, new ERR_STREAM_UNSHIFT_AFTER_END_EVENT());else addChunk(stream, state, chunk, true);\n      } else if (state.ended) {\n        errorOrDestroy(stream, new ERR_STREAM_PUSH_AFTER_EOF());\n      } else if (state.destroyed) {\n        return false;\n      } else {\n        state.reading = false;\n\n        if (state.decoder && !encoding) {\n          chunk = state.decoder.write(chunk);\n          if (state.objectMode || chunk.length !== 0) addChunk(stream, state, chunk, false);else maybeReadMore(stream, state);\n        } else {\n          addChunk(stream, state, chunk, false);\n        }\n      }\n    } else if (!addToFront) {\n      state.reading = false;\n      maybeReadMore(stream, state);\n    }\n  } // We can push more data if we are below the highWaterMark.\n  // Also, if we have no data yet, we can stand some more bytes.\n  // This is to work around cases where hwm=0, such as the repl.\n\n\n  return !state.ended && (state.length < state.highWaterMark || state.length === 0);\n}\n\nfunction addChunk(stream, state, chunk, addToFront) {\n  if (state.flowing && state.length === 0 && !state.sync) {\n    state.awaitDrain = 0;\n    stream.emit('data', chunk);\n  } else {\n    // update the buffer info.\n    state.length += state.objectMode ? 1 : chunk.length;\n    if (addToFront) state.buffer.unshift(chunk);else state.buffer.push(chunk);\n    if (state.needReadable) emitReadable(stream);\n  }\n\n  maybeReadMore(stream, state);\n}\n\nfunction chunkInvalid(state, chunk) {\n  var er;\n\n  if (!_isUint8Array(chunk) && typeof chunk !== 'string' && chunk !== undefined && !state.objectMode) {\n    er = new ERR_INVALID_ARG_TYPE('chunk', ['string', 'Buffer', 'Uint8Array'], chunk);\n  }\n\n  return er;\n}\n\nReadable.prototype.isPaused = function () {\n  return this._readableState.flowing === false;\n}; // backwards compatibility.\n\n\nReadable.prototype.setEncoding = function (enc) {\n  if (!StringDecoder) StringDecoder = require('string_decoder/').StringDecoder;\n  var decoder = new StringDecoder(enc);\n  this._readableState.decoder = decoder; // If setEncoding(null), decoder.encoding equals utf8\n\n  this._readableState.encoding = this._readableState.decoder.encoding; // Iterate over current buffer to convert already stored Buffers:\n\n  var p = this._readableState.buffer.head;\n  var content = '';\n\n  while (p !== null) {\n    content += decoder.write(p.data);\n    p = p.next;\n  }\n\n  this._readableState.buffer.clear();\n\n  if (content !== '') this._readableState.buffer.push(content);\n  this._readableState.length = content.length;\n  return this;\n}; // Don't raise the hwm > 1GB\n\n\nvar MAX_HWM = 0x40000000;\n\nfunction computeNewHighWaterMark(n) {\n  if (n >= MAX_HWM) {\n    // TODO(ronag): Throw ERR_VALUE_OUT_OF_RANGE.\n    n = MAX_HWM;\n  } else {\n    // Get the next highest power of 2 to prevent increasing hwm excessively in\n    // tiny amounts\n    n--;\n    n |= n >>> 1;\n    n |= n >>> 2;\n    n |= n >>> 4;\n    n |= n >>> 8;\n    n |= n >>> 16;\n    n++;\n  }\n\n  return n;\n} // This function is designed to be inlinable, so please take care when making\n// changes to the function body.\n\n\nfunction howMuchToRead(n, state) {\n  if (n <= 0 || state.length === 0 && state.ended) return 0;\n  if (state.objectMode) return 1;\n\n  if (n !== n) {\n    // Only flow one buffer at a time\n    if (state.flowing && state.length) return state.buffer.head.data.length;else return state.length;\n  } // If we're asking for more than the current hwm, then raise the hwm.\n\n\n  if (n > state.highWaterMark) state.highWaterMark = computeNewHighWaterMark(n);\n  if (n <= state.length) return n; // Don't have enough\n\n  if (!state.ended) {\n    state.needReadable = true;\n    return 0;\n  }\n\n  return state.length;\n} // you can override either this method, or the async _read(n) below.\n\n\nReadable.prototype.read = function (n) {\n  debug('read', n);\n  n = parseInt(n, 10);\n  var state = this._readableState;\n  var nOrig = n;\n  if (n !== 0) state.emittedReadable = false; // if we're doing read(0) to trigger a readable event, but we\n  // already have a bunch of data in the buffer, then just trigger\n  // the 'readable' event and move on.\n\n  if (n === 0 && state.needReadable && ((state.highWaterMark !== 0 ? state.length >= state.highWaterMark : state.length > 0) || state.ended)) {\n    debug('read: emitReadable', state.length, state.ended);\n    if (state.length === 0 && state.ended) endReadable(this);else emitReadable(this);\n    return null;\n  }\n\n  n = howMuchToRead(n, state); // if we've ended, and we're now clear, then finish it up.\n\n  if (n === 0 && state.ended) {\n    if (state.length === 0) endReadable(this);\n    return null;\n  } // All the actual chunk generation logic needs to be\n  // *below* the call to _read.  The reason is that in certain\n  // synthetic stream cases, such as passthrough streams, _read\n  // may be a completely synchronous operation which may change\n  // the state of the read buffer, providing enough data when\n  // before there was *not* enough.\n  //\n  // So, the steps are:\n  // 1. Figure out what the state of things will be after we do\n  // a read from the buffer.\n  //\n  // 2. If that resulting state will trigger a _read, then call _read.\n  // Note that this may be asynchronous, or synchronous.  Yes, it is\n  // deeply ugly to write APIs this way, but that still doesn't mean\n  // that the Readable class should behave improperly, as streams are\n  // designed to be sync/async agnostic.\n  // Take note if the _read call is sync or async (ie, if the read call\n  // has returned yet), so that we know whether or not it's safe to emit\n  // 'readable' etc.\n  //\n  // 3. Actually pull the requested chunks out of the buffer and return.\n  // if we need a readable event, then we need to do some reading.\n\n\n  var doRead = state.needReadable;\n  debug('need readable', doRead); // if we currently have less than the highWaterMark, then also read some\n\n  if (state.length === 0 || state.length - n < state.highWaterMark) {\n    doRead = true;\n    debug('length less than watermark', doRead);\n  } // however, if we've ended, then there's no point, and if we're already\n  // reading, then it's unnecessary.\n\n\n  if (state.ended || state.reading) {\n    doRead = false;\n    debug('reading or ended', doRead);\n  } else if (doRead) {\n    debug('do read');\n    state.reading = true;\n    state.sync = true; // if the length is currently zero, then we *need* a readable event.\n\n    if (state.length === 0) state.needReadable = true; // call internal read method\n\n    this._read(state.highWaterMark);\n\n    state.sync = false; // If _read pushed data synchronously, then `reading` will be false,\n    // and we need to re-evaluate how much data we can return to the user.\n\n    if (!state.reading) n = howMuchToRead(nOrig, state);\n  }\n\n  var ret;\n  if (n > 0) ret = fromList(n, state);else ret = null;\n\n  if (ret === null) {\n    state.needReadable = state.length <= state.highWaterMark;\n    n = 0;\n  } else {\n    state.length -= n;\n    state.awaitDrain = 0;\n  }\n\n  if (state.length === 0) {\n    // If we have nothing in the buffer, then we want to know\n    // as soon as we *do* get something into the buffer.\n    if (!state.ended) state.needReadable = true; // If we tried to read() past the EOF, then emit end on the next tick.\n\n    if (nOrig !== n && state.ended) endReadable(this);\n  }\n\n  if (ret !== null) this.emit('data', ret);\n  return ret;\n};\n\nfunction onEofChunk(stream, state) {\n  debug('onEofChunk');\n  if (state.ended) return;\n\n  if (state.decoder) {\n    var chunk = state.decoder.end();\n\n    if (chunk && chunk.length) {\n      state.buffer.push(chunk);\n      state.length += state.objectMode ? 1 : chunk.length;\n    }\n  }\n\n  state.ended = true;\n\n  if (state.sync) {\n    // if we are sync, wait until next tick to emit the data.\n    // Otherwise we risk emitting data in the flow()\n    // the readable code triggers during a read() call\n    emitReadable(stream);\n  } else {\n    // emit 'readable' now to make sure it gets picked up.\n    state.needReadable = false;\n\n    if (!state.emittedReadable) {\n      state.emittedReadable = true;\n      emitReadable_(stream);\n    }\n  }\n} // Don't emit readable right away in sync mode, because this can trigger\n// another read() call => stack overflow.  This way, it might trigger\n// a nextTick recursion warning, but that's not so bad.\n\n\nfunction emitReadable(stream) {\n  var state = stream._readableState;\n  debug('emitReadable', state.needReadable, state.emittedReadable);\n  state.needReadable = false;\n\n  if (!state.emittedReadable) {\n    debug('emitReadable', state.flowing);\n    state.emittedReadable = true;\n    process.nextTick(emitReadable_, stream);\n  }\n}\n\nfunction emitReadable_(stream) {\n  var state = stream._readableState;\n  debug('emitReadable_', state.destroyed, state.length, state.ended);\n\n  if (!state.destroyed && (state.length || state.ended)) {\n    stream.emit('readable');\n    state.emittedReadable = false;\n  } // The stream needs another readable event if\n  // 1. It is not flowing, as the flow mechanism will take\n  //    care of it.\n  // 2. It is not ended.\n  // 3. It is below the highWaterMark, so we can schedule\n  //    another readable later.\n\n\n  state.needReadable = !state.flowing && !state.ended && state.length <= state.highWaterMark;\n  flow(stream);\n} // at this point, the user has presumably seen the 'readable' event,\n// and called read() to consume some data.  that may have triggered\n// in turn another _read(n) call, in which case reading = true if\n// it's in progress.\n// However, if we're not ended, or reading, and the length < hwm,\n// then go ahead and try to read some more preemptively.\n\n\nfunction maybeReadMore(stream, state) {\n  if (!state.readingMore) {\n    state.readingMore = true;\n    process.nextTick(maybeReadMore_, stream, state);\n  }\n}\n\nfunction maybeReadMore_(stream, state) {\n  // Attempt to read more data if we should.\n  //\n  // The conditions for reading more data are (one of):\n  // - Not enough data buffered (state.length < state.highWaterMark). The loop\n  //   is responsible for filling the buffer with enough data if such data\n  //   is available. If highWaterMark is 0 and we are not in the flowing mode\n  //   we should _not_ attempt to buffer any extra data. We'll get more data\n  //   when the stream consumer calls read() instead.\n  // - No data in the buffer, and the stream is in flowing mode. In this mode\n  //   the loop below is responsible for ensuring read() is called. Failing to\n  //   call read here would abort the flow and there's no other mechanism for\n  //   continuing the flow if the stream consumer has just subscribed to the\n  //   'data' event.\n  //\n  // In addition to the above conditions to keep reading data, the following\n  // conditions prevent the data from being read:\n  // - The stream has ended (state.ended).\n  // - There is already a pending 'read' operation (state.reading). This is a\n  //   case where the the stream has called the implementation defined _read()\n  //   method, but they are processing the call asynchronously and have _not_\n  //   called push() with new data. In this case we skip performing more\n  //   read()s. The execution ends in this method again after the _read() ends\n  //   up calling push() with more data.\n  while (!state.reading && !state.ended && (state.length < state.highWaterMark || state.flowing && state.length === 0)) {\n    var len = state.length;\n    debug('maybeReadMore read 0');\n    stream.read(0);\n    if (len === state.length) // didn't get any data, stop spinning.\n      break;\n  }\n\n  state.readingMore = false;\n} // abstract method.  to be overridden in specific implementation classes.\n// call cb(er, data) where data is <= n in length.\n// for virtual (non-string, non-buffer) streams, \"length\" is somewhat\n// arbitrary, and perhaps not very meaningful.\n\n\nReadable.prototype._read = function (n) {\n  errorOrDestroy(this, new ERR_METHOD_NOT_IMPLEMENTED('_read()'));\n};\n\nReadable.prototype.pipe = function (dest, pipeOpts) {\n  var src = this;\n  var state = this._readableState;\n\n  switch (state.pipesCount) {\n    case 0:\n      state.pipes = dest;\n      break;\n\n    case 1:\n      state.pipes = [state.pipes, dest];\n      break;\n\n    default:\n      state.pipes.push(dest);\n      break;\n  }\n\n  state.pipesCount += 1;\n  debug('pipe count=%d opts=%j', state.pipesCount, pipeOpts);\n  var doEnd = (!pipeOpts || pipeOpts.end !== false) && dest !== process.stdout && dest !== process.stderr;\n  var endFn = doEnd ? onend : unpipe;\n  if (state.endEmitted) process.nextTick(endFn);else src.once('end', endFn);\n  dest.on('unpipe', onunpipe);\n\n  function onunpipe(readable, unpipeInfo) {\n    debug('onunpipe');\n\n    if (readable === src) {\n      if (unpipeInfo && unpipeInfo.hasUnpiped === false) {\n        unpipeInfo.hasUnpiped = true;\n        cleanup();\n      }\n    }\n  }\n\n  function onend() {\n    debug('onend');\n    dest.end();\n  } // when the dest drains, it reduces the awaitDrain counter\n  // on the source.  This would be more elegant with a .once()\n  // handler in flow(), but adding and removing repeatedly is\n  // too slow.\n\n\n  var ondrain = pipeOnDrain(src);\n  dest.on('drain', ondrain);\n  var cleanedUp = false;\n\n  function cleanup() {\n    debug('cleanup'); // cleanup event handlers once the pipe is broken\n\n    dest.removeListener('close', onclose);\n    dest.removeListener('finish', onfinish);\n    dest.removeListener('drain', ondrain);\n    dest.removeListener('error', onerror);\n    dest.removeListener('unpipe', onunpipe);\n    src.removeListener('end', onend);\n    src.removeListener('end', unpipe);\n    src.removeListener('data', ondata);\n    cleanedUp = true; // if the reader is waiting for a drain event from this\n    // specific writer, then it would cause it to never start\n    // flowing again.\n    // So, if this is awaiting a drain, then we just call it now.\n    // If we don't know, then assume that we are waiting for one.\n\n    if (state.awaitDrain && (!dest._writableState || dest._writableState.needDrain)) ondrain();\n  }\n\n  src.on('data', ondata);\n\n  function ondata(chunk) {\n    debug('ondata');\n    var ret = dest.write(chunk);\n    debug('dest.write', ret);\n\n    if (ret === false) {\n      // If the user unpiped during `dest.write()`, it is possible\n      // to get stuck in a permanently paused state if that write\n      // also returned false.\n      // => Check whether `dest` is still a piping destination.\n      if ((state.pipesCount === 1 && state.pipes === dest || state.pipesCount > 1 && indexOf(state.pipes, dest) !== -1) && !cleanedUp) {\n        debug('false write response, pause', state.awaitDrain);\n        state.awaitDrain++;\n      }\n\n      src.pause();\n    }\n  } // if the dest has an error, then stop piping into it.\n  // however, don't suppress the throwing behavior for this.\n\n\n  function onerror(er) {\n    debug('onerror', er);\n    unpipe();\n    dest.removeListener('error', onerror);\n    if (EElistenerCount(dest, 'error') === 0) errorOrDestroy(dest, er);\n  } // Make sure our error handler is attached before userland ones.\n\n\n  prependListener(dest, 'error', onerror); // Both close and finish should trigger unpipe, but only once.\n\n  function onclose() {\n    dest.removeListener('finish', onfinish);\n    unpipe();\n  }\n\n  dest.once('close', onclose);\n\n  function onfinish() {\n    debug('onfinish');\n    dest.removeListener('close', onclose);\n    unpipe();\n  }\n\n  dest.once('finish', onfinish);\n\n  function unpipe() {\n    debug('unpipe');\n    src.unpipe(dest);\n  } // tell the dest that it's being piped to\n\n\n  dest.emit('pipe', src); // start the flow if it hasn't been started already.\n\n  if (!state.flowing) {\n    debug('pipe resume');\n    src.resume();\n  }\n\n  return dest;\n};\n\nfunction pipeOnDrain(src) {\n  return function pipeOnDrainFunctionResult() {\n    var state = src._readableState;\n    debug('pipeOnDrain', state.awaitDrain);\n    if (state.awaitDrain) state.awaitDrain--;\n\n    if (state.awaitDrain === 0 && EElistenerCount(src, 'data')) {\n      state.flowing = true;\n      flow(src);\n    }\n  };\n}\n\nReadable.prototype.unpipe = function (dest) {\n  var state = this._readableState;\n  var unpipeInfo = {\n    hasUnpiped: false\n  }; // if we're not piping anywhere, then do nothing.\n\n  if (state.pipesCount === 0) return this; // just one destination.  most common case.\n\n  if (state.pipesCount === 1) {\n    // passed in one, but it's not the right one.\n    if (dest && dest !== state.pipes) return this;\n    if (!dest) dest = state.pipes; // got a match.\n\n    state.pipes = null;\n    state.pipesCount = 0;\n    state.flowing = false;\n    if (dest) dest.emit('unpipe', this, unpipeInfo);\n    return this;\n  } // slow case. multiple pipe destinations.\n\n\n  if (!dest) {\n    // remove all.\n    var dests = state.pipes;\n    var len = state.pipesCount;\n    state.pipes = null;\n    state.pipesCount = 0;\n    state.flowing = false;\n\n    for (var i = 0; i < len; i++) {\n      dests[i].emit('unpipe', this, {\n        hasUnpiped: false\n      });\n    }\n\n    return this;\n  } // try to find the right one.\n\n\n  var index = indexOf(state.pipes, dest);\n  if (index === -1) return this;\n  state.pipes.splice(index, 1);\n  state.pipesCount -= 1;\n  if (state.pipesCount === 1) state.pipes = state.pipes[0];\n  dest.emit('unpipe', this, unpipeInfo);\n  return this;\n}; // set up data events if they are asked for\n// Ensure readable listeners eventually get something\n\n\nReadable.prototype.on = function (ev, fn) {\n  var res = Stream.prototype.on.call(this, ev, fn);\n  var state = this._readableState;\n\n  if (ev === 'data') {\n    // update readableListening so that resume() may be a no-op\n    // a few lines down. This is needed to support once('readable').\n    state.readableListening = this.listenerCount('readable') > 0; // Try start flowing on next tick if stream isn't explicitly paused\n\n    if (state.flowing !== false) this.resume();\n  } else if (ev === 'readable') {\n    if (!state.endEmitted && !state.readableListening) {\n      state.readableListening = state.needReadable = true;\n      state.flowing = false;\n      state.emittedReadable = false;\n      debug('on readable', state.length, state.reading);\n\n      if (state.length) {\n        emitReadable(this);\n      } else if (!state.reading) {\n        process.nextTick(nReadingNextTick, this);\n      }\n    }\n  }\n\n  return res;\n};\n\nReadable.prototype.addListener = Readable.prototype.on;\n\nReadable.prototype.removeListener = function (ev, fn) {\n  var res = Stream.prototype.removeListener.call(this, ev, fn);\n\n  if (ev === 'readable') {\n    // We need to check if there is someone still listening to\n    // readable and reset the state. However this needs to happen\n    // after readable has been emitted but before I/O (nextTick) to\n    // support once('readable', fn) cycles. This means that calling\n    // resume within the same tick will have no\n    // effect.\n    process.nextTick(updateReadableListening, this);\n  }\n\n  return res;\n};\n\nReadable.prototype.removeAllListeners = function (ev) {\n  var res = Stream.prototype.removeAllListeners.apply(this, arguments);\n\n  if (ev === 'readable' || ev === undefined) {\n    // We need to check if there is someone still listening to\n    // readable and reset the state. However this needs to happen\n    // after readable has been emitted but before I/O (nextTick) to\n    // support once('readable', fn) cycles. This means that calling\n    // resume within the same tick will have no\n    // effect.\n    process.nextTick(updateReadableListening, this);\n  }\n\n  return res;\n};\n\nfunction updateReadableListening(self) {\n  var state = self._readableState;\n  state.readableListening = self.listenerCount('readable') > 0;\n\n  if (state.resumeScheduled && !state.paused) {\n    // flowing needs to be set to true now, otherwise\n    // the upcoming resume will not flow.\n    state.flowing = true; // crude way to check if we should resume\n  } else if (self.listenerCount('data') > 0) {\n    self.resume();\n  }\n}\n\nfunction nReadingNextTick(self) {\n  debug('readable nexttick read 0');\n  self.read(0);\n} // pause() and resume() are remnants of the legacy readable stream API\n// If the user uses them, then switch into old mode.\n\n\nReadable.prototype.resume = function () {\n  var state = this._readableState;\n\n  if (!state.flowing) {\n    debug('resume'); // we flow only if there is no one listening\n    // for readable, but we still have to call\n    // resume()\n\n    state.flowing = !state.readableListening;\n    resume(this, state);\n  }\n\n  state.paused = false;\n  return this;\n};\n\nfunction resume(stream, state) {\n  if (!state.resumeScheduled) {\n    state.resumeScheduled = true;\n    process.nextTick(resume_, stream, state);\n  }\n}\n\nfunction resume_(stream, state) {\n  debug('resume', state.reading);\n\n  if (!state.reading) {\n    stream.read(0);\n  }\n\n  state.resumeScheduled = false;\n  stream.emit('resume');\n  flow(stream);\n  if (state.flowing && !state.reading) stream.read(0);\n}\n\nReadable.prototype.pause = function () {\n  debug('call pause flowing=%j', this._readableState.flowing);\n\n  if (this._readableState.flowing !== false) {\n    debug('pause');\n    this._readableState.flowing = false;\n    this.emit('pause');\n  }\n\n  this._readableState.paused = true;\n  return this;\n};\n\nfunction flow(stream) {\n  var state = stream._readableState;\n  debug('flow', state.flowing);\n\n  while (state.flowing && stream.read() !== null) {\n    ;\n  }\n} // wrap an old-style stream as the async data source.\n// This is *not* part of the readable stream interface.\n// It is an ugly unfortunate mess of history.\n\n\nReadable.prototype.wrap = function (stream) {\n  var _this = this;\n\n  var state = this._readableState;\n  var paused = false;\n  stream.on('end', function () {\n    debug('wrapped end');\n\n    if (state.decoder && !state.ended) {\n      var chunk = state.decoder.end();\n      if (chunk && chunk.length) _this.push(chunk);\n    }\n\n    _this.push(null);\n  });\n  stream.on('data', function (chunk) {\n    debug('wrapped data');\n    if (state.decoder) chunk = state.decoder.write(chunk); // don't skip over falsy values in objectMode\n\n    if (state.objectMode && (chunk === null || chunk === undefined)) return;else if (!state.objectMode && (!chunk || !chunk.length)) return;\n\n    var ret = _this.push(chunk);\n\n    if (!ret) {\n      paused = true;\n      stream.pause();\n    }\n  }); // proxy all the other methods.\n  // important when wrapping filters and duplexes.\n\n  for (var i in stream) {\n    if (this[i] === undefined && typeof stream[i] === 'function') {\n      this[i] = function methodWrap(method) {\n        return function methodWrapReturnFunction() {\n          return stream[method].apply(stream, arguments);\n        };\n      }(i);\n    }\n  } // proxy certain important events.\n\n\n  for (var n = 0; n < kProxyEvents.length; n++) {\n    stream.on(kProxyEvents[n], this.emit.bind(this, kProxyEvents[n]));\n  } // when we try to consume some more bytes, simply unpause the\n  // underlying stream.\n\n\n  this._read = function (n) {\n    debug('wrapped _read', n);\n\n    if (paused) {\n      paused = false;\n      stream.resume();\n    }\n  };\n\n  return this;\n};\n\nif (typeof Symbol === 'function') {\n  Readable.prototype[Symbol.asyncIterator] = function () {\n    if (createReadableStreamAsyncIterator === undefined) {\n      createReadableStreamAsyncIterator = require('./internal/streams/async_iterator');\n    }\n\n    return createReadableStreamAsyncIterator(this);\n  };\n}\n\nObject.defineProperty(Readable.prototype, 'readableHighWaterMark', {\n  // making it explicit this property is not enumerable\n  // because otherwise some prototype manipulation in\n  // userland will fail\n  enumerable: false,\n  get: function get() {\n    return this._readableState.highWaterMark;\n  }\n});\nObject.defineProperty(Readable.prototype, 'readableBuffer', {\n  // making it explicit this property is not enumerable\n  // because otherwise some prototype manipulation in\n  // userland will fail\n  enumerable: false,\n  get: function get() {\n    return this._readableState && this._readableState.buffer;\n  }\n});\nObject.defineProperty(Readable.prototype, 'readableFlowing', {\n  // making it explicit this property is not enumerable\n  // because otherwise some prototype manipulation in\n  // userland will fail\n  enumerable: false,\n  get: function get() {\n    return this._readableState.flowing;\n  },\n  set: function set(state) {\n    if (this._readableState) {\n      this._readableState.flowing = state;\n    }\n  }\n}); // exposed for testing purposes only.\n\nReadable._fromList = fromList;\nObject.defineProperty(Readable.prototype, 'readableLength', {\n  // making it explicit this property is not enumerable\n  // because otherwise some prototype manipulation in\n  // userland will fail\n  enumerable: false,\n  get: function get() {\n    return this._readableState.length;\n  }\n}); // Pluck off n bytes from an array of buffers.\n// Length is the combined lengths of all the buffers in the list.\n// This function is designed to be inlinable, so please take care when making\n// changes to the function body.\n\nfunction fromList(n, state) {\n  // nothing buffered\n  if (state.length === 0) return null;\n  var ret;\n  if (state.objectMode) ret = state.buffer.shift();else if (!n || n >= state.length) {\n    // read it all, truncate the list\n    if (state.decoder) ret = state.buffer.join('');else if (state.buffer.length === 1) ret = state.buffer.first();else ret = state.buffer.concat(state.length);\n    state.buffer.clear();\n  } else {\n    // read part of list\n    ret = state.buffer.consume(n, state.decoder);\n  }\n  return ret;\n}\n\nfunction endReadable(stream) {\n  var state = stream._readableState;\n  debug('endReadable', state.endEmitted);\n\n  if (!state.endEmitted) {\n    state.ended = true;\n    process.nextTick(endReadableNT, state, stream);\n  }\n}\n\nfunction endReadableNT(state, stream) {\n  debug('endReadableNT', state.endEmitted, state.length); // Check that we didn't get one last unshift.\n\n  if (!state.endEmitted && state.length === 0) {\n    state.endEmitted = true;\n    stream.readable = false;\n    stream.emit('end');\n\n    if (state.autoDestroy) {\n      // In case of duplex streams we need a way to detect\n      // if the writable side is ready for autoDestroy as well\n      var wState = stream._writableState;\n\n      if (!wState || wState.autoDestroy && wState.finished) {\n        stream.destroy();\n      }\n    }\n  }\n}\n\nif (typeof Symbol === 'function') {\n  Readable.from = function (iterable, opts) {\n    if (from === undefined) {\n      from = require('./internal/streams/from');\n    }\n\n    return from(Readable, iterable, opts);\n  };\n}\n\nfunction indexOf(xs, x) {\n  for (var i = 0, l = xs.length; i < l; i++) {\n    if (xs[i] === x) return i;\n  }\n\n  return -1;\n}","exports = module.exports = require('./lib/_stream_readable.js');\nexports.Stream = exports;\nexports.Readable = exports;\nexports.Writable = require('./lib/_stream_writable.js');\nexports.Duplex = require('./lib/_stream_duplex.js');\nexports.Transform = require('./lib/_stream_transform.js');\nexports.PassThrough = require('./lib/_stream_passthrough.js');\nexports.finished = require('./lib/internal/streams/end-of-stream.js');\nexports.pipeline = require('./lib/internal/streams/pipeline.js');\n","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n// a transform stream is a readable/writable stream where you do\n// something with the data.  Sometimes it's called a \"filter\",\n// but that's not a great name for it, since that implies a thing where\n// some bits pass through, and others are simply ignored.  (That would\n// be a valid example of a transform, of course.)\n//\n// While the output is causally related to the input, it's not a\n// necessarily symmetric or synchronous transformation.  For example,\n// a zlib stream might take multiple plain-text writes(), and then\n// emit a single compressed chunk some time in the future.\n//\n// Here's how this works:\n//\n// The Transform stream has all the aspects of the readable and writable\n// stream classes.  When you write(chunk), that calls _write(chunk,cb)\n// internally, and returns false if there's a lot of pending writes\n// buffered up.  When you call read(), that calls _read(n) until\n// there's enough pending readable data buffered up.\n//\n// In a transform stream, the written data is placed in a buffer.  When\n// _read(n) is called, it transforms the queued up data, calling the\n// buffered _write cb's as it consumes chunks.  If consuming a single\n// written chunk would result in multiple output chunks, then the first\n// outputted bit calls the readcb, and subsequent chunks just go into\n// the read buffer, and will cause it to emit 'readable' if necessary.\n//\n// This way, back-pressure is actually determined by the reading side,\n// since _read has to be called to start processing a new chunk.  However,\n// a pathological inflate type of transform can cause excessive buffering\n// here.  For example, imagine a stream where every byte of input is\n// interpreted as an integer from 0-255, and then results in that many\n// bytes of output.  Writing the 4 bytes {ff,ff,ff,ff} would result in\n// 1kb of data being output.  In this case, you could write a very small\n// amount of input, and end up with a very large amount of output.  In\n// such a pathological inflating mechanism, there'd be no way to tell\n// the system to stop doing the transform.  A single 4MB write could\n// cause the system to run out of memory.\n//\n// However, even in such a pathological case, only a single written chunk\n// would be consumed, and then the rest would wait (un-transformed) until\n// the results of the previous transformed chunk were consumed.\n'use strict';\n\nmodule.exports = Transform;\n\nvar _require$codes = require('../errors').codes,\n    ERR_METHOD_NOT_IMPLEMENTED = _require$codes.ERR_METHOD_NOT_IMPLEMENTED,\n    ERR_MULTIPLE_CALLBACK = _require$codes.ERR_MULTIPLE_CALLBACK,\n    ERR_TRANSFORM_ALREADY_TRANSFORMING = _require$codes.ERR_TRANSFORM_ALREADY_TRANSFORMING,\n    ERR_TRANSFORM_WITH_LENGTH_0 = _require$codes.ERR_TRANSFORM_WITH_LENGTH_0;\n\nvar Duplex = require('./_stream_duplex');\n\nrequire('inherits')(Transform, Duplex);\n\nfunction afterTransform(er, data) {\n  var ts = this._transformState;\n  ts.transforming = false;\n  var cb = ts.writecb;\n\n  if (cb === null) {\n    return this.emit('error', new ERR_MULTIPLE_CALLBACK());\n  }\n\n  ts.writechunk = null;\n  ts.writecb = null;\n  if (data != null) // single equals check for both `null` and `undefined`\n    this.push(data);\n  cb(er);\n  var rs = this._readableState;\n  rs.reading = false;\n\n  if (rs.needReadable || rs.length < rs.highWaterMark) {\n    this._read(rs.highWaterMark);\n  }\n}\n\nfunction Transform(options) {\n  if (!(this instanceof Transform)) return new Transform(options);\n  Duplex.call(this, options);\n  this._transformState = {\n    afterTransform: afterTransform.bind(this),\n    needTransform: false,\n    transforming: false,\n    writecb: null,\n    writechunk: null,\n    writeencoding: null\n  }; // start out asking for a readable event once data is transformed.\n\n  this._readableState.needReadable = true; // we have implemented the _read method, and done the other things\n  // that Readable wants before the first _read call, so unset the\n  // sync guard flag.\n\n  this._readableState.sync = false;\n\n  if (options) {\n    if (typeof options.transform === 'function') this._transform = options.transform;\n    if (typeof options.flush === 'function') this._flush = options.flush;\n  } // When the writable side finishes, then flush out anything remaining.\n\n\n  this.on('prefinish', prefinish);\n}\n\nfunction prefinish() {\n  var _this = this;\n\n  if (typeof this._flush === 'function' && !this._readableState.destroyed) {\n    this._flush(function (er, data) {\n      done(_this, er, data);\n    });\n  } else {\n    done(this, null, null);\n  }\n}\n\nTransform.prototype.push = function (chunk, encoding) {\n  this._transformState.needTransform = false;\n  return Duplex.prototype.push.call(this, chunk, encoding);\n}; // This is the part where you do stuff!\n// override this function in implementation classes.\n// 'chunk' is an input chunk.\n//\n// Call `push(newChunk)` to pass along transformed output\n// to the readable side.  You may call 'push' zero or more times.\n//\n// Call `cb(err)` when you are done with this chunk.  If you pass\n// an error, then that'll put the hurt on the whole operation.  If you\n// never call cb(), then you'll never get another chunk.\n\n\nTransform.prototype._transform = function (chunk, encoding, cb) {\n  cb(new ERR_METHOD_NOT_IMPLEMENTED('_transform()'));\n};\n\nTransform.prototype._write = function (chunk, encoding, cb) {\n  var ts = this._transformState;\n  ts.writecb = cb;\n  ts.writechunk = chunk;\n  ts.writeencoding = encoding;\n\n  if (!ts.transforming) {\n    var rs = this._readableState;\n    if (ts.needTransform || rs.needReadable || rs.length < rs.highWaterMark) this._read(rs.highWaterMark);\n  }\n}; // Doesn't matter what the args are here.\n// _transform does all the work.\n// That we got here means that the readable side wants more data.\n\n\nTransform.prototype._read = function (n) {\n  var ts = this._transformState;\n\n  if (ts.writechunk !== null && !ts.transforming) {\n    ts.transforming = true;\n\n    this._transform(ts.writechunk, ts.writeencoding, ts.afterTransform);\n  } else {\n    // mark that we need a transform, so that any data that comes in\n    // will get processed, now that we've asked for it.\n    ts.needTransform = true;\n  }\n};\n\nTransform.prototype._destroy = function (err, cb) {\n  Duplex.prototype._destroy.call(this, err, function (err2) {\n    cb(err2);\n  });\n};\n\nfunction done(stream, er, data) {\n  if (er) return stream.emit('error', er);\n  if (data != null) // single equals check for both `null` and `undefined`\n    stream.push(data); // TODO(BridgeAR): Write a test for these two error cases\n  // if there's nothing in the write buffer, then that means\n  // that nothing more will ever be provided\n\n  if (stream._writableState.length) throw new ERR_TRANSFORM_WITH_LENGTH_0();\n  if (stream._transformState.transforming) throw new ERR_TRANSFORM_ALREADY_TRANSFORMING();\n  return stream.push(null);\n}","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n// a passthrough stream.\n// basically just the most minimal sort of Transform stream.\n// Every written chunk gets output as-is.\n'use strict';\n\nmodule.exports = PassThrough;\n\nvar Transform = require('./_stream_transform');\n\nrequire('inherits')(PassThrough, Transform);\n\nfunction PassThrough(options) {\n  if (!(this instanceof PassThrough)) return new PassThrough(options);\n  Transform.call(this, options);\n}\n\nPassThrough.prototype._transform = function (chunk, encoding, cb) {\n  cb(null, chunk);\n};","// Ported from https://github.com/mafintosh/pump with\n// permission from the author, Mathias Buus (@mafintosh).\n'use strict';\n\nvar eos;\n\nfunction once(callback) {\n  var called = false;\n  return function () {\n    if (called) return;\n    called = true;\n    callback.apply(void 0, arguments);\n  };\n}\n\nvar _require$codes = require('../../../errors').codes,\n    ERR_MISSING_ARGS = _require$codes.ERR_MISSING_ARGS,\n    ERR_STREAM_DESTROYED = _require$codes.ERR_STREAM_DESTROYED;\n\nfunction noop(err) {\n  // Rethrow the error if it exists to avoid swallowing it\n  if (err) throw err;\n}\n\nfunction isRequest(stream) {\n  return stream.setHeader && typeof stream.abort === 'function';\n}\n\nfunction destroyer(stream, reading, writing, callback) {\n  callback = once(callback);\n  var closed = false;\n  stream.on('close', function () {\n    closed = true;\n  });\n  if (eos === undefined) eos = require('./end-of-stream');\n  eos(stream, {\n    readable: reading,\n    writable: writing\n  }, function (err) {\n    if (err) return callback(err);\n    closed = true;\n    callback();\n  });\n  var destroyed = false;\n  return function (err) {\n    if (closed) return;\n    if (destroyed) return;\n    destroyed = true; // request.destroy just do .end - .abort is what we want\n\n    if (isRequest(stream)) return stream.abort();\n    if (typeof stream.destroy === 'function') return stream.destroy();\n    callback(err || new ERR_STREAM_DESTROYED('pipe'));\n  };\n}\n\nfunction call(fn) {\n  fn();\n}\n\nfunction pipe(from, to) {\n  return from.pipe(to);\n}\n\nfunction popCallback(streams) {\n  if (!streams.length) return noop;\n  if (typeof streams[streams.length - 1] !== 'function') return noop;\n  return streams.pop();\n}\n\nfunction pipeline() {\n  for (var _len = arguments.length, streams = new Array(_len), _key = 0; _key < _len; _key++) {\n    streams[_key] = arguments[_key];\n  }\n\n  var callback = popCallback(streams);\n  if (Array.isArray(streams[0])) streams = streams[0];\n\n  if (streams.length < 2) {\n    throw new ERR_MISSING_ARGS('streams');\n  }\n\n  var error;\n  var destroys = streams.map(function (stream, i) {\n    var reading = i < streams.length - 1;\n    var writing = i > 0;\n    return destroyer(stream, reading, writing, function (err) {\n      if (!error) error = err;\n      if (err) destroys.forEach(call);\n      if (reading) return;\n      destroys.forEach(call);\n      callback(error);\n    });\n  });\n  return streams.reduce(pipe);\n}\n\nmodule.exports = pipeline;","var Writable = require('readable-stream').Writable\nvar inherits = require('inherits')\nvar bufferFrom = require('buffer-from')\n\nif (typeof Uint8Array === 'undefined') {\n  var U8 = require('typedarray').Uint8Array\n} else {\n  var U8 = Uint8Array\n}\n\nfunction ConcatStream(opts, cb) {\n  if (!(this instanceof ConcatStream)) return new ConcatStream(opts, cb)\n\n  if (typeof opts === 'function') {\n    cb = opts\n    opts = {}\n  }\n  if (!opts) opts = {}\n\n  var encoding = opts.encoding\n  var shouldInferEncoding = false\n\n  if (!encoding) {\n    shouldInferEncoding = true\n  } else {\n    encoding =  String(encoding).toLowerCase()\n    if (encoding === 'u8' || encoding === 'uint8') {\n      encoding = 'uint8array'\n    }\n  }\n\n  Writable.call(this, { objectMode: true })\n\n  this.encoding = encoding\n  this.shouldInferEncoding = shouldInferEncoding\n\n  if (cb) this.on('finish', function () { cb(this.getBody()) })\n  this.body = []\n}\n\nmodule.exports = ConcatStream\ninherits(ConcatStream, Writable)\n\nConcatStream.prototype._write = function(chunk, enc, next) {\n  this.body.push(chunk)\n  next()\n}\n\nConcatStream.prototype.inferEncoding = function (buff) {\n  var firstBuffer = buff === undefined ? this.body[0] : buff;\n  if (Buffer.isBuffer(firstBuffer)) return 'buffer'\n  if (typeof Uint8Array !== 'undefined' && firstBuffer instanceof Uint8Array) return 'uint8array'\n  if (Array.isArray(firstBuffer)) return 'array'\n  if (typeof firstBuffer === 'string') return 'string'\n  if (Object.prototype.toString.call(firstBuffer) === \"[object Object]\") return 'object'\n  return 'buffer'\n}\n\nConcatStream.prototype.getBody = function () {\n  if (!this.encoding && this.body.length === 0) return []\n  if (this.shouldInferEncoding) this.encoding = this.inferEncoding()\n  if (this.encoding === 'array') return arrayConcat(this.body)\n  if (this.encoding === 'string') return stringConcat(this.body)\n  if (this.encoding === 'buffer') return bufferConcat(this.body)\n  if (this.encoding === 'uint8array') return u8Concat(this.body)\n  return this.body\n}\n\nvar isArray = Array.isArray || function (arr) {\n  return Object.prototype.toString.call(arr) == '[object Array]'\n}\n\nfunction isArrayish (arr) {\n  return /Array\\]$/.test(Object.prototype.toString.call(arr))\n}\n\nfunction isBufferish (p) {\n  return typeof p === 'string' || isArrayish(p) || (p && typeof p.subarray === 'function')\n}\n\nfunction stringConcat (parts) {\n  var strings = []\n  var needsToString = false\n  for (var i = 0; i < parts.length; i++) {\n    var p = parts[i]\n    if (typeof p === 'string') {\n      strings.push(p)\n    } else if (Buffer.isBuffer(p)) {\n      strings.push(p)\n    } else if (isBufferish(p)) {\n      strings.push(bufferFrom(p))\n    } else {\n      strings.push(bufferFrom(String(p)))\n    }\n  }\n  if (Buffer.isBuffer(parts[0])) {\n    strings = Buffer.concat(strings)\n    strings = strings.toString('utf8')\n  } else {\n    strings = strings.join('')\n  }\n  return strings\n}\n\nfunction bufferConcat (parts) {\n  var bufs = []\n  for (var i = 0; i < parts.length; i++) {\n    var p = parts[i]\n    if (Buffer.isBuffer(p)) {\n      bufs.push(p)\n    } else if (isBufferish(p)) {\n      bufs.push(bufferFrom(p))\n    } else {\n      bufs.push(bufferFrom(String(p)))\n    }\n  }\n  return Buffer.concat(bufs)\n}\n\nfunction arrayConcat (parts) {\n  var res = []\n  for (var i = 0; i < parts.length; i++) {\n    res.push.apply(res, parts[i])\n  }\n  return res\n}\n\nfunction u8Concat (parts) {\n  var len = 0\n  for (var i = 0; i < parts.length; i++) {\n    if (typeof parts[i] === 'string') {\n      parts[i] = bufferFrom(parts[i])\n    }\n    len += parts[i].length\n  }\n  var u8 = new U8(len)\n  for (var i = 0, offset = 0; i < parts.length; i++) {\n    var part = parts[i]\n    for (var j = 0; j < part.length; j++) {\n      u8[offset++] = part[j]\n    }\n  }\n  return u8\n}\n","var toString = Object.prototype.toString\n\nvar isModern = (\n  typeof Buffer.alloc === 'function' &&\n  typeof Buffer.allocUnsafe === 'function' &&\n  typeof Buffer.from === 'function'\n)\n\nfunction isArrayBuffer (input) {\n  return toString.call(input).slice(8, -1) === 'ArrayBuffer'\n}\n\nfunction fromArrayBuffer (obj, byteOffset, length) {\n  byteOffset >>>= 0\n\n  var maxLength = obj.byteLength - byteOffset\n\n  if (maxLength < 0) {\n    throw new RangeError(\"'offset' is out of bounds\")\n  }\n\n  if (length === undefined) {\n    length = maxLength\n  } else {\n    length >>>= 0\n\n    if (length > maxLength) {\n      throw new RangeError(\"'length' is out of bounds\")\n    }\n  }\n\n  return isModern\n    ? Buffer.from(obj.slice(byteOffset, byteOffset + length))\n    : new Buffer(new Uint8Array(obj.slice(byteOffset, byteOffset + length)))\n}\n\nfunction fromString (string, encoding) {\n  if (typeof encoding !== 'string' || encoding === '') {\n    encoding = 'utf8'\n  }\n\n  if (!Buffer.isEncoding(encoding)) {\n    throw new TypeError('\"encoding\" must be a valid string encoding')\n  }\n\n  return isModern\n    ? Buffer.from(string, encoding)\n    : new Buffer(string, encoding)\n}\n\nfunction bufferFrom (value, encodingOrOffset, length) {\n  if (typeof value === 'number') {\n    throw new TypeError('\"value\" argument must not be a number')\n  }\n\n  if (isArrayBuffer(value)) {\n    return fromArrayBuffer(value, encodingOrOffset, length)\n  }\n\n  if (typeof value === 'string') {\n    return fromString(value, encodingOrOffset)\n  }\n\n  return isModern\n    ? Buffer.from(value)\n    : new Buffer(value)\n}\n\nmodule.exports = bufferFrom\n","import 'ol/ol.css';\r\nimport GPX from 'ol/format/GPX';\r\nimport GeoJSON from 'ol/format/GeoJSON';\r\nimport {Map, View} from 'ol';\r\nimport TileLayer from 'ol/layer/Tile';\r\nimport VectorLayer from 'ol/layer/Vector';\r\nimport VectorSource from 'ol/source/Vector';\r\nimport OSM from 'ol/source/OSM';\r\nimport {Circle, Fill, Stroke, Style, Icon} from 'ol/style';\r\nimport { transform } from 'ol/proj';\r\n\r\n// from https://openlayers.org/en/latest/doc/tutorials/bundle.html\r\n// & https://openlayers.org/en/latest/examples/gpx.html\r\n\r\nconst fs = require('fs');\r\nconst query_overpass = require('query-overpass');\r\n\r\nconst style = {\r\n    'Point': new Style({\r\n      image: new Circle({\r\n        fill: new Fill({\r\n          color: 'rgba(0,255,0,0.5)'\r\n        }),\r\n        radius: 5,\r\n        stroke: new Stroke({\r\n          color: '#ff0',\r\n          width: 1\r\n        })\r\n      })\r\n    }),\r\n    'LineString': new Style({\r\n      stroke: new Stroke({\r\n        color: '#f00',\r\n        width: 3\r\n      })\r\n    }),\r\n    'Polygon': new Style({\r\n      fill: new Fill({\r\n        color: 'rgba(0,255,255,0.5)'\r\n      }),\r\n      stroke: new Stroke({\r\n        color: '#0ff',\r\n        width: 1\r\n      })\r\n    }),\r\n    'MultiPoint': new Style({\r\n      image: new Circle({\r\n        fill: new Fill({\r\n          color: 'rgba(255,0,255,0.5)'\r\n        }),\r\n        radius: 5,\r\n        stroke: new Stroke({\r\n          color: '#f0f',\r\n          width: 1\r\n        })\r\n      })\r\n    }),\r\n    'MultiLineString': new Style({\r\n      stroke: new Stroke({\r\n        color: '#00f',\r\n        width: 3\r\n      })\r\n    }),\r\n    'MultiPolygon': new Style({\r\n      fill: new Fill({\r\n        color: 'rgba(25,120,255,0.5)'\r\n      }),\r\n      stroke: new Stroke({\r\n        color: '#00f',\r\n        width: 1\r\n      })\r\n    })\r\n};\r\nconst markerStyle = new Style({\r\n  image: new Icon({\r\n      anchor: [0.5, 1],\r\n      scale: 0.1,\r\n      src: \"https://img-premium.flaticon.com/png/512/447/447031.png?token=exp=1621243081~hmac=6e1351bba0a82caf37b634965b0b8ccf\"\r\n  })\r\n});\r\nconst markerSmallStyle = new Style({\r\n  image: new Circle({\r\n    fill: new Fill({\r\n      color: 'rgba(255,0,0,0.5)'\r\n    }),\r\n    radius: 5,\r\n    stroke: new Stroke({\r\n      color: '#f00',\r\n      width: 1\r\n    })\r\n  })\r\n});\r\nconst map = new Map({\r\n  target: 'map',\r\n  layers: [\r\n    new TileLayer({\r\n      source: new OSM()\r\n    })\r\n  ],\r\n  view: new View({\r\n    center: [0, 0],\r\n    zoom: 0\r\n  })\r\n});\r\nmap.on('click', (e)=>{\r\n  map.forEachFeatureAtPixel(e.pixel, \r\n    function(feature) {\r\n      console.log(feature.getProperties().name); // TODO: name:en or smth\r\n    }\r\n  );\r\n  console.log(transform(e.coordinate, 'EPSG:3857', 'EPSG:4326'));\r\n});\r\n\r\n// ---------------------\r\n\r\nlet str = \"\";\r\n\r\ntry {\r\n  str = fs.readFileSync('data1.gpx', 'utf8'); // openrouteservice\r\n} catch (e) {\r\n  console.log(e);\r\n}\r\nconst routeLayer = new VectorLayer({\r\n  source: new VectorSource(),\r\n  style: function (feature, resolution) {\r\n    if (feature.getGeometry().getType() === 'Point' && resolution < 400) {\r\n      return markerStyle;\r\n    }\r\n    return style[feature.getGeometry().getType()];\r\n  },\r\n});\r\nmap.addLayer(routeLayer);\r\n\r\nconst GPXfeatures = (new GPX()).readFeatures(str, {featureProjection: 'EPSG:3857'});\r\nrouteLayer.getSource().addFeatures(GPXfeatures);\r\n\r\n// -----------------------\r\n\r\ntry {\r\n  str = fs.readFileSync('data.gpx', 'utf8');\r\n} catch (e) {\r\n  console.log(e);\r\n}\r\nconst cityLayer = new VectorLayer({\r\n  source: new VectorSource(),\r\n  style: function (feature) {\r\n    return style[feature.getGeometry().getType()];\r\n  },\r\n});\r\nmap.addLayer(cityLayer);\r\n\r\nconst cityGPXfeatures = (new GPX()).readFeatures(str, {featureProjection: 'EPSG:3857'});\r\ncityLayer.getSource().addFeatures(cityGPXfeatures);\r\n\r\n// ----------------------\r\n\r\nconst hotelLayer = new VectorLayer({\r\n  source: new VectorSource(),\r\n  style: function (feature, resolution) {\r\n    if (feature.getGeometry().getType() === 'Point') {\r\n      // if (resolution < 100) return markerStyle;\r\n      return markerSmallStyle;\r\n    }\r\n    return style[feature.getGeometry().getType()];\r\n  },\r\n});\r\nmap.getLayers().insertAt(1, hotelLayer);\r\n\r\n// Query hotels. Query bounds order s,w,n,e\r\n\r\nlet queryStr = '[out:json];';\r\n\r\nfor (let f of cityGPXfeatures) {\r\n  let coords = transform(f.getGeometry().flatCoordinates, 'EPSG:3857', 'EPSG:4326');\r\n  queryStr += 'node[tourism=hotel](' + (coords[1] - 0.05) + ', ' + (coords[0] - 0.05) + ', ' + \r\n              (coords[1] + 0.05) + ', ' + (coords[0] + 0.05) + ');out;';\r\n}\r\n\r\nquery_overpass(queryStr, \r\n  function(error, data) {\r\n    if (!error) {\r\n      const testFeatures = (new GeoJSON()).readFeatures(data, {featureProjection: 'EPSG:3857'});\r\n      hotelLayer.getSource().addFeatures(testFeatures);\r\n    } else {\r\n      console.log(error);\r\n    }\r\n  }\r\n);\r\n"],"names":["$parcel$global","globalThis","self","window","global","$parcel$interopDefault","a","__esModule","default","$parcel$export","e","n","v","Object","defineProperty","get","enumerable","$003acff01e79c0a73122c747343d2e59$export$default","BaseEvent","type","this","propagationStopped","target","prototype","preventDefault","stopPropagation","$f7bbc97715b7cef936b659025f276afb$export$default","Disposable","disposed","dispose","disposeInternal","$7c21d7646a0313abf7b847efa68bfceb$export$numberSafeCompareFunction","b","$7c21d7646a0313abf7b847efa68bfceb$export$includes","arr","obj","indexOf","$7c21d7646a0313abf7b847efa68bfceb$export$linearFindNearest","direction","length","i","$7c21d7646a0313abf7b847efa68bfceb$export$reverseSubArray","begin","end","tmp","$7c21d7646a0313abf7b847efa68bfceb$export$extend","data","extension","Array","isArray","$7c21d7646a0313abf7b847efa68bfceb$export$equals","arr1","arr2","len1","$8ff7925ef9afa7e69604ab9620edac22$export$TRUE","$8ff7925ef9afa7e69604ab9620edac22$export$FALSE","$8ff7925ef9afa7e69604ab9620edac22$export$VOID","$e1ac967f910869e98e549bfd20a1853c$export$assign","assign","var_sources","TypeError","output","ii","arguments","source","key","hasOwnProperty","$e1ac967f910869e98e549bfd20a1853c$export$clear","object","property","$e1ac967f910869e98e549bfd20a1853c$export$getValues","values","push","$e1ac967f910869e98e549bfd20a1853c$export$isEmpty","extendStatics","$99fe3f3343ef18166bd431edc467d890$var$__extends","d","setPrototypeOf","__proto__","p","call","__","constructor","create","$99fe3f3343ef18166bd431edc467d890$export$default","_super","Target","opt_target","_this","eventTarget_","pendingRemovals_","dispatching_","listeners_","addEventListener","listener","listeners","listenersForType","dispatchEvent","event","evt","propagate","dispatching","pendingRemovals","handleEvent","pr","removeEventListener","getListeners","undefined","hasListener","opt_type","keys","index","splice","$7961378a294a4943979a10a4df4a3fcf$export$listen","opt_this","opt_once","bind","originalListener_1","apply","eventsKey","$7961378a294a4943979a10a4df4a3fcf$export$listenOnce","$7961378a294a4943979a10a4df4a3fcf$export$unlistenByKey","$02e80757fefec0a9636ae28d17c9fab2$var$__extends","__extends","$02e80757fefec0a9636ae28d17c9fab2$export$default","Observable","revision_","changed","getRevision","on","len","once","ol_key","un","$02e80757fefec0a9636ae28d17c9fab2$export$unByKey","$cd365e7aabd14aaf6df378f6a61e84d7$export$abstract","Error","$cd365e7aabd14aaf6df378f6a61e84d7$var$uidCounter_","$cd365e7aabd14aaf6df378f6a61e84d7$export$getUid","ol_uid","String","$cd365e7aabd14aaf6df378f6a61e84d7$export$VERSION","$a41f90da440d5a4a421775ee47a2c536$var$__extends","$a41f90da440d5a4a421775ee47a2c536$export$ObjectEvent","ObjectEvent","oldValue","$a41f90da440d5a4a421775ee47a2c536$export$default","BaseObject","opt_values","values_","setProperties","value","getKeys","getProperties","hasProperties","notify","eventType","$a41f90da440d5a4a421775ee47a2c536$export$getChangeEventType","set","opt_silent","applyProperties","unset","$a41f90da440d5a4a421775ee47a2c536$var$changeEventTypeCache","$fd652548d0f540d94aaff6aa830746d2$var$__extends","$fd652548d0f540d94aaff6aa830746d2$export$default","AssertionError","code","message","split","name","$2ce41f61858dd350a0b2670bdab4e597$export$assert","assertion","errorCode","$fe05caf5f991aea82bd67c9bebabc467$var$__extends","$fe05caf5f991aea82bd67c9bebabc467$export$default","Feature","opt_geometryOrProperties","id_","geometryName_","style_","styleFunction_","geometryChangeKey_","handleGeometryChanged_","getSimplifiedGeometry","geometry","setGeometry","properties","clone","setGeometryName","getGeometryName","getGeometry","style","getStyle","setStyle","getId","getStyleFunction","handleGeometryChange_","opt_style","styles_1","getZIndex","$fe05caf5f991aea82bd67c9bebabc467$export$createStyleFunction","setId","id","$df0b68b08946bf3d8de6eeca4fba3a5f$export$default","$df0b68b08946bf3d8de6eeca4fba3a5f$export$METERS_PER_UNIT","Math","PI","$af95442a94d1862a138c401177ef0c4b$var$tmp_","$af95442a94d1862a138c401177ef0c4b$export$apply","transform","coordinate","x","y","$af95442a94d1862a138c401177ef0c4b$export$compose","dx1","dy1","sx","sy","angle","dx2","dy2","sin","cos","$af95442a94d1862a138c401177ef0c4b$export$makeInverse","mat","det","c","f","$af95442a94d1862a138c401177ef0c4b$export$toString","join","$8ebfb36ef5532881c5652b708da2c120$export$boundingExtent","coordinates","extent","$8ebfb36ef5532881c5652b708da2c120$export$createEmpty","$8ebfb36ef5532881c5652b708da2c120$export$extendCoordinate","$8ebfb36ef5532881c5652b708da2c120$export$buffer","opt_extent","$8ebfb36ef5532881c5652b708da2c120$export$clone","slice","$8ebfb36ef5532881c5652b708da2c120$export$closestSquaredDistanceXY","dx","dy","$8ebfb36ef5532881c5652b708da2c120$export$containsCoordinate","$8ebfb36ef5532881c5652b708da2c120$export$containsXY","$8ebfb36ef5532881c5652b708da2c120$export$containsExtent","extent1","extent2","$8ebfb36ef5532881c5652b708da2c120$export$coordinateRelationship","minX","minY","maxX","maxY","relationship","Infinity","$8ebfb36ef5532881c5652b708da2c120$export$createOrUpdate","$8ebfb36ef5532881c5652b708da2c120$export$createOrUpdateEmpty","$8ebfb36ef5532881c5652b708da2c120$export$createOrUpdateFromFlatCoordinates","flatCoordinates","offset","stride","$8ebfb36ef5532881c5652b708da2c120$export$extendFlatCoordinates","$8ebfb36ef5532881c5652b708da2c120$export$equals","$8ebfb36ef5532881c5652b708da2c120$export$extend","$8ebfb36ef5532881c5652b708da2c120$export$extendCoordinates","$8ebfb36ef5532881c5652b708da2c120$export$extendXY","min","max","$8ebfb36ef5532881c5652b708da2c120$export$forEachCorner","callback","val","$8ebfb36ef5532881c5652b708da2c120$export$getBottomLeft","$8ebfb36ef5532881c5652b708da2c120$export$getBottomRight","$8ebfb36ef5532881c5652b708da2c120$export$getTopRight","$8ebfb36ef5532881c5652b708da2c120$export$getTopLeft","$8ebfb36ef5532881c5652b708da2c120$export$getArea","area","$8ebfb36ef5532881c5652b708da2c120$export$isEmpty","$8ebfb36ef5532881c5652b708da2c120$export$getWidth","$8ebfb36ef5532881c5652b708da2c120$export$getHeight","$8ebfb36ef5532881c5652b708da2c120$export$getCenter","$8ebfb36ef5532881c5652b708da2c120$export$getCorner","corner","$8ebfb36ef5532881c5652b708da2c120$export$getForViewAndSize","center","resolution","rotation","size","cosRotation","sinRotation","xCos","xSin","yCos","ySin","x0","x1","x2","x3","y0","y1","y2","y3","$8ebfb36ef5532881c5652b708da2c120$export$getIntersection","intersection","$8ebfb36ef5532881c5652b708da2c120$export$intersects","$8ebfb36ef5532881c5652b708da2c120$export$applyTransform","transformFn","opt_stops","width","height","xs","ys","l","$8ebfb36ef5532881c5652b708da2c120$var$_boundingExtentXYs","$1514cc7c23ad291d61b727f0ef5e4246$export$default","Projection","options","code_","units_","units","extent_","worldExtent_","worldExtent","axisOrientation_","axisOrientation","global_","canWrapX_","getPointResolutionFunc_","getPointResolution","defaultTileGrid_","metersPerUnit_","metersPerUnit","canWrapX","getCode","getExtent","getUnits","getMetersPerUnit","getWorldExtent","getAxisOrientation","isGlobal","setGlobal","getDefaultTileGrid","setDefaultTileGrid","tileGrid","setExtent","setWorldExtent","setGetPointResolution","func","getPointResolutionFunc","$916dab65013919ad0345478f9a9f4e0f$export$clamp","$916dab65013919ad0345478f9a9f4e0f$export$cosh","cosh","exp","$916dab65013919ad0345478f9a9f4e0f$export$log2","log2","log","LOG2E","$916dab65013919ad0345478f9a9f4e0f$export$squaredSegmentDistance","t","$916dab65013919ad0345478f9a9f4e0f$export$squaredDistance","$916dab65013919ad0345478f9a9f4e0f$export$toRadians","angleInDegrees","$916dab65013919ad0345478f9a9f4e0f$export$modulo","r","$916dab65013919ad0345478f9a9f4e0f$export$lerp","$7d5079714e2786ec6bee07910f0d8a86$var$__extends","$7d5079714e2786ec6bee07910f0d8a86$export$RADIUS","$7d5079714e2786ec6bee07910f0d8a86$export$HALF_SIZE","$7d5079714e2786ec6bee07910f0d8a86$export$EXTENT","$7d5079714e2786ec6bee07910f0d8a86$export$WORLD_EXTENT","$7d5079714e2786ec6bee07910f0d8a86$export$MAX_SAFE_Y","tan","$7d5079714e2786ec6bee07910f0d8a86$var$EPSG3857Projection","EPSG3857Projection","point","$7d5079714e2786ec6bee07910f0d8a86$export$PROJECTIONS","$7d5079714e2786ec6bee07910f0d8a86$export$fromEPSG4326","input","opt_output","opt_dimension","dimension","$7d5079714e2786ec6bee07910f0d8a86$export$toEPSG4326","atan","$655738a66489cc3574c072262645bff6$var$__extends","$655738a66489cc3574c072262645bff6$export$EXTENT","$655738a66489cc3574c072262645bff6$export$METERS_PER_UNIT","$655738a66489cc3574c072262645bff6$var$EPSG4326Projection","EPSG4326Projection","opt_axisOrientation","$655738a66489cc3574c072262645bff6$export$PROJECTIONS","$0ba2913765cbb83278246e730dbcdcdf$var$cache","$6cb154572a1cc3d19ea74b1e9a3a7861$var$transforms","$6cb154572a1cc3d19ea74b1e9a3a7861$export$add","destination","sourceCode","destinationCode","$525020a649871896a05d6fe288616b91$export$DEFAULT_RADIUS","$525020a649871896a05d6fe288616b91$export$getDistance","c1","c2","opt_radius","radius","lat1","lat2","deltaLatBy2","deltaLonBy2","atan2","sqrt","$9d44b4ae0ee335a0d47ee14b2c70e04c$export$padNumber","number","opt_precision","numberString","toFixed","decimal","$29884e9b826cd25109649ab0c360e769$export$equals","coordinate1","coordinate2","equals","$29884e9b826cd25109649ab0c360e769$export$rotate","cosAngle","sinAngle","$29884e9b826cd25109649ab0c360e769$export$wrapX","projection","worldWidth","worldsAway","opt_sourceExtentWidth","projectionExtent","sourceExtentWidth","floor","$29884e9b826cd25109649ab0c360e769$export$getWorldsAway","$524e9c84a4c58bd58490804da4c772c6$export$cloneTransform","$524e9c84a4c58bd58490804da4c772c6$export$identityTransform","$524e9c84a4c58bd58490804da4c772c6$export$addProjection","$524e9c84a4c58bd58490804da4c772c6$export$get","projectionLike","replace","$524e9c84a4c58bd58490804da4c772c6$export$getPointResolution","opt_units","pointResolution","getter","toEPSG4326_1","$524e9c84a4c58bd58490804da4c772c6$export$getTransformFromProjections","vertices","$524e9c84a4c58bd58490804da4c772c6$export$addEquivalentProjections","projections","forEach","$524e9c84a4c58bd58490804da4c772c6$export$addProjections","$524e9c84a4c58bd58490804da4c772c6$export$createProjection","defaultCode","$524e9c84a4c58bd58490804da4c772c6$export$equivalent","projection1","projection2","equalUnits","sourceProjection","destinationProjection","transformFunc","$524e9c84a4c58bd58490804da4c772c6$export$getTransform","$524e9c84a4c58bd58490804da4c772c6$export$transform","$524e9c84a4c58bd58490804da4c772c6$export$transformExtent","projections2","forwardTransform","inverseTransform","$524e9c84a4c58bd58490804da4c772c6$var$userProjection","$524e9c84a4c58bd58490804da4c772c6$export$getUserProjection","$524e9c84a4c58bd58490804da4c772c6$export$toUserCoordinate","$524e9c84a4c58bd58490804da4c772c6$export$fromUserCoordinate","destProjection","$524e9c84a4c58bd58490804da4c772c6$export$toUserExtent","$524e9c84a4c58bd58490804da4c772c6$export$fromUserExtent","$3f4f29b0a4be88d8241f933ff6121a33$export$transform2D","opt_dest","dest","j","$3f4f29b0a4be88d8241f933ff6121a33$export$rotate","anchor","anchorX","anchorY","deltaX","deltaY","k","$524e9c84a4c58bd58490804da4c772c6$export$addEquivalentTransforms","$a17c336463d573a615343832f6e09aa8$var$__extends","$a17c336463d573a615343832f6e09aa8$var$tmpTransform","$a17c336463d573a615343832f6e09aa8$export$default","Geometry","fn","lastResult","lastArgs","lastThis","called","extentRevision_","simplifiedGeometryMaxMinSquaredTolerance","simplifiedGeometryRevision","simplifyTransformedInternal","revision","squaredTolerance","opt_transform","applyTransform","nextArgs","simplifyTransformed","closestPointXY","closestPoint","minSquaredDistance","containsXY","coord","getClosestPoint","opt_closestPoint","NaN","intersectsCoordinate","computeExtent","isNaN","rotate","scale","opt_sy","opt_anchor","simplify","tolerance","getType","intersectsExtent","translate","sourceProj","inCoordinates","outCoordinates","pixelExtent","projectedExtent","$57ce72c0539154dec2abdc81ffcff6df$var$__extends","$57ce72c0539154dec2abdc81ffcff6df$export$default","SimpleGeometry","layout","getCoordinates","getFirstCoordinate","getFlatCoordinates","getLastCoordinate","getLayout","simplifiedGeometry","getSimplifiedGeometryInternal","getStride","setFlatCoordinates","$57ce72c0539154dec2abdc81ffcff6df$export$getStrideForLayout","setCoordinates","opt_layout","setLayout","nesting","$57ce72c0539154dec2abdc81ffcff6df$var$getLayoutForStride","$57ce72c0539154dec2abdc81ffcff6df$export$transformGeom2D","simpleGeometry","$020a0553c73896bfe8e0cfb3e7ff136b$var$assignClosest","offset1","offset2","$020a0553c73896bfe8e0cfb3e7ff136b$export$maxSquaredDelta","squaredDelta","$020a0553c73896bfe8e0cfb3e7ff136b$export$arrayMaxSquaredDelta","ends","$020a0553c73896bfe8e0cfb3e7ff136b$export$assignClosestPoint","maxDelta","isRing","opt_tmpPoint","squaredDistance","tmpPoint","$020a0553c73896bfe8e0cfb3e7ff136b$export$assignClosestArrayPoint","$e477329667689b6619ea04e4a51dbccc$export$deflateCoordinates","$e477329667689b6619ea04e4a51dbccc$export$deflateCoordinatesArray","coordinatess","opt_ends","jj","$a357f0a07bdcadd773e93ca791a42f7b$export$douglasPeucker","simplifiedFlatCoordinates","simplifiedOffset","markers","stack","last","pop","first","maxSquaredDistance","squaredDistance_1","$a357f0a07bdcadd773e93ca791a42f7b$export$snap","round","$a357f0a07bdcadd773e93ca791a42f7b$export$quantize","$a357f0a07bdcadd773e93ca791a42f7b$export$quantizeArray","simplifiedEnds","$419a691625de72e89acadcc033e1165f$export$forEach","ret","point1","point2","$c39683e7fcea5e9dae135d728d60cf52$export$inflateCoordinates","opt_coordinates","$c39683e7fcea5e9dae135d728d60cf52$export$inflateCoordinatesArray","opt_coordinatess","$c39683e7fcea5e9dae135d728d60cf52$export$inflateMultiCoordinatesArray","endss","opt_coordinatesss","coordinatesss","$168654b72fccbd53f77518b62ff915e1$export$interpolatePoint","fraction","o","length_1","cumulativeLengths","haystack","needle","opt_comparator","mid","cmp","comparator","low","high","found","$168654b72fccbd53f77518b62ff915e1$export$lineStringCoordinateAtM","m","extrapolate","lo","hi","m0","$7311a6a51d57e65f0d3a69bd7a380356$export$linearRingContainsExtent","outside","$7311a6a51d57e65f0d3a69bd7a380356$export$linearRingContainsXY","wn","$7311a6a51d57e65f0d3a69bd7a380356$export$linearRingsContainsXY","$32ab876027ca0904f46063bee68b73aa$export$intersectsLineString","coordinatesExtent","start","intersects","startRel","endRel","startX","startY","endX","endY","slope","$32ab876027ca0904f46063bee68b73aa$export$intersectsLinearRingArray","$32ab876027ca0904f46063bee68b73aa$export$intersectsLinearRing","$c028848ec55b72b61f5eaf0ec6396be2$export$lineStringLength","$f3208b74dbadea817236410092d4ed69$var$__extends","$f3208b74dbadea817236410092d4ed69$export$default","LineString","flatMidpoint_","flatMidpointRevision_","maxDelta_","maxDeltaRevision_","appendCoordinate","lineString","forEachSegment","getCoordinateAtM","opt_extrapolate","getCoordinateAt","getLength","getFlatMidpoint","$9cc45ed4bf6c6f99d7b74c7015645e2b$var$__extends","$9cc45ed4bf6c6f99d7b74c7015645e2b$export$default","MultiLineString","ends_","lineStrings","appendLineString","multiLineString","opt_interpolate","interpolate","getEnds","getLineString","getLineStrings","getFlatMidpoints","midpoints","midpoint","$acd1b863667085614d305475fd6c1d27$var$__extends","$acd1b863667085614d305475fd6c1d27$export$default","Point","$508255911b6472d9d16e9a97599ab01e$export$default","FeatureFormat","dataProjection","defaultFeatureProjection","getReadOptions","opt_options","readProjection","featureProjection","adaptOptions","readFeature","readFeatures","readGeometry","writeFeature","feature","writeFeatures","features","writeGeometry","$508255911b6472d9d16e9a97599ab01e$export$transformGeometryWithOptions","write","transformed","decimals","power_1","pow","$d51a9db7ffbc5351b0298bfe2864dc58$export$XML_SCHEMA_INSTANCE_URI","$d51a9db7ffbc5351b0298bfe2864dc58$export$createElementNS","namespaceURI","qualifiedName","$d51a9db7ffbc5351b0298bfe2864dc58$export$getDocument","createElementNS","$d51a9db7ffbc5351b0298bfe2864dc58$export$getAllTextContent","node","normalizeWhitespace","$d51a9db7ffbc5351b0298bfe2864dc58$export$getAllTextContent_","accumulator","nodeType","Node","CDATA_SECTION_NODE","TEXT_NODE","nodeValue","firstChild","nextSibling","$d51a9db7ffbc5351b0298bfe2864dc58$export$isDocument","$d51a9db7ffbc5351b0298bfe2864dc58$export$parse","xml","DOMParser","parseFromString","$d51a9db7ffbc5351b0298bfe2864dc58$export$makeArrayPusher","valueReader","objectStack","$d51a9db7ffbc5351b0298bfe2864dc58$export$makeObjectPropertySetter","opt_property","localName","$d51a9db7ffbc5351b0298bfe2864dc58$export$makeChildAppender","nodeWriter","appendChild","$d51a9db7ffbc5351b0298bfe2864dc58$export$makeArraySerializer","serializersNS","nodeFactory","serializers","$d51a9db7ffbc5351b0298bfe2864dc58$export$makeSimpleNodeFactory","$d51a9db7ffbc5351b0298bfe2864dc58$export$serialize","opt_nodeName","opt_namespaceURI","fixedNodeName","nodeName","$d51a9db7ffbc5351b0298bfe2864dc58$export$OBJECT_PROPERTY_NODE_FACTORY","$d51a9db7ffbc5351b0298bfe2864dc58$export$makeSequence","orderedKeys","sequence","$d51a9db7ffbc5351b0298bfe2864dc58$export$makeStructureNS","namespaceURIs","structure","opt_structureNS","structureNS","$d51a9db7ffbc5351b0298bfe2864dc58$export$parseNode","parsersNS","firstElementChild","nextElementSibling","parsers","parser","$d51a9db7ffbc5351b0298bfe2864dc58$export$pushParseAndPop","opt_keys","$d51a9db7ffbc5351b0298bfe2864dc58$export$pushSerializeAndPop","$d51a9db7ffbc5351b0298bfe2864dc58$var$xmlSerializer_","$d51a9db7ffbc5351b0298bfe2864dc58$var$document_","document","implementation","createDocument","$dec84ce654dad439cc55f11914ce0714$var$__extends","$dec84ce654dad439cc55f11914ce0714$export$default","XMLFeature","xmlSerializer_","XMLSerializer","doc","readFeatureFromDocument","readFeatureFromNode","readFeaturesFromDocument","readFeaturesFromNode","ELEMENT_NODE","readGeometryFromDocument","readGeometryFromNode","readProjectionFromDocument","readProjectionFromNode","writeFeatureNode","serializeToString","writeFeaturesNode","writeGeometryNode","$90d80a364a39de433c7f5cd490d4f896$export$readDateTime","s","dateTime","Date","parse","$90d80a364a39de433c7f5cd490d4f896$export$readDecimal","exec","parseFloat","$90d80a364a39de433c7f5cd490d4f896$export$readNonNegativeInteger","parseInt","$90d80a364a39de433c7f5cd490d4f896$export$readString","trim","$90d80a364a39de433c7f5cd490d4f896$export$writeDecimalTextNode","string","toPrecision","createTextNode","$90d80a364a39de433c7f5cd490d4f896$export$writeNonNegativeIntegerTextNode","nonNegativeInteger","toString","$90d80a364a39de433c7f5cd490d4f896$export$writeStringTextNode","$b33e8a0ea0c493ce5741084af120ccb7$var$__extends","$b33e8a0ea0c493ce5741084af120ccb7$var$NAMESPACE_URIS","$b33e8a0ea0c493ce5741084af120ccb7$var$FEATURE_READER","rte","$b33e8a0ea0c493ce5741084af120ccb7$var$readRte","trk","$b33e8a0ea0c493ce5741084af120ccb7$var$readTrk","wpt","$b33e8a0ea0c493ce5741084af120ccb7$var$readWpt","$b33e8a0ea0c493ce5741084af120ccb7$var$GPX_PARSERS","$b33e8a0ea0c493ce5741084af120ccb7$var$LINK_PARSERS","text","$b33e8a0ea0c493ce5741084af120ccb7$var$GPX_SERIALIZERS","context","LINE_STRING","parentNode","$b33e8a0ea0c493ce5741084af120ccb7$var$RTE_SEQUENCE","$b33e8a0ea0c493ce5741084af120ccb7$var$RTE_SERIALIZERS","MULTI_LINE_STRING","$b33e8a0ea0c493ce5741084af120ccb7$var$TRK_SEQUENCE","$b33e8a0ea0c493ce5741084af120ccb7$var$TRK_SERIALIZERS","POINT","$b33e8a0ea0c493ce5741084af120ccb7$var$writeWptType","$b33e8a0ea0c493ce5741084af120ccb7$export$default","GPX","readExtensions_","readExtensions","handleReadExtensions_","extensionsNode","featureReader","gpx","setAttributeNS","setAttribute","$b33e8a0ea0c493ce5741084af120ccb7$var$GPX_NODE_FACTORY","$b33e8a0ea0c493ce5741084af120ccb7$var$RTE_PARSERS","cmt","desc","src","link","$b33e8a0ea0c493ce5741084af120ccb7$var$parseLink","extensions","$b33e8a0ea0c493ce5741084af120ccb7$var$parseExtensions","rtept","$b33e8a0ea0c493ce5741084af120ccb7$var$RTEPT_PARSERS","rteValues","layoutOptions","$b33e8a0ea0c493ce5741084af120ccb7$var$appendCoordinate","ele","time","$b33e8a0ea0c493ce5741084af120ccb7$var$TRK_PARSERS","trkseg","$b33e8a0ea0c493ce5741084af120ccb7$var$TRKSEG_PARSERS","trkpt","$b33e8a0ea0c493ce5741084af120ccb7$var$TRKPT_PARSERS","trkValues","$b33e8a0ea0c493ce5741084af120ccb7$var$WPT_PARSERS","magvar","geoidheight","sym","fix","sat","hdop","vdop","pdop","ageofdgpsdata","dgpsid","$b33e8a0ea0c493ce5741084af120ccb7$var$LINK_SEQUENCE","$b33e8a0ea0c493ce5741084af120ccb7$var$LINK_SERIALIZERS","$b33e8a0ea0c493ce5741084af120ccb7$var$writeLink","$b33e8a0ea0c493ce5741084af120ccb7$var$RTEPT_TYPE_SEQUENCE","$b33e8a0ea0c493ce5741084af120ccb7$var$TRKSEG_SERIALIZERS","$b33e8a0ea0c493ce5741084af120ccb7$var$TRKSEG_NODE_FACTORY","$b33e8a0ea0c493ce5741084af120ccb7$var$WPT_TYPE_SEQUENCE","$b33e8a0ea0c493ce5741084af120ccb7$var$WPT_TYPE_SERIALIZERS","date","getUTCFullYear","getUTCMonth","getUTCDate","getUTCHours","getUTCMinutes","getUTCSeconds","$b33e8a0ea0c493ce5741084af120ccb7$var$GEOMETRY_TYPE_TO_NODENAME","getAttribute","hasZ","hasM","$b33e8a0ea0c493ce5741084af120ccb7$var$applyLayoutOptions","href","$8af1af76f23419d9d724a1b0182ffb00$var$__extends","$8af1af76f23419d9d724a1b0182ffb00$export$default","GeometryCollection","opt_geometries","geometries_","changeEventsKeys_","listenGeometriesChange_","unlistenGeometriesChange_","geometryCollection","setGeometries","geometries","getGeometries","$8af1af76f23419d9d724a1b0182ffb00$var$cloneGeometries","getGeometriesArray","getGeometriesArrayRecursive","geometriesArray","concat","simplifiedGeometries","simplified","simplifiedGeometryCollection","setGeometriesArray","isEmpty","clonedGeometries","$1a6c956f7a172f55a86db631d141a623$var$__extends","$1a6c956f7a172f55a86db631d141a623$export$default","JSONFeature","readFeatureFromObject","$1a6c956f7a172f55a86db631d141a623$var$getObject","readFeaturesFromObject","readGeometryFromObject","readProjectionFromObject","JSON","stringify","writeFeatureObject","writeFeaturesObject","writeGeometryObject","$0c87ec0f12a2b62262bf5859757b8a2b$var$__extends","$0c87ec0f12a2b62262bf5859757b8a2b$export$default","MultiPoint","appendPoint","multiPoint","getPoint","getPoints","points","$7641779008ab07f3e708dabdbbb046eb$export$linearRing","twiceArea","$7641779008ab07f3e708dabdbbb046eb$export$linearRings","$cf0a72c7dbf1c3cfa9edf65c24bc230b$var$__extends","$cf0a72c7dbf1c3cfa9edf65c24bc230b$export$default","LinearRing","getArea","$67787df47ebd352536b767ba5aa6ea83$export$getInteriorPointOfArray","flatCenters","flatCentersOffset","intersections","rr","pointX","maxSegmentLength","sort","segmentLength","abs","$221ffa684d4ba252080508824e602b78$export$coordinates","$52f5ef13e882c7db8132623a2b51ee49$export$linearRingIsClockwise","edge","$52f5ef13e882c7db8132623a2b51ee49$export$linearRingsAreOriented","opt_right","right","isClockwise","$52f5ef13e882c7db8132623a2b51ee49$export$orientLinearRings","$52f5ef13e882c7db8132623a2b51ee49$export$orientLinearRingsArray","$bffbcd35af658c4477627697774de1c2$var$__extends","$bffbcd35af658c4477627697774de1c2$export$default","Polygon","flatInteriorPointRevision_","flatInteriorPoint_","orientedRevision_","orientedFlatCoordinates_","appendLinearRing","linearRing","polygon","getOrientedFlatCoordinates","getFlatInteriorPoint","flatCenter","getInteriorPoint","getLinearRingCount","getLinearRing","getLinearRings","linearRings","$bffbcd35af658c4477627697774de1c2$export$fromExtent","XY","$3f89ce735a32ce0bc16220a89ae67b2f$var$__extends","$3f89ce735a32ce0bc16220a89ae67b2f$export$default","MultiPolygon","opt_endss","endss_","flatInteriorPointsRevision_","flatInteriorPoints_","polygons","appendPolygon","newEndss","multiPolygon","getEndss","getFlatInteriorPoints","interiorPoints","getInteriorPoints","simplifiedEndss","getPolygon","prevEnds","getPolygons","lastEnds","$5d8566a0c1419db39058842324e9a300$var$__extends","$5d8566a0c1419db39058842324e9a300$export$default","GeoJSON","geometryName","extractGeometryName_","extractGeometryName","geoJSONFeature","$5d8566a0c1419db39058842324e9a300$var$readGeometry","geoJSONFeatures","crs","$5d8566a0c1419db39058842324e9a300$var$writeGeometry","objects","$5d8566a0c1419db39058842324e9a300$var$readPointGeometry","$5d8566a0c1419db39058842324e9a300$var$readLineStringGeometry","$5d8566a0c1419db39058842324e9a300$var$readPolygonGeometry","$5d8566a0c1419db39058842324e9a300$var$readMultiPointGeometry","$5d8566a0c1419db39058842324e9a300$var$readMultiLineStringGeometry","$5d8566a0c1419db39058842324e9a300$var$readMultiPolygonGeometry","map","$5d8566a0c1419db39058842324e9a300$var$readGeometryCollectionGeometry","geoJSON","$5d8566a0c1419db39058842324e9a300$var$writePointGeometry","$5d8566a0c1419db39058842324e9a300$var$writeLineStringGeometry","rightHanded","$5d8566a0c1419db39058842324e9a300$var$writePolygonGeometry","$5d8566a0c1419db39058842324e9a300$var$writeMultiPointGeometry","$5d8566a0c1419db39058842324e9a300$var$writeMultiLineStringGeometry","$5d8566a0c1419db39058842324e9a300$var$writeMultiPolygonGeometry","$5d8566a0c1419db39058842324e9a300$var$writeGeometryCollectionGeometry","$ddc7f5de3664aab559d1c545c366e59d$var$HEX_COLOR_RE_","$ddc7f5de3664aab559d1c545c366e59d$var$NAMED_COLOR_RE_","$ddc7f5de3664aab559d1c545c366e59d$export$asString","color","$ddc7f5de3664aab559d1c545c366e59d$export$toString","cache","cacheSize","$ddc7f5de3664aab559d1c545c366e59d$export$fromString","MAX_CACHE_SIZE","g","el","createElement","body","rgb","getComputedStyle","removeChild","$ddc7f5de3664aab559d1c545c366e59d$var$fromNamed","hasAlpha","substr","$ddc7f5de3664aab559d1c545c366e59d$export$normalize","Number","$ddc7f5de3664aab559d1c545c366e59d$var$fromStringInternal_","$ddc7f5de3664aab559d1c545c366e59d$export$asArray","$80553d92e1fbcb82d752b6de833f9cf3$var$getKey","crossOrigin","$80553d92e1fbcb82d752b6de833f9cf3$export$shared","IconImageCache","cache_","cacheSize_","maxCacheSize_","clear","canExpireCache","expire","iconImage","setSize","maxCacheSize","$3a8294651627eb74246351f5b596cf68$var$__extends","$3a8294651627eb74246351f5b596cf68$export$default","BaseLayer","opacity","visible","zIndex","maxResolution","minResolution","minZoom","maxZoom","className_","className","state_","getClassName","getLayerState","opt_managed","state","layer","managed","getOpacity","sourceState","getSourceState","getVisible","getMaxResolution","getMinResolution","getMinZoom","getMaxZoom","getLayersArray","opt_array","getLayerStatesArray","opt_states","setMaxResolution","setMinResolution","setMaxZoom","setMinZoom","setOpacity","setVisible","setZIndex","zindex","$1935b85c22cfc539ea58e141ab0b37d6$var$__extends","$1935b85c22cfc539ea58e141ab0b37d6$export$default","Layer","baseOptions","mapPrecomposeKey_","mapRenderKey_","sourceChangeKey_","renderer_","render","setMap","handleSourcePropertyChange_","setSource","array","states","getSource","getState","handleSourceChange_","getFeatures","pixel","frameState","layerRenderer","getRenderer","prepareFrame","renderFrame","layerStatesArray","layerState","some","arrayLayerState","$c81aa09fb137106970dbc142b1e89ec3$export$default","createRenderer","hasRenderer","$1935b85c22cfc539ea58e141ab0b37d6$export$inView","viewState","zoom","$52488a0195cf0e38344877f5a3896831$var$__extends","$52488a0195cf0e38344877f5a3896831$export$default","MapRenderer","map_","dispatchRenderEvent","calculateMatrices2D","coordinateToPixelTransform","pixelToCoordinateTransform","forEachFeatureAtCoordinate","hitTolerance","checkWrapped","thisArg","layerFilter","thisArg2","result","translatedCoordinate","offsets","layerStates","numLayers","matches","tmpCoord","getWrapX","callback_1","order","distanceSq","forEachLayerAtPixel","hasFeatureAtCoordinate","getMap","scheduleExpireIconCache","postRenderFunctions","$52488a0195cf0e38344877f5a3896831$var$expireIconCache","$1a95b8d63eeb9d5cd5e2742791ea7ab2$var$__extends","$1a95b8d63eeb9d5cd5e2742791ea7ab2$export$default","RenderEvent","opt_inversePixelTransform","opt_frameState","opt_context","inversePixelTransform","$7ef0aa4943b3f1208e19af1336a3f8f6$export$CLASS_HIDDEN","$7ef0aa4943b3f1208e19af1336a3f8f6$export$CLASS_CONTROL","$7ef0aa4943b3f1208e19af1336a3f8f6$export$CLASS_COLLAPSED","$7ef0aa4943b3f1208e19af1336a3f8f6$var$fontRegEx","RegExp","$7ef0aa4943b3f1208e19af1336a3f8f6$var$fontRegExMatchIndex","$7ef0aa4943b3f1208e19af1336a3f8f6$export$getFontParameters","fontSpec","match","lineHeight","weight","variant","families","family","$2016f251f21b02e27a5ca36c37510540$var$ua","navigator","userAgent","toLowerCase","$2016f251f21b02e27a5ca36c37510540$export$FIREFOX","$2016f251f21b02e27a5ca36c37510540$export$WEBKIT","$2016f251f21b02e27a5ca36c37510540$export$MAC","$2016f251f21b02e27a5ca36c37510540$export$DEVICE_PIXEL_RATIO","devicePixelRatio","$2016f251f21b02e27a5ca36c37510540$export$WORKER_OFFSCREEN_CANVAS","WorkerGlobalScope","OffscreenCanvas","$2016f251f21b02e27a5ca36c37510540$export$IMAGE_DECODE","Image","decode","$2016f251f21b02e27a5ca36c37510540$export$PASSIVE_EVENT_LISTENERS","passive","error","$8b566ca8fd3b2d9c184057ba73cbf345$export$createCanvasContext2D","opt_width","opt_height","opt_canvasPool","canvas","shift","getContext","$8b566ca8fd3b2d9c184057ba73cbf345$export$replaceNode","newNode","oldNode","parent","replaceChild","$8b566ca8fd3b2d9c184057ba73cbf345$export$removeNode","$d79b9b8aceb2a0d1337b4e6f69d78e46$export$defaultFont","$d79b9b8aceb2a0d1337b4e6f69d78e46$export$defaultFillStyle","$d79b9b8aceb2a0d1337b4e6f69d78e46$export$defaultLineCap","$d79b9b8aceb2a0d1337b4e6f69d78e46$export$defaultLineDash","$d79b9b8aceb2a0d1337b4e6f69d78e46$export$defaultLineJoin","$d79b9b8aceb2a0d1337b4e6f69d78e46$export$defaultStrokeStyle","$d79b9b8aceb2a0d1337b4e6f69d78e46$export$defaultTextAlign","$d79b9b8aceb2a0d1337b4e6f69d78e46$export$defaultTextBaseline","$d79b9b8aceb2a0d1337b4e6f69d78e46$export$defaultPadding","$d79b9b8aceb2a0d1337b4e6f69d78e46$export$checkedFonts","$d79b9b8aceb2a0d1337b4e6f69d78e46$export$labelCache","console","warn","$d79b9b8aceb2a0d1337b4e6f69d78e46$var$measureFont","div","$d79b9b8aceb2a0d1337b4e6f69d78e46$var$measureContext","$d79b9b8aceb2a0d1337b4e6f69d78e46$export$textHeights","$d79b9b8aceb2a0d1337b4e6f69d78e46$export$registerFont","interval","referenceWidth","referenceFonts","isAvailable","fontStyle","fontWeight","fontFamily","available","referenceFont","$d79b9b8aceb2a0d1337b4e6f69d78e46$export$measureTextWidth","check","done","fonts","font","clearInterval","setInterval","$d79b9b8aceb2a0d1337b4e6f69d78e46$export$measureTextHeight","metrics","$d79b9b8aceb2a0d1337b4e6f69d78e46$var$measureText","actualBoundingBoxAscent","actualBoundingBoxDescent","innerHTML","margin","padding","position","left","offsetHeight","measureText","$d79b9b8aceb2a0d1337b4e6f69d78e46$export$measureAndCacheTextWidth","$d79b9b8aceb2a0d1337b4e6f69d78e46$export$rotateAtOffset","offsetX","offsetY","$d79b9b8aceb2a0d1337b4e6f69d78e46$export$drawImageOrLabel","labelOrImage","originX","originY","w","h","save","globalAlpha","setTransform","contextInstructions","label","$d79b9b8aceb2a0d1337b4e6f69d78e46$var$executeLabelInstructions","drawImage","restore","$d79b9b8aceb2a0d1337b4e6f69d78e46$var$createTransformStringCanvas","$2ae21f590be041e7827bf48426c0766a$var$__extends","$2ae21f590be041e7827bf48426c0766a$export$default","CompositeMapRenderer","fontChangeListenerKey_","redrawText","element_","container","getViewport","insertBefore","children_","renderedVisible_","event_1","declutterLayers","previousElement","layerIndex","element","renderDeclutter","children","oldChildren","childNodes","oldChild","newChild","display","getDataAtPixel","$e6a59fbd122f687b33c2f382a3c7634b$var$__extends","$e6a59fbd122f687b33c2f382a3c7634b$var$Property","$e6a59fbd122f687b33c2f382a3c7634b$export$CollectionEvent","CollectionEvent","opt_element","opt_index","$e6a59fbd122f687b33c2f382a3c7634b$export$default","Collection","unique_","unique","array_","assertUnique_","updateLength_","extend","getArray","item","insertAt","elem","removeAt","remove","prev","setAt","opt_except","$d66bdf9af75d90254b022f9a4b768a43$var$__extends","$d66bdf9af75d90254b022f9a4b768a43$var$Property","$d66bdf9af75d90254b022f9a4b768a43$export$default","LayerGroup","layers","layersListenerKeys_","listenerKeys_","handleLayersChanged_","setLayers","handleLayerChange_","getLayers","handleLayersAdd_","handleLayersRemove_","layersArray","collectionEvent","pos","ownLayerState","$f8e1a00fe597e09d283a3697649a8ad5$var$__extends","$f8e1a00fe597e09d283a3697649a8ad5$export$default","MapEvent","$5185059e8a82c1ae03c4e1ba7159b318$var$__extends","$5185059e8a82c1ae03c4e1ba7159b318$export$default","MapBrowserEvent","originalEvent","opt_dragging","pixel_","coordinate_","dragging","getEventPixel","configurable","getCoordinateFromPixel","SINGLECLICK","CLICK","DBLCLICK","POINTERDRAG","POINTERMOVE","POINTERDOWN","POINTERUP","POINTEROVER","POINTEROUT","POINTERENTER","POINTERLEAVE","POINTERCANCEL","$75ed2fc91ec6cb8478583ef358a9dd4d$var$__extends","$75ed2fc91ec6cb8478583ef358a9dd4d$export$default","MapBrowserEventHandler","moveTolerance","clickTimeoutId_","emulateClicks_","dragging_","dragListenerKeys_","moveTolerance_","down_","activePointers_","trackedTouches_","pointerdownListenerKey_","handlePointerDown_","originalPointerMoveEvent_","relayedListenerKey_","relayEvent_","boundHandleTouchMove_","handleTouchMove_","emulateClick_","pointerEvent","newEvent","clearTimeout","setTimeout","updateActivePointers_","pointerId","handlePointerUp_","isMouseActionButton_","button","getOwnerDocument","handlePointerMove_","getRootNode","isMoving_","defaultPrevented","clientX","clientY","$eeb9190850355aed8fc5d92349a26bc6$export$DROP","$eeb9190850355aed8fc5d92349a26bc6$export$default","PriorityQueue","priorityFunction","keyFunction","priorityFunction_","keyFunction_","elements_","priorities_","queuedElements_","dequeue","elements","priorities","siftUp_","elementKey","enqueue","priority","siftDown_","getCount","getLeftChildIndex_","getRightChildIndex_","getParentIndex_","heapify_","isKeyQueued","isQueued","count","startIndex","lIndex","rIndex","smallerChildIndex","parentIndex","reprioritize","$6bfe069e85349c527971d875462feeac$var$__extends","$6bfe069e85349c527971d875462feeac$export$default","TileQueue","tilePriorityFunction","tileChangeCallback","getKey","boundHandleTileChange_","handleTileChange","tileChangeCallback_","tilesLoading_","tilesLoadingKeys_","added","getTilesLoading","tile","hifi","EMPTY","tileKey","loadMoreTiles","maxTotalLoading","maxNewLoads","newLoads","load","$6bfe069e85349c527971d875462feeac$export$getTilePriority","tileSourceKey","tileCenter","tileResolution","wantedTiles","$c1e1f889297e115e83bec772196e32bf$export$DEFAULT_TILE_SIZE","$61ba71c2b15c8b7e6577526180db0da5$export$createExtent","onlyCenter","smooth","opt_isMoving","opt_centerShift","viewWidth","viewHeight","shiftX","shiftY","ratio","$61ba71c2b15c8b7e6577526180db0da5$export$none","$75cf935c4655e9fc21b1ade56ed27175$var$getViewportClampedResolution","maxExtent","viewportSize","showFullExtent","xResolution","yResolution","$75cf935c4655e9fc21b1ade56ed27175$var$getSmoothClampedResolution","$75cf935c4655e9fc21b1ade56ed27175$export$createMinMaxResolution","opt_smooth","opt_maxExtent","opt_showFullExtent","cappedMaxRes","$4c6a822b604dbfa9a10722399f7335d0$export$disable","$4c6a822b604dbfa9a10722399f7335d0$export$none","$8717569d70d85bd7f28c8c1b2c37daee$export$easeIn","$8717569d70d85bd7f28c8c1b2c37daee$export$easeOut","$8717569d70d85bd7f28c8c1b2c37daee$export$inAndOut","$8717569d70d85bd7f28c8c1b2c37daee$export$linear","$19fadbefe1b7e34cc76223b5c3e441cc$var$__extends","$19fadbefe1b7e34cc76223b5c3e441cc$export$default","View","hints_","animations_","updateAnimationKey_","projection_","viewportSize_","targetCenter_","targetResolution_","targetRotation_","cancelAnchor_","applyOptions_","resolutionConstraintInfo","resolutionConstraint","defaultMaxZoom","defaultZoomFactor","zoomFactor","multiWorld","smoothResolutionConstraint","projExtent","constrainOnlyCenter","resolutions","constrainResolution","capped","z","defaultMaxResolution","defaultMinResolution","power","opt_minResolution","minZoomLevel","ceil","cappedZoomLevel","zoomLevel","constraint","$19fadbefe1b7e34cc76223b5c3e441cc$export$createResolutionConstraint","maxResolution_","minResolution_","zoomFactor_","resolutions_","minZoom_","centerConstraint","smoothExtentConstraint","$19fadbefe1b7e34cc76223b5c3e441cc$export$createCenterConstraint","rotationConstraint","enableRotation","constrainRotation","opt_tolerance","theta","$19fadbefe1b7e34cc76223b5c3e441cc$export$createRotationConstraint","constraints_","setRotation","setCenterInternal","setResolution","setZoom","options_","getUpdatedOptions_","newOptions","getResolution","getZoom","getCenterInternal","getRotation","animate","var_args","isDef","getAnimating","resolveConstraints","args","getProjection","animateInternal","animationCount","$19fadbefe1b7e34cc76223b5c3e441cc$var$animationCallback","now","series","animation","complete","duration","easing","sourceCenter","targetCenter","sourceResolution","targetResolution","getResolutionForZoom","sourceRotation","delta","targetRotation","$19fadbefe1b7e34cc76223b5c3e441cc$export$isNoopAnimation","setHint","updateAnimations_","getInteracting","cancelAnimations","cancelAnimationFrame","more","seriesComplete","elapsed","progress","getViewportSize_","constrainedResolution","calculateCenterZoom","applyTargetState_","constrainedRotation","calculateCenterRotate","filter","Boolean","requestAnimationFrame","currentCenter","currentResolution","opt_rotation","setViewportSize","opt_size","getCenter","getConstraints","getConstrainResolution","getHints","opt_hints","calculateExtent","calculateExtentInternal","getZoomForResolution","setConstrainResolution","enabled","getResolutions","getResolutionForExtent","getResolutionForExtentInternal","getResolutionForValueFunction","opt_power","getConstrainedResolution","getValueForResolutionFunction","logPower","getViewportSizeMinusPadding_","reducedSize","$19fadbefe1b7e34cc76223b5c3e441cc$var$calculateCenterOn","nearest","baseLevel","fit","geometryOrExtent","CIRCLE","userProjection","fitInternal","coords","minRotX","minRotY","maxRotX","maxRotY","rotX","rotY","centerRotX","centerRotY","centerX","centerY","getConstrainedCenter","centerOn","centerOnInternal","calculateCenterShift","centerShift","shiftedCenter","adjustCenter","deltaCoordinates","setCenter","adjustCenterInternal","adjustResolution","adjustResolutionInternal","isMoving","newResolution","adjustZoom","adjustRotation","adjustRotationInternal","newRotation","hint","opt_doNotCancelAnims","opt_forceMoving","newCenter","CENTER","opt_duration","opt_resolutionDirection","beginInteraction","endInteraction","endInteractionInternal","opt_targetResolution","getConstrainedZoom","targetZoom","opt_direction","targetRes","returnValue","$8556eff40cf4f1624cd78ff7ea054c5b$export$toSize","$b198bbb8a7fca092de94dd3a772c1343$var$__extends","$b198bbb8a7fca092de94dd3a772c1343$export$default","PluggableMap","optionsInternal","keyboardEventTarget","getElementById","controls","interactions","overlays","layerGroup","view","$b198bbb8a7fca092de94dd3a772c1343$var$createOptionsInternal","boundHandleBrowserEvent_","handleBrowserEvent","maxTilesLoading_","maxTilesLoading","pixelRatio_","pixelRatio","postRenderTimeoutHandle_","animationDelayKey_","animationDelay_","renderFrame_","coordinateToPixelTransform_","pixelToCoordinateTransform_","frameIndex_","frameState_","previousExtent_","viewPropertyListenerKey_","viewChangeListenerKey_","layerGroupPropertyListenerKeys_","viewport_","overflow","overlayContainer_","pointerEvents","overlayContainerStopEvent_","mapBrowserEventHandler_","keyboardEventTarget_","keyHandlerKeys_","overlays_","overlayIdIndex_","handleResize_","postRenderFunctions_","tileQueue_","getTilePriority","handleTileChange_","handleLayerGroupChanged_","handleViewChanged_","handleSizeChanged_","handleTargetChanged_","control","interaction","addOverlayInternal_","addControl","getControls","addInteraction","getInteractions","addLayer","getLayerGroup","addOverlay","overlay","getOverlays","setTarget","forEachFeatureAtPixel","getCoordinateFromPixelInternal","getFeaturesAtPixel","hasFeatureAtPixel","getEventCoordinate","getEventCoordinateInternal","viewportPosition","getBoundingClientRect","eventPosition","changedTouches","top","getTarget","getTargetElement","getView","getOverlayById","getLoading","loading","getPixelFromCoordinate","viewCoordinate","getPixelFromCoordinateInternal","getSize","getOverlayContainer","getOverlayContainerStopEvent","ownerDocument","browserEvent","mapBrowserEvent","handleMapBrowserEvent","KEYDOWN","rootNode","elementFromPoint","contains","documentElement","interactionsArray","getActive","handlePostRender","tileQueue","hints","viewHints","INTERACTING","lowOnFrameBudget","targetElement","updateSize","handleViewPropertyChanged_","updateViewportSize_","isRendered","renderSync","handleFontsChanged","removeControl","removeInteraction","removeLayer","removeOverlay","previousFrameState","declutterTree","usedTiles","setLayerGroup","setView","computedStyle","offsetWidth","$8316c877d328ebfc4f4b917229eec057$var$__extends","$8316c877d328ebfc4f4b917229eec057$export$default","Control","target_","listenerKeys","mapEvent","$194d017bd833b991c2c712fa2ff5b0e5$var$__extends","$194d017bd833b991c2c712fa2ff5b0e5$export$default","Attribution","ulElement_","collapsed_","collapsed","userCollapsed_","overrideCollapsible_","collapsible","collapsible_","tipLabel","expandClassName","collapseLabel","collapseClassName","collapseLabel_","textContent","label_","activeLabel","title","handleClick_","cssClasses","renderedAttributions_","collectSourceAttributions_","lookup","visibleAttributions","attributionGetter","getAttributions","attributions","getAttributionsCollapsible","setCollapsible","updateElement_","lastChild","handleToggle_","classList","toggle","getCollapsible","setCollapsed","getCollapsed","$aef56543978371a8090d728a4f107ac0$var$__extends","$aef56543978371a8090d728a4f107ac0$export$default","Rotate","compassClassName","add","callResetNorth_","resetNorth","duration_","autoHide_","autoHide","rotation_","resetNorth_","$9812beea87bdcda9027d52b89085c87c$var$__extends","$9812beea87bdcda9027d52b89085c87c$export$default","Zoom","zoomInClassName","zoomOutClassName","zoomInLabel","zoomOutLabel","zoomInTipLabel","zoomOutTipLabel","inElement","outElement","zoomByDelta_","currentZoom","newZoom","$1ad0cf5090e3852174414bfc8cc27b9e$var$__extends","$1ad0cf5090e3852174414bfc8cc27b9e$export$default","Interaction","setActive","active","$1ad0cf5090e3852174414bfc8cc27b9e$export$pan","$1ad0cf5090e3852174414bfc8cc27b9e$export$zoomByDelta","$4eeedd039b7e6d5b8277b175715f9541$var$__extends","$4eeedd039b7e6d5b8277b175715f9541$export$default","DoubleClickZoom","delta_","stopEvent","shiftKey","$0714aed143b912743afff175db44c1dc$var$__extends","$0714aed143b912743afff175db44c1dc$export$default","PointerInteraction","handleDownEvent","handleDragEvent","handleMoveEvent","handleUpEvent","stopDown","handlingDownUpSequence","trackedPointers_","targetPointers","getPointerCount","updateTrackedPointers_","handledUp","handled","$0714aed143b912743afff175db44c1dc$var$isPointerDraggingEvent","$0714aed143b912743afff175db44c1dc$export$centroid","$054715504eaffdc825d0a6ada99ec596$export$all","conditions","pass","$054715504eaffdc825d0a6ada99ec596$export$altShiftKeysOnly","altKey","metaKey","ctrlKey","$054715504eaffdc825d0a6ada99ec596$export$focusWithTabindex","hasAttribute","activeElement","$054715504eaffdc825d0a6ada99ec596$export$focus","$054715504eaffdc825d0a6ada99ec596$export$always","$054715504eaffdc825d0a6ada99ec596$export$mouseActionButton","$054715504eaffdc825d0a6ada99ec596$export$noModifierKeys","$054715504eaffdc825d0a6ada99ec596$export$shiftKeyOnly","$054715504eaffdc825d0a6ada99ec596$export$targetNotEditable","tagName","$054715504eaffdc825d0a6ada99ec596$export$mouseOnly","pointerType","$054715504eaffdc825d0a6ada99ec596$export$primaryAction","isPrimary","$959ec1b544453a9fa4f0e9221c3bb0b0$var$__extends","$959ec1b544453a9fa4f0e9221c3bb0b0$export$default","DragPan","kinetic_","kinetic","lastCentroid","lastPointersCount_","panning_","condition","condition_","onFocusOnly","noKinetic_","centroid","update","distance","getDistance","getAngle","centerpx","$719e5208cd50905e41bacbcae2219883$var$__extends","$719e5208cd50905e41bacbcae2219883$export$default","DragRotate","lastAngle_","$d0055a036577a61fd8306330947568c7$var$__extends","$d0055a036577a61fd8306330947568c7$export$default","RenderBox","geometry_","startPixel_","endPixel_","render_","startPixel","endPixel","px","setPixels","createOrUpdateGeometry","pixels","$275b26378704892d776581791f32dc0e$var$__extends","$275b26378704892d776581791f32dc0e$var$DragBoxEventType","$275b26378704892d776581791f32dc0e$export$DragBoxEvent","DragBoxEvent","$275b26378704892d776581791f32dc0e$export$default","DragBox","box_","minArea_","minArea","onBoxEnd","boxEndCondition_","boxEndCondition","defaultBoxEndCondition","completeBox","$b5cd6c68e27395a36aa4c8d3c5395250$var$__extends","$b5cd6c68e27395a36aa4c8d3c5395250$export$default","DragZoom","out_","out","mapExtent","boxPixelExtent","$bcd9d2d6fd38b8643ae7b7b6fd22a911$var$__extends","$bcd9d2d6fd38b8643ae7b7b6fd22a911$export$default","KeyboardPan","defaultCondition_","pixelDelta_","pixelDelta","keyEvent","keyCode","UP","mapUnitsDelta","$55ea853e77e2fe25fa1a8793cb31a3bf$var$__extends","$55ea853e77e2fe25fa1a8793cb31a3bf$export$default","KeyboardZoom","KEYPRESS","charCode","charCodeAt","$4f2c4d65e25c75c4fbc5129660f72747$export$default","Kinetic","decay","minVelocity","delay","decay_","minVelocity_","delay_","points_","angle_","initialVelocity_","lastIndex","firstIndex","$f7a99b9e7b1a72242a3eb408b28d3563$var$__extends","$f7a99b9e7b1a72242a3eb408b28d3563$export$Mode","$f7a99b9e7b1a72242a3eb408b28d3563$export$default","MouseWheelZoom","totalDelta_","lastDelta_","timeout_","timeout","useAnchor_","useAnchor","constrainResolution_","lastAnchor_","startTime_","timeoutId_","mode_","trackpadEventGap_","trackpadTimeoutId_","deltaPerZoom_","endInteraction_","wheelEvent","deltaMode","WheelEvent","DOM_DELTA_PIXEL","DOM_DELTA_LINE","timeLeft","handleWheelZoom_","setMouseAnchor","$74b3a0ab43d5d3c47ed1a15cedc99f6a$var$__extends","$74b3a0ab43d5d3c47ed1a15cedc99f6a$export$default","PinchRotate","pointerOptions","anchor_","rotating_","rotationDelta_","threshold_","threshold","rotationDelta","touch0","touch1","$601b81cfcc535d77832cc96f04e942a1$var$__extends","$601b81cfcc535d77832cc96f04e942a1$export$default","PinchZoom","lastDistance_","lastScaleDelta_","scaleDelta","$976448907138da16f7612e32ecc55ac7$var$__extends","$976448907138da16f7612e32ecc55ac7$export$default","Map","zoomOptions","rotateOptions","attribution","attributionOptions","altShiftDragRotate","doubleClickZoom","zoomDelta","zoomDuration","dragPan","pinchRotate","pinchZoom","keyboard","mouseWheelZoom","shiftDragZoom","$ab70eb0a0a56b112261264db1ea7acab$var$__extends","$ab70eb0a0a56b112261264db1ea7acab$export$default","BaseTileLayer","preload","useInterimTilesOnError","setPreload","setUseInterimTilesOnError","getPreload","getUseInterimTilesOnError","$ae15ed96a99c1303ea67938747c94fca$var$__extends","$ae15ed96a99c1303ea67938747c94fca$export$default","LayerRenderer","boundHandleImageChange_","handleImageChange_","layer_","declutterExecutorGroup","loadedTileCallback","tiles","tileCoord","createLoadedTileFinder","tileRange","forEachLoadedTile","getLayer","renderIfReadyAndVisible","loadImage","image","imageState","$ac230d10056414a40eb774bd091234f1$var$__extends","$ac230d10056414a40eb774bd091234f1$export$default","CanvasLayerRenderer","renderedResolution","tempTransform","pixelTransform","containerReused","useContainer","layerClassName","HTMLCanvasElement","transformOrigin","clip","halfWidth","halfHeight","topLeft","topRight","bottomRight","bottomLeft","beginPath","moveTo","lineTo","clipUnrotated","inverted","dispatchRenderEvent_","preRender","postRender","getRenderTransform","renderPixel","layerExtent","renderCoordinate","newCanvas","newContext","clearRect","getImageData","err","Uint8Array","$6a958d3d10a45fbc13d601def6cb4731$export$default","TileRange","containsTileRange","getHeight","getWidth","$6a958d3d10a45fbc13d601def6cb4731$export$createOrUpdate","$21101e8f6691f861098a74ca233ba3e1$var$__extends","$21101e8f6691f861098a74ca233ba3e1$export$default","CanvasTileLayerRenderer","tileLayer","extentChanged","renderedExtent_","renderedPixelRatio","renderedProjection","renderedRevision","renderedTiles","newTiles_","tmpExtent","tmpTileRange_","isDrawableTile","tileState","getTile","setState","getInterimTile","viewResolution","viewCenter","tileSource","sourceRevision","getTileGridForProjection","getZForResolution","zDirection","tilePixelRatio","getTilePixelRatio","canvasExtent","getTileRangeForExtentAndZ","tilesToDrawByZ","findLoadedTiles","tmpTileRange","uid","LOADED","inTransition","getAlpha","childTileRange","getTileCoordChildTileRange","covered","forEachTileCoordParentTileRange","canvasScale","canvasTransform","getContextOptions","clips","clipZs","currentClip","zs","getOpaque","reverse","currentZ","currentTilePixelSize","getTilePixelSize","currentScale","dx_1","dy_1","originTileCoord","getTileCoordForCoordAndZ","originTileExtent","getTileCoordExtent","origin_1","tileGutter","getGutterForProjection","tilesToDraw","tileCoordKey","floatX","nextX","floatY","nextY","transition","i_1","drawTileImage","updateUsedTiles","manageTilePyramid","scheduleExpireCache","gutter","getTileImage","tileAlpha","alpha","alphaChanged","endTransition","getImage","postRenderFunction","expireCache","opt_tileCallback","tileCount","getTileCoordCenter","useTile","updateCacheSize","$7f639b92eb9591e7aded56644548f656$var$__extends","$7f639b92eb9591e7aded56644548f656$export$default","TileLayer","u","_maxEntries","_minEntries","leaf","all","_all","search","toBBox","collides","insert","_build","_splitRoot","_insert","_condense","compareMinX","compareMinY","toJSON","fromJSON","_chooseSubtree","_split","_adjustParentBBoxes","_chooseSplitAxis","_chooseSplitIndex","M","_allDistMargin","$a51010926fccd7fa7fa549e12811b655$exports","RBush","$96f7f946d494434256fc7391bfca3d81$export$default","ImageStyle","opacity_","rotateWithView_","rotateWithView","scale_","scaleArray_","displacement_","displacement","getScale","getRotateWithView","getDisplacement","getScaleArray","getAnchor","getHitDetectionImage","getPixelRatio","getImageState","getImageSize","getHitDetectionImageSize","getOrigin","setRotateWithView","setScale","listenImageChange","unlistenImageChange","$7eb24b24c1bb92b5f48477cc7ed0ef45$export$asColorLike","$9395bcf7fa5c622dff9d678b4abf4bba$var$__extends","$9395bcf7fa5c622dff9d678b4abf4bba$export$default","RegularShape","canvas_","hitDetectionCanvas_","fill_","fill","origin_","radius_","radius1","radius2_","radius2","stroke_","stroke","size_","imageSize_","hitDetectionImageSize_","getFill","getRadius","getRadius2","getStroke","renderOptions","createRenderOptions","createHitDetectionCanvas_","draw_","strokeStyle","lineCap","lineJoin","miterLimit","lineDash","lineDashOffset","strokeWidth","getColor","getLineDash","getLineDashOffset","getLineJoin","getLineCap","getMiterLimit","imageSize","angle0","radiusC","arc","fillStyle","lineWidth","setLineDash","closePath","drawHitDetectionCanvas_","$19d3c8bef588e205c4ab8014047de833$var$__extends","$19d3c8bef588e205c4ab8014047de833$export$default","CircleStyle","setRadius","$e1f9f7b0a69ff9a9f4c2bbbdfef410b1$export$default","Fill","color_","setColor","$4c58aec149e538982cbf4e874e866484$export$default","Stroke","lineCap_","lineDash_","lineDashOffset_","lineJoin_","miterLimit_","width_","setLineCap","setLineDashOffset","setLineJoin","setMiterLimit","setWidth","$b550892c9c7d6707a4415bf7976deb12$export$default","Style","geometryFunction_","$b550892c9c7d6707a4415bf7976deb12$var$defaultGeometryFunction","image_","renderer","text_","zIndex_","getText","setRenderer","getGeometryFunction","setFill","setImage","setStroke","setText","$b550892c9c7d6707a4415bf7976deb12$var$defaultStyles","$b550892c9c7d6707a4415bf7976deb12$export$createDefaultStyle","$ceed79ad4f0d8f0ebaf810c3cca30983$var$__extends","$ceed79ad4f0d8f0ebaf810c3cca30983$var$Property","$ceed79ad4f0d8f0ebaf810c3cca30983$export$default","BaseVectorLayer","renderBuffer","updateWhileAnimating","updateWhileInteracting","declutter_","declutter","renderBuffer_","updateWhileAnimating_","updateWhileInteracting_","getDeclutter","getRenderBuffer","getRenderOrder","getUpdateWhileAnimating","getUpdateWhileInteracting","setRenderOrder","renderOrder","styleFunction","$75febe525c6e0d71892cea5e044a142c$export$default","$75febe525c6e0d71892cea5e044a142c$export$fillInstruction","$75febe525c6e0d71892cea5e044a142c$export$strokeInstruction","$75febe525c6e0d71892cea5e044a142c$export$beginPathInstruction","$75febe525c6e0d71892cea5e044a142c$export$closePathInstruction","$98c4b84222a5e84ec508cd638c4e0b8c$export$default","VectorContext","drawCustom","drawGeometry","drawCircle","circleGeometry","drawFeature","drawGeometryCollection","geometryCollectionGeometry","drawLineString","lineStringGeometry","drawMultiLineString","multiLineStringGeometry","drawMultiPoint","multiPointGeometry","drawMultiPolygon","multiPolygonGeometry","drawPoint","pointGeometry","drawPolygon","polygonGeometry","drawText","setFillStrokeStyle","setImageStyle","imageStyle","opt_declutterImageWithText","setTextStyle","textStyle","$ca67e4c506ae561bc3174e981b55d257$var$__extends","$ca67e4c506ae561bc3174e981b55d257$export$default","CanvasBuilder","maxLineWidth","beginGeometryInstruction1_","beginGeometryInstruction2_","bufferedMaxExtent_","instructions","tmpCoordinate_","hitDetectionInstructions","applyPixelRatio","dashArray","dash","appendFlatPointCoordinates","getBufferedMaxExtent","myEnd","appendFlatLineCoordinates","closed","skipFirst","lastRel","nextRel","lastXCoord","lastYCoord","nextCoord","skipped","drawCustomCoordinates_","builderEnds","builderEnd","beginGeometry","builderEndss","builderBegin","MULTI_POLYGON","myEnds","endGeometry","finish","reverseHitDetectionInstructions","instruction","fillStyleColor","strokeStyleColor","strokeStyleLineCap","strokeStyleLineDash","strokeStyleLineDashOffset","strokeStyleLineJoin","strokeStyleWidth","strokeStyleMiterLimit","createFill","fillInstruction","applyStroke","createStroke","updateFillStyle","currentFillStyle","updateStrokeStyle","currentStrokeStyle","currentLineCap","currentLineDash","currentLineDashOffset","currentLineJoin","currentLineWidth","currentMiterLimit","endGeometryInstruction","$072d5e6cee1f9ae87cd55eb588566cc6$var$__extends","$072d5e6cee1f9ae87cd55eb588566cc6$export$default","CanvasImageBuilder","hitDetectionImage_","imagePixelRatio_","anchorX_","anchorY_","height_","originX_","originY_","declutterImageWithText_","myBegin","opt_sharedData","hitDetectionImage","origin","$28ceeb2640c662153e0cc1bb27e7eea9$var$__extends","$28ceeb2640c662153e0cc1bb27e7eea9$export$default","CanvasLineStringBuilder","drawFlatCoordinates_","moveToLineToInstruction","lastStroke","$f5fec2e7653cdbd2c7958b8312f0d7d6$var$__extends","$f5fec2e7653cdbd2c7958b8312f0d7d6$export$default","CanvasPolygonBuilder","drawFlatCoordinatess_","numEnds","setFillStrokeStyles_","SET_FILL_STYLE","circleInstruction","$f19e98a3c9584b88eb9c26a752a19276$export$matchingChunk","maxAngle","m12","m23","x12","y12","x23","y23","chunkStart","chunkEnd","chunkM","acos","$7e7051822986fcb02ea0e43ac0707b32$var$__extends","$7e7051822986fcb02ea0e43ac0707b32$export$TEXT_ALIGN","middle","hanging","alphabetic","ideographic","bottom","$7e7051822986fcb02ea0e43ac0707b32$export$default","CanvasTextBuilder","labels_","textOffsetX_","textOffsetY_","textRotateWithView_","textRotation_","textFillState_","fillStates","textStrokeState_","strokeStates","textState_","textStates","textKey_","fillKey_","strokeKey_","fillState","strokeState","textState","geometryType","placement","geometryWidths","saveTextStates_","backgroundFill","backgroundStroke","p0","p1","p2","p3","pixelRatio_1","textAlign","flatOffset","flatEnd","oo","range","drawChars_","strokeKey","textKey","textBaseline","fillKey","baseline","textFillStyle","textStrokeStyle","getFont","textScale","getOverflow","getMaxAngle","getPlacement","getTextAlign","getTextBaseline","getBackgroundFill","getBackgroundStroke","getPadding","textOffsetX","getOffsetX","textOffsetY","getOffsetY","textRotateWithView","textRotation","$4f54cdaa0352e7689a6e30aa9d8207ec$var$BATCH_CONSTRUCTORS","Circle","$f5fec2e7653cdbd2c7958b8312f0d7d6$exports","Default","$ca67e4c506ae561bc3174e981b55d257$exports","$072d5e6cee1f9ae87cd55eb588566cc6$exports","$28ceeb2640c662153e0cc1bb27e7eea9$exports","Text","$7e7051822986fcb02ea0e43ac0707b32$exports","$4f54cdaa0352e7689a6e30aa9d8207ec$export$default","BuilderGroup","tolerance_","maxExtent_","resolution_","buildersByZIndex_","builderInstructions","zKey","builders","builderKey","builderInstruction","getBuilder","builderType","zIndexKey","replays","replay","Constructor","$56c23dc34f9f14c7874ab5d8b63c5fb3$export$drawTextOnPath","startM","measureAndCacheTextWidth","segmentM","advance","beginX","beginY","startOffset","startLength","endM","flat","previousAngle","singleSegment","previousAngle_1","iStart","charLength","chars","substring","$6cf1557e9efeeb4d32c6b7acaeb9c268$var$tmpExtent","$6cf1557e9efeeb4d32c6b7acaeb9c268$var$p1","$6cf1557e9efeeb4d32c6b7acaeb9c268$var$p2","$6cf1557e9efeeb4d32c6b7acaeb9c268$var$p3","$6cf1557e9efeeb4d32c6b7acaeb9c268$var$p4","$6cf1557e9efeeb4d32c6b7acaeb9c268$var$getDeclutterBox","replayImageOrLabelArgs","declutterBox","$6cf1557e9efeeb4d32c6b7acaeb9c268$var$rtlRegEx","fromCharCode","$6cf1557e9efeeb4d32c6b7acaeb9c268$var$horizontalTextAlign","align","test","$6cf1557e9efeeb4d32c6b7acaeb9c268$export$default","Executor","overlaps","alignFill_","coordinateCache_","renderedTransform_","pixelCoordinates_","viewRotation_","widths_","createLabel","lines","numLines","widths","currentWidth","renderWidth","Context","OffscreenCanvasRenderingContext2D","CanvasRenderingContext2D","leftRight","replayTextBackground_","p4","strokeInstruction","setStrokeStyle_","calculateImageOrLabelDimensions_","sheetWidth","sheetHeight","snapToPixel","fillStroke","boxW","boxH","boxX","boxY","drawImageX","drawImageY","drawImageW","drawImageH","replayImageOrLabel_","contextScale","imageOrLabel","dimensions","box","strokePadding","repeatSize","drawLabelWithPointPlacement_","execute_","opt_featureCallback","opt_hitExtent","opt_declutterTree","pixelCoordinates","transform1","transform2","dd","prevX","prevY","roundX","roundY","currentGeometry","pendingFill","pendingStroke","lastFillInstruction","lastStrokeInstruction","coordinateCache","viewRotation","viewRotationFromTransform","batchSize","declutterImageWithText","labelWithAnchor","widthIndex","imageArgs","imageDeclutterBox","measurePixelRatio","pixelRatioScale","cachedWidths","pathLength","textLength","parts","drawChars","cc","part","ii_1","execute","executeHitDetection","$c6e46405591acfe99e5a94d22fbe8573$var$ORDER","POLYGON","IMAGE","TEXT","$c6e46405591acfe99e5a94d22fbe8573$export$default","ExecutorGroup","allInstructions","opt_renderBuffer","overlaps_","executorsByZIndex_","hitDetectionContext_","hitDetectionTransform_","createExecutors_","flatClipCoords","getClipCoords","executors","instructionByZindex","hasExecutors","candidates","declutteredFeatures","contextSize","hitExtent","indexes","$c6e46405591acfe99e5a94d22fbe8573$var$circlePixelIndexArrayCache","maxDistanceSq","distances","pixelIndex","$c6e46405591acfe99e5a94d22fbe8573$export$getPixelIndexArray","featureCallback","imageData","idx","result_1","executor","opt_builderTypes","builderTypes","$9f8df4495769241e9ec70201b90e0eaa$var$__extends","$9f8df4495769241e9ec70201b90e0eaa$export$default","CanvasImmediateRenderer","opt_squaredTolerance","opt_userTransform","context_","transform_","squaredTolerance_","userTransform_","contextFillState_","contextStrokeState_","contextTextState_","fillState_","strokeState_","imageAnchorX_","imageAnchorY_","imageHeight_","imageOpacity_","imageOriginX_","imageOriginY_","imageRotateWithView_","imageRotation_","imageScale_","imageWidth_","textScale_","tmpLocalTransform_","drawImages_","localTransform","drawText_","setContextFillState_","setContextStrokeState_","setContextTextState_","strokeText","fillText","moveToLineTo_","close","drawRings_","flatMidpoint","geometryExtent","flatMidpoints","flatInteriorPoint","flatInteriorPoints","contextFillState","contextStrokeState","contextTextState","imageAnchor","imageImage","imageOrigin","imageScale","textFillStyleColor","textStrokeStyleColor","textStrokeStyleLineCap","textStrokeStyleLineDash","textStrokeStyleLineDashOffset","textStrokeStyleLineJoin","textStrokeStyleWidth","textStrokeStyleMiterLimit","textFont","textText","textTextAlign","textTextBaseline","$e65a38a3837120ad833711b5930f5912$var$__extends","$e65a38a3837120ad833711b5930f5912$export$default","ImageBase","$2fc4e1887f4ffa14e16ea647fd21482c$var$__extends","ImageWrapper","imageLoadFunction","src_","unlisten_","imageLoadFunction_","handleImageError_","unlistenImage_","handleImageLoad_","$2fc4e1887f4ffa14e16ea647fd21482c$export$listenImage","loadHandler","errorHandler","img","promise","listening_1","then","catch","$92a5ba3fab046f40ee35c464c4cf79b4$var$__extends","$92a5ba3fab046f40ee35c464c4cf79b4$var$taintedTestContext","$92a5ba3fab046f40ee35c464c4cf79b4$export$default","IconImage","imageState_","tainted_","isTainted_","dispatchChangeEvent_","replaceColor_","fillRect","getSrc","IDLE","ctx","globalCompositeOperation","imgData","putImageData","$92a5ba3fab046f40ee35c464c4cf79b4$export$get","$4de6336f82b6fd9bc7cf688bb41b8b96$var$__extends","$4de6336f82b6fd9bc7cf688bb41b8b96$export$default","Icon","normalizedAnchor_","anchorOrigin_","anchorOrigin","anchorXUnits_","anchorXUnits","anchorYUnits_","anchorYUnits","crossOrigin_","imgSize","iconImage_","offset_","offsetOrigin_","offsetOrigin","FRACTION","TOP_LEFT","setAnchor","iconImageSize","$4480b5f4b6f69a5829dd2449dbe6a6c8$var$GEOMETRY_RENDERERS","builderGroup","opt_declutterBuilderGroup","imageReplay","textReplay","lineStringReplay","polygonReplay","replayGroup","geometryRenderer","circleReplay","$4480b5f4b6f69a5829dd2449dbe6a6c8$export$defaultOrder","feature1","feature2","$4480b5f4b6f69a5829dd2449dbe6a6c8$export$getTolerance","$4480b5f4b6f69a5829dd2449dbe6a6c8$export$renderFeature","$4480b5f4b6f69a5829dd2449dbe6a6c8$var$renderGeometry","$4480b5f4b6f69a5829dd2449dbe6a6c8$var$renderFeatureInternal","$c2243072b6513ba407326b2a30b1374a$var$__extends","$c2243072b6513ba407326b2a30b1374a$export$default","CanvasVectorLayerRenderer","vectorLayer","boundHandleStyleImageChange_","handleStyleImageChange_","animatingOrInteracting_","dirty_","hitDetectionImageData_","renderedFeatures_","renderedRevision_","renderedResolution_","renderedRotation_","renderedCenter_","renderedProjection_","renderedRenderOrder_","replayGroup_","replayGroupChanged","clipping","renderWorlds","executorGroup","vectorSource","endWorld","world","clipped","Promise","resolve","transforms","imageSmoothingEnabled","featureCount","indexFactor","featuresByZIndex","featureStyleFunction","styles","originalStyle","canvas_1","imgContext","iconContext","byGeometryType","zIndexKeys","geomAndStyle","kk","resultFeatures","lastIndexOf","executorGroups","animating","interacting","frameStateExtent","vectorLayerRevision","vectorLayerRenderBuffer","vectorLayerRenderOrder","loadExtents","loadExtent","declutterBuilderGroup","userTransform","loadFeatures","dirty","renderFeature","userExtent","getFeaturesInExtent","replayGroupInstructions","getOverlaps","$2f5ed0ce65ecb2bfe439d05296b3d36a$var$__extends","$2f5ed0ce65ecb2bfe439d05296b3d36a$export$default","VectorLayer","$e311f93de68f58225dfc37d89d1dcffc$export$default","opt_maxEntries","rbush_","items_","extents","items","bbox","getAll","getInExtent","forEach_","forEachInExtent","rbush","$6a9611a0560ac769e67fadc6cfef9a2c$var$__extends","$6a9611a0560ac769e67fadc6cfef9a2c$export$default","Source","attributions_","$6a9611a0560ac769e67fadc6cfef9a2c$var$adaptAttributions","attributionsCollapsible_","attributionsCollapsible","wrapX_","wrapX","refresh","setAttributions","attributionLike","$26b846260444bc742bddf88d96721338$export$all","$2ef5772bb5b0926a9ba82fc2a88f3163$export$xhr","url","format","success","failure","xhr","XMLHttpRequest","open","responseType","withCredentials","onload","status","responseText","responseXML","response","onerror","send","$2ef5772bb5b0926a9ba82fc2a88f3163$export$loadFeaturesXhr","addFeatures","$76e99b295c09c7c5e340e251e89879b1$var$__extends","$76e99b295c09c7c5e340e251e89879b1$export$VectorSourceEvent","VectorSourceEvent","opt_feature","opt_features","$76e99b295c09c7c5e340e251e89879b1$export$default","VectorSource","loader_","format_","url_","loader","strategy_","strategy","collection","useSpatialIndex","featuresRtree_","loadedExtentsRtree_","nullGeometryFeatures_","idIndex_","uidIndex_","featureChangeKeys_","featuresCollection_","addFeaturesInternal","bindFeaturesCollection_","addFeature","addFeatureInternal","featureKey","addToIndex_","setupChangeEvents_","handleFeatureChange_","valid","newFeatures","geometryFeatures","length_2","length_3","modifyingCollection","removeFeature","opt_fast","featureId","removeFeatureInternal","clearEvent","forEachFeature","forEachFeatureAtCoordinateDirect","forEachFeatureInExtent","forEachFeatureIntersectingExtent","getFeaturesCollection","getFeaturesAtCoordinate","getClosestFeatureToCoordinate","opt_filter","closestFeature","previousMinSquaredDistance","minDistance","getFeatureById","getFeatureByUid","getFormat","getUrl","sid","removeFromIdIndex_","hasFeature","loadedExtentsRtree","extentsToLoad","_loop_1","extentToLoad","this_1","removeLoadedExtent","removed","setLoader","setUrl","$6ea2e09c0ee686e4fcf344e90f929221$var$__extends","$6ea2e09c0ee686e4fcf344e90f929221$export$default","Tile","interimTile","transition_","transitionStarts_","release","refreshInterimChain","getTileCoord","$69031f3b45b1bb2d223c45e6bbe47b36$var$__extends","$69031f3b45b1bb2d223c45e6bbe47b36$export$default","ImageTile","tileLoadFunction","tileLoadFunction_","naturalWidth","naturalHeight","$7e4c33869bbc09ad771e58efcd7791e2$var$brokenDiagonalRendering_","$3a0ea260bd0161734cb5e603b9086c9d$export$default","Triangulation","targetProj","targetExtent","maxSourceExtent","errorThreshold","opt_destinationResolution","sourceProj_","targetProj_","transformInvCache","transformInv","transformInv_","maxSourceExtent_","errorThresholdSquared_","triangles_","wrapsXInSource_","canWrapXInSource_","sourceWorldWidth_","targetWorldWidth_","destinationTopLeft","destinationTopRight","destinationBottomRight","destinationBottomLeft","sourceTopLeft","sourceTopRight","sourceBottomRight","sourceBottomLeft","maxSubdivision","addQuad_","leftBound_1","triangle","newTriangle","addTriangle_","aSrc","bSrc","cSrc","dSrc","sourceQuadExtent","sourceCoverageX","sourceWorldWidth","wrapsX","needsSubdivision","targetCoverageX","targetQuadExtent","isFinite","isNotFinite","centerSrc","centerSrcEstimX","bc","bcSrc","da","daSrc","ab","abSrc","cd","cdSrc","calculateSourceExtent","getTriangles","$dffde8f1acde674bc74a24601c2788a7$export$IMAGE_SMOOTHING_DISABLED","msImageSmoothingEnabled","$7e4c33869bbc09ad771e58efcd7791e2$var$drawTestTriangle","u1","v1","u2","v2","$7e4c33869bbc09ad771e58efcd7791e2$var$verifyBrokenDiagonalRendering","$7e4c33869bbc09ad771e58efcd7791e2$export$calculateSourceResolution","targetMetersPerUnit","sourceMetersPerUnit","sourceExtent","compensationFactor","$7e4c33869bbc09ad771e58efcd7791e2$export$render","triangulation","sources","opt_renderEdges","opt_contextOptions","pixelRound","sourceDataExtent","canvasWidthInUnits","canvasHeightInUnits","stitchContext","stitchScale","xPos","yPos","srcWidth","srcHeight","targetTopLeft","u0","v0","sourceNumericalShiftX","sourceNumericalShiftY","affineCoefs","maxRow","maxEl","absValue","coef","augmentedMatrix","$7e4c33869bbc09ad771e58efcd7791e2$var$isBrokenDiagonalRendering","ud","vd","step","steps","$97e37be8733b1927a1ed959b854a8d18$var$__extends","$97e37be8733b1927a1ed959b854a8d18$export$default","ReprojTile","sourceTileGrid","targetTileGrid","wrappedTileCoord","getTileFunction","opt_errorThreshold","renderEdges_","contextOptions_","gutter_","sourceTileGrid_","targetTileGrid_","wrappedTileCoord_","sourceTiles_","sourcesListenerKeys_","sourceZ_","maxTargetExtent","limitedTargetExtent","sourceProjExtent","errorThresholdInPixels","triangulation_","sourceRange","srcX","srcY","reproject_","getTileSize","leftToLoad_1","LOADING","sourceListenKey_1","unlistenSources_","$101ae72fedfe330e8897d118e958a8b6$export$default","LRUCache","opt_highWaterMark","highWaterMark","count_","entries_","oldest_","newest_","containsKey","entry","value_","key_","newer","older","getValues","peekLast","peekLastKey","peekFirstKey","$c98d704946f2a3a0e1335bd43bccb465$export$createOrUpdate","opt_tileCoord","$c98d704946f2a3a0e1335bd43bccb465$export$getKeyZXY","$c98d704946f2a3a0e1335bd43bccb465$export$getKey","$8328c42c04c9adada69111ec662476d9$var$__extends","$8328c42c04c9adada69111ec662476d9$export$default","TileCache","pruneExceptNewestZ","$0f9feaa19e1db86e91525f400c1bbfa1$var$tmpTileCoord","$0f9feaa19e1db86e91525f400c1bbfa1$export$default","TileGrid","opt_strict","compare","every","currentVal","res","origins","origins_","tileSizes_","tileSizes","tileSize_","tileSize","fullTileRanges_","tmpSize_","sizes","restrictedTileRange","calculateTileRanges_","forEachTileCoord","opt_tileRange","tileCoordExtent","getTileRangeExtent","getTileCoordForXYAndZ_","getTileCoordForCoordAndResolution","getTileCoordForXYAndResolution_","reverseIntersectionPolicy","adjustX","adjustY","xFromOrigin","yFromOrigin","tileCoordX","tileCoordY","getTileCoordResolution","getFullTileRange","fullTileRanges","$0b7f50deff6bfc90c8b239d5ceca7010$export$getForProjection","opt_maxZoom","opt_tileSize","opt_corner","$0b7f50deff6bfc90c8b239d5ceca7010$var$resolutionsFromExtent","$0b7f50deff6bfc90c8b239d5ceca7010$export$createForExtent","$0b7f50deff6bfc90c8b239d5ceca7010$export$extentFromProjection","$0b7f50deff6bfc90c8b239d5ceca7010$export$createForProjection","opt_maxResolution","half","$cde35ab3df9629f8ffd26ea2f187b41e$var$__extends","$cde35ab3df9629f8ffd26ea2f187b41e$export$default","TileSource","opaque_","opaque","tilePixelRatio_","tileCache","tmpSize","tileOptions","getTileCacheForProjection","loaded","setKey","getTileGrid","getTileCoordForTileUrlFunction","opt_projection","$cde35ab3df9629f8ffd26ea2f187b41e$export$TileSourceEvent","TileSourceEvent","$f3b33fdefe65058178a4b532c7b3f14b$export$createFromTemplate","template","zRegEx","xRegEx","yRegEx","dashYRegEx","$f3b33fdefe65058178a4b532c7b3f14b$export$createFromTemplates","templates","tileUrlFunctions","$f3b33fdefe65058178a4b532c7b3f14b$export$createFromTileUrlFunctions","$671acdd0ca89710db49a7e8e41335e8e$var$__extends","$671acdd0ca89710db49a7e8e41335e8e$export$default","UrlTile","generateTileUrlFunction_","tileUrlFunction","urls","setUrls","tileLoadingKeys_","getTileLoadFunction","getTileUrlFunction","getPrototypeOf","getUrls","ERROR","setTileLoadFunction","setTileUrlFunction","startCharCode","stopCharCode","stop_1","$f1c529d0542d6a8d6fa77a64fa516101$var$__extends","$f1c529d0542d6a8d6fa77a64fa516101$export$default","TileImage","$f1c529d0542d6a8d6fa77a64fa516101$var$defaultTileLoadFunction","tileClass","tileCacheForProjection","tileGridForProjection","reprojectionErrorThreshold_","reprojectionErrorThreshold","imageSmoothing","renderReprojectionEdges_","usedTileCache","getGutter","thisProj","projKey","createTile_","urlTileCoord","tileUrl","newTile","getTileInternal","setRenderReprojectionEdges","setTileGridForProjection","tilegrid","proj","imageTile","$fd3ab3577c0c67d5f04f77f7494fe563$var$__extends","$fd3ab3577c0c67d5f04f77f7494fe563$export$default","XYZ","xyzOptions","gridOptions","$ff8235042efbfb69f46b35131190fa2b$var$__extends","$ff8235042efbfb69f46b35131190fa2b$export$default","OSM","arrayPool","indicatorObject","reFlags","reFuncName","reThis","shadowedProps","argsClass","arrayClass","boolClass","dateClass","errorClass","funcClass","numberClass","objectClass","regexpClass","stringClass","cloneableClasses","descriptor","writable","iteratorData","firstArg","init","loop","support","useHas","objectTypes","boolean","function","root","freeExports","exports","freeModule","module","moduleExports","freeGlobal","isNode","releaseArray","arrayRef","errorProto","objectProto","stringProto","reNative","fnToString","Function","isNative","propertyIsEnumerable","unshift","nativeCreate","nativeIsArray","nativeKeys","ctorByClass","nonEnumProps","lodash","toLocaleString","valueOf","ctor","0","props","argsObject","enumErrorProps","enumPrototypes","funcDecomp","WinRTError","funcNames","nonEnumArgs","nonEnumShadows","ownLast","spliceObjects","unindexedChars","nodeClass","iteratorTemplate","__p","baseBind","bindData","partialArgs","bound","thisBinding","baseCreate","isObject","setBindData","baseClone","isDeep","stackA","stackB","isArr","initedStack","baseEach","forOwn","objValue","baseCreateCallback","argCount","identity","__bindData__","baseCreateWrapper","bitmask","partialRightArgs","arity","isBind","isBindKey","isCurry","isCurryBound","baseMerge","isPlainObject","isShallow","stackLength","createWrapper","isPartial","isPartialRight","isFunction","creater","createIterator","factory","isArguments","isString","noop","shimIsPlainObject","forIn","shimKeys","eachIteratorOptions","defaultsIteratorOptions","forOwnIteratorOptions","objProto","compact","merge","each","VERSION","_","$4aaca7fed848ac063c75a7e77e157547$var$ringArea","$4aaca7fed848ac063c75a7e77e157547$var$rad","$84badb2491aa98714e71384d4c18144a$var$curryOuter","$84badb2491aa98714e71384d4c18144a$var$correctRings","outer","$84badb2491aa98714e71384d4c18144a$var$wind","dir","$84badb2491aa98714e71384d4c18144a$var$cw","$1887348df258893ec47c7cdb53808840$var$rewind","$84badb2491aa98714e71384d4c18144a$var$rewind","gj","$84badb2491aa98714e71384d4c18144a$var$correct","$1887348df258893ec47c7cdb53808840$var$polygonFeatures","tags","list","tagValuesObj","$1887348df258893ec47c7cdb53808840$var$osmtogeojson","verbose","flatProperties","uninterestingTags","source_ref","source:ref","history","created_by","tiger:county","tiger:tlid","tiger:upload_uuid","polygonFeatures","XMLDocument","bounds","nodes","ways","rels","copy_attribute","attr","centerGeometry","pseudoNode","__is_center_placeholder","boundsGeometry","pseudoWay","addPseudoNode","lat","lon","__is_bounds_placeholder","getElementsByTagName","tag","nodeObject","way","wnodes","has_full_geometry","nd","wayObject","nds","addFullGeometryNode","geometryNode","__is_uninteresting","fullGeometryWay","relation","members","member","relObject","rel","addFullGeometryWay","geometryWay","addFullGeometryWayPseudoNode","geometryPseudoNode","ref","fullGeometryRelation","_convert2geoJSON","_osmXML2geoJSON","json","minlat","minlon","maxlat","maxlon","_overpassJSON2geoJSON","has_interesting_tags","ignore_tags","build_meta_information","timestamp","version","changeset","user","nodeids","poinids","wayids","waynids","pois","relids","geojson","relsmap","m_type","m_ref","role","reltags","geojsonnodes","relations","meta","geojsonlines","geojsonpolygons","outer_count","is_multipolygon_outline","simple_mp","outer_way","construct_multipolygon","tag_object","outers","inners","mp","is_tainted","mp_geometry","mp_id","current","how","what","_first","_last","joined","findOuter","inner","polygonIntersectsPolygon","pointInPolygon","mapCoordinates","from","inside","xi","yi","xj","yj","mp_coords","cluster","cl","ring","mp_type","tainted","hidden","way_type","_isPolygonFeature","pfk","included_values","excluded_values","toGeojson","$a05460102f2c9ac354b042a3152c2522$var$osmtogeojson","$c56928b73ed3cf970544263e95eb1144$var$hasOwnProperty","prop","qs","sep","eq","regexp","maxKeys","kstr","vstr","decodeURIComponent","$c56928b73ed3cf970544263e95eb1144$var$isArray","$4f80fb3d3483eb344e64557f56ed9a89$var$stringifyPrimitive","$4f80fb3d3483eb344e64557f56ed9a89$var$map","$4f80fb3d3483eb344e64557f56ed9a89$var$objectKeys","ks","encodeURIComponent","$4f80fb3d3483eb344e64557f56ed9a89$var$isArray","$ee3c1105927e9d5f6f8216410c5631f3$var$win","$5fe6e443b823b05f98901a0370fe04c4$var$toString","alert","confirm","prompt","$8713ee3f13278c5e65f3af733136678e$var$isFunction","$9a5dbc25fc4109261cd0505c21718a86$var$trim","$8713ee3f13278c5e65f3af733136678e$var$parseHeaders","headers","arg","headersArr","row","$8a8130238bfab4f3a25983a2376ea440$var$hasOwnProperty","$8713ee3f13278c5e65f3af733136678e$var$xtend","$8713ee3f13278c5e65f3af733136678e$var$createXHR","$8713ee3f13278c5e65f3af733136678e$var$initParams","uri","params","$8713ee3f13278c5e65f3af733136678e$var$_createXHR","getBody","firefoxBugTakenEffect","$8713ee3f13278c5e65f3af733136678e$var$getXml","isJson","errorFunc","timeoutTimer","statusCode","failureResponse","loadFunc","aborted","useXDR","method","rawRequest","getAllResponseHeaders","cors","XDomainRequest","sync","onreadystatechange","readyState","onprogress","onabort","ontimeout","username","password","abort","setRequestHeader","$8713ee3f13278c5e65f3af733136678e$var$isEmpty","beforeSend","iterator","$8713ee3f13278c5e65f3af733136678e$var$forEachArray","toUpperCase","$f7ffebb5e2389a3d9e67ed3e2b5f505e$var$undefined","$f7ffebb5e2389a3d9e67ed3e2b5f505e$var$MAX_ARRAY_LENGTH","$f7ffebb5e2389a3d9e67ed3e2b5f505e$var$ECMAScript","$f7ffebb5e2389a3d9e67ed3e2b5f505e$var$LN2","$f7ffebb5e2389a3d9e67ed3e2b5f505e$var$abs","$f7ffebb5e2389a3d9e67ed3e2b5f505e$var$floor","$f7ffebb5e2389a3d9e67ed3e2b5f505e$var$log","$f7ffebb5e2389a3d9e67ed3e2b5f505e$var$min","$f7ffebb5e2389a3d9e67ed3e2b5f505e$var$pow","$f7ffebb5e2389a3d9e67ed3e2b5f505e$var$round","$f7ffebb5e2389a3d9e67ed3e2b5f505e$var$defineProp","$f7ffebb5e2389a3d9e67ed3e2b5f505e$var$getOwnPropNames","$f7ffebb5e2389a3d9e67ed3e2b5f505e$var$configureProperties","$f7ffebb5e2389a3d9e67ed3e2b5f505e$var$makeArrayAccessors","RangeError","makeArrayAccessor","_getter","_setter","$f7ffebb5e2389a3d9e67ed3e2b5f505e$var$as_signed","bits","$f7ffebb5e2389a3d9e67ed3e2b5f505e$var$as_unsigned","$f7ffebb5e2389a3d9e67ed3e2b5f505e$var$packI8","$f7ffebb5e2389a3d9e67ed3e2b5f505e$var$unpackI8","bytes","$f7ffebb5e2389a3d9e67ed3e2b5f505e$var$packU8","$f7ffebb5e2389a3d9e67ed3e2b5f505e$var$unpackU8","$f7ffebb5e2389a3d9e67ed3e2b5f505e$var$packU8Clamped","$f7ffebb5e2389a3d9e67ed3e2b5f505e$var$packI16","$f7ffebb5e2389a3d9e67ed3e2b5f505e$var$unpackI16","$f7ffebb5e2389a3d9e67ed3e2b5f505e$var$packU16","$f7ffebb5e2389a3d9e67ed3e2b5f505e$var$unpackU16","$f7ffebb5e2389a3d9e67ed3e2b5f505e$var$packI32","$f7ffebb5e2389a3d9e67ed3e2b5f505e$var$unpackI32","$f7ffebb5e2389a3d9e67ed3e2b5f505e$var$packU32","$f7ffebb5e2389a3d9e67ed3e2b5f505e$var$unpackU32","$f7ffebb5e2389a3d9e67ed3e2b5f505e$var$packIEEE754","ebits","fbits","str","bias","roundToEven","$f7ffebb5e2389a3d9e67ed3e2b5f505e$var$unpackIEEE754","$f7ffebb5e2389a3d9e67ed3e2b5f505e$var$unpackF64","$f7ffebb5e2389a3d9e67ed3e2b5f505e$var$packF64","$f7ffebb5e2389a3d9e67ed3e2b5f505e$var$unpackF32","$f7ffebb5e2389a3d9e67ed3e2b5f505e$var$packF32","b64","lens","$85dec55e285048dad15d196cf8c6124b$var$getLens","validLen","placeHoldersLen","$85dec55e285048dad15d196cf8c6124b$var$Arr","$85dec55e285048dad15d196cf8c6124b$var$_byteLength","curByte","$85dec55e285048dad15d196cf8c6124b$var$revLookup","uint8","extraBytes","maxChunkLength","len2","$85dec55e285048dad15d196cf8c6124b$var$encodeChunk","$85dec55e285048dad15d196cf8c6124b$var$lookup","$85dec55e285048dad15d196cf8c6124b$var$code","$85dec55e285048dad15d196cf8c6124b$var$i","$85dec55e285048dad15d196cf8c6124b$var$len","num","$23576705ead00e0ea0e01617916685f6$var$customInspectSymbol","$23576705ead00e0ea0e01617916685f6$var$K_MAX_LENGTH","$23576705ead00e0ea0e01617916685f6$var$MAX_ARGUMENTS_LENGTH","$23576705ead00e0ea0e01617916685f6$var$INVALID_BASE64_RE","$23576705ead00e0ea0e01617916685f6$var$hexSliceLookupTable","buffer","isLE","mLen","nBytes","eLen","eMax","eBias","nBits","rt","LN2","$23576705ead00e0ea0e01617916685f6$var$createBuffer","buf","$23576705ead00e0ea0e01617916685f6$var$Buffer","encodingOrOffset","$23576705ead00e0ea0e01617916685f6$var$allocUnsafe","$23576705ead00e0ea0e01617916685f6$var$from","encoding","isEncoding","$23576705ead00e0ea0e01617916685f6$var$byteLength","actual","$23576705ead00e0ea0e01617916685f6$var$fromString","ArrayBuffer","isView","arrayView","$23576705ead00e0ea0e01617916685f6$var$isInstance","copy","$23576705ead00e0ea0e01617916685f6$var$fromArrayBuffer","byteOffset","byteLength","$23576705ead00e0ea0e01617916685f6$var$fromArrayLike","$23576705ead00e0ea0e01617916685f6$var$fromArrayView","SharedArrayBuffer","isBuffer","$23576705ead00e0ea0e01617916685f6$var$checked","$23576705ead00e0ea0e01617916685f6$var$numberIsNaN","$23576705ead00e0ea0e01617916685f6$var$fromObject","Symbol","toPrimitive","$23576705ead00e0ea0e01617916685f6$var$assertSize","$23576705ead00e0ea0e01617916685f6$var$SlowBuffer","alloc","mustMatch","loweredCase","$23576705ead00e0ea0e01617916685f6$var$utf8ToBytes","$23576705ead00e0ea0e01617916685f6$var$base64ToBytes","$23576705ead00e0ea0e01617916685f6$var$slowToString","$23576705ead00e0ea0e01617916685f6$var$hexSlice","$23576705ead00e0ea0e01617916685f6$var$utf8Slice","$23576705ead00e0ea0e01617916685f6$var$asciiSlice","$23576705ead00e0ea0e01617916685f6$var$latin1Slice","$23576705ead00e0ea0e01617916685f6$var$base64Slice","$23576705ead00e0ea0e01617916685f6$var$utf16leSlice","$23576705ead00e0ea0e01617916685f6$var$swap","$23576705ead00e0ea0e01617916685f6$var$bidirectionalIndexOf","$23576705ead00e0ea0e01617916685f6$var$arrayIndexOf","indexSize","arrLength","valLength","read","readUInt16BE","foundIndex","$23576705ead00e0ea0e01617916685f6$var$hexWrite","remaining","strLen","parsed","$23576705ead00e0ea0e01617916685f6$var$utf8Write","$23576705ead00e0ea0e01617916685f6$var$blitBuffer","$23576705ead00e0ea0e01617916685f6$var$asciiWrite","byteArray","$23576705ead00e0ea0e01617916685f6$var$asciiToBytes","$23576705ead00e0ea0e01617916685f6$var$base64Write","$23576705ead00e0ea0e01617916685f6$var$ucs2Write","$23576705ead00e0ea0e01617916685f6$var$utf16leToBytes","secondByte","thirdByte","fourthByte","tempCodePoint","firstByte","codePoint","bytesPerSequence","codePoints","$23576705ead00e0ea0e01617916685f6$var$decodeCodePointsArray","$23576705ead00e0ea0e01617916685f6$var$checkOffset","ext","$23576705ead00e0ea0e01617916685f6$var$checkInt","$23576705ead00e0ea0e01617916685f6$var$checkIEEE754","$23576705ead00e0ea0e01617916685f6$var$writeFloat","littleEndian","noAssert","$23576705ead00e0ea0e01617916685f6$var$writeDouble","leadSurrogate","$23576705ead00e0ea0e01617916685f6$var$base64clean","dst","Buffer","SlowBuffer","INSPECT_MAX_BYTES","kMaxLength","TYPED_ARRAY_SUPPORT","proto","foo","$23576705ead00e0ea0e01617916685f6$var$typedArraySupport","poolSize","$23576705ead00e0ea0e01617916685f6$var$alloc","allocUnsafe","allocUnsafeSlow","_isBuffer","swap16","swap32","swap64","inspect","thisStart","thisEnd","thisCopy","targetCopy","includes","_arr","newBuf","subarray","readUintLE","readUIntLE","mul","readUintBE","readUIntBE","readUint8","readUInt8","readUint16LE","readUInt16LE","readUint16BE","readUint32LE","readUInt32LE","readUint32BE","readUInt32BE","readIntLE","readIntBE","readInt8","readInt16LE","readInt16BE","readInt32LE","readInt32BE","readFloatLE","readFloatBE","readDoubleLE","readDoubleBE","writeUintLE","writeUIntLE","writeUintBE","writeUIntBE","writeUint8","writeUInt8","writeUint16LE","writeUInt16LE","writeUint16BE","writeUInt16BE","writeUint32LE","writeUInt32LE","writeUint32BE","writeUInt32BE","writeIntLE","limit","sub","writeIntBE","writeInt8","writeInt16LE","writeInt16BE","writeInt32LE","writeInt32BE","writeFloatLE","writeFloatBE","writeDoubleLE","writeDoubleBE","targetStart","copyWithin","alphabet","table","i16","$f13917a90d4db9b497c005419c2c20b9$var$process","$f13917a90d4db9b497c005419c2c20b9$var$cachedSetTimeout","$f13917a90d4db9b497c005419c2c20b9$var$cachedClearTimeout","$f13917a90d4db9b497c005419c2c20b9$var$queue","$f13917a90d4db9b497c005419c2c20b9$var$draining","$f13917a90d4db9b497c005419c2c20b9$var$currentQueue","$f13917a90d4db9b497c005419c2c20b9$var$queueIndex","$f13917a90d4db9b497c005419c2c20b9$var$defaultSetTimout","$f13917a90d4db9b497c005419c2c20b9$var$defaultClearTimeout","$f13917a90d4db9b497c005419c2c20b9$var$runTimeout","fun","$f13917a90d4db9b497c005419c2c20b9$var$cleanUpNextTick","$f13917a90d4db9b497c005419c2c20b9$var$drainQueue","run","marker","$f13917a90d4db9b497c005419c2c20b9$var$runClearTimeout","$f13917a90d4db9b497c005419c2c20b9$var$Item","$f13917a90d4db9b497c005419c2c20b9$var$noop","nextTick","browser","env","argv","versions","addListener","off","removeListener","removeAllListeners","emit","prependListener","prependOnceListener","binding","cwd","chdir","umask","$d725c84fc6c0435a026e040b31730ca9$var$ReflectOwnKeys","$d725c84fc6c0435a026e040b31730ca9$var$R","Reflect","$d725c84fc6c0435a026e040b31730ca9$var$ReflectApply","receiver","ownKeys","getOwnPropertySymbols","getOwnPropertyNames","$d725c84fc6c0435a026e040b31730ca9$var$NumberIsNaN","$d725c84fc6c0435a026e040b31730ca9$var$EventEmitter","EventEmitter","_events","_eventsCount","_maxListeners","$d725c84fc6c0435a026e040b31730ca9$var$defaultMaxListeners","$d725c84fc6c0435a026e040b31730ca9$var$checkListener","$d725c84fc6c0435a026e040b31730ca9$var$_getMaxListeners","that","defaultMaxListeners","$d725c84fc6c0435a026e040b31730ca9$var$_addListener","prepend","events","existing","warning","newListener","warned","emitter","$d725c84fc6c0435a026e040b31730ca9$var$onceWrapper","fired","wrapFn","$d725c84fc6c0435a026e040b31730ca9$var$_onceWrap","wrapped","$d725c84fc6c0435a026e040b31730ca9$var$_listeners","unwrap","evlistener","$d725c84fc6c0435a026e040b31730ca9$var$unwrapListeners","$d725c84fc6c0435a026e040b31730ca9$var$arrayClone","$d725c84fc6c0435a026e040b31730ca9$var$listenerCount","setMaxListeners","getMaxListeners","doError","er","handler","originalListener","$d725c84fc6c0435a026e040b31730ca9$var$spliceOne","rawListeners","listenerCount","eventNames","$d439443d24999e6f055f6e4c0a822698$var$ownKeys","enumerableOnly","symbols","getOwnPropertyDescriptor","$d439443d24999e6f055f6e4c0a822698$var$_defineProperty","$d439443d24999e6f055f6e4c0a822698$var$_defineProperties","$d439443d24999e6f055f6e4c0a822698$var$Buffer","$d439443d24999e6f055f6e4c0a822698$var$inspect","$d439443d24999e6f055f6e4c0a822698$var$custom","custom","BufferList","instance","$d439443d24999e6f055f6e4c0a822698$var$_classCallCheck","head","tail","protoProps","staticProps","next","hasStrings","_getString","_getBuffer","nb","getOwnPropertyDescriptors","defineProperties","$d439443d24999e6f055f6e4c0a822698$var$_objectSpread","depth","customInspect","$dc0e667021fd7e7de92a9d953fb2b6c7$var$destroy","cb","readableDestroyed","_readableState","destroyed","writableDestroyed","_writableState","errorEmitted","$dc0e667021fd7e7de92a9d953fb2b6c7$var$emitErrorNT","_destroy","$dc0e667021fd7e7de92a9d953fb2b6c7$var$emitCloseNT","$dc0e667021fd7e7de92a9d953fb2b6c7$var$emitErrorAndCloseNT","emitClose","$dc0e667021fd7e7de92a9d953fb2b6c7$var$undestroy","reading","ended","endEmitted","ending","finalCalled","prefinished","finished","$dc0e667021fd7e7de92a9d953fb2b6c7$var$errorOrDestroy","stream","rState","wState","autoDestroy","destroy","undestroy","errorOrDestroy","$73d0fcea9f6737126ce5fe6411c8ec73$var$codes","$73d0fcea9f6737126ce5fe6411c8ec73$var$createErrorType","Base","NodeError","_Base","subClass","superClass","arg1","arg2","arg3","getMessage","$73d0fcea9f6737126ce5fe6411c8ec73$var$oneOf","expected","thing","determiner","msg","this_len","$73d0fcea9f6737126ce5fe6411c8ec73$var$endsWith","$73d0fcea9f6737126ce5fe6411c8ec73$var$includes","codes","$dd71560bf5fd132d7913c6d0f7f22b42$var$ERR_INVALID_OPT_VALUE","$dd71560bf5fd132d7913c6d0f7f22b42$var$getHighWaterMark","duplexKey","isDuplex","hwm","$dd71560bf5fd132d7913c6d0f7f22b42$var$highWaterMarkFrom","objectMode","ERR_INVALID_OPT_VALUE","getHighWaterMark","superCtor","super_","TempCtor","$064ee6757a829a7c26913d273e4b088f$var$deprecate","$064ee6757a829a7c26913d273e4b088f$var$config","trace","localStorage","$ed5adc1ca0b838cae3dabd3ef60cd069$var$Duplex","$ed5adc1ca0b838cae3dabd3ef60cd069$var$internalUtil","$ed5adc1ca0b838cae3dabd3ef60cd069$var$Stream","$ed5adc1ca0b838cae3dabd3ef60cd069$var$Buffer","$ed5adc1ca0b838cae3dabd3ef60cd069$var$OurUint8Array","$ed5adc1ca0b838cae3dabd3ef60cd069$var$getHighWaterMark","$ed5adc1ca0b838cae3dabd3ef60cd069$var$_require$codes","$ed5adc1ca0b838cae3dabd3ef60cd069$var$ERR_INVALID_ARG_TYPE","$ed5adc1ca0b838cae3dabd3ef60cd069$var$ERR_METHOD_NOT_IMPLEMENTED","$ed5adc1ca0b838cae3dabd3ef60cd069$var$ERR_MULTIPLE_CALLBACK","$ed5adc1ca0b838cae3dabd3ef60cd069$var$ERR_STREAM_CANNOT_PIPE","$ed5adc1ca0b838cae3dabd3ef60cd069$var$ERR_STREAM_DESTROYED","$ed5adc1ca0b838cae3dabd3ef60cd069$var$ERR_STREAM_NULL_VALUES","$ed5adc1ca0b838cae3dabd3ef60cd069$var$ERR_STREAM_WRITE_AFTER_END","$ed5adc1ca0b838cae3dabd3ef60cd069$var$ERR_UNKNOWN_ENCODING","$ed5adc1ca0b838cae3dabd3ef60cd069$var$errorOrDestroy","$ed5adc1ca0b838cae3dabd3ef60cd069$var$realHasInstance","$ed5adc1ca0b838cae3dabd3ef60cd069$var$CorkedRequest","corkReq","pendingcb","corkedRequestsFree","$ed5adc1ca0b838cae3dabd3ef60cd069$var$onCorkedFinish","$ed5adc1ca0b838cae3dabd3ef60cd069$var$nop","$ed5adc1ca0b838cae3dabd3ef60cd069$var$WritableState","writableObjectMode","needDrain","noDecode","decodeStrings","defaultEncoding","writing","corked","bufferProcessing","onwrite","writecb","writelen","$ed5adc1ca0b838cae3dabd3ef60cd069$var$onwriteStateUpdate","$ed5adc1ca0b838cae3dabd3ef60cd069$var$finishMaybe","$ed5adc1ca0b838cae3dabd3ef60cd069$var$onwriteError","$ed5adc1ca0b838cae3dabd3ef60cd069$var$needFinish","bufferedRequest","$ed5adc1ca0b838cae3dabd3ef60cd069$var$clearBuffer","$ed5adc1ca0b838cae3dabd3ef60cd069$var$afterWrite","$ed5adc1ca0b838cae3dabd3ef60cd069$var$onwrite","lastBufferedRequest","bufferedRequestCount","$ed5adc1ca0b838cae3dabd3ef60cd069$var$Writable","_write","writev","_writev","final","_final","$ed5adc1ca0b838cae3dabd3ef60cd069$var$writeOrBuffer","isBuf","chunk","newChunk","$ed5adc1ca0b838cae3dabd3ef60cd069$var$decodeChunk","$ed5adc1ca0b838cae3dabd3ef60cd069$var$doWrite","$ed5adc1ca0b838cae3dabd3ef60cd069$var$onwriteDrain","holder","allBuffers","$ed5adc1ca0b838cae3dabd3ef60cd069$var$callFinal","need","$ed5adc1ca0b838cae3dabd3ef60cd069$var$prefinish","WritableState","deprecate","ERR_INVALID_ARG_TYPE","ERR_METHOD_NOT_IMPLEMENTED","ERR_MULTIPLE_CALLBACK","ERR_STREAM_CANNOT_PIPE","ERR_STREAM_DESTROYED","ERR_STREAM_NULL_VALUES","ERR_STREAM_WRITE_AFTER_END","ERR_UNKNOWN_ENCODING","getBuffer","hasInstance","pipe","$ed5adc1ca0b838cae3dabd3ef60cd069$var$_uint8ArrayToBuffer","$ed5adc1ca0b838cae3dabd3ef60cd069$var$writeAfterEnd","$ed5adc1ca0b838cae3dabd3ef60cd069$var$validChunk","cork","uncork","setDefaultEncoding","$ed5adc1ca0b838cae3dabd3ef60cd069$var$endWritable","_undestroy","$08cb571159f2fd8e1bed966ad7fae95f$var$objectKeys","$08cb571159f2fd8e1bed966ad7fae95f$var$Readable","$08cb571159f2fd8e1bed966ad7fae95f$var$keys","$08cb571159f2fd8e1bed966ad7fae95f$var$v","$08cb571159f2fd8e1bed966ad7fae95f$var$method","$08cb571159f2fd8e1bed966ad7fae95f$var$Duplex","allowHalfOpen","readable","$08cb571159f2fd8e1bed966ad7fae95f$var$onend","$08cb571159f2fd8e1bed966ad7fae95f$var$onEndNT","$caebe95f6de82ccac2f0c81a94ea8113$var$buffer","$caebe95f6de82ccac2f0c81a94ea8113$var$Buffer","$caebe95f6de82ccac2f0c81a94ea8113$var$copyProps","$caebe95f6de82ccac2f0c81a94ea8113$var$SafeBuffer","$62ac888268bc65e630792da899bf022f$var$Buffer","$62ac888268bc65e630792da899bf022f$var$isEncoding","$62ac888268bc65e630792da899bf022f$var$StringDecoder","enc","nenc","retried","$62ac888268bc65e630792da899bf022f$var$_normalizeEncoding","$62ac888268bc65e630792da899bf022f$var$normalizeEncoding","$62ac888268bc65e630792da899bf022f$var$utf16Text","$62ac888268bc65e630792da899bf022f$var$utf16End","fillLast","$62ac888268bc65e630792da899bf022f$var$utf8FillLast","$62ac888268bc65e630792da899bf022f$var$base64Text","$62ac888268bc65e630792da899bf022f$var$base64End","$62ac888268bc65e630792da899bf022f$var$simpleWrite","$62ac888268bc65e630792da899bf022f$var$simpleEnd","lastNeed","lastTotal","lastChar","$62ac888268bc65e630792da899bf022f$var$utf8CheckByte","byte","$62ac888268bc65e630792da899bf022f$var$utf8CheckExtraBytes","$62ac888268bc65e630792da899bf022f$var$utf8Text","total","$62ac888268bc65e630792da899bf022f$var$utf8CheckIncomplete","$62ac888268bc65e630792da899bf022f$var$utf8End","StringDecoder","$b8f3e425f5646033a1f80a0987be6f0e$var$ERR_STREAM_PREMATURE_CLOSE","$b8f3e425f5646033a1f80a0987be6f0e$var$noop","$b8f3e425f5646033a1f80a0987be6f0e$var$eos","opts","_len","_key","$b8f3e425f5646033a1f80a0987be6f0e$var$once","onlegacyfinish","onfinish","writableEnded","readableEnded","onend","onclose","onrequest","req","setHeader","$b8f3e425f5646033a1f80a0987be6f0e$var$isRequest","ERR_STREAM_PREMATURE_CLOSE","$04079928f6b6fe16649f07ff83adc357$var$_Object$setPrototypeO","$04079928f6b6fe16649f07ff83adc357$var$finished","$04079928f6b6fe16649f07ff83adc357$var$kLastResolve","$04079928f6b6fe16649f07ff83adc357$var$kLastReject","$04079928f6b6fe16649f07ff83adc357$var$kError","$04079928f6b6fe16649f07ff83adc357$var$kEnded","$04079928f6b6fe16649f07ff83adc357$var$kLastPromise","$04079928f6b6fe16649f07ff83adc357$var$kHandlePromise","$04079928f6b6fe16649f07ff83adc357$var$kStream","$04079928f6b6fe16649f07ff83adc357$var$AsyncIteratorPrototype","$04079928f6b6fe16649f07ff83adc357$var$ReadableStreamAsyncIteratorPrototype","$04079928f6b6fe16649f07ff83adc357$var$createReadableStreamAsyncIterator","$04079928f6b6fe16649f07ff83adc357$var$_defineProperty","$04079928f6b6fe16649f07ff83adc357$var$createIterResult","$04079928f6b6fe16649f07ff83adc357$var$readAndResolve","iter","$04079928f6b6fe16649f07ff83adc357$var$onReadable","reject","lastPromise","$04079928f6b6fe16649f07ff83adc357$var$wrapForNext","asyncIterator","_this2","_Object$create","$4364ec17bc507eb7df303d611f3c3638$var$Duplex","$4364ec17bc507eb7df303d611f3c3638$var$EElistenerCount","$4364ec17bc507eb7df303d611f3c3638$var$Stream","$4364ec17bc507eb7df303d611f3c3638$var$Buffer","$4364ec17bc507eb7df303d611f3c3638$var$OurUint8Array","$4364ec17bc507eb7df303d611f3c3638$var$debugUtil","$4364ec17bc507eb7df303d611f3c3638$var$debug","$4364ec17bc507eb7df303d611f3c3638$var$BufferList","$4364ec17bc507eb7df303d611f3c3638$var$getHighWaterMark","$4364ec17bc507eb7df303d611f3c3638$var$_require$codes","$4364ec17bc507eb7df303d611f3c3638$var$ERR_INVALID_ARG_TYPE","$4364ec17bc507eb7df303d611f3c3638$var$ERR_STREAM_PUSH_AFTER_EOF","$4364ec17bc507eb7df303d611f3c3638$var$ERR_METHOD_NOT_IMPLEMENTED","$4364ec17bc507eb7df303d611f3c3638$var$ERR_STREAM_UNSHIFT_AFTER_END_EVENT","$4364ec17bc507eb7df303d611f3c3638$var$StringDecoder","$4364ec17bc507eb7df303d611f3c3638$var$createReadableStreamAsyncIterator","$4364ec17bc507eb7df303d611f3c3638$var$from","$4364ec17bc507eb7df303d611f3c3638$var$errorOrDestroy","$4364ec17bc507eb7df303d611f3c3638$var$kProxyEvents","$4364ec17bc507eb7df303d611f3c3638$var$MAX_HWM","$4364ec17bc507eb7df303d611f3c3638$var$ReadableState","readableObjectMode","pipes","pipesCount","flowing","needReadable","emittedReadable","readableListening","resumeScheduled","paused","awaitDrain","readingMore","decoder","$4364ec17bc507eb7df303d611f3c3638$var$Readable","_read","$4364ec17bc507eb7df303d611f3c3638$var$readableAddChunk","addToFront","skipChunkCheck","$4364ec17bc507eb7df303d611f3c3638$var$emitReadable","$4364ec17bc507eb7df303d611f3c3638$var$emitReadable_","$4364ec17bc507eb7df303d611f3c3638$var$onEofChunk","$4364ec17bc507eb7df303d611f3c3638$var$chunkInvalid","$4364ec17bc507eb7df303d611f3c3638$var$_uint8ArrayToBuffer","$4364ec17bc507eb7df303d611f3c3638$var$addChunk","$4364ec17bc507eb7df303d611f3c3638$var$maybeReadMore","$4364ec17bc507eb7df303d611f3c3638$var$howMuchToRead","$4364ec17bc507eb7df303d611f3c3638$var$computeNewHighWaterMark","$4364ec17bc507eb7df303d611f3c3638$var$flow","$4364ec17bc507eb7df303d611f3c3638$var$maybeReadMore_","$4364ec17bc507eb7df303d611f3c3638$var$updateReadableListening","resume","$4364ec17bc507eb7df303d611f3c3638$var$nReadingNextTick","$4364ec17bc507eb7df303d611f3c3638$var$resume_","$4364ec17bc507eb7df303d611f3c3638$var$fromList","consume","$4364ec17bc507eb7df303d611f3c3638$var$endReadable","$4364ec17bc507eb7df303d611f3c3638$var$endReadableNT","$4364ec17bc507eb7df303d611f3c3638$var$indexOf","ReadableState","$4364ec17bc507eb7df303d611f3c3638$var$EE","debuglog","ERR_STREAM_PUSH_AFTER_EOF","ERR_STREAM_UNSHIFT_AFTER_END_EVENT","isPaused","setEncoding","content","nOrig","doRead","pipeOpts","endFn","unpipe","onunpipe","unpipeInfo","hasUnpiped","ondrain","ondata","cleanedUp","$4364ec17bc507eb7df303d611f3c3638$var$pipeOnDrain","pause","$4364ec17bc507eb7df303d611f3c3638$var$prependListener","dests","ev","$4364ec17bc507eb7df303d611f3c3638$var$resume","wrap","_fromList","iterable","Stream","Readable","Writable","Duplex","$8cd12f712edd4858e5b204be24800dd1$var$Transform","$8cd12f712edd4858e5b204be24800dd1$var$_require$codes","$8cd12f712edd4858e5b204be24800dd1$var$ERR_METHOD_NOT_IMPLEMENTED","$8cd12f712edd4858e5b204be24800dd1$var$ERR_MULTIPLE_CALLBACK","$8cd12f712edd4858e5b204be24800dd1$var$ERR_TRANSFORM_ALREADY_TRANSFORMING","ERR_TRANSFORM_ALREADY_TRANSFORMING","$8cd12f712edd4858e5b204be24800dd1$var$ERR_TRANSFORM_WITH_LENGTH_0","ERR_TRANSFORM_WITH_LENGTH_0","$8cd12f712edd4858e5b204be24800dd1$var$Duplex","$8cd12f712edd4858e5b204be24800dd1$var$afterTransform","ts","_transformState","transforming","writechunk","rs","afterTransform","needTransform","writeencoding","_transform","flush","_flush","$8cd12f712edd4858e5b204be24800dd1$var$prefinish","$8cd12f712edd4858e5b204be24800dd1$var$done","err2","Transform","$703828e2f06be6a926d54e34e1f75763$var$PassThrough","$703828e2f06be6a926d54e34e1f75763$var$Transform","PassThrough","$e503242cef6522f405e919ab3e6d7464$var$eos","$e503242cef6522f405e919ab3e6d7464$var$_require$codes","$e503242cef6522f405e919ab3e6d7464$var$ERR_MISSING_ARGS","ERR_MISSING_ARGS","$e503242cef6522f405e919ab3e6d7464$var$ERR_STREAM_DESTROYED","$e503242cef6522f405e919ab3e6d7464$var$noop","$e503242cef6522f405e919ab3e6d7464$var$destroyer","$e503242cef6522f405e919ab3e6d7464$var$once","$e503242cef6522f405e919ab3e6d7464$var$isRequest","$e503242cef6522f405e919ab3e6d7464$var$call","$e503242cef6522f405e919ab3e6d7464$var$pipe","to","$e503242cef6522f405e919ab3e6d7464$var$popCallback","streams","destroys","reduce","pipeline","$90bb25903953f6c551e1fc51dcb6a69f$var$Writable","$90bb25903953f6c551e1fc51dcb6a69f$var$inherits","$bbfd9ed0514e774759f98a252ed6cd78$var$toString","$bbfd9ed0514e774759f98a252ed6cd78$var$isModern","$bbfd9ed0514e774759f98a252ed6cd78$var$Buffer","ophop","$90bb25903953f6c551e1fc51dcb6a69f$var$bufferFrom","maxLength","$bbfd9ed0514e774759f98a252ed6cd78$var$fromArrayBuffer","$bbfd9ed0514e774759f98a252ed6cd78$var$fromString","$90bb25903953f6c551e1fc51dcb6a69f$var$U8","Class","HasProperty","HasOwnProperty","IsCallable","ToInt32","ToUint32","__defineGetter__","__defineSetter__","_bytes","ArrayBufferView","makeConstructor","bytesPerElement","pack","unpack","BYTES_PER_ELEMENT","_pack","_unpack","SyntaxError","clamp","Int8Array","Uint8ClampedArray","Int16Array","Uint16Array","Int32Array","Uint32Array","Float32Array","Float64Array","u16array","IS_BIG_ENDIAN","u8array","DataView","makeGetter","arrayType","uint8Array","makeSetter","typeArray","byteView","getUint8","getInt8","getUint16","getInt16","getUint32","getInt32","getFloat32","getFloat64","setUint8","setInt8","setUint16","setInt16","setUint32","setInt32","setFloat32","setFloat64","$90bb25903953f6c551e1fc51dcb6a69f$var$ConcatStream","shouldInferEncoding","inferEncoding","buff","firstBuffer","$90bb25903953f6c551e1fc51dcb6a69f$var$Buffer","$90bb25903953f6c551e1fc51dcb6a69f$var$arrayConcat","strings","$90bb25903953f6c551e1fc51dcb6a69f$var$isBufferish","$90bb25903953f6c551e1fc51dcb6a69f$var$stringConcat","bufs","$90bb25903953f6c551e1fc51dcb6a69f$var$bufferConcat","u8","$90bb25903953f6c551e1fc51dcb6a69f$var$u8Concat","$f7cc2df98f0dd786ece54ee206a6d458$var$query_overpass","query","contentType","toGeoJSON","reqOptions","content-type","overpassUrl","$f7cc2df98f0dd786ece54ee206a6d458$var$style","$f7cc2df98f0dd786ece54ee206a6d458$var$markerStyle","$f7cc2df98f0dd786ece54ee206a6d458$var$markerSmallStyle","$f7cc2df98f0dd786ece54ee206a6d458$var$map","$f7cc2df98f0dd786ece54ee206a6d458$var$str","$f7cc2df98f0dd786ece54ee206a6d458$var$routeLayer","$f7cc2df98f0dd786ece54ee206a6d458$var$GPXfeatures","$f7cc2df98f0dd786ece54ee206a6d458$var$cityLayer","$f7cc2df98f0dd786ece54ee206a6d458$var$cityGPXfeatures","$f7cc2df98f0dd786ece54ee206a6d458$var$hotelLayer","$f7cc2df98f0dd786ece54ee206a6d458$var$queryStr","testFeatures"],"version":3,"file":"index.348406ac.js.map"}